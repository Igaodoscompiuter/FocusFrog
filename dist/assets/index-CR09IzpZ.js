function Sj(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Om={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function Ej(){if(f1)return ml;f1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ml.Fragment=e,ml.jsx=n,ml.jsxs=n,ml}var m1;function xj(){return m1||(m1=1,Om.exports=Ej()),Om.exports}var y=xj(),jm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function Cj(){if(p1)return Ce;p1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function k(D,H,re){this.props=D,this.context=H,this.refs=C,this.updater=re||T}k.prototype.isReactComponent={},k.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function j(){}j.prototype=k.prototype;function O(D,H,re){this.props=D,this.context=H,this.refs=C,this.updater=re||T}var M=O.prototype=new j;M.constructor=O,x(M,k.prototype),M.isPureReactComponent=!0;var $=Array.isArray;function F(){}var L={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Z(D,H,re){var ne=re.ref;return{$$typeof:t,type:D,key:H,ref:ne!==void 0?ne:null,props:re}}function ee(D,H){return Z(D.type,H,D.props)}function oe(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function J(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return H[re]})}var se=/\/+/g;function Ee(D,H){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):H.toString(36)}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(F,F):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,H,re,ne,_e){var je=typeof D;(je==="undefined"||je==="boolean")&&(D=null);var ze=!1;if(D===null)ze=!0;else switch(je){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(D.$$typeof){case t:case e:ze=!0;break;case g:return ze=D._init,B(ze(D._payload),H,re,ne,_e)}}if(ze)return _e=_e(D),ze=ne===""?"."+Ee(D,0):ne,$(_e)?(re="",ze!=null&&(re=ze.replace(se,"$&/")+"/"),B(_e,H,re,"",function(Zt){return Zt})):_e!=null&&(oe(_e)&&(_e=ee(_e,re+(_e.key==null||D&&D.key===_e.key?"":(""+_e.key).replace(se,"$&/")+"/")+ze)),H.push(_e)),1;ze=0;var Ot=ne===""?".":ne+":";if($(D))for(var ge=0;ge<D.length;ge++)ne=D[ge],je=Ot+Ee(ne,ge),ze+=B(ne,H,re,je,_e);else if(ge=S(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(ne=D.next()).done;)ne=ne.value,je=Ot+Ee(ne,ge++),ze+=B(ne,H,re,je,_e);else if(je==="object"){if(typeof D.then=="function")return B(pe(D),H,re,ne,_e);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ze}function Y(D,H,re){if(D==null)return D;var ne=[],_e=0;return B(D,ne,"","",function(je){return H.call(re,je,_e++)}),ne}function le(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var xe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ae={map:Y,forEach:function(D,H,re){Y(D,function(){H.apply(this,arguments)},re)},count:function(D){var H=0;return Y(D,function(){H++}),H},toArray:function(D){return Y(D,function(H){return H})||[]},only:function(D){if(!oe(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ce.Activity=v,Ce.Children=Ae,Ce.Component=k,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=O,Ce.StrictMode=i,Ce.Suspense=h,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return L.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(D,H,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=x({},D.props),_e=D.key;if(H!=null)for(je in H.key!==void 0&&(_e=""+H.key),H)!G.call(H,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&H.ref===void 0||(ne[je]=H[je]);var je=arguments.length-2;if(je===1)ne.children=re;else if(1<je){for(var ze=Array(je),Ot=0;Ot<je;Ot++)ze[Ot]=arguments[Ot+2];ne.children=ze}return Z(D.type,_e,ne)},Ce.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ce.createElement=function(D,H,re){var ne,_e={},je=null;if(H!=null)for(ne in H.key!==void 0&&(je=""+H.key),H)G.call(H,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(_e[ne]=H[ne]);var ze=arguments.length-2;if(ze===1)_e.children=re;else if(1<ze){for(var Ot=Array(ze),ge=0;ge<ze;ge++)Ot[ge]=arguments[ge+2];_e.children=Ot}if(D&&D.defaultProps)for(ne in ze=D.defaultProps,ze)_e[ne]===void 0&&(_e[ne]=ze[ne]);return Z(D,je,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:d,render:D}},Ce.isValidElement=oe,Ce.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:le}},Ce.memo=function(D,H){return{$$typeof:f,type:D,compare:H===void 0?null:H}},Ce.startTransition=function(D){var H=L.T,re={};L.T=re;try{var ne=D(),_e=L.S;_e!==null&&_e(re,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(F,xe)}catch(je){xe(je)}finally{H!==null&&re.types!==null&&(H.types=re.types),L.T=H}},Ce.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ce.use=function(D){return L.H.use(D)},Ce.useActionState=function(D,H,re){return L.H.useActionState(D,H,re)},Ce.useCallback=function(D,H){return L.H.useCallback(D,H)},Ce.useContext=function(D){return L.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,H){return L.H.useDeferredValue(D,H)},Ce.useEffect=function(D,H){return L.H.useEffect(D,H)},Ce.useEffectEvent=function(D){return L.H.useEffectEvent(D)},Ce.useId=function(){return L.H.useId()},Ce.useImperativeHandle=function(D,H,re){return L.H.useImperativeHandle(D,H,re)},Ce.useInsertionEffect=function(D,H){return L.H.useInsertionEffect(D,H)},Ce.useLayoutEffect=function(D,H){return L.H.useLayoutEffect(D,H)},Ce.useMemo=function(D,H){return L.H.useMemo(D,H)},Ce.useOptimistic=function(D,H){return L.H.useOptimistic(D,H)},Ce.useReducer=function(D,H,re){return L.H.useReducer(D,H,re)},Ce.useRef=function(D){return L.H.useRef(D)},Ce.useState=function(D){return L.H.useState(D)},Ce.useSyncExternalStore=function(D,H,re){return L.H.useSyncExternalStore(D,H,re)},Ce.useTransition=function(){return L.H.useTransition()},Ce.version="19.2.1",Ce}var g1;function $g(){return g1||(g1=1,jm.exports=Cj()),jm.exports}var A=$g();const us=Vg(A);var Rm={exports:{}},pl={},Dm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function Aj(){return y1||(y1=1,(function(t){function e(B,Y){var le=B.length;B.push(Y);e:for(;0<le;){var xe=le-1>>>1,Ae=B[xe];if(0<a(Ae,Y))B[xe]=Y,B[le]=Ae,le=xe;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Y=B[0],le=B.pop();if(le!==Y){B[0]=le;e:for(var xe=0,Ae=B.length,D=Ae>>>1;xe<D;){var H=2*(xe+1)-1,re=B[H],ne=H+1,_e=B[ne];if(0>a(re,le))ne<Ae&&0>a(_e,re)?(B[xe]=_e,B[ne]=le,xe=ne):(B[xe]=re,B[H]=le,xe=H);else if(ne<Ae&&0>a(_e,le))B[xe]=_e,B[ne]=le,xe=ne;else break e}}return Y}function a(B,Y){var le=B.sortIndex-Y.sortIndex;return le!==0?le:B.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,v=null,b=3,S=!1,T=!1,x=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var Y=n(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=B)i(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(f)}}function $(B){if(x=!1,M(B),!T)if(n(h)!==null)T=!0,F||(F=!0,J());else{var Y=n(f);Y!==null&&pe($,Y.startTime-B)}}var F=!1,L=-1,G=5,Z=-1;function ee(){return C?!0:!(t.unstable_now()-Z<G)}function oe(){if(C=!1,F){var B=t.unstable_now();Z=B;var Y=!0;try{e:{T=!1,x&&(x=!1,j(L),L=-1),S=!0;var le=b;try{t:{for(M(B),v=n(h);v!==null&&!(v.expirationTime>B&&ee());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,b=v.priorityLevel;var Ae=xe(v.expirationTime<=B);if(B=t.unstable_now(),typeof Ae=="function"){v.callback=Ae,M(B),Y=!0;break t}v===n(h)&&i(h),M(B)}else i(h);v=n(h)}if(v!==null)Y=!0;else{var D=n(f);D!==null&&pe($,D.startTime-B),Y=!1}}break e}finally{v=null,b=le,S=!1}Y=void 0}}finally{Y?J():F=!1}}}var J;if(typeof O=="function")J=function(){O(oe)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ee=se.port2;se.port1.onmessage=oe,J=function(){Ee.postMessage(null)}}else J=function(){k(oe,0)};function pe(B,Y){L=k(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var le=b;b=Y;try{return B()}finally{b=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=b;b=B;try{return Y()}finally{b=le}},t.unstable_scheduleCallback=function(B,Y,le){var xe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?xe+le:xe):le=xe,B){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=le+Ae,B={id:g++,callback:Y,priorityLevel:B,startTime:le,expirationTime:Ae,sortIndex:-1},le>xe?(B.sortIndex=le,e(f,B),n(h)===null&&B===n(f)&&(x?(j(L),L=-1):x=!0,pe($,le-xe))):(B.sortIndex=Ae,e(h,B),T||S||(T=!0,F||(F=!0,J()))),B},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(B){var Y=b;return function(){var le=b;b=Y;try{return B.apply(this,arguments)}finally{b=le}}}})(Nm)),Nm}var v1;function kj(){return v1||(v1=1,Dm.exports=Aj()),Dm.exports}var Im={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function Oj(){if(b1)return Ht;b1=1;var t=$g();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,g)},Ht.flushSync=function(h){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=g,i.d.f()}},Ht.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Ht.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ht.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ht.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Ht.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=d(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ht.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Ht.requestFormReset=function(h){i.d.r(h)},Ht.unstable_batchedUpdates=function(h,f){return h(f)},Ht.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},Ht.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ht.version="19.2.1",Ht}var _1;function WT(){if(_1)return Im.exports;_1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=Oj(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function jj(){if(w1)return pl;w1=1;var t=kj(),e=$g(),n=WT();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return h(m),s;if(p===u)return h(m),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=p;else{for(var w=!1,E=m.child;E;){if(E===o){w=!0,o=m,u=p;break}if(E===u){w=!0,u=m,o=p;break}E=E.sibling}if(!w){for(E=p.child;E;){if(E===o){w=!0,o=p,u=m;break}if(E===u){w=!0,u=p,o=m;break}E=E.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var se=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===se?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList";case Z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case O:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case M:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return r=s.displayName||null,r!==null?r:Ee(s.type)||"Memo";case G:r=s._payload,s=s._init;try{return Ee(s(r))}catch{}}return null}var pe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},xe=[],Ae=-1;function D(s){return{current:s}}function H(s){0>Ae||(s.current=xe[Ae],xe[Ae]=null,Ae--)}function re(s,r){Ae++,xe[Ae]=s.current,s.current=r}var ne=D(null),_e=D(null),je=D(null),ze=D(null);function Ot(s,r){switch(re(je,r),re(_e,s),re(ne,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?L_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=L_(r),s=P_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(ne),re(ne,s)}function ge(){H(ne),H(_e),H(je)}function Zt(s){s.memoizedState!==null&&re(ze,s);var r=ne.current,o=P_(r,s.type);r!==o&&(re(_e,s),re(ne,o))}function ps(s){_e.current===s&&(H(ne),H(_e)),ze.current===s&&(H(ze),ul._currentValue=le)}var Qi,Ji;function Jn(s){if(Qi===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Qi=r&&r[1]||"",Ji=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qi+s+Ji}var Zi=!1;function js(s,r){if(!s||Zi)return"";Zi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var z=V}Reflect.construct(s,[],W)}else{try{W.call()}catch(V){z=V}s.call(W.prototype)}}else{try{throw Error()}catch(V){z=V}(W=s())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&z&&typeof V.stack=="string")return[V.stack,z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],E=p[1];if(w&&E){var R=w.split(`
`),U=E.split(`
`);for(m=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;if(u===R.length||m===U.length)for(u=R.length-1,m=U.length-1;1<=u&&0<=m&&R[u]!==U[m];)m--;for(;1<=u&&0<=m;u--,m--)if(R[u]!==U[m]){if(u!==1||m!==1)do if(u--,m--,0>m||R[u]!==U[m]){var q=`
`+R[u].replace(" at new "," at ");return s.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",s.displayName)),q}while(1<=u&&0<=m);break}}}finally{Zi=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Jn(o):""}function ph(s,r){switch(s.tag){case 26:case 27:case 5:return Jn(s.type);case 16:return Jn("Lazy");case 13:return s.child!==r&&r!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return js(s.type,!1);case 11:return js(s.type.render,!1);case 1:return js(s.type,!0);case 31:return Jn("Activity");default:return""}}function Hr(s){try{var r="",o=null;do r+=ph(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var bo=Object.prototype.hasOwnProperty,_o=t.unstable_scheduleCallback,X=t.unstable_cancelCallback,ae=t.unstable_shouldYield,de=t.unstable_requestPaint,ce=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,gt=t.unstable_ImmediatePriority,bt=t.unstable_UserBlockingPriority,Nt=t.unstable_NormalPriority,Re=t.unstable_LowPriority,rn=t.unstable_IdlePriority,wo=t.log,gv=t.unstable_setDisableYieldValue,Je=null,ot=null;function Rs(s){if(typeof wo=="function"&&gv(s),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Je,s)}catch{}}var ht=Math.clz32?Math.clz32:lk,So=Math.log,ok=Math.LN2;function lk(s){return s>>>=0,s===0?32:31-(So(s)/ok|0)|0}var yc=256,vc=262144,bc=4194304;function er(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _c(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var E=u&134217727;return E!==0?(u=E&~p,u!==0?m=er(u):(w&=E,w!==0?m=er(w):o||(o=E&~s,o!==0&&(m=er(o))))):(E=u&~p,E!==0?m=er(E):w!==0?m=er(w):o||(o=u&~s,o!==0&&(m=er(o)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:m}function To(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ck(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yv(){var s=bc;return bc<<=1,(bc&62914560)===0&&(bc=4194304),s}function gh(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Eo(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function uk(s,r,o,u,m,p){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var E=s.entanglements,R=s.expirationTimes,U=s.hiddenUpdates;for(o=w&~o;0<o;){var q=31-ht(o),W=1<<q;E[q]=0,R[q]=-1;var z=U[q];if(z!==null)for(U[q]=null,q=0;q<z.length;q++){var V=z[q];V!==null&&(V.lane&=-536870913)}o&=~W}u!==0&&vv(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(w&~r))}function vv(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ht(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function bv(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-ht(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function _v(s,r){var o=r&-r;return o=(o&42)!==0?1:yh(o),(o&(s.suspendedLanes|r))!==0?0:o}function yh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function wv(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:a1(s.type))}function Sv(s,r){var o=Y.p;try{return Y.p=s,r()}finally{Y.p=o}}var li=Math.random().toString(36).slice(2),Pt="__reactFiber$"+li,an="__reactProps$"+li,Gr="__reactContainer$"+li,bh="__reactEvents$"+li,dk="__reactListeners$"+li,hk="__reactHandles$"+li,Tv="__reactResources$"+li,xo="__reactMarker$"+li;function _h(s){delete s[Pt],delete s[an],delete s[bh],delete s[dk],delete s[hk]}function Kr(s){var r=s[Pt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Gr]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=q_(s);s!==null;){if(o=s[Pt])return o;s=q_(s)}return r}s=o,o=s.parentNode}return null}function Wr(s){if(s=s[Pt]||s[Gr]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Co(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Yr(s){var r=s[Tv];return r||(r=s[Tv]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(s){s[xo]=!0}var Ev=new Set,xv={};function tr(s,r){Xr(s,r),Xr(s+"Capture",r)}function Xr(s,r){for(xv[s]=r,s=0;s<r.length;s++)Ev.add(r[s])}var fk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cv={},Av={};function mk(s){return bo.call(Av,s)?!0:bo.call(Cv,s)?!1:fk.test(s)?Av[s]=!0:(Cv[s]=!0,!1)}function wc(s,r,o){if(mk(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Sc(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ds(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function kv(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pk(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,p.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function wh(s){if(!s._valueTracker){var r=kv(s)?"checked":"value";s._valueTracker=pk(s,r,""+s[r])}}function Ov(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=kv(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Tc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gk=/[\n"\\]/g;function Nn(s){return s.replace(gk,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sh(s,r,o,u,m,p,w,E){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Dn(r)):s.value!==""+Dn(r)&&(s.value=""+Dn(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?Th(s,w,Dn(r)):o!=null?Th(s,w,Dn(o)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+Dn(E):s.removeAttribute("name")}function jv(s,r,o,u,m,p,w,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){wh(s);return}o=o!=null?""+Dn(o):"",r=r!=null?""+Dn(r):o,E||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=E?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),wh(s)}function Th(s,r,o){r==="number"&&Tc(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qr(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Dn(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Rv(s,r,o){if(r!=null&&(r=""+Dn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Dn(o):""}function Dv(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Dn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),wh(s)}function Jr(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var yk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nv(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||yk.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Iv(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Nv(s,m,u)}else for(var p in r)r.hasOwnProperty(p)&&Nv(s,p,r[p])}function Eh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ec(s){return bk.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ns(){}var xh=null;function Ch(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zr=null,ea=null;function Mv(s){var r=Wr(s);if(r&&(s=r.stateNode)){var o=s[an]||null;e:switch(s=r.stateNode,r.type){case"input":if(Sh(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[an]||null;if(!m)throw Error(i(90));Sh(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Ov(u)}break e;case"textarea":Rv(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Qr(s,!!o.multiple,r,!1)}}}var Ah=!1;function Lv(s,r,o){if(Ah)return s(r,o);Ah=!0;try{var u=s(r);return u}finally{if(Ah=!1,(Zr!==null||ea!==null)&&(du(),Zr&&(r=Zr,s=ea,ea=Zr=null,Mv(r),s)))for(r=0;r<s.length;r++)Mv(s[r])}}function Ao(s,r){var o=s.stateNode;if(o===null)return null;var u=o[an]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=!1;if(Is)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){kh=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{kh=!1}var ci=null,Oh=null,xc=null;function Pv(){if(xc)return xc;var s,r=Oh,o=r.length,u,m="value"in ci?ci.value:ci.textContent,p=m.length;for(s=0;s<o&&r[s]===m[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===m[p-u];u++);return xc=m.slice(s,1<u?1-u:void 0)}function Cc(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ac(){return!0}function Uv(){return!1}function on(s){function r(o,u,m,p,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(o=s[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ac:Uv,this.isPropagationStopped=Uv,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=on(nr),Oo=v({},nr,{view:0,detail:0}),_k=on(Oo),jh,Rh,jo,Oc=v({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==jo&&(jo&&s.type==="mousemove"?(jh=s.screenX-jo.screenX,Rh=s.screenY-jo.screenY):Rh=jh=0,jo=s),jh)},movementY:function(s){return"movementY"in s?s.movementY:Rh}}),Bv=on(Oc),wk=v({},Oc,{dataTransfer:0}),Sk=on(wk),Tk=v({},Oo,{relatedTarget:0}),Dh=on(Tk),Ek=v({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=on(Ek),Ck=v({},nr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ak=on(Ck),kk=v({},nr,{data:0}),zv=on(kk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Rk[s])?!!r[s]:!1}function Nh(){return Dk}var Nk=v({},Oo,{key:function(s){if(s.key){var r=Ok[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Cc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(s){return s.type==="keypress"?Cc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Cc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ik=on(Nk),Mk=v({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vv=on(Mk),Lk=v({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),Pk=on(Lk),Uk=v({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bk=on(Uk),zk=v({},Oc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vk=on(zk),$k=v({},nr,{newState:0,oldState:0}),Fk=on($k),qk=[9,13,27,32],Ih=Is&&"CompositionEvent"in window,Ro=null;Is&&"documentMode"in document&&(Ro=document.documentMode);var Hk=Is&&"TextEvent"in window&&!Ro,$v=Is&&(!Ih||Ro&&8<Ro&&11>=Ro),Fv=" ",qv=!1;function Hv(s,r){switch(s){case"keyup":return qk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ta=!1;function Gk(s,r){switch(s){case"compositionend":return Gv(r);case"keypress":return r.which!==32?null:(qv=!0,Fv);case"textInput":return s=r.data,s===Fv&&qv?null:s;default:return null}}function Kk(s,r){if(ta)return s==="compositionend"||!Ih&&Hv(s,r)?(s=Pv(),xc=Oh=ci=null,ta=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $v&&r.locale!=="ko"?null:r.data;default:return null}}var Wk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Wk[s.type]:r==="textarea"}function Wv(s,r,o,u){Zr?ea?ea.push(u):ea=[u]:Zr=u,r=vu(r,"onChange"),0<r.length&&(o=new kc("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var Do=null,No=null;function Yk(s){j_(s,0)}function jc(s){var r=Co(s);if(Ov(r))return s}function Yv(s,r){if(s==="change")return r}var Xv=!1;if(Is){var Mh;if(Is){var Lh="oninput"in document;if(!Lh){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Lh=typeof Qv.oninput=="function"}Mh=Lh}else Mh=!1;Xv=Mh&&(!document.documentMode||9<document.documentMode)}function Jv(){Do&&(Do.detachEvent("onpropertychange",Zv),No=Do=null)}function Zv(s){if(s.propertyName==="value"&&jc(No)){var r=[];Wv(r,No,s,Ch(s)),Lv(Yk,r)}}function Xk(s,r,o){s==="focusin"?(Jv(),Do=r,No=o,Do.attachEvent("onpropertychange",Zv)):s==="focusout"&&Jv()}function Qk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return jc(No)}function Jk(s,r){if(s==="click")return jc(r)}function Zk(s,r){if(s==="input"||s==="change")return jc(r)}function eO(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var bn=typeof Object.is=="function"?Object.is:eO;function Io(s,r){if(bn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!bo.call(r,m)||!bn(s[m],r[m]))return!1}return!0}function e0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function t0(s,r){var o=e0(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=e0(o)}}function n0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?n0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function s0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Tc(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Tc(s.document)}return r}function Ph(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var tO=Is&&"documentMode"in document&&11>=document.documentMode,na=null,Uh=null,Mo=null,Bh=!1;function i0(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bh||na==null||na!==Tc(u)||(u=na,"selectionStart"in u&&Ph(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mo&&Io(Mo,u)||(Mo=u,u=vu(Uh,"onSelect"),0<u.length&&(r=new kc("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=na)))}function sr(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var sa={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},zh={},r0={};Is&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ir(s){if(zh[s])return zh[s];if(!sa[s])return s;var r=sa[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in r0)return zh[s]=r[o];return s}var a0=ir("animationend"),o0=ir("animationiteration"),l0=ir("animationstart"),nO=ir("transitionrun"),sO=ir("transitionstart"),iO=ir("transitioncancel"),c0=ir("transitionend"),u0=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Zn(s,r){u0.set(s,r),tr(r,[s])}var Rc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},In=[],ia=0,$h=0;function Dc(){for(var s=ia,r=$h=ia=0;r<s;){var o=In[r];In[r++]=null;var u=In[r];In[r++]=null;var m=In[r];In[r++]=null;var p=In[r];if(In[r++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}p!==0&&d0(o,m,p)}}function Nc(s,r,o,u){In[ia++]=s,In[ia++]=r,In[ia++]=o,In[ia++]=u,$h|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Fh(s,r,o,u){return Nc(s,r,o,u),Ic(s)}function rr(s,r){return Nc(s,null,null,r),Ic(s)}function d0(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-ht(o),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),p):null}function Ic(s){if(50<sl)throw sl=0,Zf=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ra={};function rO(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(s,r,o,u){return new rO(s,r,o,u)}function qh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ms(s,r){var o=s.alternate;return o===null?(o=_n(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function h0(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Mc(s,r,o,u,m,p){var w=0;if(u=s,typeof s=="function")qh(s)&&(w=1);else if(typeof s=="string")w=uj(s,o,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Z:return s=_n(31,o,r,m),s.elementType=Z,s.lanes=p,s;case x:return ar(o.children,m,p,r);case C:w=8,m|=24;break;case k:return s=_n(12,o,r,m|2),s.elementType=k,s.lanes=p,s;case $:return s=_n(13,o,r,m),s.elementType=$,s.lanes=p,s;case F:return s=_n(19,o,r,m),s.elementType=F,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:w=10;break e;case j:w=9;break e;case M:w=11;break e;case L:w=14;break e;case G:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=_n(w,o,r,m),r.elementType=s,r.type=u,r.lanes=p,r}function ar(s,r,o,u){return s=_n(7,s,u,r),s.lanes=o,s}function Hh(s,r,o){return s=_n(6,s,null,r),s.lanes=o,s}function f0(s){var r=_n(18,null,null,0);return r.stateNode=s,r}function Gh(s,r,o){return r=_n(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var m0=new WeakMap;function Mn(s,r){if(typeof s=="object"&&s!==null){var o=m0.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Hr(r)},m0.set(s,r),r)}return{value:s,source:r,stack:Hr(r)}}var aa=[],oa=0,Lc=null,Lo=0,Ln=[],Pn=0,ui=null,gs=1,ys="";function Ls(s,r){aa[oa++]=Lo,aa[oa++]=Lc,Lc=s,Lo=r}function p0(s,r,o){Ln[Pn++]=gs,Ln[Pn++]=ys,Ln[Pn++]=ui,ui=s;var u=gs;s=ys;var m=32-ht(u)-1;u&=~(1<<m),o+=1;var p=32-ht(r)+m;if(30<p){var w=m-m%5;p=(u&(1<<w)-1).toString(32),u>>=w,m-=w,gs=1<<32-ht(r)+m|o<<m|u,ys=p+s}else gs=1<<p|o<<m|u,ys=s}function Kh(s){s.return!==null&&(Ls(s,1),p0(s,1,0))}function Wh(s){for(;s===Lc;)Lc=aa[--oa],aa[oa]=null,Lo=aa[--oa],aa[oa]=null;for(;s===ui;)ui=Ln[--Pn],Ln[Pn]=null,ys=Ln[--Pn],Ln[Pn]=null,gs=Ln[--Pn],Ln[Pn]=null}function g0(s,r){Ln[Pn++]=gs,Ln[Pn++]=ys,Ln[Pn++]=ui,gs=r.id,ys=r.overflow,ui=s}var Ut=null,nt=null,Ue=!1,di=null,Un=!1,Yh=Error(i(519));function hi(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Mn(r,s)),Yh}function y0(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Pt]=s,r[an]=u,o){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(o=0;o<rl.length;o++)Ie(rl[o],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),jv(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),Dv(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||I_(r.textContent,o)?(u.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),u.onScroll!=null&&Ie("scroll",r),u.onScrollEnd!=null&&Ie("scrollend",r),u.onClick!=null&&(r.onclick=Ns),r=!0):r=!1,r||hi(s,!0)}function v0(s){for(Ut=s.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ut=Ut.return}}function la(s){if(s!==Ut)return!1;if(!Ue)return v0(s),Ue=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||mm(s.type,s.memoizedProps)),o=!o),o&&nt&&hi(s),v0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));nt=F_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));nt=F_(s)}else r===27?(r=nt,Ci(s.type)?(s=bm,bm=null,nt=s):nt=r):nt=Ut?zn(s.stateNode.nextSibling):null;return!0}function or(){nt=Ut=null,Ue=!1}function Xh(){var s=di;return s!==null&&(dn===null?dn=s:dn.push.apply(dn,s),di=null),s}function Po(s){di===null?di=[s]:di.push(s)}var Qh=D(null),lr=null,Ps=null;function fi(s,r,o){re(Qh,r._currentValue),r._currentValue=o}function Us(s){s._currentValue=Qh.current,H(Qh)}function Jh(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Zh(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var w=m.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=m;for(var R=0;R<r.length;R++)if(E.context===r[R]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),Jh(p.return,o,s),u||(w=null);break e}p=E.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),Jh(w,o,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function ca(s,r,o,u){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var E=m.type;bn(m.pendingProps.value,w.value)||(s!==null?s.push(E):s=[E])}}else if(m===ze.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(ul):s=[ul])}m=m.return}s!==null&&Zh(r,s,o,u),r.flags|=262144}function Pc(s){for(s=s.firstContext;s!==null;){if(!bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function cr(s){lr=s,Ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bt(s){return b0(lr,s)}function Uc(s,r){return lr===null&&cr(s),b0(s,r)}function b0(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ps===null){if(s===null)throw Error(i(308));Ps=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ps=Ps.next=r;return o}var aO=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},oO=t.unstable_scheduleCallback,lO=t.unstable_NormalPriority,_t={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new aO,data:new Map,refCount:0}}function Uo(s){s.refCount--,s.refCount===0&&oO(lO,function(){s.controller.abort()})}var Bo=null,tf=0,ua=0,da=null;function cO(s,r){if(Bo===null){var o=Bo=[];tf=0,ua=rm(),da={status:"pending",value:void 0,then:function(u){o.push(u)}}}return tf++,r.then(_0,_0),r}function _0(){if(--tf===0&&Bo!==null){da!==null&&(da.status="fulfilled");var s=Bo;Bo=null,ua=0,da=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function uO(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var w0=B.S;B.S=function(s,r){i_=ce(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&cO(s,r),w0!==null&&w0(s,r)};var ur=D(null);function nf(){var s=ur.current;return s!==null?s:Ze.pooledCache}function Bc(s,r){r===null?re(ur,ur.current):re(ur,r.pool)}function S0(){var s=nf();return s===null?null:{parent:_t._currentValue,pool:s}}var ha=Error(i(460)),sf=Error(i(474)),zc=Error(i(542)),Vc={then:function(){}};function T0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function E0(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ns,Ns),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,C0(s),s;default:if(typeof r.status=="string")r.then(Ns,Ns);else{if(s=Ze,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,C0(s),s}throw hr=r,ha}}function dr(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(hr=o,ha):o}}var hr=null;function x0(){if(hr===null)throw Error(i(459));var s=hr;return hr=null,s}function C0(s){if(s===ha||s===zc)throw Error(i(483))}var fa=null,zo=0;function $c(s){var r=zo;return zo+=1,fa===null&&(fa=[]),E0(fa,s,r)}function Vo(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Fc(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function A0(s){function r(I,N){if(s){var P=I.deletions;P===null?(I.deletions=[N],I.flags|=16):P.push(N)}}function o(I,N){if(!s)return null;for(;N!==null;)r(I,N),N=N.sibling;return null}function u(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function m(I,N){return I=Ms(I,N),I.index=0,I.sibling=null,I}function p(I,N,P){return I.index=P,s?(P=I.alternate,P!==null?(P=P.index,P<N?(I.flags|=67108866,N):P):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function w(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function E(I,N,P,K){return N===null||N.tag!==6?(N=Hh(P,I.mode,K),N.return=I,N):(N=m(N,P),N.return=I,N)}function R(I,N,P,K){var ye=P.type;return ye===x?q(I,N,P.props.children,K,P.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===G&&dr(ye)===N.type)?(N=m(N,P.props),Vo(N,P),N.return=I,N):(N=Mc(P.type,P.key,P.props,null,I.mode,K),Vo(N,P),N.return=I,N)}function U(I,N,P,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Gh(P,I.mode,K),N.return=I,N):(N=m(N,P.children||[]),N.return=I,N)}function q(I,N,P,K,ye){return N===null||N.tag!==7?(N=ar(P,I.mode,K,ye),N.return=I,N):(N=m(N,P),N.return=I,N)}function W(I,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Hh(""+N,I.mode,P),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return P=Mc(N.type,N.key,N.props,null,I.mode,P),Vo(P,N),P.return=I,P;case T:return N=Gh(N,I.mode,P),N.return=I,N;case G:return N=dr(N),W(I,N,P)}if(pe(N)||J(N))return N=ar(N,I.mode,P,null),N.return=I,N;if(typeof N.then=="function")return W(I,$c(N),P);if(N.$$typeof===O)return W(I,Uc(I,N),P);Fc(I,N)}return null}function z(I,N,P,K){var ye=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(I,N,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return P.key===ye?R(I,N,P,K):null;case T:return P.key===ye?U(I,N,P,K):null;case G:return P=dr(P),z(I,N,P,K)}if(pe(P)||J(P))return ye!==null?null:q(I,N,P,K,null);if(typeof P.then=="function")return z(I,N,$c(P),K);if(P.$$typeof===O)return z(I,N,Uc(I,P),K);Fc(I,P)}return null}function V(I,N,P,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return I=I.get(P)||null,E(N,I,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return I=I.get(K.key===null?P:K.key)||null,R(N,I,K,ye);case T:return I=I.get(K.key===null?P:K.key)||null,U(N,I,K,ye);case G:return K=dr(K),V(I,N,P,K,ye)}if(pe(K)||J(K))return I=I.get(P)||null,q(N,I,K,ye,null);if(typeof K.then=="function")return V(I,N,P,$c(K),ye);if(K.$$typeof===O)return V(I,N,P,Uc(N,K),ye);Fc(N,K)}return null}function ue(I,N,P,K){for(var ye=null,Ve=null,fe=N,De=N=0,Le=null;fe!==null&&De<P.length;De++){fe.index>De?(Le=fe,fe=null):Le=fe.sibling;var $e=z(I,fe,P[De],K);if($e===null){fe===null&&(fe=Le);break}s&&fe&&$e.alternate===null&&r(I,fe),N=p($e,N,De),Ve===null?ye=$e:Ve.sibling=$e,Ve=$e,fe=Le}if(De===P.length)return o(I,fe),Ue&&Ls(I,De),ye;if(fe===null){for(;De<P.length;De++)fe=W(I,P[De],K),fe!==null&&(N=p(fe,N,De),Ve===null?ye=fe:Ve.sibling=fe,Ve=fe);return Ue&&Ls(I,De),ye}for(fe=u(fe);De<P.length;De++)Le=V(fe,I,De,P[De],K),Le!==null&&(s&&Le.alternate!==null&&fe.delete(Le.key===null?De:Le.key),N=p(Le,N,De),Ve===null?ye=Le:Ve.sibling=Le,Ve=Le);return s&&fe.forEach(function(Ri){return r(I,Ri)}),Ue&&Ls(I,De),ye}function ve(I,N,P,K){if(P==null)throw Error(i(151));for(var ye=null,Ve=null,fe=N,De=N=0,Le=null,$e=P.next();fe!==null&&!$e.done;De++,$e=P.next()){fe.index>De?(Le=fe,fe=null):Le=fe.sibling;var Ri=z(I,fe,$e.value,K);if(Ri===null){fe===null&&(fe=Le);break}s&&fe&&Ri.alternate===null&&r(I,fe),N=p(Ri,N,De),Ve===null?ye=Ri:Ve.sibling=Ri,Ve=Ri,fe=Le}if($e.done)return o(I,fe),Ue&&Ls(I,De),ye;if(fe===null){for(;!$e.done;De++,$e=P.next())$e=W(I,$e.value,K),$e!==null&&(N=p($e,N,De),Ve===null?ye=$e:Ve.sibling=$e,Ve=$e);return Ue&&Ls(I,De),ye}for(fe=u(fe);!$e.done;De++,$e=P.next())$e=V(fe,I,De,$e.value,K),$e!==null&&(s&&$e.alternate!==null&&fe.delete($e.key===null?De:$e.key),N=p($e,N,De),Ve===null?ye=$e:Ve.sibling=$e,Ve=$e);return s&&fe.forEach(function(wj){return r(I,wj)}),Ue&&Ls(I,De),ye}function Xe(I,N,P,K){if(typeof P=="object"&&P!==null&&P.type===x&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case S:e:{for(var ye=P.key;N!==null;){if(N.key===ye){if(ye=P.type,ye===x){if(N.tag===7){o(I,N.sibling),K=m(N,P.props.children),K.return=I,I=K;break e}}else if(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===G&&dr(ye)===N.type){o(I,N.sibling),K=m(N,P.props),Vo(K,P),K.return=I,I=K;break e}o(I,N);break}else r(I,N);N=N.sibling}P.type===x?(K=ar(P.props.children,I.mode,K,P.key),K.return=I,I=K):(K=Mc(P.type,P.key,P.props,null,I.mode,K),Vo(K,P),K.return=I,I=K)}return w(I);case T:e:{for(ye=P.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){o(I,N.sibling),K=m(N,P.children||[]),K.return=I,I=K;break e}else{o(I,N);break}else r(I,N);N=N.sibling}K=Gh(P,I.mode,K),K.return=I,I=K}return w(I);case G:return P=dr(P),Xe(I,N,P,K)}if(pe(P))return ue(I,N,P,K);if(J(P)){if(ye=J(P),typeof ye!="function")throw Error(i(150));return P=ye.call(P),ve(I,N,P,K)}if(typeof P.then=="function")return Xe(I,N,$c(P),K);if(P.$$typeof===O)return Xe(I,N,Uc(I,P),K);Fc(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(o(I,N.sibling),K=m(N,P),K.return=I,I=K):(o(I,N),K=Hh(P,I.mode,K),K.return=I,I=K),w(I)):o(I,N)}return function(I,N,P,K){try{zo=0;var ye=Xe(I,N,P,K);return fa=null,ye}catch(fe){if(fe===ha||fe===zc)throw fe;var Ve=_n(29,fe,null,I.mode);return Ve.lanes=K,Ve.return=I,Ve}finally{}}}var fr=A0(!0),k0=A0(!1),mi=!1;function rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function pi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function gi(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Fe&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Ic(s),d0(s,null,o),r}return Nc(s,u,r,o),Ic(s)}function $o(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,bv(s,o)}}function of(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?m=p=r:p=p.next=r}else m=p=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var lf=!1;function Fo(){if(lf){var s=da;if(s!==null)throw s}}function qo(s,r,o,u){lf=!1;var m=s.updateQueue;mi=!1;var p=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var R=E,U=R.next;R.next=null,w===null?p=U:w.next=U,w=R;var q=s.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==w&&(E===null?q.firstBaseUpdate=U:E.next=U,q.lastBaseUpdate=R))}if(p!==null){var W=m.baseState;w=0,q=U=R=null,E=p;do{var z=E.lane&-536870913,V=z!==E.lane;if(V?(Me&z)===z:(u&z)===z){z!==0&&z===ua&&(lf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=s,ve=E;z=r;var Xe=o;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){W=ue.call(Xe,W,z);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,z=typeof ue=="function"?ue.call(Xe,W,z):ue,z==null)break e;W=v({},W,z);break e;case 2:mi=!0}}z=E.callback,z!==null&&(s.flags|=64,V&&(s.flags|=8192),V=m.callbacks,V===null?m.callbacks=[z]:V.push(z))}else V={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(U=q=V,R=W):q=q.next=V,w|=z;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;V=E,E=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);q===null&&(R=W),m.baseState=R,m.firstBaseUpdate=U,m.lastBaseUpdate=q,p===null&&(m.shared.lanes=0),wi|=w,s.lanes=w,s.memoizedState=W}}function O0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function j0(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)O0(o[s],r)}var ma=D(null),qc=D(0);function R0(s,r){s=Ks,re(qc,s),re(ma,r),Ks=s|r.baseLanes}function cf(){re(qc,Ks),re(ma,ma.current)}function uf(){Ks=qc.current,H(ma),H(qc)}var wn=D(null),Bn=null;function yi(s){var r=s.alternate;re(yt,yt.current&1),re(wn,s),Bn===null&&(r===null||ma.current!==null||r.memoizedState!==null)&&(Bn=s)}function df(s){re(yt,yt.current),re(wn,s),Bn===null&&(Bn=s)}function D0(s){s.tag===22?(re(yt,yt.current),re(wn,s),Bn===null&&(Bn=s)):vi()}function vi(){re(yt,yt.current),re(wn,wn.current)}function Sn(s){H(wn),Bn===s&&(Bn=null),H(yt)}var yt=D(0);function Hc(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ym(o)||vm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bs=0,Oe=null,We=null,wt=null,Gc=!1,pa=!1,mr=!1,Kc=0,Ho=0,ga=null,dO=0;function ft(){throw Error(i(321))}function hf(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!bn(s[o],r[o]))return!1;return!0}function ff(s,r,o,u,m,p){return Bs=p,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=s===null||s.memoizedState===null?pb:kf,mr=!1,p=o(u,m),mr=!1,pa&&(p=I0(r,o,u,m)),N0(s),p}function N0(s){B.H=Wo;var r=We!==null&&We.next!==null;if(Bs=0,wt=We=Oe=null,Gc=!1,Ho=0,ga=null,r)throw Error(i(300));s===null||St||(s=s.dependencies,s!==null&&Pc(s)&&(St=!0))}function I0(s,r,o,u){Oe=s;var m=0;do{if(pa&&(ga=null),Ho=0,pa=!1,25<=m)throw Error(i(301));if(m+=1,wt=We=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=gb,p=r(o,u)}while(pa);return p}function hO(){var s=B.H,r=s.useState()[0];return r=typeof r.then=="function"?Go(r):r,s=s.useState()[0],(We!==null?We.memoizedState:null)!==s&&(Oe.flags|=1024),r}function mf(){var s=Kc!==0;return Kc=0,s}function pf(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function gf(s){if(Gc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Gc=!1}Bs=0,wt=We=Oe=null,pa=!1,Ho=Kc=0,ga=null}function en(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Oe.memoizedState=wt=s:wt=wt.next=s,wt}function vt(){if(We===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=We.next;var r=wt===null?Oe.memoizedState:wt.next;if(r!==null)wt=r,We=s;else{if(s===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));We=s,s={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Oe.memoizedState=wt=s:wt=wt.next=s}return wt}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(s){var r=Ho;return Ho+=1,ga===null&&(ga=[]),s=E0(ga,s,r),r=Oe,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?pb:kf),s}function Yc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Go(s);if(s.$$typeof===O)return Bt(s)}throw Error(i(438,String(s)))}function yf(s){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Wc(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=ee;return r.index++,o}function zs(s,r){return typeof r=="function"?r(s):r}function Xc(s){var r=vt();return vf(r,We,s)}function vf(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var w=m.next;m.next=p.next,p.next=w}r.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var E=w=null,R=null,U=r,q=!1;do{var W=U.lane&-536870913;if(W!==U.lane?(Me&W)===W:(Bs&W)===W){var z=U.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),W===ua&&(q=!0);else if((Bs&z)===z){U=U.next,z===ua&&(q=!0);continue}else W={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=W,w=p):R=R.next=W,Oe.lanes|=z,wi|=z;W=U.action,mr&&o(p,W),p=U.hasEagerState?U.eagerState:o(p,W)}else z={lane:W,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=z,w=p):R=R.next=z,Oe.lanes|=W,wi|=W;U=U.next}while(U!==null&&U!==r);if(R===null?w=p:R.next=E,!bn(p,s.memoizedState)&&(St=!0,q&&(o=da,o!==null)))throw o;s.memoizedState=p,s.baseState=w,s.baseQueue=R,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function bf(s){var r=vt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,p=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do p=s(p,w.action),w=w.next;while(w!==m);bn(p,r.memoizedState)||(St=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function M0(s,r,o){var u=Oe,m=vt(),p=Ue;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!bn((We||m).memoizedState,o);if(w&&(m.memoizedState=o,St=!0),m=m.queue,Sf(U0.bind(null,u,m,s),[s]),m.getSnapshot!==r||w||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,ya(9,{destroy:void 0},P0.bind(null,u,m,o,r),null),Ze===null)throw Error(i(349));p||(Bs&127)!==0||L0(u,r,o)}return o}function L0(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Wc(),Oe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function P0(s,r,o,u){r.value=o,r.getSnapshot=u,B0(r)&&z0(s)}function U0(s,r,o){return o(function(){B0(r)&&z0(s)})}function B0(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!bn(s,o)}catch{return!0}}function z0(s){var r=rr(s,2);r!==null&&hn(r,s,2)}function _f(s){var r=en();if(typeof s=="function"){var o=s;if(s=o(),mr){Rs(!0);try{o()}finally{Rs(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:s},r}function V0(s,r,o,u){return s.baseState=o,vf(s,We,typeof u=="function"?u:zs)}function fO(s,r,o,u,m){if(Zc(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};B.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,$0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function $0(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var p=B.T,w={};B.T=w;try{var E=o(m,u),R=B.S;R!==null&&R(w,E),F0(s,r,E)}catch(U){wf(s,r,U)}finally{p!==null&&w.types!==null&&(p.types=w.types),B.T=p}}else try{p=o(m,u),F0(s,r,p)}catch(U){wf(s,r,U)}}function F0(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){q0(s,r,u)},function(u){return wf(s,r,u)}):q0(s,r,o)}function q0(s,r,o){r.status="fulfilled",r.value=o,H0(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,$0(s,o)))}function wf(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,H0(r),r=r.next;while(r!==u)}s.action=null}function H0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function G0(s,r){return r}function K0(s,r){if(Ue){var o=Ze.formState;if(o!==null){e:{var u=Oe;if(Ue){if(nt){t:{for(var m=nt,p=Un;m.nodeType!==8;){if(!p){m=null;break t}if(m=zn(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){nt=zn(m.nextSibling),u=m.data==="F!";break e}}hi(u)}u=!1}u&&(r=o[0])}}return o=en(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:r},o.queue=u,o=hb.bind(null,Oe,u),u.dispatch=o,u=_f(!1),p=Af.bind(null,Oe,!1,u.queue),u=en(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=fO.bind(null,Oe,m,p,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function W0(s){var r=vt();return Y0(r,We,s)}function Y0(s,r,o){if(r=vf(s,r,G0)[0],s=Xc(zs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Go(r)}catch(w){throw w===ha?zc:w}else u=r;r=vt();var m=r.queue,p=m.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,ya(9,{destroy:void 0},mO.bind(null,m,o),null)),[u,p,s]}function mO(s,r){s.action=r}function X0(s){var r=vt(),o=We;if(o!==null)return Y0(r,o,s);vt(),r=r.memoizedState,o=vt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function ya(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Wc(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Q0(){return vt().memoizedState}function Qc(s,r,o,u){var m=en();Oe.flags|=s,m.memoizedState=ya(1|r,{destroy:void 0},o,u===void 0?null:u)}function Jc(s,r,o,u){var m=vt();u=u===void 0?null:u;var p=m.memoizedState.inst;We!==null&&u!==null&&hf(u,We.memoizedState.deps)?m.memoizedState=ya(r,p,o,u):(Oe.flags|=s,m.memoizedState=ya(1|r,p,o,u))}function J0(s,r){Qc(8390656,8,s,r)}function Sf(s,r){Jc(2048,8,s,r)}function pO(s){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Wc(),Oe.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Z0(s){var r=vt().memoizedState;return pO({ref:r,nextImpl:s}),function(){if((Fe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function eb(s,r){return Jc(4,2,s,r)}function tb(s,r){return Jc(4,4,s,r)}function nb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function sb(s,r,o){o=o!=null?o.concat([s]):null,Jc(4,4,nb.bind(null,r,s),o)}function Tf(){}function ib(s,r){var o=vt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&hf(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function rb(s,r){var o=vt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&hf(r,u[1]))return u[0];if(u=s(),mr){Rs(!0);try{s()}finally{Rs(!1)}}return o.memoizedState=[u,r],u}function Ef(s,r,o){return o===void 0||(Bs&1073741824)!==0&&(Me&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=a_(),Oe.lanes|=s,wi|=s,o)}function ab(s,r,o,u){return bn(o,r)?o:ma.current!==null?(s=Ef(s,o,u),bn(s,r)||(St=!0),s):(Bs&42)===0||(Bs&1073741824)!==0&&(Me&261930)===0?(St=!0,s.memoizedState=o):(s=a_(),Oe.lanes|=s,wi|=s,r)}function ob(s,r,o,u,m){var p=Y.p;Y.p=p!==0&&8>p?p:8;var w=B.T,E={};B.T=E,Af(s,!1,r,o);try{var R=m(),U=B.S;if(U!==null&&U(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=uO(R,u);Ko(s,r,q,xn(s))}else Ko(s,r,u,xn(s))}catch(W){Ko(s,r,{then:function(){},status:"rejected",reason:W},xn())}finally{Y.p=p,w!==null&&E.types!==null&&(w.types=E.types),B.T=w}}function gO(){}function xf(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=lb(s).queue;ob(s,m,r,le,o===null?gO:function(){return cb(s),o(u)})}function lb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:le},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function cb(s){var r=lb(s);r.next===null&&(r=s.alternate.memoizedState),Ko(s,r.next.queue,{},xn())}function Cf(){return Bt(ul)}function ub(){return vt().memoizedState}function db(){return vt().memoizedState}function yO(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=xn();s=pi(o);var u=gi(r,s,o);u!==null&&(hn(u,r,o),$o(u,r,o)),r={cache:ef()},s.payload=r;return}r=r.return}}function vO(s,r,o){var u=xn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zc(s)?fb(r,o):(o=Fh(s,r,o,u),o!==null&&(hn(o,s,u),mb(o,r,u)))}function hb(s,r,o){var u=xn();Ko(s,r,o,u)}function Ko(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zc(s))fb(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var w=r.lastRenderedState,E=p(w,o);if(m.hasEagerState=!0,m.eagerState=E,bn(E,w))return Nc(s,r,m,0),Ze===null&&Dc(),!1}catch{}finally{}if(o=Fh(s,r,m,u),o!==null)return hn(o,s,u),mb(o,r,u),!0}return!1}function Af(s,r,o,u){if(u={lane:2,revertLane:rm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zc(s)){if(r)throw Error(i(479))}else r=Fh(s,o,u,2),r!==null&&hn(r,s,2)}function Zc(s){var r=s.alternate;return s===Oe||r!==null&&r===Oe}function fb(s,r){pa=Gc=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function mb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,bv(s,o)}}var Wo={readContext:Bt,use:Yc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Wo.useEffectEvent=ft;var pb={readContext:Bt,use:Yc,useCallback:function(s,r){return en().memoizedState=[s,r===void 0?null:r],s},useContext:Bt,useEffect:J0,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Qc(4194308,4,nb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Qc(4194308,4,s,r)},useInsertionEffect:function(s,r){Qc(4,2,s,r)},useMemo:function(s,r){var o=en();r=r===void 0?null:r;var u=s();if(mr){Rs(!0);try{s()}finally{Rs(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=en();if(o!==void 0){var m=o(r);if(mr){Rs(!0);try{o(r)}finally{Rs(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=vO.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var r=en();return s={current:s},r.memoizedState=s},useState:function(s){s=_f(s);var r=s.queue,o=hb.bind(null,Oe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Tf,useDeferredValue:function(s,r){var o=en();return Ef(o,s,r)},useTransition:function(){var s=_f(!1);return s=ob.bind(null,Oe,s.queue,!0,!1),en().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Oe,m=en();if(Ue){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Ze===null)throw Error(i(349));(Me&127)!==0||L0(u,r,o)}m.memoizedState=o;var p={value:o,getSnapshot:r};return m.queue=p,J0(U0.bind(null,u,p,s),[s]),u.flags|=2048,ya(9,{destroy:void 0},P0.bind(null,u,p,o,r),null),o},useId:function(){var s=en(),r=Ze.identifierPrefix;if(Ue){var o=ys,u=gs;o=(u&~(1<<32-ht(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Kc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=dO++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Cf,useFormState:K0,useActionState:K0,useOptimistic:function(s){var r=en();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Af.bind(null,Oe,!0,o),o.dispatch=r,[s,r]},useMemoCache:yf,useCacheRefresh:function(){return en().memoizedState=yO.bind(null,Oe)},useEffectEvent:function(s){var r=en(),o={impl:s};return r.memoizedState=o,function(){if((Fe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},kf={readContext:Bt,use:Yc,useCallback:ib,useContext:Bt,useEffect:Sf,useImperativeHandle:sb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:rb,useReducer:Xc,useRef:Q0,useState:function(){return Xc(zs)},useDebugValue:Tf,useDeferredValue:function(s,r){var o=vt();return ab(o,We.memoizedState,s,r)},useTransition:function(){var s=Xc(zs)[0],r=vt().memoizedState;return[typeof s=="boolean"?s:Go(s),r]},useSyncExternalStore:M0,useId:ub,useHostTransitionStatus:Cf,useFormState:W0,useActionState:W0,useOptimistic:function(s,r){var o=vt();return V0(o,We,s,r)},useMemoCache:yf,useCacheRefresh:db};kf.useEffectEvent=Z0;var gb={readContext:Bt,use:Yc,useCallback:ib,useContext:Bt,useEffect:Sf,useImperativeHandle:sb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:rb,useReducer:bf,useRef:Q0,useState:function(){return bf(zs)},useDebugValue:Tf,useDeferredValue:function(s,r){var o=vt();return We===null?Ef(o,s,r):ab(o,We.memoizedState,s,r)},useTransition:function(){var s=bf(zs)[0],r=vt().memoizedState;return[typeof s=="boolean"?s:Go(s),r]},useSyncExternalStore:M0,useId:ub,useHostTransitionStatus:Cf,useFormState:X0,useActionState:X0,useOptimistic:function(s,r){var o=vt();return We!==null?V0(o,We,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:yf,useCacheRefresh:db};gb.useEffectEvent=Z0;function Of(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var jf={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=xn(),m=pi(u);m.payload=r,o!=null&&(m.callback=o),r=gi(s,m,u),r!==null&&(hn(r,s,u),$o(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=xn(),m=pi(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=gi(s,m,u),r!==null&&(hn(r,s,u),$o(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=xn(),u=pi(o);u.tag=2,r!=null&&(u.callback=r),r=gi(s,u,o),r!==null&&(hn(r,s,o),$o(r,s,o))}};function yb(s,r,o,u,m,p,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,w):r.prototype&&r.prototype.isPureReactComponent?!Io(o,u)||!Io(m,p):!0}function vb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&jf.enqueueReplaceState(r,r.state,null)}function pr(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function bb(s){Rc(s)}function _b(s){console.error(s)}function wb(s){Rc(s)}function eu(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Sb(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rf(s,r,o){return o=pi(o),o.tag=3,o.payload={element:null},o.callback=function(){eu(s,r)},o}function Tb(s){return s=pi(s),s.tag=3,s}function Eb(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){Sb(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Sb(r,o,u),typeof m!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function bO(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ca(r,o,m,!0),o=wn.current,o!==null){switch(o.tag){case 31:case 13:return Bn===null?hu():o.alternate===null&&mt===0&&(mt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Vc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),nm(s,u,m)),!1;case 22:return o.flags|=65536,u===Vc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),nm(s,u,m)),!1}throw Error(i(435,o.tag))}return nm(s,u,m),hu(),!1}if(Ue)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Yh&&(s=Error(i(422),{cause:u}),Po(Mn(s,o)))):(u!==Yh&&(r=Error(i(423),{cause:u}),Po(Mn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Mn(u,o),m=Rf(s.stateNode,u,m),of(s,m),mt!==4&&(mt=2)),!1;var p=Error(i(520),{cause:u});if(p=Mn(p,o),nl===null?nl=[p]:nl.push(p),mt!==4&&(mt=2),r===null)return!0;u=Mn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=Rf(o.stateNode,u,s),of(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Si===null||!Si.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Tb(m),Eb(m,s,o,u),of(o,m),!1}o=o.return}while(o!==null);return!1}var Df=Error(i(461)),St=!1;function zt(s,r,o,u){r.child=s===null?k0(r,null,o,u):fr(r,s.child,o,u)}function xb(s,r,o,u,m){o=o.render;var p=r.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return cr(r),u=ff(s,r,o,w,p,m),E=mf(),s!==null&&!St?(pf(s,r,m),Vs(s,r,m)):(Ue&&E&&Kh(r),r.flags|=1,zt(s,r,u,m),r.child)}function Cb(s,r,o,u,m){if(s===null){var p=o.type;return typeof p=="function"&&!qh(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Ab(s,r,p,u,m)):(s=Mc(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!zf(s,m)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Io,o(w,u)&&s.ref===r.ref)return Vs(s,r,m)}return r.flags|=1,s=Ms(p,u),s.ref=r.ref,s.return=r,r.child=s}function Ab(s,r,o,u,m){if(s!==null){var p=s.memoizedProps;if(Io(p,u)&&s.ref===r.ref)if(St=!1,r.pendingProps=u=p,zf(s,m))(s.flags&131072)!==0&&(St=!0);else return r.lanes=s.lanes,Vs(s,r,m)}return Nf(s,r,o,u,m)}function kb(s,r,o,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return Ob(s,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bc(r,p!==null?p.cachePool:null),p!==null?R0(r,p):cf(),D0(r);else return u=r.lanes=536870912,Ob(s,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Bc(r,p.cachePool),R0(r,p),vi(),r.memoizedState=null):(s!==null&&Bc(r,null),cf(),vi());return zt(s,r,m,o),r.child}function Yo(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ob(s,r,o,u,m){var p=nf();return p=p===null?null:{parent:_t._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&Bc(r,null),cf(),D0(r),s!==null&&ca(s,r,u,!0),r.childLanes=m,null}function tu(s,r){return r=su({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function jb(s,r,o){return fr(r,s.child,null,o),s=tu(r,r.pendingProps),s.flags|=2,Sn(r),r.memoizedState=null,s}function _O(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ue){if(u.mode==="hidden")return s=tu(r,u),r.lanes=536870912,Yo(null,s);if(df(r),(s=nt)?(s=$_(s,Un),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ui!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},o=f0(s),o.return=r,r.child=o,Ut=r,nt=null)):s=null,s===null)throw hi(r);return r.lanes=536870912,null}return tu(r,u)}var p=s.memoizedState;if(p!==null){var w=p.dehydrated;if(df(r),m)if(r.flags&256)r.flags&=-257,r=jb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(St||ca(s,r,o,!1),m=(o&s.childLanes)!==0,St||m){if(u=Ze,u!==null&&(w=_v(u,o),w!==0&&w!==p.retryLane))throw p.retryLane=w,rr(s,w),hn(u,s,w),Df;hu(),r=jb(s,r,o)}else s=p.treeContext,nt=zn(w.nextSibling),Ut=r,Ue=!0,di=null,Un=!1,s!==null&&g0(r,s),r=tu(r,u),r.flags|=4096;return r}return s=Ms(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function nu(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Nf(s,r,o,u,m){return cr(r),o=ff(s,r,o,u,void 0,m),u=mf(),s!==null&&!St?(pf(s,r,m),Vs(s,r,m)):(Ue&&u&&Kh(r),r.flags|=1,zt(s,r,o,m),r.child)}function Rb(s,r,o,u,m,p){return cr(r),r.updateQueue=null,o=I0(r,u,o,m),N0(s),u=mf(),s!==null&&!St?(pf(s,r,p),Vs(s,r,p)):(Ue&&u&&Kh(r),r.flags|=1,zt(s,r,o,p),r.child)}function Db(s,r,o,u,m){if(cr(r),r.stateNode===null){var p=ra,w=o.contextType;typeof w=="object"&&w!==null&&(p=Bt(w)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},rf(r),w=o.contextType,p.context=typeof w=="object"&&w!==null?Bt(w):ra,p.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Of(r,o,w,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&jf.enqueueReplaceState(p,p.state,null),qo(r,u,p,m),Fo(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var E=r.memoizedProps,R=pr(o,E);p.props=R;var U=p.context,q=o.contextType;w=ra,typeof q=="object"&&q!==null&&(w=Bt(q));var W=o.getDerivedStateFromProps;q=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||U!==w)&&vb(r,p,u,w),mi=!1;var z=r.memoizedState;p.state=z,qo(r,u,p,m),Fo(),U=r.memoizedState,E||z!==U||mi?(typeof W=="function"&&(Of(r,o,W,u),U=r.memoizedState),(R=mi||yb(r,o,R,u,z,U,w))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=U),p.props=u,p.state=U,p.context=w,u=R):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,af(s,r),w=r.memoizedProps,q=pr(o,w),p.props=q,W=r.pendingProps,z=p.context,U=o.contextType,R=ra,typeof U=="object"&&U!==null&&(R=Bt(U)),E=o.getDerivedStateFromProps,(U=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==W||z!==R)&&vb(r,p,u,R),mi=!1,z=r.memoizedState,p.state=z,qo(r,u,p,m),Fo();var V=r.memoizedState;w!==W||z!==V||mi||s!==null&&s.dependencies!==null&&Pc(s.dependencies)?(typeof E=="function"&&(Of(r,o,E,u),V=r.memoizedState),(q=mi||yb(r,o,q,u,z,V,R)||s!==null&&s.dependencies!==null&&Pc(s.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,V,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,V,R)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=V),p.props=u,p.state=V,p.context=R,u=q):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,nu(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=fr(r,s.child,null,m),r.child=fr(r,null,o,m)):zt(s,r,o,m),r.memoizedState=p.state,s=r.child):s=Vs(s,r,m),s}function Nb(s,r,o,u){return or(),r.flags|=256,zt(s,r,o,u),r.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(s){return{baseLanes:s,cachePool:S0()}}function Lf(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=En),s}function Ib(s,r,o){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,w;if((w=p)||(w=s!==null&&s.memoizedState===null?!1:(yt.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ue){if(m?yi(r):vi(),(s=nt)?(s=$_(s,Un),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ui!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},o=f0(s),o.return=r,r.child=o,Ut=r,nt=null)):s=null,s===null)throw hi(r);return vm(s)?r.lanes=32:r.lanes=536870912,null}var E=u.children;return u=u.fallback,m?(vi(),m=r.mode,E=su({mode:"hidden",children:E},m),u=ar(u,m,o,null),E.return=r,u.return=r,E.sibling=u,r.child=E,u=r.child,u.memoizedState=Mf(o),u.childLanes=Lf(s,w,o),r.memoizedState=If,Yo(null,u)):(yi(r),Pf(r,E))}var R=s.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(p)r.flags&256?(yi(r),r.flags&=-257,r=Uf(s,r,o)):r.memoizedState!==null?(vi(),r.child=s.child,r.flags|=128,r=null):(vi(),E=u.fallback,m=r.mode,u=su({mode:"visible",children:u.children},m),E=ar(E,m,o,null),E.flags|=2,u.return=r,E.return=r,u.sibling=E,r.child=u,fr(r,s.child,null,o),u=r.child,u.memoizedState=Mf(o),u.childLanes=Lf(s,w,o),r.memoizedState=If,r=Yo(null,u));else if(yi(r),vm(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var U=w.dgst;w=U,u=Error(i(419)),u.stack="",u.digest=w,Po({value:u,source:null,stack:null}),r=Uf(s,r,o)}else if(St||ca(s,r,o,!1),w=(o&s.childLanes)!==0,St||w){if(w=Ze,w!==null&&(u=_v(w,o),u!==0&&u!==R.retryLane))throw R.retryLane=u,rr(s,u),hn(w,s,u),Df;ym(E)||hu(),r=Uf(s,r,o)}else ym(E)?(r.flags|=192,r.child=s.child,r=null):(s=R.treeContext,nt=zn(E.nextSibling),Ut=r,Ue=!0,di=null,Un=!1,s!==null&&g0(r,s),r=Pf(r,u.children),r.flags|=4096);return r}return m?(vi(),E=u.fallback,m=r.mode,R=s.child,U=R.sibling,u=Ms(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,U!==null?E=Ms(U,E):(E=ar(E,m,o,null),E.flags|=2),E.return=r,u.return=r,u.sibling=E,r.child=u,Yo(null,u),u=r.child,E=s.child.memoizedState,E===null?E=Mf(o):(m=E.cachePool,m!==null?(R=_t._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=S0(),E={baseLanes:E.baseLanes|o,cachePool:m}),u.memoizedState=E,u.childLanes=Lf(s,w,o),r.memoizedState=If,Yo(s.child,u)):(yi(r),o=s.child,s=o.sibling,o=Ms(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function Pf(s,r){return r=su({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function su(s,r){return s=_n(22,s,null,r),s.lanes=0,s}function Uf(s,r,o){return fr(r,s.child,null,o),s=Pf(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Mb(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Jh(s.return,r,o)}function Bf(s,r,o,u,m,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:p}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m,w.treeForkCount=p)}function Lb(s,r,o){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var w=yt.current,E=(w&2)!==0;if(E?(w=w&1|2,r.flags|=128):w&=1,re(yt,w),zt(s,r,u,o),u=Ue?Lo:0,!E&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mb(s,o,r);else if(s.tag===19)Mb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Hc(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Bf(r,!1,m,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Hc(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Bf(r,!0,o,null,p,u);break;case"together":Bf(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Vs(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),wi|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ca(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ms(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ms(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function zf(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Pc(s)))}function wO(s,r,o){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),fi(r,_t,s.memoizedState.cache),or();break;case 27:case 5:Zt(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:fi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,df(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(yi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ib(s,r,o):(yi(r),s=Vs(s,r,o),s!==null?s.sibling:null);yi(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ca(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return Lb(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(yt,yt.current),u)break;return null;case 22:return r.lanes=0,kb(s,r,o,r.pendingProps);case 24:fi(r,_t,s.memoizedState.cache)}return Vs(s,r,o)}function Pb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)St=!0;else{if(!zf(s,o)&&(r.flags&128)===0)return St=!1,wO(s,r,o);St=(s.flags&131072)!==0}else St=!1,Ue&&(r.flags&1048576)!==0&&p0(r,Lo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=dr(r.elementType),r.type=s,typeof s=="function")qh(s)?(u=pr(s,u),r.tag=1,r=Db(null,r,s,u,o)):(r.tag=0,r=Nf(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===M){r.tag=11,r=xb(null,r,s,u,o);break e}else if(m===L){r.tag=14,r=Cb(null,r,s,u,o);break e}}throw r=Ee(s)||s,Error(i(306,r,""))}}return r;case 0:return Nf(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=pr(u,r.pendingProps),Db(s,r,u,m,o);case 3:e:{if(Ot(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,af(s,r),qo(r,u,null,o);var w=r.memoizedState;if(u=w.cache,fi(r,_t,u),u!==p.cache&&Zh(r,[_t],o,!0),Fo(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Nb(s,r,u,o);break e}else if(u!==m){m=Mn(Error(i(424)),r),Po(m),r=Nb(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(nt=zn(s.firstChild),Ut=r,Ue=!0,di=null,Un=!0,o=k0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(or(),u===m){r=Vs(s,r,o);break e}zt(s,r,u,o)}r=r.child}return r;case 26:return nu(s,r),s===null?(o=W_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ue||(o=r.type,s=r.pendingProps,u=bu(je.current).createElement(o),u[Pt]=r,u[an]=s,Vt(u,o,s),It(u),r.stateNode=u):r.memoizedState=W_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Zt(r),s===null&&Ue&&(u=r.stateNode=H_(r.type,r.pendingProps,je.current),Ut=r,Un=!0,m=nt,Ci(r.type)?(bm=m,nt=zn(u.firstChild)):nt=m),zt(s,r,r.pendingProps.children,o),nu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ue&&((m=u=nt)&&(u=QO(u,r.type,r.pendingProps,Un),u!==null?(r.stateNode=u,Ut=r,nt=zn(u.firstChild),Un=!1,m=!0):m=!1),m||hi(r)),Zt(r),m=r.type,p=r.pendingProps,w=s!==null?s.memoizedProps:null,u=p.children,mm(m,p)?u=null:w!==null&&mm(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=ff(s,r,hO,null,null,o),ul._currentValue=m),nu(s,r),zt(s,r,u,o),r.child;case 6:return s===null&&Ue&&((s=o=nt)&&(o=JO(o,r.pendingProps,Un),o!==null?(r.stateNode=o,Ut=r,nt=null,s=!0):s=!1),s||hi(r)),null;case 13:return Ib(s,r,o);case 4:return Ot(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=fr(r,null,u,o):zt(s,r,u,o),r.child;case 11:return xb(s,r,r.type,r.pendingProps,o);case 7:return zt(s,r,r.pendingProps,o),r.child;case 8:return zt(s,r,r.pendingProps.children,o),r.child;case 12:return zt(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,fi(r,r.type,u.value),zt(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,cr(r),m=Bt(m),u=u(m),r.flags|=1,zt(s,r,u,o),r.child;case 14:return Cb(s,r,r.type,r.pendingProps,o);case 15:return Ab(s,r,r.type,r.pendingProps,o);case 19:return Lb(s,r,o);case 31:return _O(s,r,o);case 22:return kb(s,r,o,r.pendingProps);case 24:return cr(r),u=Bt(_t),s===null?(m=nf(),m===null&&(m=Ze,p=ef(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),r.memoizedState={parent:u,cache:m},rf(r),fi(r,_t,m)):((s.lanes&o)!==0&&(af(s,r),qo(r,null,null,o),Fo()),m=s.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),fi(r,_t,u)):(u=p.cache,fi(r,_t,u),u!==m.cache&&Zh(r,[_t],o,!0))),zt(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function $s(s){s.flags|=4}function Vf(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(u_())s.flags|=8192;else throw hr=Vc,sf}else s.flags&=-16777217}function Ub(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Z_(r))if(u_())s.flags|=8192;else throw hr=Vc,sf}function iu(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?yv():536870912,s.lanes|=r,wa|=r)}function Xo(s,r){if(!Ue)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function st(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function SO(s,r,o){var u=r.pendingProps;switch(Wh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Us(_t),ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(la(r)?$s(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xh())),st(r),null;case 26:var m=r.type,p=r.memoizedState;return s===null?($s(r),p!==null?(st(r),Ub(r,p)):(st(r),Vf(r,m,null,u,o))):p?p!==s.memoizedState?($s(r),st(r),Ub(r,p)):(st(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&$s(r),st(r),Vf(r,m,s,u,o)),null;case 27:if(ps(r),o=je.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&$s(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return st(r),null}s=ne.current,la(r)?y0(r):(s=H_(m,u,o),r.stateNode=s,$s(r))}return st(r),null;case 5:if(ps(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&$s(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return st(r),null}if(p=ne.current,la(r))y0(r);else{var w=bu(je.current);switch(p){case 1:p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=w.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}p[Pt]=r,p[an]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)p.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=p;e:switch(Vt(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$s(r)}}return st(r),Vf(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&$s(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=je.current,la(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=Ut,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Pt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||I_(s.nodeValue,o)),s||hi(r,!0)}else s=bu(s).createTextNode(u),s[Pt]=r,r.stateNode=s}return st(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=la(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Pt]=r}else or(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),s=!1}else o=Xh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return st(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=la(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Pt]=r}else or(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),m=!1}else m=Xh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),iu(r,r.updateQueue),st(r),null);case 4:return ge(),s===null&&cm(r.stateNode.containerInfo),st(r),null;case 10:return Us(r.type),st(r),null;case 19:if(H(yt),u=r.memoizedState,u===null)return st(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)Xo(u,!1);else{if(mt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Hc(s),p!==null){for(r.flags|=128,Xo(u,!1),s=p.updateQueue,r.updateQueue=s,iu(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)h0(o,s),o=o.sibling;return re(yt,yt.current&1|2),Ue&&Ls(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&ce()>cu&&(r.flags|=128,m=!0,Xo(u,!1),r.lanes=4194304)}else{if(!m)if(s=Hc(p),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,iu(r,s),Xo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ue)return st(r),null}else 2*ce()-u.renderingStartTime>cu&&o!==536870912&&(r.flags|=128,m=!0,Xo(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=ce(),s.sibling=null,o=yt.current,re(yt,m?o&1|2:o&1),Ue&&Ls(r,u.treeForkCount),s):(st(r),null);case 22:case 23:return Sn(r),uf(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),o=r.updateQueue,o!==null&&iu(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&H(ur),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Us(_t),st(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function TO(s,r){switch(Wh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Us(_t),ge(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return ps(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(i(340));or()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Sn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));or()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return H(yt),null;case 4:return ge(),null;case 10:return Us(r.type),null;case 22:case 23:return Sn(r),uf(),s!==null&&H(ur),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Us(_t),null;case 25:return null;default:return null}}function Bb(s,r){switch(Wh(r),r.tag){case 3:Us(_t),ge();break;case 26:case 27:case 5:ps(r);break;case 4:ge();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:H(yt);break;case 10:Us(r.type);break;case 22:case 23:Sn(r),uf(),s!==null&&H(ur);break;case 24:Us(_t)}}function Qo(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var p=o.create,w=o.inst;u=p(),w.destroy=u}o=o.next}while(o!==m)}}catch(E){He(r,r.return,E)}}function bi(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,m=r;var R=o,U=E;try{U()}catch(q){He(m,R,q)}}}u=u.next}while(u!==p)}}catch(q){He(r,r.return,q)}}function zb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{j0(r,o)}catch(u){He(s,s.return,u)}}}function Vb(s,r,o){o.props=pr(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){He(s,r,u)}}function Jo(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){He(s,r,m)}}function vs(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){He(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){He(s,r,m)}else o.current=null}function $b(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){He(s,s.return,m)}}function $f(s,r,o){try{var u=s.stateNode;HO(u,s.type,o,r),u[an]=r}catch(m){He(s,s.return,m)}}function Fb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ci(s.type)||s.tag===4}function Ff(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ci(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qf(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ns));else if(u!==4&&(u===27&&Ci(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(qf(s,r,o),s=s.sibling;s!==null;)qf(s,r,o),s=s.sibling}function ru(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Ci(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(ru(s,r,o),s=s.sibling;s!==null;)ru(s,r,o),s=s.sibling}function qb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Vt(r,u,o),r[Pt]=s,r[an]=o}catch(p){He(s,s.return,p)}}var Fs=!1,Tt=!1,Hf=!1,Hb=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function EO(s,r){if(s=s.containerInfo,hm=Cu,s=s0(s),Ph(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,E=-1,R=-1,U=0,q=0,W=s,z=null;t:for(;;){for(var V;W!==o||m!==0&&W.nodeType!==3||(E=w+m),W!==p||u!==0&&W.nodeType!==3||(R=w+u),W.nodeType===3&&(w+=W.nodeValue.length),(V=W.firstChild)!==null;)z=W,W=V;for(;;){if(W===s)break t;if(z===o&&++U===m&&(E=w),z===p&&++q===u&&(R=w),(V=W.nextSibling)!==null)break;W=z,z=W.parentNode}W=V}o=E===-1||R===-1?null:{start:E,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(fm={focusedElem:s,selectionRange:o},Cu=!1,Mt=r;Mt!==null;)if(r=Mt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Mt=s;else for(;Mt!==null;){switch(r=Mt,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,m=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ue=pr(o.type,m);s=u.getSnapshotBeforeUpdate(ue,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(ve){He(o,o.return,ve)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)gm(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":gm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Mt=s;break}Mt=r.return}}function Gb(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Hs(s,o),u&4&&Qo(5,o);break;case 1:if(Hs(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){He(o,o.return,w)}else{var m=pr(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){He(o,o.return,w)}}u&64&&zb(o),u&512&&Jo(o,o.return);break;case 3:if(Hs(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{j0(s,r)}catch(w){He(o,o.return,w)}}break;case 27:r===null&&u&4&&qb(o);case 26:case 5:Hs(s,o),r===null&&u&4&&$b(o),u&512&&Jo(o,o.return);break;case 12:Hs(s,o);break;case 31:Hs(s,o),u&4&&Yb(s,o);break;case 13:Hs(s,o),u&4&&Xb(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=NO.bind(null,o),ZO(s,o))));break;case 22:if(u=o.memoizedState!==null||Fs,!u){r=r!==null&&r.memoizedState!==null||Tt,m=Fs;var p=Tt;Fs=u,(Tt=r)&&!p?Gs(s,o,(o.subtreeFlags&8772)!==0):Hs(s,o),Fs=m,Tt=p}break;case 30:break;default:Hs(s,o)}}function Kb(s){var r=s.alternate;r!==null&&(s.alternate=null,Kb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&_h(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rt=null,ln=!1;function qs(s,r,o){for(o=o.child;o!==null;)Wb(s,r,o),o=o.sibling}function Wb(s,r,o){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Je,o)}catch{}switch(o.tag){case 26:Tt||vs(o,r),qs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||vs(o,r);var u=rt,m=ln;Ci(o.type)&&(rt=o.stateNode,ln=!1),qs(s,r,o),ol(o.stateNode),rt=u,ln=m;break;case 5:Tt||vs(o,r);case 6:if(u=rt,m=ln,rt=null,qs(s,r,o),rt=u,ln=m,rt!==null)if(ln)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(o.stateNode)}catch(p){He(o,r,p)}else try{rt.removeChild(o.stateNode)}catch(p){He(o,r,p)}break;case 18:rt!==null&&(ln?(s=rt,z_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Oa(s)):z_(rt,o.stateNode));break;case 4:u=rt,m=ln,rt=o.stateNode.containerInfo,ln=!0,qs(s,r,o),rt=u,ln=m;break;case 0:case 11:case 14:case 15:bi(2,o,r),Tt||bi(4,o,r),qs(s,r,o);break;case 1:Tt||(vs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Vb(o,r,u)),qs(s,r,o);break;case 21:qs(s,r,o);break;case 22:Tt=(u=Tt)||o.memoizedState!==null,qs(s,r,o),Tt=u;break;default:qs(s,r,o)}}function Yb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Oa(s)}catch(o){He(r,r.return,o)}}}function Xb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Oa(s)}catch(o){He(r,r.return,o)}}function xO(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Hb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Hb),r;default:throw Error(i(435,s.tag))}}function au(s,r){var o=xO(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=IO.bind(null,s,u);u.then(m,m)}})}function cn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],p=s,w=r,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ci(E.type)){rt=E.stateNode,ln=!1;break e}break;case 5:rt=E.stateNode,ln=!1;break e;case 3:case 4:rt=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(rt===null)throw Error(i(160));Wb(p,w,m),rt=null,ln=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Qb(r,s),r=r.sibling}var es=null;function Qb(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:cn(r,s),un(s),u&4&&(bi(3,s,s.return),Qo(3,s),bi(5,s,s.return));break;case 1:cn(r,s),un(s),u&512&&(Tt||o===null||vs(o,o.return)),u&64&&Fs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=es;if(cn(r,s),un(s),u&512&&(Tt||o===null||vs(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[xo]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),Vt(p,u,o),p[Pt]=s,It(p),u=p;break e;case"link":var w=Q_("link","href",m).get(u+(o.href||""));if(w){for(var E=0;E<w.length;E++)if(p=w[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(E,1);break t}}p=m.createElement(u),Vt(p,u,o),m.head.appendChild(p);break;case"meta":if(w=Q_("meta","content",m).get(u+(o.content||""))){for(E=0;E<w.length;E++)if(p=w[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(E,1);break t}}p=m.createElement(u),Vt(p,u,o),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Pt]=s,It(p),u=p}s.stateNode=u}else J_(m,s.type,s.stateNode);else s.stateNode=X_(m,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?J_(m,s.type,s.stateNode):X_(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&$f(s,s.memoizedProps,o.memoizedProps)}break;case 27:cn(r,s),un(s),u&512&&(Tt||o===null||vs(o,o.return)),o!==null&&u&4&&$f(s,s.memoizedProps,o.memoizedProps);break;case 5:if(cn(r,s),un(s),u&512&&(Tt||o===null||vs(o,o.return)),s.flags&32){m=s.stateNode;try{Jr(m,"")}catch(ue){He(s,s.return,ue)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,$f(s,m,o!==null?o.memoizedProps:m)),u&1024&&(Hf=!0);break;case 6:if(cn(r,s),un(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ue){He(s,s.return,ue)}}break;case 3:if(Su=null,m=es,es=_u(r.containerInfo),cn(r,s),es=m,un(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Oa(r.containerInfo)}catch(ue){He(s,s.return,ue)}Hf&&(Hf=!1,Jb(s));break;case 4:u=es,es=_u(s.stateNode.containerInfo),cn(r,s),un(s),es=u;break;case 12:cn(r,s),un(s);break;case 31:cn(r,s),un(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,au(s,u)));break;case 13:cn(r,s),un(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lu=ce()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,au(s,u)));break;case 22:m=s.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,U=Fs,q=Tt;if(Fs=U||m,Tt=q||R,cn(r,s),Tt=q,Fs=U,un(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||R||Fs||Tt||gr(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){R=o=r;try{if(p=R.stateNode,m)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=R.stateNode;var W=R.memoizedProps.style,z=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){He(R,R.return,ue)}}}else if(r.tag===6){if(o===null){R=r;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(ue){He(R,R.return,ue)}}}else if(r.tag===18){if(o===null){R=r;try{var V=R.stateNode;m?V_(V,!0):V_(R.stateNode,!1)}catch(ue){He(R,R.return,ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,au(s,o))));break;case 19:cn(r,s),un(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,au(s,u)));break;case 30:break;case 21:break;default:cn(r,s),un(s)}}function un(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Fb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,p=Ff(s);ru(s,p,m);break;case 5:var w=o.stateNode;o.flags&32&&(Jr(w,""),o.flags&=-33);var E=Ff(s);ru(s,E,w);break;case 3:case 4:var R=o.stateNode.containerInfo,U=Ff(s);qf(s,U,R);break;default:throw Error(i(161))}}catch(q){He(s,s.return,q)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Jb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Jb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Hs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gb(s,r.alternate,r),r=r.sibling}function gr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),gr(r);break;case 1:vs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Vb(r,r.return,o),gr(r);break;case 27:ol(r.stateNode);case 26:case 5:vs(r,r.return),gr(r);break;case 22:r.memoizedState===null&&gr(r);break;case 30:gr(r);break;default:gr(r)}s=s.sibling}}function Gs(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,p=r,w=p.flags;switch(p.tag){case 0:case 11:case 15:Gs(m,p,o),Qo(4,p);break;case 1:if(Gs(m,p,o),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(U){He(u,u.return,U)}if(u=p,m=u.updateQueue,m!==null){var E=u.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)O0(R[m],E)}catch(U){He(u,u.return,U)}}o&&w&64&&zb(p),Jo(p,p.return);break;case 27:qb(p);case 26:case 5:Gs(m,p,o),o&&u===null&&w&4&&$b(p),Jo(p,p.return);break;case 12:Gs(m,p,o);break;case 31:Gs(m,p,o),o&&w&4&&Yb(m,p);break;case 13:Gs(m,p,o),o&&w&4&&Xb(m,p);break;case 22:p.memoizedState===null&&Gs(m,p,o),Jo(p,p.return);break;case 30:break;default:Gs(m,p,o)}r=r.sibling}}function Gf(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Uo(o))}function Kf(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Uo(s))}function ts(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zb(s,r,o,u),r=r.sibling}function Zb(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:ts(s,r,o,u),m&2048&&Qo(9,r);break;case 1:ts(s,r,o,u);break;case 3:ts(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Uo(s)));break;case 12:if(m&2048){ts(s,r,o,u),s=r.stateNode;try{var p=r.memoizedProps,w=p.id,E=p.onPostCommit;typeof E=="function"&&E(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(R){He(r,r.return,R)}}else ts(s,r,o,u);break;case 31:ts(s,r,o,u);break;case 13:ts(s,r,o,u);break;case 23:break;case 22:p=r.stateNode,w=r.alternate,r.memoizedState!==null?p._visibility&2?ts(s,r,o,u):Zo(s,r):p._visibility&2?ts(s,r,o,u):(p._visibility|=2,va(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Gf(w,r);break;case 24:ts(s,r,o,u),m&2048&&Kf(r.alternate,r);break;default:ts(s,r,o,u)}}function va(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,w=r,E=o,R=u,U=w.flags;switch(w.tag){case 0:case 11:case 15:va(p,w,E,R,m),Qo(8,w);break;case 23:break;case 22:var q=w.stateNode;w.memoizedState!==null?q._visibility&2?va(p,w,E,R,m):Zo(p,w):(q._visibility|=2,va(p,w,E,R,m)),m&&U&2048&&Gf(w.alternate,w);break;case 24:va(p,w,E,R,m),m&&U&2048&&Kf(w.alternate,w);break;default:va(p,w,E,R,m)}r=r.sibling}}function Zo(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:Zo(o,u),m&2048&&Gf(u.alternate,u);break;case 24:Zo(o,u),m&2048&&Kf(u.alternate,u);break;default:Zo(o,u)}r=r.sibling}}var el=8192;function ba(s,r,o){if(s.subtreeFlags&el)for(s=s.child;s!==null;)e_(s,r,o),s=s.sibling}function e_(s,r,o){switch(s.tag){case 26:ba(s,r,o),s.flags&el&&s.memoizedState!==null&&dj(o,es,s.memoizedState,s.memoizedProps);break;case 5:ba(s,r,o);break;case 3:case 4:var u=es;es=_u(s.stateNode.containerInfo),ba(s,r,o),es=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=el,el=16777216,ba(s,r,o),el=u):ba(s,r,o));break;default:ba(s,r,o)}}function t_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function tl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Mt=u,s_(u,s)}t_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n_(s),s=s.sibling}function n_(s){switch(s.tag){case 0:case 11:case 15:tl(s),s.flags&2048&&bi(9,s,s.return);break;case 3:tl(s);break;case 12:tl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,ou(s)):tl(s);break;default:tl(s)}}function ou(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Mt=u,s_(u,s)}t_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:bi(8,r,r.return),ou(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ou(r));break;default:ou(r)}s=s.sibling}}function s_(s,r){for(;Mt!==null;){var o=Mt;switch(o.tag){case 0:case 11:case 15:bi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Uo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Mt=u;else e:for(o=s;Mt!==null;){u=Mt;var m=u.sibling,p=u.return;if(Kb(u),u===o){Mt=null;break e}if(m!==null){m.return=p,Mt=m;break e}Mt=p}}}var CO={getCacheForType:function(s){var r=Bt(_t),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return Bt(_t).controller.signal}},AO=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Ze=null,Ne=null,Me=0,qe=0,Tn=null,_i=!1,_a=!1,Wf=!1,Ks=0,mt=0,wi=0,yr=0,Yf=0,En=0,wa=0,nl=null,dn=null,Xf=!1,lu=0,i_=0,cu=1/0,uu=null,Si=null,jt=0,Ti=null,Sa=null,Ws=0,Qf=0,Jf=null,r_=null,sl=0,Zf=null;function xn(){return(Fe&2)!==0&&Me!==0?Me&-Me:B.T!==null?rm():wv()}function a_(){if(En===0)if((Me&536870912)===0||Ue){var s=vc;vc<<=1,(vc&3932160)===0&&(vc=262144),En=s}else En=536870912;return s=wn.current,s!==null&&(s.flags|=32),En}function hn(s,r,o){(s===Ze&&(qe===2||qe===9)||s.cancelPendingCommit!==null)&&(Ta(s,0),Ei(s,Me,En,!1)),Eo(s,o),((Fe&2)===0||s!==Ze)&&(s===Ze&&((Fe&2)===0&&(yr|=o),mt===4&&Ei(s,Me,En,!1)),bs(s))}function o_(s,r,o){if((Fe&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||To(s,r),m=u?jO(s,r):tm(s,r,!0),p=u;do{if(m===0){_a&&!u&&Ei(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!kO(o)){m=tm(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var E=s;m=nl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ta(E,w).flags|=256),w=tm(E,w,!1),w!==2){if(Wf&&!R){E.errorRecoveryDisabledLanes|=p,yr|=p,m=4;break e}p=dn,dn=m,p!==null&&(dn===null?dn=p:dn.push.apply(dn,p))}m=w}if(p=!1,m!==2)continue}}if(m===1){Ta(s,0),Ei(s,r,0,!0);break}e:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ei(u,r,En,!_i);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=lu+300-ce(),10<m)){if(Ei(u,r,En,!_i),_c(u,0,!0)!==0)break e;Ws=r,u.timeoutHandle=U_(l_.bind(null,u,o,dn,uu,Xf,r,En,yr,wa,_i,p,"Throttled",-0,0),m);break e}l_(u,o,dn,uu,Xf,r,En,yr,wa,_i,p,null,-0,0)}}break}while(!0);bs(s)}function l_(s,r,o,u,m,p,w,E,R,U,q,W,z,V){if(s.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ns},e_(r,p,W);var ue=(p&62914560)===p?lu-ce():(p&4194048)===p?i_-ce():0;if(ue=hj(W,ue),ue!==null){Ws=p,s.cancelPendingCommit=ue(g_.bind(null,s,r,p,o,u,m,w,E,R,q,W,null,z,V)),Ei(s,p,w,!U);return}}g_(s,r,p,o,u,m,w,E,R)}function kO(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],p=m.getSnapshot;m=m.value;try{if(!bn(p(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ei(s,r,o,u){r&=~Yf,r&=~yr,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var p=31-ht(m),w=1<<p;u[p]=-1,m&=~w}o!==0&&vv(s,o,r)}function du(){return(Fe&6)===0?(il(0),!1):!0}function em(){if(Ne!==null){if(qe===0)var s=Ne.return;else s=Ne,Ps=lr=null,gf(s),fa=null,zo=0,s=Ne;for(;s!==null;)Bb(s.alternate,s),s=s.return;Ne=null}}function Ta(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,WO(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ws=0,em(),Ze=s,Ne=o=Ms(s.current,null),Me=r,qe=0,Tn=null,_i=!1,_a=To(s,r),Wf=!1,wa=En=Yf=yr=wi=mt=0,dn=nl=null,Xf=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-ht(u),p=1<<m;r|=s[m],u&=~p}return Ks=r,Dc(),o}function c_(s,r){Oe=null,B.H=Wo,r===ha||r===zc?(r=x0(),qe=3):r===sf?(r=x0(),qe=4):qe=r===Df?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Ne===null&&(mt=1,eu(s,Mn(r,s.current)))}function u_(){var s=wn.current;return s===null?!0:(Me&4194048)===Me?Bn===null:(Me&62914560)===Me||(Me&536870912)!==0?s===Bn:!1}function d_(){var s=B.H;return B.H=Wo,s===null?Wo:s}function h_(){var s=B.A;return B.A=CO,s}function hu(){mt=4,_i||(Me&4194048)!==Me&&wn.current!==null||(_a=!0),(wi&134217727)===0&&(yr&134217727)===0||Ze===null||Ei(Ze,Me,En,!1)}function tm(s,r,o){var u=Fe;Fe|=2;var m=d_(),p=h_();(Ze!==s||Me!==r)&&(uu=null,Ta(s,r)),r=!1;var w=mt;e:do try{if(qe!==0&&Ne!==null){var E=Ne,R=Tn;switch(qe){case 8:em(),w=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var U=qe;if(qe=0,Tn=null,Ea(s,E,R,U),o&&_a){w=0;break e}break;default:U=qe,qe=0,Tn=null,Ea(s,E,R,U)}}OO(),w=mt;break}catch(q){c_(s,q)}while(!0);return r&&s.shellSuspendCounter++,Ps=lr=null,Fe=u,B.H=m,B.A=p,Ne===null&&(Ze=null,Me=0,Dc()),w}function OO(){for(;Ne!==null;)f_(Ne)}function jO(s,r){var o=Fe;Fe|=2;var u=d_(),m=h_();Ze!==s||Me!==r?(uu=null,cu=ce()+500,Ta(s,r)):_a=To(s,r);e:do try{if(qe!==0&&Ne!==null){r=Ne;var p=Tn;t:switch(qe){case 1:qe=0,Tn=null,Ea(s,r,p,1);break;case 2:case 9:if(T0(p)){qe=0,Tn=null,m_(r);break}r=function(){qe!==2&&qe!==9||Ze!==s||(qe=7),bs(s)},p.then(r,r);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:T0(p)?(qe=0,Tn=null,m_(r)):(qe=0,Tn=null,Ea(s,r,p,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var E=Ne;if(w?Z_(w):E.stateNode.complete){qe=0,Tn=null;var R=E.sibling;if(R!==null)Ne=R;else{var U=E.return;U!==null?(Ne=U,fu(U)):Ne=null}break t}}qe=0,Tn=null,Ea(s,r,p,5);break;case 6:qe=0,Tn=null,Ea(s,r,p,6);break;case 8:em(),mt=6;break e;default:throw Error(i(462))}}RO();break}catch(q){c_(s,q)}while(!0);return Ps=lr=null,B.H=u,B.A=m,Fe=o,Ne!==null?0:(Ze=null,Me=0,Dc(),mt)}function RO(){for(;Ne!==null&&!ae();)f_(Ne)}function f_(s){var r=Pb(s.alternate,s,Ks);s.memoizedProps=s.pendingProps,r===null?fu(s):Ne=r}function m_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Rb(o,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=Rb(o,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:gf(r);default:Bb(o,r),r=Ne=h0(r,Ks),r=Pb(o,r,Ks)}s.memoizedProps=s.pendingProps,r===null?fu(s):Ne=r}function Ea(s,r,o,u){Ps=lr=null,gf(r),fa=null,zo=0;var m=r.return;try{if(bO(s,m,r,o,Me)){mt=1,eu(s,Mn(o,s.current)),Ne=null;return}}catch(p){if(m!==null)throw Ne=m,p;mt=1,eu(s,Mn(o,s.current)),Ne=null;return}r.flags&32768?(Ue||u===1?s=!0:_a||(Me&536870912)!==0?s=!1:(_i=s=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),p_(r,s)):fu(r)}function fu(s){var r=s;do{if((r.flags&32768)!==0){p_(r,_i);return}s=r.return;var o=SO(r.alternate,r,Ks);if(o!==null){Ne=o;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=s}while(r!==null);mt===0&&(mt=5)}function p_(s,r){do{var o=TO(s.alternate,s);if(o!==null){o.flags&=32767,Ne=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ne=s;return}Ne=s=o}while(s!==null);mt=6,Ne=null}function g_(s,r,o,u,m,p,w,E,R){s.cancelPendingCommit=null;do mu();while(jt!==0);if((Fe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=$h,uk(s,o,p,w,E,R),s===Ze&&(Ne=Ze=null,Me=0),Sa=r,Ti=s,Ws=o,Qf=p,Jf=m,r_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,MO(Nt,function(){return w_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,m=Y.p,Y.p=2,w=Fe,Fe|=4;try{EO(s,r,o)}finally{Fe=w,Y.p=m,B.T=u}}jt=1,y_(),v_(),b_()}}function y_(){if(jt===1){jt=0;var s=Ti,r=Sa,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Y.p;Y.p=2;var m=Fe;Fe|=4;try{Qb(r,s);var p=fm,w=s0(s.containerInfo),E=p.focusedElem,R=p.selectionRange;if(w!==E&&E&&E.ownerDocument&&n0(E.ownerDocument.documentElement,E)){if(R!==null&&Ph(E)){var U=R.start,q=R.end;if(q===void 0&&(q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(q,E.value.length);else{var W=E.ownerDocument||document,z=W&&W.defaultView||window;if(z.getSelection){var V=z.getSelection(),ue=E.textContent.length,ve=Math.min(R.start,ue),Xe=R.end===void 0?ve:Math.min(R.end,ue);!V.extend&&ve>Xe&&(w=Xe,Xe=ve,ve=w);var I=t0(E,ve),N=t0(E,Xe);if(I&&N&&(V.rangeCount!==1||V.anchorNode!==I.node||V.anchorOffset!==I.offset||V.focusNode!==N.node||V.focusOffset!==N.offset)){var P=W.createRange();P.setStart(I.node,I.offset),V.removeAllRanges(),ve>Xe?(V.addRange(P),V.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),V.addRange(P))}}}}for(W=[],V=E;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var K=W[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Cu=!!hm,fm=hm=null}finally{Fe=m,Y.p=u,B.T=o}}s.current=r,jt=2}}function v_(){if(jt===2){jt=0;var s=Ti,r=Sa,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Y.p;Y.p=2;var m=Fe;Fe|=4;try{Gb(s,r.alternate,r)}finally{Fe=m,Y.p=u,B.T=o}}jt=3}}function b_(){if(jt===4||jt===3){jt=0,de();var s=Ti,r=Sa,o=Ws,u=r_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Sa=Ti=null,__(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Si=null),vh(o),r=r.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Je,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=B.T,m=Y.p,Y.p=2,B.T=null;try{for(var p=s.onRecoverableError,w=0;w<u.length;w++){var E=u[w];p(E.value,{componentStack:E.stack})}}finally{B.T=r,Y.p=m}}(Ws&3)!==0&&mu(),bs(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===Zf?sl++:(sl=0,Zf=s):sl=0,il(0)}}function __(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Uo(r)))}function mu(){return y_(),v_(),b_(),w_()}function w_(){if(jt!==5)return!1;var s=Ti,r=Qf;Qf=0;var o=vh(Ws),u=B.T,m=Y.p;try{Y.p=32>o?32:o,B.T=null,o=Jf,Jf=null;var p=Ti,w=Ws;if(jt=0,Sa=Ti=null,Ws=0,(Fe&6)!==0)throw Error(i(331));var E=Fe;if(Fe|=4,n_(p.current),Zb(p,p.current,w,o),Fe=E,il(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Je,p)}catch{}return!0}finally{Y.p=m,B.T=u,__(s,r)}}function S_(s,r,o){r=Mn(o,r),r=Rf(s.stateNode,r,2),s=gi(s,r,2),s!==null&&(Eo(s,2),bs(s))}function He(s,r,o){if(s.tag===3)S_(s,s,o);else for(;r!==null;){if(r.tag===3){S_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){s=Mn(o,s),o=Tb(2),u=gi(r,o,2),u!==null&&(Eb(o,u,r,s),Eo(u,2),bs(u));break}}r=r.return}}function nm(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new AO;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(Wf=!0,m.add(o),s=DO.bind(null,s,r,o),r.then(s,s))}function DO(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Ze===s&&(Me&o)===o&&(mt===4||mt===3&&(Me&62914560)===Me&&300>ce()-lu?(Fe&2)===0&&Ta(s,0):Yf|=o,wa===Me&&(wa=0)),bs(s)}function T_(s,r){r===0&&(r=yv()),s=rr(s,r),s!==null&&(Eo(s,r),bs(s))}function NO(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),T_(s,o)}function IO(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),T_(s,o)}function MO(s,r){return _o(s,r)}var pu=null,xa=null,sm=!1,gu=!1,im=!1,xi=0;function bs(s){s!==xa&&s.next===null&&(xa===null?pu=xa=s:xa=xa.next=s),gu=!0,sm||(sm=!0,PO())}function il(s,r){if(!im&&gu){im=!0;do for(var o=!1,u=pu;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var w=u.suspendedLanes,E=u.pingedLanes;p=(1<<31-ht(42|s)+1)-1,p&=m&~(w&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,A_(u,p))}else p=Me,p=_c(u,u===Ze?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||To(u,p)||(o=!0,A_(u,p));u=u.next}while(o);im=!1}}function LO(){E_()}function E_(){gu=sm=!1;var s=0;xi!==0&&KO()&&(s=xi);for(var r=ce(),o=null,u=pu;u!==null;){var m=u.next,p=x_(u,r);p===0?(u.next=null,o===null?pu=m:o.next=m,m===null&&(xa=o)):(o=u,(s!==0||(p&3)!==0)&&(gu=!0)),u=m}jt!==0&&jt!==5||il(s),xi!==0&&(xi=0)}function x_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var w=31-ht(p),E=1<<w,R=m[w];R===-1?((E&o)===0||(E&u)!==0)&&(m[w]=ck(E,r)):R<=r&&(s.expiredLanes|=E),p&=~E}if(r=Ze,o=Me,o=_c(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(qe===2||qe===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&X(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||To(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&X(u),vh(o)){case 2:case 8:o=bt;break;case 32:o=Nt;break;case 268435456:o=rn;break;default:o=Nt}return u=C_.bind(null,s),o=_o(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&X(u),s.callbackPriority=2,s.callbackNode=null,2}function C_(s,r){if(jt!==0&&jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(mu()&&s.callbackNode!==o)return null;var u=Me;return u=_c(s,s===Ze?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(o_(s,u,r),x_(s,ce()),s.callbackNode!=null&&s.callbackNode===o?C_.bind(null,s):null)}function A_(s,r){if(mu())return null;o_(s,r,!0)}function PO(){YO(function(){(Fe&6)!==0?_o(gt,LO):E_()})}function rm(){if(xi===0){var s=ua;s===0&&(s=yc,yc<<=1,(yc&261888)===0&&(yc=256)),xi=s}return xi}function k_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ec(""+s)}function O_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function UO(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var p=k_((m[an]||null).action),w=u.submitter;w&&(r=(r=w[an]||null)?k_(r.formAction):w.getAttribute("formAction"),r!==null&&(p=r,w=null));var E=new kc("action","action",null,u,m);s.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xi!==0){var R=w?O_(m,w):new FormData(m);xf(o,{pending:!0,data:R,method:m.method,action:p},null,R)}}else typeof p=="function"&&(E.preventDefault(),R=w?O_(m,w):new FormData(m),xf(o,{pending:!0,data:R,method:m.method,action:p},p,R))},currentTarget:m}]})}}for(var am=0;am<Vh.length;am++){var om=Vh[am],BO=om.toLowerCase(),zO=om[0].toUpperCase()+om.slice(1);Zn(BO,"on"+zO)}Zn(a0,"onAnimationEnd"),Zn(o0,"onAnimationIteration"),Zn(l0,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(nO,"onTransitionRun"),Zn(sO,"onTransitionStart"),Zn(iO,"onTransitionCancel"),Zn(c0,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function j_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var w=u.length-1;0<=w;w--){var E=u[w],R=E.instance,U=E.currentTarget;if(E=E.listener,R!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=U;try{p(m)}catch(q){Rc(q)}m.currentTarget=null,p=R}else for(w=0;w<u.length;w++){if(E=u[w],R=E.instance,U=E.currentTarget,E=E.listener,R!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=U;try{p(m)}catch(q){Rc(q)}m.currentTarget=null,p=R}}}}function Ie(s,r){var o=r[bh];o===void 0&&(o=r[bh]=new Set);var u=s+"__bubble";o.has(u)||(R_(r,s,2,!1),o.add(u))}function lm(s,r,o){var u=0;r&&(u|=4),R_(o,s,u,r)}var yu="_reactListening"+Math.random().toString(36).slice(2);function cm(s){if(!s[yu]){s[yu]=!0,Ev.forEach(function(o){o!=="selectionchange"&&(VO.has(o)||lm(o,!1,s),lm(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[yu]||(r[yu]=!0,lm("selectionchange",!1,r))}}function R_(s,r,o,u){switch(a1(r)){case 2:var m=pj;break;case 8:m=gj;break;default:m=Em}o=m.bind(null,r,o,s),m=void 0,!kh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function um(s,r,o,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===m)break;if(w===4)for(w=u.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;E!==null;){if(w=Kr(E),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){u=p=w;continue e}E=E.parentNode}}u=u.return}Lv(function(){var U=p,q=Ch(o),W=[];e:{var z=u0.get(s);if(z!==void 0){var V=kc,ue=s;switch(s){case"keypress":if(Cc(o)===0)break e;case"keydown":case"keyup":V=Ik;break;case"focusin":ue="focus",V=Dh;break;case"focusout":ue="blur",V=Dh;break;case"beforeblur":case"afterblur":V=Dh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Pk;break;case a0:case o0:case l0:V=xk;break;case c0:V=Bk;break;case"scroll":case"scrollend":V=_k;break;case"wheel":V=Vk;break;case"copy":case"cut":case"paste":V=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Vv;break;case"toggle":case"beforetoggle":V=Fk}var ve=(r&4)!==0,Xe=!ve&&(s==="scroll"||s==="scrollend"),I=ve?z!==null?z+"Capture":null:z;ve=[];for(var N=U,P;N!==null;){var K=N;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||I===null||(K=Ao(N,I),K!=null&&ve.push(al(N,K,P))),Xe)break;N=N.return}0<ve.length&&(z=new V(z,ue,null,o,q),W.push({event:z,listeners:ve}))}}if((r&7)===0){e:{if(z=s==="mouseover"||s==="pointerover",V=s==="mouseout"||s==="pointerout",z&&o!==xh&&(ue=o.relatedTarget||o.fromElement)&&(Kr(ue)||ue[Gr]))break e;if((V||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,V?(ue=o.relatedTarget||o.toElement,V=U,ue=ue?Kr(ue):null,ue!==null&&(Xe=l(ue),ve=ue.tag,ue!==Xe||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(V=null,ue=U),V!==ue)){if(ve=Bv,K="onMouseLeave",I="onMouseEnter",N="mouse",(s==="pointerout"||s==="pointerover")&&(ve=Vv,K="onPointerLeave",I="onPointerEnter",N="pointer"),Xe=V==null?z:Co(V),P=ue==null?z:Co(ue),z=new ve(K,N+"leave",V,o,q),z.target=Xe,z.relatedTarget=P,K=null,Kr(q)===U&&(ve=new ve(I,N+"enter",ue,o,q),ve.target=P,ve.relatedTarget=Xe,K=ve),Xe=K,V&&ue)t:{for(ve=$O,I=V,N=ue,P=0,K=I;K;K=ve(K))P++;K=0;for(var ye=N;ye;ye=ve(ye))K++;for(;0<P-K;)I=ve(I),P--;for(;0<K-P;)N=ve(N),K--;for(;P--;){if(I===N||N!==null&&I===N.alternate){ve=I;break t}I=ve(I),N=ve(N)}ve=null}else ve=null;V!==null&&D_(W,z,V,ve,!1),ue!==null&&Xe!==null&&D_(W,Xe,ue,ve,!0)}}e:{if(z=U?Co(U):window,V=z.nodeName&&z.nodeName.toLowerCase(),V==="select"||V==="input"&&z.type==="file")var Ve=Yv;else if(Kv(z))if(Xv)Ve=Zk;else{Ve=Qk;var fe=Xk}else V=z.nodeName,!V||V.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Eh(U.elementType)&&(Ve=Yv):Ve=Jk;if(Ve&&(Ve=Ve(s,U))){Wv(W,Ve,o,q);break e}fe&&fe(s,z,U),s==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Th(z,"number",z.value)}switch(fe=U?Co(U):window,s){case"focusin":(Kv(fe)||fe.contentEditable==="true")&&(na=fe,Uh=U,Mo=null);break;case"focusout":Mo=Uh=na=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,i0(W,o,q);break;case"selectionchange":if(tO)break;case"keydown":case"keyup":i0(W,o,q)}var De;if(Ih)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ta?Hv(s,o)&&(Le="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&($v&&o.locale!=="ko"&&(ta||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ta&&(De=Pv()):(ci=q,Oh="value"in ci?ci.value:ci.textContent,ta=!0)),fe=vu(U,Le),0<fe.length&&(Le=new zv(Le,s,null,o,q),W.push({event:Le,listeners:fe}),De?Le.data=De:(De=Gv(o),De!==null&&(Le.data=De)))),(De=Hk?Gk(s,o):Kk(s,o))&&(Le=vu(U,"onBeforeInput"),0<Le.length&&(fe=new zv("onBeforeInput","beforeinput",null,o,q),W.push({event:fe,listeners:Le}),fe.data=De)),UO(W,s,U,o,q)}j_(W,r)})}function al(s,r,o){return{instance:s,listener:r,currentTarget:o}}function vu(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Ao(s,o),m!=null&&u.unshift(al(s,m,p)),m=Ao(s,r),m!=null&&u.push(al(s,m,p))),s.tag===3)return u;s=s.return}return[]}function $O(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function D_(s,r,o,u,m){for(var p=r._reactName,w=[];o!==null&&o!==u;){var E=o,R=E.alternate,U=E.stateNode;if(E=E.tag,R!==null&&R===u)break;E!==5&&E!==26&&E!==27||U===null||(R=U,m?(U=Ao(o,p),U!=null&&w.unshift(al(o,U,R))):m||(U=Ao(o,p),U!=null&&w.push(al(o,U,R)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var FO=/\r\n?/g,qO=/\u0000|\uFFFD/g;function N_(s){return(typeof s=="string"?s:""+s).replace(FO,`
`).replace(qO,"")}function I_(s,r){return r=N_(r),N_(s)===r}function Ye(s,r,o,u,m,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Jr(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Jr(s,""+u);break;case"className":Sc(s,"class",u);break;case"tabIndex":Sc(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sc(s,o,u);break;case"style":Iv(s,u,p);break;case"data":if(r!=="object"){Sc(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Ec(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Ye(s,r,"name",m.name,m,null),Ye(s,r,"formEncType",m.formEncType,m,null),Ye(s,r,"formMethod",m.formMethod,m,null),Ye(s,r,"formTarget",m.formTarget,m,null)):(Ye(s,r,"encType",m.encType,m,null),Ye(s,r,"method",m.method,m,null),Ye(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Ec(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ns);break;case"onScroll":u!=null&&Ie("scroll",s);break;case"onScrollEnd":u!=null&&Ie("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Ec(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ie("beforetoggle",s),Ie("toggle",s),wc(s,"popover",u);break;case"xlinkActuate":Ds(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ds(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ds(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ds(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ds(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ds(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wc(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vk.get(o)||o,wc(s,o,u))}}function dm(s,r,o,u,m,p){switch(o){case"style":Iv(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Jr(s,u):(typeof u=="number"||typeof u=="bigint")&&Jr(s,""+u);break;case"onScroll":u!=null&&Ie("scroll",s);break;case"onScrollEnd":u!=null&&Ie("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),p=s[an]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):wc(s,o,u)}}}function Vt(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",s),Ie("load",s);var u=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(s,r,p,w,o,null)}}m&&Ye(s,r,"srcSet",o.srcSet,o,null),u&&Ye(s,r,"src",o.src,o,null);return;case"input":Ie("invalid",s);var E=p=w=m=null,R=null,U=null;for(u in o)if(o.hasOwnProperty(u)){var q=o[u];if(q!=null)switch(u){case"name":m=q;break;case"type":w=q;break;case"checked":R=q;break;case"defaultChecked":U=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Ye(s,r,u,q,o,null)}}jv(s,p,E,R,U,w,m,!1);return;case"select":Ie("invalid",s),u=w=p=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":p=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:Ye(s,r,m,E,o,null)}r=p,o=w,s.multiple=!!u,r!=null?Qr(s,!!u,r,!1):o!=null&&Qr(s,!!u,o,!0);return;case"textarea":Ie("invalid",s),p=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(E=o[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":m=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ye(s,r,w,E,o,null)}Dv(s,u,m,p);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ye(s,r,R,u,o,null)}return;case"dialog":Ie("beforetoggle",s),Ie("toggle",s),Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":Ie("load",s);break;case"video":case"audio":for(u=0;u<rl.length;u++)Ie(rl[u],s);break;case"image":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"embed":case"source":case"link":Ie("error",s),Ie("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(s,r,U,u,o,null)}return;default:if(Eh(r)){for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!==void 0&&dm(s,r,q,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&Ye(s,r,E,u,o,null))}function HO(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,w=null,E=null,R=null,U=null,q=null;for(V in o){var W=o[V];if(o.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=W;default:u.hasOwnProperty(V)||Ye(s,r,V,null,u,W)}}for(var z in u){var V=u[z];if(W=o[z],u.hasOwnProperty(z)&&(V!=null||W!=null))switch(z){case"type":p=V;break;case"name":m=V;break;case"checked":U=V;break;case"defaultChecked":q=V;break;case"value":w=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,r));break;default:V!==W&&Ye(s,r,z,V,u,W)}}Sh(s,w,E,R,U,q,p,m);return;case"select":V=w=E=z=null;for(p in o)if(R=o[p],o.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":V=R;default:u.hasOwnProperty(p)||Ye(s,r,p,null,u,R)}for(m in u)if(p=u[m],R=o[m],u.hasOwnProperty(m)&&(p!=null||R!=null))switch(m){case"value":z=p;break;case"defaultValue":E=p;break;case"multiple":w=p;default:p!==R&&Ye(s,r,m,p,u,R)}r=E,o=w,u=V,z!=null?Qr(s,!!o,z,!1):!!u!=!!o&&(r!=null?Qr(s,!!o,r,!0):Qr(s,!!o,o?[]:"",!1));return;case"textarea":V=z=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(s,r,E,null,u,m)}for(w in u)if(m=u[w],p=o[w],u.hasOwnProperty(w)&&(m!=null||p!=null))switch(w){case"value":z=m;break;case"defaultValue":V=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&Ye(s,r,w,m,u,p)}Rv(s,z,V);return;case"option":for(var ue in o)if(z=o[ue],o.hasOwnProperty(ue)&&z!=null&&!u.hasOwnProperty(ue))switch(ue){case"selected":s.selected=!1;break;default:Ye(s,r,ue,null,u,z)}for(R in u)if(z=u[R],V=o[R],u.hasOwnProperty(R)&&z!==V&&(z!=null||V!=null))switch(R){case"selected":s.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ye(s,r,R,z,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)z=o[ve],o.hasOwnProperty(ve)&&z!=null&&!u.hasOwnProperty(ve)&&Ye(s,r,ve,null,u,z);for(U in u)if(z=u[U],V=o[U],u.hasOwnProperty(U)&&z!==V&&(z!=null||V!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,r));break;default:Ye(s,r,U,z,u,V)}return;default:if(Eh(r)){for(var Xe in o)z=o[Xe],o.hasOwnProperty(Xe)&&z!==void 0&&!u.hasOwnProperty(Xe)&&dm(s,r,Xe,void 0,u,z);for(q in u)z=u[q],V=o[q],!u.hasOwnProperty(q)||z===V||z===void 0&&V===void 0||dm(s,r,q,z,u,V);return}}for(var I in o)z=o[I],o.hasOwnProperty(I)&&z!=null&&!u.hasOwnProperty(I)&&Ye(s,r,I,null,u,z);for(W in u)z=u[W],V=o[W],!u.hasOwnProperty(W)||z===V||z==null&&V==null||Ye(s,r,W,z,u,V)}function M_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GO(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],p=m.transferSize,w=m.initiatorType,E=m.duration;if(p&&E&&M_(w)){for(w=0,E=m.responseEnd,u+=1;u<o.length;u++){var R=o[u],U=R.startTime;if(U>E)break;var q=R.transferSize,W=R.initiatorType;q&&M_(W)&&(R=R.responseEnd,w+=q*(R<E?1:(E-U)/(R-U)))}if(--u,r+=8*(p+w)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var hm=null,fm=null;function bu(s){return s.nodeType===9?s:s.ownerDocument}function L_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function mm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pm=null;function KO(){var s=window.event;return s&&s.type==="popstate"?s===pm?!1:(pm=s,!0):(pm=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,WO=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,YO=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(s){return B_.resolve(null).then(s).catch(XO)}:U_;function XO(s){setTimeout(function(){throw s})}function Ci(s){return s==="head"}function z_(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),Oa(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ol(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,ol(o);for(var p=o.firstChild;p;){var w=p.nextSibling,E=p.nodeName;p[xo]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=w}}else o==="body"&&ol(s.ownerDocument.body);o=m}while(o);Oa(r)}function V_(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function gm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gm(o),_h(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function QO(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[xo])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=zn(s.nextSibling),s===null)break}return null}function JO(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=zn(s.nextSibling),s===null))return null;return s}function $_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=zn(s.nextSibling),s===null))return null;return s}function ym(s){return s.data==="$?"||s.data==="$~"}function vm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ZO(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function zn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var bm=null;function F_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return zn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function q_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function H_(s,r,o){switch(r=bu(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ol(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);_h(s)}var Vn=new Map,G_=new Set;function _u(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ys=Y.d;Y.d={f:ej,r:tj,D:nj,C:sj,L:ij,m:rj,X:oj,S:aj,M:lj};function ej(){var s=Ys.f(),r=du();return s||r}function tj(s){var r=Wr(s);r!==null&&r.tag===5&&r.type==="form"?cb(r):Ys.r(s)}var Ca=typeof document>"u"?null:document;function K_(s,r,o){var u=Ca;if(u&&typeof r=="string"&&r){var m=Nn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),G_.has(m)||(G_.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),Vt(r,"link",s),It(r),u.head.appendChild(r)))}}function nj(s){Ys.D(s),K_("dns-prefetch",s,null)}function sj(s,r){Ys.C(s,r),K_("preconnect",s,r)}function ij(s,r,o){Ys.L(s,r,o);var u=Ca;if(u&&s&&r){var m='link[rel="preload"][as="'+Nn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Nn(o.imageSizes)+'"]')):m+='[href="'+Nn(s)+'"]';var p=m;switch(r){case"style":p=Aa(s);break;case"script":p=ka(s)}Vn.has(p)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Vn.set(p,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(ll(p))||r==="script"&&u.querySelector(cl(p))||(r=u.createElement("link"),Vt(r,"link",s),It(r),u.head.appendChild(r)))}}function rj(s,r){Ys.m(s,r);var o=Ca;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Nn(u)+'"][href="'+Nn(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ka(s)}if(!Vn.has(p)&&(s=v({rel:"modulepreload",href:s},r),Vn.set(p,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cl(p)))return}u=o.createElement("link"),Vt(u,"link",s),It(u),o.head.appendChild(u)}}}function aj(s,r,o){Ys.S(s,r,o);var u=Ca;if(u&&s){var m=Yr(u).hoistableStyles,p=Aa(s);r=r||"default";var w=m.get(p);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(ll(p)))E.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Vn.get(p))&&_m(s,o);var R=w=u.createElement("link");It(R),Vt(R,"link",s),R._p=new Promise(function(U,q){R.onload=U,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:E},m.set(p,w)}}}function oj(s,r){Ys.X(s,r);var o=Ca;if(o&&s){var u=Yr(o).hoistableScripts,m=ka(s),p=u.get(m);p||(p=o.querySelector(cl(m)),p||(s=v({src:s,async:!0},r),(r=Vn.get(m))&&wm(s,r),p=o.createElement("script"),It(p),Vt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function lj(s,r){Ys.M(s,r);var o=Ca;if(o&&s){var u=Yr(o).hoistableScripts,m=ka(s),p=u.get(m);p||(p=o.querySelector(cl(m)),p||(s=v({src:s,async:!0,type:"module"},r),(r=Vn.get(m))&&wm(s,r),p=o.createElement("script"),It(p),Vt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function W_(s,r,o,u){var m=(m=je.current)?_u(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Aa(o.href),o=Yr(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Aa(o.href);var p=Yr(m).hoistableStyles,w=p.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,w),(p=m.querySelector(ll(s)))&&!p._p&&(w.instance=p,w.state.loading=5),Vn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vn.set(s,o),p||cj(m,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ka(o),o=Yr(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Aa(s){return'href="'+Nn(s)+'"'}function ll(s){return'link[rel="stylesheet"]['+s+"]"}function Y_(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function cj(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Vt(r,"link",o),It(r),s.head.appendChild(r))}function ka(s){return'[src="'+Nn(s)+'"]'}function cl(s){return"script[async]"+s}function X_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Nn(o.href)+'"]');if(u)return r.instance=u,It(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),It(u),Vt(u,"style",m),wu(u,o.precedence,s),r.instance=u;case"stylesheet":m=Aa(o.href);var p=s.querySelector(ll(m));if(p)return r.state.loading|=4,r.instance=p,It(p),p;u=Y_(o),(m=Vn.get(m))&&_m(u,m),p=(s.ownerDocument||s).createElement("link"),It(p);var w=p;return w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Vt(p,"link",u),r.state.loading|=4,wu(p,o.precedence,s),r.instance=p;case"script":return p=ka(o.src),(m=s.querySelector(cl(p)))?(r.instance=m,It(m),m):(u=o,(m=Vn.get(p))&&(u=v({},o),wm(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),It(m),Vt(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,wu(u,o.precedence,s));return r.instance}function wu(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===r)p=E;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function _m(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function wm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Su=null;function Q_(s,r,o){if(Su===null){var u=new Map,m=Su=new Map;m.set(o,u)}else m=Su,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var p=o[m];if(!(p[xo]||p[Pt]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(r)||"";w=s+w;var E=u.get(w);E?E.push(p):u.set(w,[p])}}return u}function J_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function uj(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function dj(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Aa(u.href),p=r.querySelector(ll(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Tu.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=p,It(p);return}p=r.ownerDocument||r,u=Y_(u),(m=Vn.get(m))&&_m(u,m),p=p.createElement("link"),It(p);var w=p;w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Vt(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Tu.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Sm=0;function hj(s,r){return s.stylesheets&&s.count===0&&xu(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&xu(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Sm===0&&(Sm=62500*GO());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&xu(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Sm?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Tu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Eu=null;function xu(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Eu=new Map,r.forEach(fj,s),Eu=null,Tu.call(s))}function fj(s,r){if(!(r.state.loading&4)){var o=Eu.get(s);if(o)var u=o.get(null);else{o=new Map,Eu.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var w=m[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=r.instance,w=m.getAttribute("data-precedence"),p=o.get(w)||u,p===u&&o.set(null,m),o.set(w,m),this.count++,u=Tu.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var ul={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function mj(s,r,o,u,m,p,w,E,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gh(0),this.hiddenUpdates=gh(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function e1(s,r,o,u,m,p,w,E,R,U,q,W){return s=new mj(s,r,o,w,R,U,q,W,E),r=1,p===!0&&(r|=24),p=_n(3,null,null,r),s.current=p,p.stateNode=s,r=ef(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},rf(p),s}function t1(s){return s?(s=ra,s):ra}function n1(s,r,o,u,m,p){m=t1(m),u.context===null?u.context=m:u.pendingContext=m,u=pi(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=gi(s,u,r),o!==null&&(hn(o,s,r),$o(o,s,r))}function s1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Tm(s,r){s1(s,r),(s=s.alternate)&&s1(s,r)}function i1(s){if(s.tag===13||s.tag===31){var r=rr(s,67108864);r!==null&&hn(r,s,67108864),Tm(s,67108864)}}function r1(s){if(s.tag===13||s.tag===31){var r=xn();r=yh(r);var o=rr(s,r);o!==null&&hn(o,s,r),Tm(s,r)}}var Cu=!0;function pj(s,r,o,u){var m=B.T;B.T=null;var p=Y.p;try{Y.p=2,Em(s,r,o,u)}finally{Y.p=p,B.T=m}}function gj(s,r,o,u){var m=B.T;B.T=null;var p=Y.p;try{Y.p=8,Em(s,r,o,u)}finally{Y.p=p,B.T=m}}function Em(s,r,o,u){if(Cu){var m=xm(u);if(m===null)um(s,r,u,Au,o),o1(s,u);else if(vj(m,s,r,o,u))u.stopPropagation();else if(o1(s,u),r&4&&-1<yj.indexOf(s)){for(;m!==null;){var p=Wr(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=er(p.pendingLanes);if(w!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var R=1<<31-ht(w);E.entanglements[1]|=R,w&=~R}bs(p),(Fe&6)===0&&(cu=ce()+500,il(0))}}break;case 31:case 13:E=rr(p,2),E!==null&&hn(E,p,2),du(),Tm(p,2)}if(p=xm(u),p===null&&um(s,r,u,Au,o),p===m)break;m=p}m!==null&&u.stopPropagation()}else um(s,r,u,null,o)}}function xm(s){return s=Ch(s),Cm(s)}var Au=null;function Cm(s){if(Au=null,s=Kr(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Au=s,null}function a1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case gt:return 2;case bt:return 8;case Nt:case Re:return 32;case rn:return 268435456;default:return 32}default:return 32}}var Am=!1,Ai=null,ki=null,Oi=null,dl=new Map,hl=new Map,ji=[],yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o1(s,r){switch(s){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(r.pointerId)}}function fl(s,r,o,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Wr(r),r!==null&&i1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function vj(s,r,o,u,m){switch(r){case"focusin":return Ai=fl(Ai,s,r,o,u,m),!0;case"dragenter":return ki=fl(ki,s,r,o,u,m),!0;case"mouseover":return Oi=fl(Oi,s,r,o,u,m),!0;case"pointerover":var p=m.pointerId;return dl.set(p,fl(dl.get(p)||null,s,r,o,u,m)),!0;case"gotpointercapture":return p=m.pointerId,hl.set(p,fl(hl.get(p)||null,s,r,o,u,m)),!0}return!1}function l1(s){var r=Kr(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,Sv(s.priority,function(){r1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,Sv(s.priority,function(){r1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ku(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=xm(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);xh=u,o.target.dispatchEvent(u),xh=null}else return r=Wr(o),r!==null&&i1(r),s.blockedOn=o,!1;r.shift()}return!0}function c1(s,r,o){ku(s)&&o.delete(r)}function bj(){Am=!1,Ai!==null&&ku(Ai)&&(Ai=null),ki!==null&&ku(ki)&&(ki=null),Oi!==null&&ku(Oi)&&(Oi=null),dl.forEach(c1),hl.forEach(c1)}function Ou(s,r){s.blockedOn===r&&(s.blockedOn=null,Am||(Am=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bj)))}var ju=null;function u1(s){ju!==s&&(ju=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ju===s&&(ju=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Cm(u||o)===null)continue;break}var p=Wr(o);p!==null&&(s.splice(r,3),r-=3,xf(p,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Oa(s){function r(R){return Ou(R,s)}Ai!==null&&Ou(Ai,s),ki!==null&&Ou(ki,s),Oi!==null&&Ou(Oi,s),dl.forEach(r),hl.forEach(r);for(var o=0;o<ji.length;o++){var u=ji[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ji.length&&(o=ji[0],o.blockedOn===null);)l1(o),o.blockedOn===null&&ji.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],p=o[u+1],w=m[an]||null;if(typeof p=="function")w||u1(o);else if(w){var E=null;if(p&&p.hasAttribute("formAction")){if(m=p,w=p[an]||null)E=w.formAction;else if(Cm(m)!==null)continue}else E=w.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),u1(o)}}}function d1(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function km(s){this._internalRoot=s}Ru.prototype.render=km.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=xn();n1(o,u,s,r,null,null)},Ru.prototype.unmount=km.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;n1(s.current,2,null,s,null,null),du(),r[Gr]=null}};function Ru(s){this._internalRoot=s}Ru.prototype.unstable_scheduleHydration=function(s){if(s){var r=wv();s={blockedOn:null,target:s,priority:r};for(var o=0;o<ji.length&&r!==0&&r<ji[o].priority;o++);ji.splice(o,0,s),o===0&&l1(s)}};var h1=e.version;if(h1!=="19.2.1")throw Error(i(527,h1,"19.2.1"));Y.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var _j={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Je=Du.inject(_j),ot=Du}catch{}}return pl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=bb,p=_b,w=wb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=e1(s,1,!1,null,null,o,u,null,m,p,w,d1),s[Gr]=r.current,cm(s),new km(r)},pl.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",p=bb,w=_b,E=wb,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(R=o.formState)),r=e1(s,1,!0,r,o??null,u,m,R,p,w,E,d1),r.context=t1(null),o=r.current,u=xn(),u=yh(u),m=pi(u),m.callback=null,gi(o,m,u),o=u,r.current.lanes=o,Eo(r,o),bs(r),s[Gr]=r.current,cm(s),new Ru(r)},pl.version="19.2.1",pl}var S1;function Rj(){if(S1)return Rm.exports;S1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=jj(),Rm.exports}var Dj=Rj();const Nj=Vg(Dj);/*! Capacitor: https://capacitorjs.com/ - MIT License */var to;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(to||(to={}));class Mm extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const Ij=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Mj=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},i=n.Plugins=n.Plugins||{},a=()=>e!==null?e.name:Ij(t),l=()=>a()!=="web",c=v=>{const b=f.get(v);return!!(b!=null&&b.platforms.has(a())||d(v))},d=v=>{var b;return(b=n.PluginHeaders)===null||b===void 0?void 0:b.find(S=>S.name===v)},h=v=>t.console.error(v),f=new Map,g=(v,b={})=>{const S=f.get(v);if(S)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),S.proxy;const T=a(),x=d(v);let C;const k=async()=>(!C&&T in b?C=typeof b[T]=="function"?C=await b[T]():C=b[T]:e!==null&&!C&&"web"in b&&(C=typeof b.web=="function"?C=await b.web():C=b.web),C),j=(G,Z)=>{var ee,oe;if(x){const J=x==null?void 0:x.methods.find(se=>Z===se.name);if(J)return J.rtype==="promise"?se=>n.nativePromise(v,Z.toString(),se):(se,Ee)=>n.nativeCallback(v,Z.toString(),se,Ee);if(G)return(ee=G[Z])===null||ee===void 0?void 0:ee.bind(G)}else{if(G)return(oe=G[Z])===null||oe===void 0?void 0:oe.bind(G);throw new Mm(`"${v}" plugin is not implemented on ${T}`,to.Unimplemented)}},O=G=>{let Z;const ee=(...oe)=>{const J=k().then(se=>{const Ee=j(se,G);if(Ee){const pe=Ee(...oe);return Z=pe==null?void 0:pe.remove,pe}else throw new Mm(`"${v}.${G}()" is not implemented on ${T}`,to.Unimplemented)});return G==="addListener"&&(J.remove=async()=>Z()),J};return ee.toString=()=>`${G.toString()}() { [capacitor code] }`,Object.defineProperty(ee,"name",{value:G,writable:!1,configurable:!1}),ee},M=O("addListener"),$=O("removeListener"),F=(G,Z)=>{const ee=M({eventName:G},Z),oe=async()=>{const se=await ee;$({eventName:G,callbackId:se},Z)},J=new Promise(se=>ee.then(()=>se({remove:oe})));return J.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await oe()},J},L=new Proxy({},{get(G,Z){switch(Z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?F:M;case"removeListener":return $;default:return O(Z)}}});return i[v]=L,f.set(v,{name:v,proxy:L,platforms:new Set([...Object.keys(b),...x?[T]:[]])}),L};return n.convertFileSrc||(n.convertFileSrc=v=>v),n.getPlatform=a,n.handleError=h,n.isNativePlatform=l,n.isPluginAvailable=c,n.registerPlugin=g,n.Exception=Mm,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Lj=t=>t.Capacitor=Mj(t),dd=Lj(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Fg=dd.registerPlugin;class YT{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),i&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const a=this.listeners[e];if(!a){if(i){let l=this.retainedEventArguments[e];l||(l=[]),l.push(n),this.retainedEventArguments[e]=l}return}a.forEach(l=>l(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new dd.Exception(e,to.Unimplemented)}unavailable(e="not available"){return new dd.Exception(e,to.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const a=i.indexOf(n);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const T1=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),E1=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Pj extends YT{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[a,l]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=E1(a).trim(),l=E1(l).trim(),n[a]=l}),n}async setCookie(e){try{const n=T1(e.key),i=T1(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,l=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${a}; path=${l}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Fg("CapacitorCookies",{web:()=>new Pj});const Uj=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const a=i.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},i.onerror=a=>n(a),i.readAsDataURL(t)}),Bj=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,l,c)=>(a[l]=t[e[c]],a),{})},zj=(t,e=!0)=>t?Object.entries(t).reduce((i,a)=>{const[l,c]=a;let d,h;return Array.isArray(c)?(h="",c.forEach(f=>{d=e?encodeURIComponent(f):f,h+=`${l}=${d}&`}),h.slice(0,-1)):(d=e?encodeURIComponent(c):c,h=`${l}=${d}`),`${i}&${h}`},"").substr(1):null,Vj=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),a=Bj(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,d]of Object.entries(t.data||{}))l.set(c,d);n.body=l.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((d,h)=>{l.append(h,d)});else for(const d of Object.keys(t.data))l.append(d,t.data[d]);n.body=l;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(a.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class $j extends YT{async request(e){const n=Vj(e,e.webFetchExtra),i=zj(e.params,e.shouldEncodeUrlParams),a=i?`${e.url}?${i}`:e.url,l=await fetch(a,n),c=l.headers.get("content-type")||"";let{responseType:d="text"}=l.ok?e:{};c.includes("application/json")&&(d="json");let h,f;switch(d){case"arraybuffer":case"blob":f=await l.blob(),h=await Uj(f);break;case"json":h=await l.json();break;case"document":case"text":default:h=await l.text()}const g={};return l.headers.forEach((v,b)=>{g[b]=v}),{data:h,headers:g,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Fg("CapacitorHttp",{web:()=>new $j});function Yt(t,e){const[n,i]=A.useState(()=>{if(typeof window>"u")return e;try{const l=window.localStorage.getItem(t);return l?JSON.parse(l):e}catch(l){return console.error(`Error reading localStorage key ${t}:`,l),e}});return[n,l=>{try{const c=l instanceof Function?l(n):l;i(c),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(c))}catch(c){console.error(`Error setting localStorage key ${t}:`,c)}}]}function Fj(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(i.next(g))}catch(v){c(v)}}function h(g){try{f(i.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((i=i.apply(t,e||[])).next())})}const qj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Fd extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class XT extends Fd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ip extends Fd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mp extends Fd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hd||(hd={}));class Hj{constructor(e,{headers:n={},customFetch:i,region:a=hd.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=qj(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Fj(this,arguments,void 0,function*(n,i={}){var a;let l,c;try{const{headers:d,method:h,body:f,signal:g,timeout:v}=i;let b={},{region:S}=i;S||(S=this.region);const T=new URL(`${this.url}/${n}`);S&&S!=="any"&&(b["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let x;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(b["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(b["Content-Type"]="application/json",x=JSON.stringify(f)):x=f;let C=g;v&&(c=new AbortController,l=setTimeout(()=>c.abort(),v),g?(C=c.signal,g.addEventListener("abort",()=>c.abort())):C=c.signal);const k=yield this.fetch(T.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:x,signal:C}).catch($=>{throw new XT($)}),j=k.headers.get("x-relay-error");if(j&&j==="true")throw new Ip(k);if(!k.ok)throw new Mp(k);let O=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield k.json():O==="application/octet-stream"||O==="application/pdf"?M=yield k.blob():O==="text/event-stream"?M=k:O==="multipart/form-data"?M=yield k.formData():M=yield k.text(),{data:M,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof Mp||d instanceof Ip?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var Gt={},Lp=function(t,e){return Lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Lp(t,e)};function QT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fd=function(){return fd=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},fd.apply(this,arguments)};function JT(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function ZT(t,e,n,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(a<3?c(l):a>3?c(e,n,l):c(e,n))||l);return a>3&&l&&Object.defineProperty(e,n,l),l}function eE(t,e){return function(n,i){e(n,i,t)}}function tE(t,e,n,i,a,l){function c(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var d=i.kind,h=d==="getter"?"get":d==="setter"?"set":"value",f=!e&&t?i.static?t:t.prototype:null,g=e||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),v,b=!1,S=n.length-1;S>=0;S--){var T={};for(var x in i)T[x]=x==="access"?{}:i[x];for(var x in i.access)T.access[x]=i.access[x];T.addInitializer=function(k){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(k||null))};var C=(0,n[S])(d==="accessor"?{get:g.get,set:g.set}:g[h],T);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=c(C.get))&&(g.get=v),(v=c(C.set))&&(g.set=v),(v=c(C.init))&&a.unshift(v)}else(v=c(C))&&(d==="field"?a.unshift(v):g[h]=v)}f&&Object.defineProperty(f,i.name,g),b=!0}function nE(t,e,n){for(var i=arguments.length>2,a=0;a<e.length;a++)n=i?e[a].call(t,n):e[a].call(t);return i?n:void 0}function sE(t){return typeof t=="symbol"?t:"".concat(t)}function iE(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function rE(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function aE(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(i.next(g))}catch(v){c(v)}}function h(g){try{f(i.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((i=i.apply(t,e||[])).next())})}function oE(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(g){return h([f,g])}}function h(f){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(i=1,a&&(l=f[0]&2?a.return:f[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,f[1])).done)return l;switch(a=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){n.label=f[1];break}if(f[0]===6&&n.label<l[1]){n.label=l[1],l=f;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(f);break}l[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(g){f=[6,g],a=0}finally{i=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var qd=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function lE(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qd(e,t,n)}function md(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(d){c={error:d}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l}function cE(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qg(arguments[e]));return t}function uE(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<n;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,a++)i[a]=l[c];return i}function dE(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function no(t){return this instanceof no?(this.v=t,this):new no(t)}function hE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(S){return function(T){return Promise.resolve(T).then(S,v)}}function d(S,T){i[S]&&(a[S]=function(x){return new Promise(function(C,k){l.push([S,x,C,k])>1||h(S,x)})},T&&(a[S]=T(a[S])))}function h(S,T){try{f(i[S](T))}catch(x){b(l[0][3],x)}}function f(S){S.value instanceof no?Promise.resolve(S.value.v).then(g,v):b(l[0][2],S)}function g(S){h("next",S)}function v(S){h("throw",S)}function b(S,T){S(T),l.shift(),l.length&&h(l[0][0],l[0][1])}}function fE(t){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=t[a]?function(c){return(n=!n)?{value:no(t[a](c)),done:!1}:l?l(c):c}:l}}function mE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof md=="function"?md(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),a(d,h,c.done,c.value)})}}function a(l,c,d,h){Promise.resolve(h).then(function(f){l({value:f,done:d})},c)}}function pE(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Gj=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Pp=function(t){return Pp=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},Pp(t)};function gE(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Pp(t),i=0;i<n.length;i++)n[i]!=="default"&&qd(e,t,n[i]);return Gj(e,t),e}function yE(t){return t&&t.__esModule?t:{default:t}}function vE(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function bE(t,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}function _E(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function wE(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var Kj=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function SE(t){function e(l){t.error=t.hasError?new Kj(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var n,i=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function TE(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,l,c){return i?e?".jsx":".js":a&&(!l||!c)?n:a+l+"."+c.toLowerCase()+"js"}):t}const Wj={__extends:QT,__assign:fd,__rest:JT,__decorate:ZT,__param:eE,__esDecorate:tE,__runInitializers:nE,__propKey:sE,__setFunctionName:iE,__metadata:rE,__awaiter:aE,__generator:oE,__createBinding:qd,__exportStar:lE,__values:md,__read:qg,__spread:cE,__spreadArrays:uE,__spreadArray:dE,__await:no,__asyncGenerator:hE,__asyncDelegator:fE,__asyncValues:mE,__makeTemplateObject:pE,__importStar:gE,__importDefault:yE,__classPrivateFieldGet:vE,__classPrivateFieldSet:bE,__classPrivateFieldIn:_E,__addDisposableResource:wE,__disposeResources:SE,__rewriteRelativeImportExtension:TE},Yj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wE,get __assign(){return fd},__asyncDelegator:fE,__asyncGenerator:hE,__asyncValues:mE,__await:no,__awaiter:aE,__classPrivateFieldGet:vE,__classPrivateFieldIn:_E,__classPrivateFieldSet:bE,__createBinding:qd,__decorate:ZT,__disposeResources:SE,__esDecorate:tE,__exportStar:lE,__extends:QT,__generator:oE,__importDefault:yE,__importStar:gE,__makeTemplateObject:pE,__metadata:rE,__param:eE,__propKey:sE,__read:qg,__rest:JT,__rewriteRelativeImportExtension:TE,__runInitializers:nE,__setFunctionName:iE,__spread:cE,__spreadArray:dE,__spreadArrays:uE,__values:md,default:Wj},Symbol.toStringTag,{value:"Module"})),co=Tj(Yj);var Nu={},Iu={},Mu={},Lu={},Pu={},Uu={},x1;function EE(){if(x1)return Uu;x1=1,Object.defineProperty(Uu,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Uu.default=t,Uu}var C1;function xE(){if(C1)return Pu;C1=1,Object.defineProperty(Pu,"__esModule",{value:!0});const e=co.__importDefault(EE());class n{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,g,v,b;let S=null,T=null,x=null,C=h.status,k=h.statusText;if(h.ok){if(this.method!=="HEAD"){const $=await h.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?T=$:T=JSON.parse($))}const O=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");O&&M&&M.length>1&&(x=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(S={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,x=null,C=406,k="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const O=await h.text();try{S=JSON.parse(O),Array.isArray(S)&&h.status===404&&(T=[],S=null,C=200,k="OK")}catch{h.status===404&&O===""?(C=204,k="No Content"):S={message:O}}if(S&&this.isMaybeSingle&&(!((b=S==null?void 0:S.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,C=200,k="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:T,count:x,status:C,statusText:k}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,g,v,b,S,T;let x="";const C=h==null?void 0:h.cause;if(C){const k=(f=C==null?void 0:C.message)!==null&&f!==void 0?f:"",j=(g=C==null?void 0:C.code)!==null&&g!==void 0?g:"";x=`${(v=h==null?void 0:h.name)!==null&&v!==void 0?v:"FetchError"}: ${h==null?void 0:h.message}`,x+=`

Caused by: ${(b=C==null?void 0:C.name)!==null&&b!==void 0?b:"Error"}: ${k}`,j&&(x+=` (${j})`),C!=null&&C.stack&&(x+=`
${C.stack}`)}else x=(S=h==null?void 0:h.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(T=h==null?void 0:h.name)!==null&&T!==void 0?T:"FetchError"}: ${h==null?void 0:h.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Pu.default=n,Pu}var A1;function CE(){if(A1)return Lu;A1=1,Object.defineProperty(Lu,"__esModule",{value:!0});const e=co.__importDefault(xE());class n extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(f,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var g;const v=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${v};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Lu.default=n,Lu}var k1;function Hg(){if(k1)return Mu;k1=1,Object.defineProperty(Mu,"__esModule",{value:!0});const e=co.__importDefault(CE()),n=new RegExp("[,()]");class i extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${f}fts${g}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Mu.default=i,Mu}var O1;function AE(){if(O1)return Iu;O1=1,Object.defineProperty(Iu,"__esModule",{value:!0});const e=co.__importDefault(Hg());class n{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(a,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let f=!1;const g=(a??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(v.length>0){const b=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Iu.default=n,Iu}var j1;function Xj(){if(j1)return Nu;j1=1,Object.defineProperty(Nu,"__esModule",{value:!0});const t=co,e=t.__importDefault(AE()),n=t.__importDefault(Hg());class i{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:f}={}){var g;let v;const b=new URL(`${this.url}/rpc/${l}`);let S;d||h?(v=d?"HEAD":"GET",Object.entries(c).filter(([x,C])=>C!==void 0).map(([x,C])=>[x,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([x,C])=>{b.searchParams.append(x,C)})):(v="POST",S=c);const T=new Headers(this.headers);return f&&T.set("Prefer",`count=${f}`),new n.default({method:v,url:b,headers:T,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Nu.default=i,Nu}var R1;function Qj(){if(R1)return Gt;R1=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const t=co,e=t.__importDefault(Xj());Gt.PostgrestClient=e.default;const n=t.__importDefault(AE());Gt.PostgrestQueryBuilder=n.default;const i=t.__importDefault(Hg());Gt.PostgrestFilterBuilder=i.default;const a=t.__importDefault(CE());Gt.PostgrestTransformBuilder=a.default;const l=t.__importDefault(xE());Gt.PostgrestBuilder=l.default;const c=t.__importDefault(EE());return Gt.PostgrestError=c.default,Gt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},Gt}var kE=Qj();const OE=Vg(kE),Jj=Sj({__proto__:null,default:OE},[kE]),{PostgrestClient:Zj,PostgrestQueryBuilder:NG,PostgrestFilterBuilder:IG,PostgrestTransformBuilder:MG,PostgrestBuilder:LG,PostgrestError:eR}=OE||Jj;class jE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tR="2.87.3",nR=`realtime-js/${tR}`,RE="1.0.0",sR="2.0.0",D1=RE,Up=1e4,iR=1e3,rR=100;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xt||(xt={}));var as;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(as||(as={}));var Bp;(function(t){t.websocket="websocket"})(Bp||(Bp={}));var Or;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Or||(Or={}));class aR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,i){var a,l;const c=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let T=new DataView(S),x=0;T.setUint8(x++,this.KINDS.userBroadcastPush),T.setUint8(x++,h.length),T.setUint8(x++,d.length),T.setUint8(x++,c.length),T.setUint8(x++,f.length),T.setUint8(x++,v.length),T.setUint8(x++,n),Array.from(h,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(d,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(c,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(f,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(v,k=>T.setUint8(x++,k.charCodeAt(0)));var C=new Uint8Array(S.byteLength+i.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(i),S.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,d,h]=i;return n({join_ref:a,ref:l,topic:c,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=i.decode(e.slice(h,h+a));h=h+a;const g=i.decode(e.slice(h,h+l));h=h+l;const v=i.decode(e.slice(h,h+c));h=h+c;const b=e.slice(h,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,T={type:this.BROADCAST_EVENT,event:g,payload:S};return c>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class DE{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const N1=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=oR(c,t,e,a),l),{}):{}},oR=(t,e,n,i)=>{const a=e.find(d=>d.name===t),l=a==null?void 0:a.type,c=n[t];return l&&!i.includes(l)?NE(l,c):zp(c)},NE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return dR(e,n)}switch(t){case tt.bool:return lR(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return cR(e);case tt.json:case tt.jsonb:return uR(e);case tt.timestamp:return hR(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return zp(e);default:return zp(e)}},zp=t=>t,lR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>NE(e,d))}return t},hR=t=>typeof t=="string"?t.replace(" ","T"):t,IE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lm{constructor(e,n,i={},a=Up){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vp||(Vp={}));class Ga{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ga.syncState(this.state,a,l,c),this.pendingDiffs.forEach(h=>{this.state=Ga.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ga.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const l=this.cloneDeep(e),c=this.transformState(n),d={},h={};return this.map(l,(f,g)=>{c[f]||(h[f]=g)}),this.map(c,(f,g)=>{const v=l[f];if(v){const b=g.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),T=g.filter(C=>S.indexOf(C.presence_ref)<0),x=v.filter(C=>b.indexOf(C.presence_ref)<0);T.length>0&&(d[f]=T),x.length>0&&(h[f]=x)}else d[f]=g}),this.syncDiff(l,{joins:d,leaves:h},i,a)}static syncDiff(e,n,i,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,h)=>{var f;const g=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(h),g.length>0){const v=e[d].map(S=>S.presence_ref),b=g.filter(S=>v.indexOf(S.presence_ref)<0);e[d].unshift(...b)}i(d,g,h)}),this.map(c,(d,h)=>{let f=e[d];if(!f)return;const g=h.map(v=>v.presence_ref);f=f.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=f,a(d,f,h),f.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $p;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($p||($p={}));var Ka;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ka||(Ka={}));var ws;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ws||(ws={}));const fR=xt;class Rr{constructor(e,n={config:{}},i){var a,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lm(this,as.join,this.params,this.timeout),this.rejoinTimer=new DE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(as.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Ga(this),this.broadcastEndpointURL=IE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[Ka.PRESENCE]&&this.bindings[Ka.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ws.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ws.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(ws.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,C=(T=x==null?void 0:x.length)!==null&&T!==void 0?T:0,k=[];for(let j=0;j<C;j++){const O=x[j],{filter:{event:M,schema:$,table:F,filter:L}}=O,G=S&&S[j];if(G&&G.event===M&&Rr.isFilterValueEqual(G.schema,$)&&Rr.isFilterValueEqual(G.table,F)&&Rr.isFilterValueEqual(G.filter,L))k.push(Object.assign(Object.assign({},O),{id:G.id}));else{this.unsubscribe(),this.state=xt.errored,e==null||e(ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ws.SUBSCRIBED);return}}).receive("error",S=>{this.state=xt.errored,e==null||e(ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===xt.joined&&e===Ka.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const f=await d.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(as.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Lm(this,as.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lm(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:f,join:g}=as;if(i&&[d,h,f,g].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var T,x,C;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(x=S.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(b,i)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var T,x,C,k,j,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const M=S.id,$=(T=S.filter)===null||T===void 0?void 0:T.event;return M&&((x=n.ids)===null||x===void 0?void 0:x.includes(M))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const M=(j=(k=S==null?void 0:S.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return M==="*"||M===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof b=="object"&&"ids"in b){const T=b.data,{schema:x,table:C,commit_timestamp:k,type:j,errors:O}=T;b=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:k,eventType:j,new:{},old:{},errors:O}),this._getPayloadRecords(T))}S.callback(b,i)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Rr.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(as.close,{},e)}_onError(e){this._on(as.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=N1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=N1(e.columns,e.old_record)),n}}const Pm=()=>{},Bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mR=[1e3,2e3,5e3,1e4],pR=1e4,gR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ME{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Up,this.transport=null,this.heartbeatIntervalMs=Bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pm,this.ref=0,this.reconnectTimer=null,this.vsn=D1,this.logger=Pm,this.conn=null,this.sendBuffer=[],this.serializer=new aR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Bp.websocket}`,this.httpEndpoint=IE(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return Or.Connecting;case kr.open:return Or.Open;case kr.closing:return Or.Closing;default:return Or.Closed}}isConnected(){return this.connectionState()===Or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Rr(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=n,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${a} ${d}`.trim(),l),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(a,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(as.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([gR],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:nR};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(as.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new DE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,l,c,d,h,f,g,v,b,S;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Up,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Bu.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Pm,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:D1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(T=>mR[T-1]||pR),this.vsn){case RE:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((T,x)=>x(JSON.stringify(T))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((T,x)=>x(JSON.parse(T)));break;case sR:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}function he(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{f(i.next(g))}catch(v){c(v)}}function h(g){try{f(i.throw(g))}catch(v){c(v)}}function f(g){g.done?l(g.value):a(g.value).then(d,h)}f((i=i.apply(t,e||[])).next())})}class Hd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yR extends Hd{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fp extends Hd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Gg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vR=()=>Response,qp=t=>{if(Array.isArray(t))return t.map(n=>qp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=qp(i)}),e},bR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_R=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Um=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},wR=(t,e,n)=>he(void 0,void 0,void 0,function*(){const i=yield vR();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{const l=t.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new yR(Um(a),l,c))}).catch(a=>{e(new Fp(Um(a),a))}):e(new Fp(Um(t),t))}),SR=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(bR(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function sc(t,e,n,i,a,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,SR(e,i,a,l)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>wR(h,d,i))})})}function Pl(t,e,n,i){return he(this,void 0,void 0,function*(){return sc(t,"GET",e,n,i)})}function rs(t,e,n,i,a){return he(this,void 0,void 0,function*(){return sc(t,"POST",e,i,a,n)})}function Hp(t,e,n,i,a){return he(this,void 0,void 0,function*(){return sc(t,"PUT",e,i,a,n)})}function TR(t,e,n,i){return he(this,void 0,void 0,function*(){return sc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Kg(t,e,n,i,a){return he(this,void 0,void 0,function*(){return sc(t,"DELETE",e,i,a,n)})}class ER{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var LE;class xR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[LE]="BlobDownloadBuilder",this.promise=null}asStream(){return new ER(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}LE=Symbol.toStringTag;const CR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AR{constructor(e,n={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=Gg(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,a){return he(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},I1),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(d=Object.assign(Object.assign({},d),a.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),v=yield(e=="PUT"?Hp:rs)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}upload(e,n,i){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return he(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:I1.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl)):(h=i,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const v=yield Hp(this.fetch,d.toString(),h,{headers:g});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(lt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield rs(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Hd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}update(e,n,i){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return he(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(e,n,i){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return he(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield rs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return he(this,void 0,void 0,function*(){try{const a=yield rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Pl(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new xR(h,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Pl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qp(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}exists(e){return he(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield TR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i)&&i instanceof Fp){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${f}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}list(e,n,i){return he(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},CR),n),{prefix:e||""});return{data:yield rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(e,n){return he(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield rs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const PE="2.87.3",UE={"X-Client-Info":`storage-js/${PE}`};class kR{constructor(e,n={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UE),n),this.fetch=Gg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Pl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}createBucket(e){return he(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield rs(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield Hp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Ul=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OR(t,e,n){const i=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function jR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function RR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:a,body:l,headers:c}){const d=OR(t.baseUrl,i,a),h=await jR(t.auth),f=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),g=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!f.ok){const S=v?b:void 0,T=S==null?void 0:S.error;throw new Ul((T==null?void 0:T.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:f.status,headers:f.headers,data:b}}}}function zu(t){return t.join("")}var DR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zu(t.namespace)}`}),!0}catch(e){if(e instanceof Ul&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ul&&n.status===409)return;throw n}}};function ja(t){return t.join("")}var NR=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ja(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ja(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ja(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ja(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ja(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ja(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ul&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ul&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},IR=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=RR({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new DR(this.client,e),this.tableOps=new NR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class MR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UE),n),this.fetch=Gg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const i=n.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Pl(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}from(e){if(!_R(e))throw new Hd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new IR({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const d=l[c];return typeof d!="function"?d:(...h)=>he(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,h),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}})}})}}const Wg={"X-Client-Info":`storage-js/${PE}`,"Content-Type":"application/json"};class BE extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Bm extends BE{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LR extends BE{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var M1;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(M1||(M1={}));const Yg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},L1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UR=(t,e,n)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const a=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new Bm(L1(c),a,d))}).catch(()=>{const c=a+"",d=l.statusText||`HTTP ${a} error`;e(new Bm(d,a,c))});else{const c=a+"",d=l.statusText||`HTTP ${a} error`;e(new Bm(d,a,c))}}else e(new LR(L1(t),t))}),BR=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(PR(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function zR(t,e,n,i,a,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,BR(e,i,a,l)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>UR(h,d,i))})})}function An(t,e,n,i,a){return he(this,void 0,void 0,function*(){return zR(t,"POST",e,i,a,n)})}class VR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),n),this.fetch=Yg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return he(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}}class $R{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),n),this.fetch=Yg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield An(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class FR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),n),this.fetch=Yg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield An(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class qR extends FR{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new HR(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class HR extends VR{constructor(e,n,i,a){super(e,n,a),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new GR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class GR extends $R{constructor(e,n,i,a,l){super(e,n,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KR extends kR{constructor(e,n={},i,a){super(e,n,i,a)}from(e){return new AR(this.url,this.headers,e,this.fetch)}get vectors(){return new qR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new MR(this.url+"/iceberg",this.headers,this.fetch)}}const WR="2.87.3";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const YR={"X-Client-Info":`supabase-js-${Sl}/${WR}`},XR={headers:YR},QR={schema:"public"},JR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZR={},eD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tD=()=>Headers,nD=(t,e,n)=>{const i=eD(n),a=tD();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let f=new a(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},c),{headers:f}))}};function sD(t){return t.endsWith("/")?t:t+"/"}function iD(t,e){var n,i;const{db:a,auth:l,realtime:c,global:d}=t,{db:h,auth:f,realtime:g,global:v}=e,b={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},f),l),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function rD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}function Gd(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}const zE="2.87.3",Pa=30*1e3,Gp=3,zm=Gp*Pa,aD="http://localhost:9999",oD="supabase.auth.token",lD={"X-Client-Info":`gotrue-js/${zE}`},Kp="X-Supabase-Api-Version",VE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uD=600*1e3;class so extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $E extends so{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function FE(t){return me(t)&&t.name==="AuthApiError"}class Pi extends so{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ks extends so{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class mn extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qE(t){return me(t)&&t.name==="AuthSessionMissingError"}class Tr extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class El extends ks{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HE(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wp extends ks{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class GE extends ks{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function dD(t){return me(t)&&t.name==="AuthPKCECodeVerifierMissingError"}class pd extends ks{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ju(t){return me(t)&&t.name==="AuthRetryableFetchError"}class Yp extends ks{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}function hD(t){return me(t)&&t.name==="AuthWeakPasswordError"}class gd extends ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P1=` 	
\r=`.split(""),fD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<P1.length;e+=1)t[P1[e].charCodeAt(0)]=-2;for(let e=0;e<yd.length;e+=1)t[yd[e].charCodeAt(0)]=e;return t})();function U1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(yd[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(yd[i]),e.queuedBits-=6}}function KE(t,e,n){const i=fD[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function B1(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{gD(c,i,n)};for(let c=0;c<t.length;c+=1)KE(t.charCodeAt(c),a,l);return e.join("")}function mD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pD(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}mD(i,e)}}function gD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Wa(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)KE(t.charCodeAt(a),n,i);return new Uint8Array(e)}function yD(t){const e=[];return pD(t,n=>e.push(n)),new Uint8Array(e)}function Dr(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>U1(a,n,i)),U1(null,n,i),e.join("")}function vD(t){return Math.round(Date.now()/1e3)+t}function bD(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},WE=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function _D(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const YE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ua=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},br=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$t=async(t,e)=>{await t.removeItem(e)};let XE=class QE{constructor(){this.promise=new QE.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};XE.promiseConstructor=Promise;function Vm(t){const e=t.split(".");if(e.length!==3)throw new gd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!cD.test(e[i]))throw new gd("JWT not in base64url format");return{header:JSON.parse(B1(e[0])),payload:JSON.parse(B1(e[1])),signature:Wa(e[2]),raw:{header:e[0],payload:e[1]}}}async function SD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function TD(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function ED(t){return("0"+t.toString(16)).substr(-2)}function xD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,ED).join("")}async function CD(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function AD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await CD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ra(t,e,n=!1){const i=xD();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await Ua(t,`${e}-code-verifier`,a);const l=await AD(i);return[l,i===l?"plain":"s256"]}const kD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OD(t){const e=t.headers.get(Kp);if(!e||!e.match(kD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(t){if(!DD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ND(t,e){return new Proxy(t,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function z1(t){return JSON.parse(JSON.stringify(t))}const Er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ID=[502,503,504];async function V1(t){var e;if(!wD(t))throw new pd(Er(t),0);if(ID.includes(t.status))throw new pd(Er(t),t.status);let n;try{n=await t.json()}catch(l){throw new Pi(Er(l),l)}let i;const a=OD(t);if(a&&a.getTime()>=VE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Yp(Er(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Yp(Er(n),t.status,n.weak_password.reasons);throw new $E(Er(n),t.status||500,i)}const MD=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function be(t,e,n,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[Kp]||(l[Kp]=VE["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await LD(t,e,n+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function LD(t,e,n,i,a,l){const c=MD(e,i,a,l);let d;try{d=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new pd(Er(h),0)}if(d.ok||await V1(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await V1(h)}}function ss(t){var e;let n=null;BD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vD(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function $1(t){const e=ss(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ui(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PD(t){return{data:t,error:null}}function UD(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=t,c=Gd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function F1(t){return t}function BD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zu=["global","local","others"];class Xg{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=YE(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Zu[0]){if(Zu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zu.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Gd(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:UD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ui})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},g=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:F1});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(T=>{const x=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=x}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(me(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Da(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ui})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Da(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ui})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Da(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Da(e.userId);try{const{data:n,error:i}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Da(e.userId),Da(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},g=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:F1});if(g.error)throw g.error;const v=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(T=>{const x=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=x}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(me(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}}function q1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const xr={debug:!!(globalThis&&WE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class JE extends Qg{}class zD extends Qg{}async function ZE(t,e,n){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new JE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const H1={};async function VD(t,e,n){var i;const a=(i=H1[t])!==null&&i!==void 0?i:Promise.resolve(),l=Promise.race([a.catch(()=>null),e>=0?new Promise((c,d)=>{setTimeout(()=>{d(new zD(`Acquiring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await n());return H1[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await l}function $D(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ex(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function FD(t){return parseInt(t,16)}function qD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function HD(t){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:g,uri:v,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=ex(t.address),T=g?`${g}://${i}`:i,x=t.statement?`${t.statement}
`:"",C=`${T} wants you to sign in with your Ethereum account:
${S}

${x}`;let k=`URI: ${v}
Version: ${b}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),f){let j=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);j+=`
- ${O}`}k+=j}return`${C}
${k}`}class Ct extends Error{constructor({message:e,code:n,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class vd extends Ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function GD({error:t,options:e}){var n,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(tx(c)){if(l.rp.id!==c)return new Ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(tx(i)){if(n.rpId!==i)return new Ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const YD=new WD;function XD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,a=Gd(t,["challenge","user","excludeCredentials"]),l=Wa(e).buffer,c=Object.assign(Object.assign({},n),{id:Wa(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const f=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Wa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function QD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Gd(t,["challenge","allowCredentials"]),a=Wa(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Wa(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function JD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Dr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Dr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ZD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Dr(new Uint8Array(a.authenticatorData)),clientDataJSON:Dr(new Uint8Array(a.clientDataJSON)),signature:Dr(new Uint8Array(a.signature)),userHandle:a.userHandle?Dr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function G1(){var t,e;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function e3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",e)}:{data:null,error:new vd("Empty credential response",e)}}catch(e){return{data:null,error:GD({error:e,options:t})}}}async function t3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",e)}:{data:null,error:new vd("Empty credential response",e)}}catch(e){return{data:null,error:KD({error:e,options:t})}}}const n3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bd(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(n(c))i[l]=c;else if(e(c)){const d=i[l];e(d)?i[l]=bd(d,c):i[l]=bd(c)}else i[l]=c}return i}function i3(t,e){return bd(n3,t,e||{})}function r3(t,e){return bd(s3,t,e||{})}class a3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const h=a??YD.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=i3(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:v}=await e3({publicKey:f,signal:h});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const f=r3(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:v}=await t3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return me(c)?{data:null,error:c}:{data:null,error:new Pi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new so("rpId is required for WebAuthn authentication")};try{if(!G1())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(c){return me(c)?{data:null,error:c}:{data:null,error:new Pi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new so("rpId is required for WebAuthn registration")};try{if(!G1())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return me(c)?{data:null,error:c}:{data:null,error:new Pi("Unexpected error in register",c)}}}}$D();const o3={url:aD,storageKey:oD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function K1(t,e,n){return await n()}const Na={};class io{get jwks(){var e,n;return(n=(e=Na[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Na[this.storageKey]=Object.assign(Object.assign({},Na[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Na[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Na[this.storageKey]=Object.assign(Object.assign({},Na[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},o3),e);if(this.storageKey=l.storageKey,this.instanceID=(n=io.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,io.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ft()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Xg({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=YE(l.fetch),this.lock=l.lock||K1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ft()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=ZE:this.lock=K1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:WE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=q1(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Ft()&&(n=_D(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Ft()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),HE(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?this._returnResult({error:n}):this._returnResult({error:new Pi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const l=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:ss}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,a;try{let l;if("email"in e){const{email:g,password:v,options:b}=e;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await Ra(this.storage,this.storageKey)),l=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:S,code_challenge_method:T},xform:ss})}else if("phone"in e){const{phone:g,password:v,options:b}=e;l=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ss})}else throw new Tl("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await $t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:$1})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:$1})}else throw new Tl("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Tr;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,l,c,d,h,f,g,v,b;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:x,wallet:C,statement:k,options:j}=e;let O;if(Ft())if(typeof C=="object")O=C;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")O=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const M=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),$=await O.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=ex($[0]);let L=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const Z=await O.request({method:"eth_chainId"});L=FD(Z)}const G={domain:M.host,address:F,statement:k,uri:M.href,version:"1",chainId:L,nonce:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=j==null?void 0:j.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=HD(G),T=await O.request({method:"personal_sign",params:[qD(S),F]})}try{const{data:x,error:C}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ss});if(C)throw C;if(!x||!x.session||!x.user){const k=new Tr;return this._returnResult({data:{user:null,session:null},error:k})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:C})}catch(x){if(me(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,i,a,l,c,d,h,f,g,v,b,S;let T,x;if("message"in e)T=e.message,x=e.signature;else{const{chain:C,wallet:k,statement:j,options:O}=e;let M;if(Ft())if(typeof k=="object")M=k;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))M=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const $=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const F=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),j?{statement:j}:null));let L;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")L=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)L=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)T=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),x=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(a=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O==null?void 0:O.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(g=O==null?void 0:O.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const F=await M.signMessage(new TextEncoder().encode(T),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=F}}try{const{data:C,error:k}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Dr(x)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ss});if(k)throw k;if(!C||!C.session||!C.user){const j=new Tr;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(me(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await br(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new GE;const{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ss});if(await $t(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new Tr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:l,nonce:c}=e,d=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ss}),{data:h,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const g=new Tr;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,l,c;try{if("email"in e){const{email:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ra(this.storage,this.storageKey));const{error:v}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:f,error:g}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new Tl("You must provide either an email or phone number.")}catch(d){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,i;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:ss});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ra(this.storage,this.storageKey));const f=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:PD});return!((l=f.data)===null||l===void 0)&&l.url&&Ft()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new mn;const{error:a}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:d}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Tl("You must provide either an email or phone number and a type")}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<zm:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await br(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=$m()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=ND(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ui}):await this._useSession(async n=>{var i,a,l;const{data:c,error:d}=n;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Ui})})}catch(n){if(me(n))return qE(n)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new mn;const c=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Ra(this.storage,this.storageKey));const{data:f,error:g}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Ui});if(g)throw g;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:c}=Vm(e.access_token);if(c.exp&&(i=c.exp,a=i<=n),a){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ft())throw new El("No browser detected.");if(e.error||e.error_description||e.error_code)throw new El(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wp("No code detected.");const{data:j,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=e;if(!l||!d||!c||!f)throw new El("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let b=g+v;h&&(b=parseInt(h));const S=b-g;S*1e3<=Pa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const T=b-v;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,b,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,b,g);const{data:x,error:C}=await this._getUser(l);if(C)throw C;const k={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:b,refresh_token:c,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(i){if(me(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(FE(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=bD(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ra(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var c,d,h,f,g;const{data:v,error:b}=l;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Ft()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(me(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:c,provider:d,token:h,access_token:f,nonce:g}=e,v=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ss}),{data:b,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Tr}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(a){if(await $t(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:c}=n;if(c)throw c;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await TD(async a=>(a>0&&await SD(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ss})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Ju(l)&&Date.now()+c-i<Pa})}catch(i){if(this._debug(n,"error",i),me(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ft()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await br(this.storage,this.storageKey);if(a&&this.userStorage){let c=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Ua(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:$m()}else if(a&&!a.user&&!a.user){const c=await br(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await $t(this.storage,this.storageKey+"-user"),await Ua(this.storage,this.storageKey,a)):a.user=$m()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zm;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${zm}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Ju(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new XE;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new mn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),me(l)){const c={data:null,error:l};return Ju(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $t(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Ua(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=z1(a);await Ua(this.storage,this.storageKey,l)}else{const a=z1(n);await Ua(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $t(this.storage,this.storageKey),await $t(this.storage,this.storageKey+"-code-verifier"),await $t(this.storage,this.storageKey+"-user"),this.userStorage&&await $t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Pa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Pa}ms, refresh threshold is ${Gp} ticks`),a<=Gp&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ra(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await be(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JD(e.webauthn.credential_response):ZD(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:XD(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:QD(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Vm(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new mn});const c=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new mn});const c=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new mn})})}catch(e){if(me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+uD>a)return i;const{data:l,error:c}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});i=S.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:h}}=Vm(i);n!=null&&n.allowExpired||jD(l.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:a,signature:c},error:null}}const g=RD(a.alg),v=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,yD(`${d}.${h}`)))throw new gd("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}}io.nextInstanceID={};const l3=Xg,nx=io;class c3 extends nx{constructor(e){super(e)}}class sx{constructor(e,n,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=n;const d=rD(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:QR,realtime:ZR,auth:Object.assign(Object.assign({},JR),{storageKey:h}),global:XR},g=iD(i??{},f);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=nD(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Zj(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new KR(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Hj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:d,lock:h,debug:f,throwOnError:g},v,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c3({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:h,debug:f,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ME(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u3=(t,e,n)=>new sx(t,e,n);function d3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}d3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h3=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:l3,AuthApiError:$E,AuthClient:nx,AuthError:so,AuthImplicitGrantRedirectError:El,AuthInvalidCredentialsError:Tl,AuthInvalidJwtError:gd,AuthInvalidTokenResponseError:Tr,AuthPKCECodeVerifierMissingError:GE,AuthPKCEGrantCodeExchangeError:Wp,AuthRetryableFetchError:pd,AuthSessionMissingError:mn,AuthUnknownError:Pi,AuthWeakPasswordError:Yp,CustomAuthError:ks,get FunctionRegion(){return hd},FunctionsError:Fd,FunctionsFetchError:XT,FunctionsHttpError:Mp,FunctionsRelayError:Ip,GoTrueAdminApi:Xg,GoTrueClient:io,NavigatorLockAcquireTimeoutError:JE,PostgrestError:eR,REALTIME_CHANNEL_STATES:fR,get REALTIME_LISTEN_TYPES(){return Ka},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return $p},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Vp},get REALTIME_SUBSCRIBE_STATES(){return ws},RealtimeChannel:Rr,RealtimeClient:ME,RealtimePresence:Ga,SIGN_OUT_SCOPES:Zu,SupabaseClient:sx,WebSocketFactory:jE,createClient:u3,isAuthApiError:FE,isAuthError:me,isAuthImplicitGrantRedirectError:HE,isAuthPKCECodeVerifierMissingError:dD,isAuthRetryableFetchError:Ju,isAuthSessionMissingError:qE,isAuthWeakPasswordError:hD,lockInternals:xr,navigatorLock:ZE,processLock:VD},Symbol.toStringTag,{value:"Module"})),{createClient:f3}=h3,m3="https://afkfbhdcsqgzrqpixsaw.supabase.co",p3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFma2ZiaGRjc3FnenJxcGl4c2F3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDYzNjksImV4cCI6MjA4MTQyMjM2OX0.53JAXiMZuBeAk1r5jiorOQOcCLOLHiZgGP7iI0BhGik",Ba=f3(m3,p3),_d={maxVisible:1,defaultDuration:2200},g3=t=>(e,n)=>{let i;switch(n.type){case"ADD_TO_VISIBLE":i={...e,visible:[...e.visible,n.payload]};break;case"ADD_TO_QUEUE":i={...e,queue:[...e.queue,n.payload]};break;case"REMOVE":i={...e,visible:e.visible.filter(l=>l.id!==n.payload.id)};break;case"PROMOTE":if(e.visible.length<t.maxVisible&&e.queue.length>0){const[l,...c]=e.queue;i={...e,visible:[...e.visible,l],queue:c}}else i=e;break;case"CLEAR_ALL":return{visible:[],queue:[],showClearAll:!1};default:return e}const a=i.visible.length+i.queue.length;return a>3?i.showClearAll=!0:a<2?i.showClearAll=!1:i.showClearAll=e.showClearAll,i},ix=A.createContext(void 0),vn=()=>{const t=A.useContext(ix);if(!t)throw new Error("useUI must be used within a UIProvider");return t},y3=({children:t})=>{const[e,n]=A.useState("dashboard"),[i,a]=A.useState(null),[l,c]=A.useState(null),[d,h]=A.useState(!1),[f,g]=A.useState(!1),[v,b]=A.useState(null),[S,T]=Yt("focusfrog_haptics_enabled",!0),[x,C]=Yt("focusfrog_sound_enabled",!0),[k,j]=Yt("focusfrog_fontsize","normal"),[O,M]=Yt("focusfrog_dev_mode",!1),$=g3(_d),[F,L]=A.useReducer($,{visible:[],queue:[],showClearAll:!1}),G=A.useCallback((B,Y,le="info",xe)=>{const Ae={id:Date.now()+Math.random(),message:B,icon:Y,category:le,action:xe};F.visible.length<_d.maxVisible?L({type:"ADD_TO_VISIBLE",payload:Ae}):L({type:"ADD_TO_QUEUE",payload:Ae}),S&&navigator.vibrate&&navigator.vibrate(50)},[F.visible.length,S]),Z=A.useCallback(B=>{L({type:"REMOVE",payload:{id:B}})},[]),ee=A.useCallback(()=>{L({type:"PROMOTE"})},[]),oe=A.useCallback(()=>{L({type:"CLEAR_ALL"}),S&&navigator.vibrate&&navigator.vibrate(20)},[S]),J=(B,Y)=>{e==="focus"&&B!=="focus"&&h(!1),n(B),S&&navigator.vibrate&&navigator.vibrate(5)},se=()=>g(!0),Ee=()=>g(!1),pe={activeScreen:e,handleNavigate:J,taskInFocus:i,setTaskInFocus:a,subtaskInFocusId:l,setSubtaskInFocusId:c,quickTaskForCompletion:v,setQuickTaskForCompletion:b,notifications:F.visible,queueCount:F.queue.length,showClearAllButton:F.showClearAll,addNotification:G,removeNotification:Z,promoteNotification:ee,clearAllNotifications:oe,soundEnabled:x,setSoundEnabled:C,hapticsEnabled:S,setHapticsEnabled:T,isImmersiveMode:d,setIsImmersiveMode:h,isPWAInstallPopupVisible:f,showPWAInstallPopup:se,hidePWAInstallPopup:Ee,fontSize:k,setFontSize:j,devModeEnabled:O,setDevModeEnabled:M};return y.jsx(ix.Provider,{value:pe,children:t})},Xp=[{id:"inbox",title:"Caixa de Entrada",subtitle:"Para organizar",icon:"inbox"},{id:"do",title:"Foco Imediato",subtitle:"Urgente & Importante",icon:"zap"},{id:"schedule",title:"Tarefas do Dia",subtitle:"Importante, no urgente",icon:"calendar"},{id:"someday",title:"Ideias & Projetos",subtitle:"No urgente & no importante",icon:"bookOpen"}],rx=[{id:1,name:"FocusFrog",color:"#5c8b57"},{id:2,name:"Pessoal",color:"#3B82F6"},{id:3,name:"Trabalho",color:"#4B5563"},{id:4,name:"Estudos",color:"#F97316"},{id:5,name:"Casa",color:"#14B8A6"},{id:6,name:"Sade",color:"#EC4899"}],v3=["Trabalho","Pessoal","Casa","Estudos","Sade"],b3=["sun","moon","zap","briefcase","home","bookOpen","coffee","award","target","listChecks","pawPrint","rocket","trash","sparkles"],ax=[{id:50,title:" Card Especial FocusFrog N.1",quadrant:"do",description:"O FocusFrog  a sua arquitetura mental, transformando o caos TDAH em rotinas visuais e gerenciveis. Ele ativa a Dopamina de micro-recompensa para te dar foco e paz",category:"FocusFrog",pomodoroEstimate:0,subtasks:[{text:"Siga nossa pgina "},{text:"Acesse o link da bio pelo navegador "},{text:"Baixe o FocusFrog no seu celular "},{text:"Crie rotinas e marque @focus.frog "},{text:"Inspire outras pessoas com suas rotinas e estratgias prprias  "}],isDefault:!0},{id:10,title:"Esvaziar a mente",quadrant:"do",description:"Use a tcnica de 'Brain Dump'. Tire tudo da cabea e ponha no app para reduzir a ansiedade.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:11,title:"Separar a roupa de amanh",quadrant:"do",description:"Elimine a fadiga de deciso da sua manh seguinte.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:12,title:"Preparar a mochila ou bolsa",quadrant:"do",description:"Verifique chaves, carteira, carregador. Deixe tudo pronto na porta.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:13,title:"Manter o celular longe da cama",quadrant:"do",description:"Use um despertador analgico se possvel. Evite o scroll antes de dormir.",category:"Sade",pomodoroEstimate:0,isDefault:!0},{id:20,title:"Calar sapatos para ativar",quadrant:"do",description:"Truque psicolgico poderoso: calar sapatos sinaliza para o crebro que  'hora de agir'.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:21,title:"Ligar uma playlist animada ou podcast",quadrant:"do",description:"O estmulo auditivo (Temptation Bundling) ajuda a tolerar tarefas tediantes e a manter o ritmo.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:22,title:"Corrida de Limpeza de 15 minutos",quadrant:"schedule",description:"Ative o modo turbo. O objetivo  progresso, no perfeio. Pare quando o tempo acabar. Vitria!",category:"Casa",pomodoroEstimate:1,customDuration:15,isDefault:!0},{id:23,title:"Caar e recolher o lixo da casa",quadrant:"do",description:"Misso de caa ao tesouro: andar pela casa com uma sacola e capturar apenas o lixo visvel.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:24,title:"Lavar loua at encher o escorredor",quadrant:"schedule",description:"Sua tarefa de manuteno diria. O objetivo no  zerar a pia,  apenas impedir que ela transborde. Isso j  uma vitria.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:25,title:"Resetar uma superfcie plana",quadrant:"do",description:"Misso de impacto visual: deixe UMA superfcie (mesa, balco) visivelmente limpa. A recompensa  imediata.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:26,title:"Varrer ou aspirar um cmodo",quadrant:"schedule",description:"Escolha UM cmodo e limpe apenas o caminho principal. O objetivo no  a perfeio,  um ambiente visivelmente melhor.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:28,title:"Executar o ciclo completo da loua",quadrant:"schedule",description:"Transforme a montanha de loua em um processo organizado.",category:"Casa",pomodoroEstimate:0,subtasks:[{text:"Organizar a loua por tipo"},{text:"Lavar pratos e copos"},{text:"Lavar talheres, potes e panelas"},{text:"Secar e guardar toda a loua"}],isDefault:!0},{id:29,title:"Executar o Ciclo Completo da Lavanderia",quadrant:"schedule",description:"Esta misso te guia at a roupa guardada.",category:"Casa",pomodoroEstimate:0,subtasks:[{text:"Juntar e separar a roupa suja"},{text:"Iniciar o ciclo de lavagem"},{text:"Transferir para secadora ou varal"},{text:"Dobrar e guardar a roupa limpa"}],isDefault:!0},{id:30,title:"Limpar e preparar a mesa de estudos",quadrant:"schedule",description:"Tire tudo da mesa que no pertence  matria atual.",category:"Estudos",isDefault:!0},{id:31,title:"Celular no silencioso / Ativar o 'No Perturbe'",quadrant:"schedule",description:"A fora de vontade  um recurso limitado. Use a tecnologia a seu favor.",category:"Estudos",isDefault:!0},{id:32,title:"Definir uma micro-meta de estudo",quadrant:"schedule",description:"Quebre a tarefa at ficar ridcula de to fcil. Ex: 'Ler 3 pginas' ou 'Resolver 1 exerccio'.",category:"Estudos",isDefault:!0},{id:33,title:"Iniciar sesso Pomodoro de 25 minutos",quadrant:"do",description:"Mergulhe na tarefa com foco total. Apenas por 25 minutos.",category:"Estudos",pomodoroEstimate:1,isDefault:!0},{id:34,title:"Explicar o estudo em voz alta",quadrant:"schedule",description:"Use a Tcnica Feynman: ao final da sesso, explique o que aprendeu.",category:"Estudos",isDefault:!0},{id:40,title:"Ritual de Ativao Fsica",quadrant:"do",description:"Os primeiros 10 minutos do seu dia para 'ligar' o crebro sem usar o celular.",category:"Sade",subtasks:[{text:"Beber um copo grande de gua"},{text:"Olhar a luz do dia na janela por 5 min"},{text:"Fazer 5 min de alongamento ou polichinelos"}],isDefault:!0},{id:41,title:"Arrumar a cama",quadrant:"do",description:"Vitria Visual Imediata: uma tarefa de 60 segundos que organiza seu quarto e te d a primeira sensao de dever cumprido.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:42,title:"Caf da Manh de Foco",quadrant:"do",description:"Abastea seu crebro com os ingredientes certos para um foco mais estvel.",category:"Sade",pomodoroEstimate:0,subtasks:[{text:"Ingerir fonte de protena (ovo, iogurte, etc)"},{text:"Tomar medicao/suplementos"}],isDefault:!0},{id:43,title:"Definir a Misso do Dia",quadrant:"do",description:"Tire o caos da sua cabea e defina UMA prioridade clara (O Sapo).",category:"Pessoal",pomodoroEstimate:0,subtasks:[{text:"Esvaziar a mente e listar pensamentos"},{text:"Revisar a agenda de hoje"},{text:'Escolher e marcar UMA tarefa como o "Sapo do Dia" '}],isDefault:!0}],ox=[{id:"routine-morning",name:"Manh de Dopamina",description:"Ative o crebro com sinais fsicos (luz, gua, movimento) e crie um plano claro para o dia.",icon:"sun",taskTemplateIds:[40,41,42,43],isDefault:!0},{id:"routine-daily-reset",name:"Reset Dirio",description:"Evite que o caos se acumule com um reset rpido de manuteno.",icon:"sparkles",taskTemplateIds:[20,21,22,23,24,25,26],isDefault:!0},{id:"routine-cleaning-day",name:"Dia de Faxina",description:"Um cardpio de misses para a limpeza pesada. Escolha 1 ou 2.",icon:"trash",taskTemplateIds:[28,29],isDefault:!0},{id:"routine-study",name:"Ritual de Hiperfoco",description:"Elimine distraes antes de comear e quebre a tarefa at ela parecer ridcula de to fcil.",icon:"bookOpen",taskTemplateIds:[30,31,32,33,34],isDefault:!0},{id:"routine-shutdown",name:"Desligamento Noturno",description:"Facilite a vida do seu 'Eu do Futuro'. Reduza a ansiedade da manh seguinte.",icon:"moon",taskTemplateIds:[10,11,12,13],isDefault:!0}],lx=["focusfrog_tasks","focusfrog_tags","focusfrog_frogTaskId","focusfrog_onboarding_completed","focusfrog_routines","focusfrog_taskTemplates","focusfrog_leavingHomeItems","focusfrog_userName","focusfrog_theme","focusfrog_sound","focusfrog_pontos_foco","focusfrog_unlocked_rewards","focusfrog_ui_settings"],_3="2.1.0",W1=()=>{const t={backupVersion:_3,exportedAt:new Date().toISOString()};return lx.forEach(e=>{const n=localStorage.getItem(e);if(n!==null)try{t[e]=JSON.parse(n)}catch(i){console.warn(`Could not parse localStorage item ${e}:`,n,i)}}),t},Y1=t=>{localStorage.clear();const e=t.focusfrog_routines||[];t.focusfrog_routines=[...ox,...e.filter(i=>!i.isDefault)];const n=t.focusfrog_taskTemplates||[];t.focusfrog_taskTemplates=[...ax,...n.filter(i=>!i.isDefault)],t.focusfrog_tags||(t.focusfrog_tags=rx),Object.keys(t).forEach(i=>{lx.includes(i)&&localStorage.setItem(i,JSON.stringify(t[i]))})},cx=()=>{const{addNotification:t}=vn(),e=async c=>{if(c){t("Sincronizando com a nuvem...","","info");try{const d=W1(),h=JSON.parse(localStorage.getItem("focusfrog_userName")||'""'),{error:f}=await Ba.from("profiles").upsert({id:c.id,updated_at:new Date().toISOString(),username:h,data:d});if(f)throw f;t("Backup salvo na nuvem!","","success")}catch(d){console.error("Falha ao sincronizar com a nuvem:",d),t(`Erro na nuvem: ${d.message}`,"","error")}}};return{exportData:()=>{try{const c=W1();c.focusfrog_routines=(c.focusfrog_routines||[]).filter(T=>!T.isDefault),c.focusfrog_taskTemplates=(c.focusfrog_taskTemplates||[]).filter(T=>!T.isDefault);const d=JSON.stringify(c,null,2),h=new Blob([d],{type:"application/json"}),f=URL.createObjectURL(h),g=document.createElement("a");g.href=f;const v=c.focusfrog_userName||"usuario",b=String(v).replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase(),S=new Date().toISOString().split("T")[0];g.download=`focusfrog_backup_${b}_${S}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(f),t("Backup local criado com sucesso","","success")}catch(c){console.error("Falha ao criar backup local:",c),t("Erro ao criar backup local.","","error")}},importDataFromFile:(c,d)=>{const h=new FileReader;h.onload=async f=>{var g;try{const v=JSON.parse((g=f.target)==null?void 0:g.result);if(typeof v!="object"||v===null||!v.backupVersion)throw new Error("Arquivo de backup invlido.");Y1(v),t("Dados importados com sucesso!","","success"),d&&await e(d),setTimeout(()=>window.location.reload(),d?2500:1500)}catch(v){console.error("Falha ao importar arquivo:",v),t(v.message,"","error")}},h.readAsText(c)},resetData:()=>{try{localStorage.clear(),t("Dados apagados. Reiniciando o aplicativo...","","info"),setTimeout(()=>window.location.reload(),1e3)}catch(c){console.error("Falha ao apagar os dados:",c),t("Ocorreu um erro ao apagar os dados","","error")}},downloadAndRestoreFromSupabase:async c=>{t("Buscando seu backup na nuvem...","","info");try{const{data:d,error:h}=await Ba.from("profiles").select("data").eq("id",c.id).single();if(h)throw h;if(!d||!d.data){t("Nenhum backup encontrado na nuvem.","","info");return}Y1(d.data),t("Backup da nuvem restaurado! Reiniciando...","","success"),setTimeout(()=>window.location.reload(),1500)}catch(d){console.error("Falha ao restaurar da nuvem:",d),t(`Erro na nuvem: ${d.message}`,"","error")}},syncLocalToSupabase:e}},ux=A.createContext(void 0),w3=({children:t})=>{const[e,n]=A.useState(null),[i,a]=A.useState(!0),{syncLocalToSupabase:l}=cx();A.useEffect(()=>{(async()=>{const{data:{session:v}}=await Ba.auth.getSession();n((v==null?void 0:v.user)??null),a(!1)})();const{data:g}=Ba.auth.onAuthStateChange(async(v,b)=>{const S=(b==null?void 0:b.user)??null;n(S),a(!1),v==="SIGNED_IN"&&S&&await l(S)});return()=>{g.subscription.unsubscribe()}},[l]);const h={user:e,isLoading:i,signInWithGoogle:async()=>{a(!0);const{error:f}=await Ba.auth.signInWithOAuth({provider:"google"});f&&(console.error("Erro no login com Google:",f.message),a(!1))},signOut:async()=>{a(!0),await Ba.auth.signOut(),n(null),a(!1)}};return y.jsx(ux.Provider,{value:h,children:t})},Kd=()=>{const t=A.useContext(ux);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},dx=A.createContext(void 0),Wd=()=>{const t=A.useContext(dx);if(!t)throw new Error("useUser deve ser usado dentro de um UserProvider");return t},S3=({children:t})=>{const[e,n]=Yt("focusfrog_userName",null),[i,a]=Yt("focusfrog_onboardingCompleted",!1),{user:l}=Kd(),c=f=>{n(f)},d=()=>{a(!0)};A.useEffect(()=>{var f;if(l&&!i&&!e&&((f=l.user_metadata)!=null&&f.full_name)){const g=l.user_metadata.full_name.split(" ")[0];c(g)}},[l,i,e,c]);const h={userName:e,onboardingCompleted:i,setUserName:c,completeOnboarding:d};return y.jsx(dx.Provider,{value:h,children:t})},T3=()=>{};var X1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},E3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|f>>6,S=f&63;h||(S=64,c||(b=64)),i.push(n[g],n[v],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||f==null||v==null)throw new x3;const b=l<<2|d>>4;if(i.push(b),f!==64){const S=d<<4&240|f>>2;if(i.push(S),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C3=function(t){const e=hx(t);return fx.encodeByteArray(e,!0)},mx=function(t){return C3(t).replace(/\./g,"")},px=function(t){try{return fx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=()=>A3().__FIREBASE_DEFAULTS__,O3=()=>{if(typeof process>"u"||typeof X1>"u")return;const t=X1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&px(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return T3()||k3()||O3()||j3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R3=t=>{var e,n;return(n=(e=Jg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gx=()=>{var t;return(t=Jg())==null?void 0:t.config},yx=t=>{var e;return(e=Jg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N3(t){return(await fetch(t,{credentials:"include"})).ok}const Al={};function I3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?t.emulator.push(e):t.prod.push(e);return t}function M3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q1=!1;function L3(t,e){if(typeof window>"u"||typeof document>"u"||!Yd(window.location.host)||Al[t]===e||Al[t]||Q1)return;Al[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=I3().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Q1=!0,c()},b}function g(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=M3(i),S=n("text"),T=document.getElementById(S)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),k=n("preprendIcon"),j=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;d(O),g(C,x);const M=f();h(j,k),O.append(j,T,C,M),document.body.appendChild(O)}l?(T.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function U3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z3(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function V3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="FirebaseError";class Os extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=$3,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yi.prototype.create)}}class Yi{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?F3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Os(a,d,i)}}function F3(t,e){return t.replace(q3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const q3=/\{\$([^}]+)}/g;function H3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(J1(l)&&J1(c)){if(!zr(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function J1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function G3(t,e){const n=new K3(t,e);return n.subscribe.bind(n)}class K3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");W3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Fm),a.error===void 0&&(a.error=Fm),a.complete===void 0&&(a.complete=Fm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=1e3,X3=2,Q3=14400*1e3,J3=.5;function Z1(t,e=Y3,n=X3){const i=e*Math.pow(n,t),a=Math.round(J3*i*(Math.random()-.5)*2);return Math.min(Q3,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new D3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tN(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(t){return t===Cr?void 0:t}function tN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const sN={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},iN=et.INFO,rN={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},aN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=rN[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const oN=(t,e)=>e.some(n=>t instanceof n);let ew,tw;function lN(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cN(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wx=new WeakMap,Qp=new WeakMap,Sx=new WeakMap,qm=new WeakMap,ey=new WeakMap;function uN(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ni(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wx.set(n,t)}).catch(()=>{}),ey.set(e,t),e}function dN(t){if(Qp.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Qp.set(t,e)}let Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hN(t){Jp=t(Jp)}function fN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hm(this),e,...n);return Sx.set(i,e.sort?e.sort():[e]),ni(i)}:cN().includes(t)?function(...e){return t.apply(Hm(this),e),ni(wx.get(this))}:function(...e){return ni(t.apply(Hm(this),e))}}function mN(t){return typeof t=="function"?fN(t):(t instanceof IDBTransaction&&dN(t),oN(t,lN())?new Proxy(t,Jp):t)}function ni(t){if(t instanceof IDBRequest)return uN(t);if(qm.has(t))return qm.get(t);const e=mN(t);return e!==t&&(qm.set(t,e),ey.set(e,t)),e}const Hm=t=>ey.get(t);function Xd(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=ni(c);return i&&c.addEventListener("upgradeneeded",h=>{i(ni(c.result),h.oldVersion,h.newVersion,ni(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}function Gm(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),ni(n).then(()=>{})}const pN=["get","getKey","getAll","getAllKeys","count"],gN=["put","add","delete","clear"],Km=new Map;function nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=gN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||pN.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return Km.set(e,l),l}hN(t=>({...t,get:(e,n,i)=>nw(e,n)||t.get(e,n,i),has:(e,n)=>!!nw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",sw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Zg("@firebase/app"),bN="@firebase/app-compat",_N="@firebase/analytics-compat",wN="@firebase/analytics",SN="@firebase/app-check-compat",TN="@firebase/app-check",EN="@firebase/auth",xN="@firebase/auth-compat",CN="@firebase/database",AN="@firebase/data-connect",kN="@firebase/database-compat",ON="@firebase/functions",jN="@firebase/functions-compat",RN="@firebase/installations",DN="@firebase/installations-compat",NN="@firebase/messaging",IN="@firebase/messaging-compat",MN="@firebase/performance",LN="@firebase/performance-compat",PN="@firebase/remote-config",UN="@firebase/remote-config-compat",BN="@firebase/storage",zN="@firebase/storage-compat",VN="@firebase/firestore",$N="@firebase/ai",FN="@firebase/firestore-compat",qN="firebase",HN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",GN={[Zp]:"fire-core",[bN]:"fire-core-compat",[wN]:"fire-analytics",[_N]:"fire-analytics-compat",[TN]:"fire-app-check",[SN]:"fire-app-check-compat",[EN]:"fire-auth",[xN]:"fire-auth-compat",[CN]:"fire-rtdb",[AN]:"fire-data-connect",[kN]:"fire-rtdb-compat",[ON]:"fire-fn",[jN]:"fire-fn-compat",[RN]:"fire-iid",[DN]:"fire-iid-compat",[NN]:"fire-fcm",[IN]:"fire-fcm-compat",[MN]:"fire-perf",[LN]:"fire-perf-compat",[PN]:"fire-rc",[UN]:"fire-rc-compat",[BN]:"fire-gcs",[zN]:"fire-gcs-compat",[VN]:"fire-fst",[FN]:"fire-fst-compat",[$N]:"fire-vertex","fire-js":"fire-js",[qN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,KN=new Map,tg=new Map;function iw(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ds(t){const e=t.name;if(tg.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of wd.values())iw(n,t);for(const n of KN.values())iw(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Yi("app","Firebase",WN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=HN;function Tx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:eg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Hi.create("bad-app-name",{appName:String(a)});if(n||(n=gx()),!n)throw Hi.create("no-options");const l=wd.get(a);if(l){if(zr(n,l.options)&&zr(i,l.config))return l;throw Hi.create("duplicate-app",{appName:a})}const c=new nN(a);for(const h of tg.values())c.addComponent(h);const d=new YN(n,i,c);return wd.set(a,d),d}function Ex(t=eg){const e=wd.get(t);if(!e&&t===eg&&gx())return Tx();if(!e)throw Hi.create("no-app",{appName:t});return e}function Yn(t,e,n){let i=GN[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(c.join(" "));return}ds(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-heartbeat-database",QN=1,Bl="firebase-heartbeat-store";let Wm=null;function xx(){return Wm||(Wm=Xd(XN,QN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Wm}async function JN(t){try{const n=(await xx()).transaction(Bl),i=await n.objectStore(Bl).get(Cx(t));return await n.done,i}catch(e){if(e instanceof Os)si.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function rw(t,e){try{const i=(await xx()).transaction(Bl,"readwrite");await i.objectStore(Bl).put(e,Cx(t)),await i.done}catch(n){if(n instanceof Os)si.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(i.message)}}}function Cx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1024,e5=30;class t5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=aw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>e5){const c=i5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aw(),{heartbeatsToSend:i,unsentEntries:a}=n5(this._heartbeatsCache.heartbeats),l=mx(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return si.warn(n),""}}}function aw(){return new Date().toISOString().substring(0,10)}function n5(t,e=ZN){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ow(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ow(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class s5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ow(t){return mx(JSON.stringify({version:2,heartbeats:t})).length}function i5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){ds(new Qn("platform-logger",e=>new yN(e),"PRIVATE")),ds(new Qn("heartbeat",e=>new t5(e),"PRIVATE")),Yn(Zp,sw,t),Yn(Zp,sw,"esm2020"),Yn("fire-js","")}r5("");var a5="firebase",o5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(a5,o5,"app");const Ax="@firebase/installations",ty="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=1e4,Ox=`w:${ty}`,jx="FIS_v2",l5="https://firebaseinstallations.googleapis.com/v1",c5=3600*1e3,u5="installations",d5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vr=new Yi(u5,d5,h5);function Rx(t){return t instanceof Os&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx({projectId:t}){return`${l5}/projects/${t}/installations`}function Nx(t){return{token:t.token,requestStatus:2,expiresIn:m5(t.expiresIn),creationTime:Date.now()}}async function Ix(t,e){const i=(await e.json()).error;return Vr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Mx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function f5(t,{refreshToken:e}){const n=Mx(t);return n.append("Authorization",p5(e)),n}async function Lx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function m5(t){return Number(t.replace("s","000"))}function p5(t){return`${jx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Dx(t),a=Mx(t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={fid:n,authVersion:jx,appId:t.appId,sdkVersion:Ox},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await Lx(()=>fetch(i,d));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Nx(f.authToken)}}else throw await Ix("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=/^[cdef][\w-]{21}$/,ng="";function b5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_5(t);return v5.test(n)?n:ng}catch{return ng}}function _5(t){return y5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map;function Bx(t,e){const n=Qd(t);zx(n,e),w5(n,e)}function zx(t,e){const n=Ux.get(t);if(n)for(const i of n)i(e)}function w5(t,e){const n=S5();n&&n.postMessage({key:t,fid:e}),T5()}let Nr=null;function S5(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=t=>{zx(t.data.key,t.data.fid)}),Nr}function T5(){Ux.size===0&&Nr&&(Nr.close(),Nr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="firebase-installations-database",x5=1,$r="firebase-installations-store";let Ym=null;function ny(){return Ym||(Ym=Xd(E5,x5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($r)}}})),Ym}async function Sd(t,e){const n=Qd(t),a=(await ny()).transaction($r,"readwrite"),l=a.objectStore($r),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&Bx(t,e.fid),e}async function Vx(t){const e=Qd(t),i=(await ny()).transaction($r,"readwrite");await i.objectStore($r).delete(e),await i.done}async function Jd(t,e){const n=Qd(t),a=(await ny()).transaction($r,"readwrite"),l=a.objectStore($r),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&Bx(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sy(t){let e;const n=await Jd(t.appConfig,i=>{const a=C5(i),l=A5(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function C5(t){const e=t||{fid:b5(),registrationStatus:0};return $x(e)}function A5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Vr.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=k5(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:O5(t)}:{installationEntry:e}}async function k5(t,e){try{const n=await g5(t,e);return Sd(t.appConfig,n)}catch(n){throw Rx(n)&&n.customData.serverCode===409?await Vx(t.appConfig):await Sd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function O5(t){let e=await lw(t.appConfig);for(;e.registrationStatus===1;)await Px(100),e=await lw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await sy(t);return i||n}return e}function lw(t){return Jd(t,e=>{if(!e)throw Vr.create("installation-not-found");return $x(e)})}function $x(t){return j5(t)?{fid:t.fid,registrationStatus:0}:t}function j5(t){return t.registrationStatus===1&&t.registrationTime+kx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5({appConfig:t,heartbeatServiceProvider:e},n){const i=D5(t,n),a=f5(t,n),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={installation:{sdkVersion:Ox,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await Lx(()=>fetch(i,d));if(h.ok){const f=await h.json();return Nx(f)}else throw await Ix("Generate Auth Token",h)}function D5(t,{fid:e}){return`${Dx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(t,e=!1){let n;const i=await Jd(t.appConfig,l=>{if(!Fx(l))throw Vr.create("not-registered");const c=l.authToken;if(!e&&M5(c))return l;if(c.requestStatus===1)return n=N5(t,e),l;{if(!navigator.onLine)throw Vr.create("app-offline");const d=P5(l);return n=I5(t,d),d}});return n?await n:i.authToken}async function N5(t,e){let n=await cw(t.appConfig);for(;n.authToken.requestStatus===1;)await Px(100),n=await cw(t.appConfig);const i=n.authToken;return i.requestStatus===0?iy(t,e):i}function cw(t){return Jd(t,e=>{if(!Fx(e))throw Vr.create("not-registered");const n=e.authToken;return U5(n)?{...e,authToken:{requestStatus:0}}:e})}async function I5(t,e){try{const n=await R5(t,e),i={...e,authToken:n};return await Sd(t.appConfig,i),n}catch(n){if(Rx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Vx(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Sd(t.appConfig,i)}throw n}}function Fx(t){return t!==void 0&&t.registrationStatus===2}function M5(t){return t.requestStatus===2&&!L5(t)}function L5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+c5}function P5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function U5(t){return t.requestStatus===1&&t.requestTime+kx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t){const e=t,{installationEntry:n,registrationPromise:i}=await sy(e);return i?i.catch(console.error):iy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e=!1){const n=t;return await V5(n),(await iy(n,e)).token}async function V5(t){const{registrationPromise:e}=await sy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){if(!t||!t.options)throw Xm("App Configuration");if(!t.name)throw Xm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xm(t){return Vr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="installations",F5="installations-internal",q5=t=>{const e=t.getProvider("app").getImmediate(),n=$5(e),i=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},H5=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,qx).getImmediate();return{getId:()=>B5(n),getToken:a=>z5(n,a)}};function G5(){ds(new Qn(qx,q5,"PUBLIC")),ds(new Qn(F5,H5,"PRIVATE"))}G5();Yn(Ax,ty);Yn(Ax,ty,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="analytics",K5="firebase_id",W5="origin",Y5=60*1e3,X5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ry="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new Zg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new Yi("analytics","Analytics",Q5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){if(!t.startsWith(ry)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return Jt.warn(e.message),""}return t}function Hx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Z5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eI(t,e){const n=Z5("firebase-js-sdk-policy",{createScriptURL:J5}),i=document.createElement("script"),a=`${ry}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function tI(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nI(t,e,n,i,a,l){const c=i[a];try{if(c)await e[c];else{const h=(await Hx(n)).find(f=>f.measurementId===a);h&&await e[h.appId]}}catch(d){Jt.error(d)}t("config",a,l)}async function sI(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await Hx(n);for(const h of c){const f=d.find(v=>v.measurementId===h),g=f&&e[f.appId];if(g)l.push(g);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){Jt.error(l)}}function iI(t,e,n,i){async function a(l,...c){try{if(l==="event"){const[d,h]=c;await sI(t,e,n,d,h)}else if(l==="config"){const[d,h]=c;await nI(t,e,n,i,d,h)}else if(l==="consent"){const[d,h]=c;t("consent",d,h)}else if(l==="get"){const[d,h,f]=c;t("get",d,h,f)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Jt.error(d)}}return a}function rI(t,e,n,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=iI(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function aI(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ry)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=30,lI=1e3;class cI{constructor(e={},n=lI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gx=new cI;function uI(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dI(t){var c;const{appId:e,apiKey:n}=t,i={method:"GET",headers:uI(n)},a=X5.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let d="";try{const h=await l.json();(c=h.error)!=null&&c.message&&(d=h.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function hI(t,e=Gx,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw On.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw On.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new pI;return setTimeout(async()=>{d.abort()},Y5),Kx({appId:i,apiKey:a,measurementId:l},c,d,e)}async function Kx(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=Gx){var d;const{appId:l,measurementId:c}=t;try{await fI(i,e)}catch(h){if(c)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await dI(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!mI(f)){if(a.deleteThrottleMetadata(l),c)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const g=Number((d=f==null?void 0:f.customData)==null?void 0:d.httpStatus)===503?Z1(n,a.intervalMillis,oI):Z1(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,v),Jt.debug(`Calling attemptFetch again in ${g} millis`),Kx(t,v,i,a)}}function fI(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mI(t){if(!(t instanceof Os)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class pI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gI(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,c={...i,send_to:l};t("event",n,c)}}async function yI(t,e,n,i){{const a=await e;t("config",a,{update:!0,user_id:n})}}async function vI(t,e,n,i){if(i&&i.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(){if(bx())try{await _x()}catch(t){return Jt.warn(On.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Jt.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _I(t,e,n,i,a,l,c){const d=hI(t);d.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Jt.error(b)),e.push(d);const h=bI().then(b=>{if(b)return i.getId()}),[f,g]=await Promise.all([d,h]);aI(l)||eI(l,f.measurementId),a("js",new Date);const v=(c==null?void 0:c.config)??{};return v[W5]="firebase",v.update=!0,g!=null&&(v[K5]=g),a("config",f.measurementId,v),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.app=e}_delete(){return delete Lr[this.app.options.appId],Promise.resolve()}}let Lr={},uw=[];const dw={};let Qm="dataLayer",SI="gtag",hw,Zd,fw=!1;function TI(){const t=[];if(vx()&&t.push("This is a browser extension environment."),V3()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});Jt.warn(n.message)}}function EI(t,e,n){TI();const i=t.options.appId;if(!i)throw On.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(Lr[i]!=null)throw On.create("already-exists",{id:i});if(!fw){tI(Qm);const{wrappedGtag:l,gtagCore:c}=rI(Lr,uw,dw,Qm,SI);Zd=l,hw=c,fw=!0}return Lr[i]=_I(t,uw,dw,e,hw,Qm,n),new wI(t)}function xI(t=Ex()){t=fs(t);const e=uo(t,Td);return e.isInitialized()?e.getImmediate():CI(t)}function CI(t,e={}){const n=uo(t,Td);if(n.isInitialized()){const a=n.getImmediate();if(zr(e,n.getOptions()))return a;throw On.create("already-initialized")}return n.initialize({options:e})}function AI(t,e,n){t=fs(t),yI(Zd,Lr[t.app.options.appId],e).catch(i=>Jt.error(i))}function kI(t,e,n){t=fs(t),vI(Zd,Lr[t.app.options.appId],e,n).catch(i=>Jt.error(i))}function ay(t,e,n,i){t=fs(t),gI(Zd,Lr[t.app.options.appId],e,n,i).catch(a=>Jt.error(a))}const mw="@firebase/analytics",pw="0.10.19";function OI(){ds(new Qn(Td,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return EI(i,a,n)},"PUBLIC")),ds(new Qn("analytics-internal",t,"PRIVATE")),Yn(mw,pw),Yn(mw,pw,"esm2020");function t(e){try{const n=e.getProvider(Td).getImmediate();return{logEvent:(i,a,l)=>ay(n,i,a,l),setUserProperties:(i,a)=>kI(n,i,a)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}OI();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="/firebase-messaging-sw.js",RI="/firebase-cloud-messaging-push-scope",Wx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",DI="https://fcmregistrations.googleapis.com/v1",Yx="google.c.a.c_id",NI="google.c.a.c_l",II="google.c.a.ts",MI="google.c.a.e",gw=1e4;var yw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(yw||(yw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var zl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(zl||(zl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LI(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),a=new Uint8Array(i.length);for(let l=0;l<i.length;++l)a[l]=i.charCodeAt(l);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="fcm_token_details_db",PI=5,vw="fcm_token_object_Store";async function UI(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(Jm))return null;let e=null;return(await Xd(Jm,PI,{upgrade:async(i,a,l,c)=>{if(a<2||!i.objectStoreNames.contains(vw))return;const d=c.objectStore(vw),h=await d.index("fcmSenderId").get(t);if(await d.clear(),!!h){if(a===2){const f=h;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Qs(f.vapidKey)}}}else if(a===3){const f=h;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Qs(f.auth),p256dh:Qs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Qs(f.vapidKey)}}}else if(a===4){const f=h;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Qs(f.auth),p256dh:Qs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Qs(f.vapidKey)}}}}}})).close(),await Gm(Jm),await Gm("fcm_vapid_details_db"),await Gm("undefined"),BI(e)?e:null}function BI(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebase-messaging-database",VI=1,Vl="firebase-messaging-store";let Zm=null;function Xx(){return Zm||(Zm=Xd(zI,VI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vl)}}})),Zm}async function $I(t){const e=Qx(t),i=await(await Xx()).transaction(Vl).objectStore(Vl).get(e);if(i)return i;{const a=await UI(t.appConfig.senderId);if(a)return await oy(t,a),a}}async function oy(t,e){const n=Qx(t),a=(await Xx()).transaction(Vl,"readwrite");return await a.objectStore(Vl).put(e,n),await a.done,e}function Qx({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},jn=new Yi("messaging","Messaging",FI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(t,e){const n=await cy(t),i=Jx(e),a={method:"POST",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(ly(t.appConfig),a)).json()}catch(c){throw jn.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw jn.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw jn.create("token-subscribe-no-token");return l.token}async function HI(t,e){const n=await cy(t),i=Jx(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(`${ly(t.appConfig)}/${e.token}`,a)).json()}catch(c){throw jn.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw jn.create("token-update-failed",{errorInfo:c})}if(!l.token)throw jn.create("token-update-no-token");return l.token}async function GI(t,e){const i={method:"DELETE",headers:await cy(t)};try{const l=await(await fetch(`${ly(t.appConfig)}/${e}`,i)).json();if(l.error){const c=l.error.message;throw jn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(a){throw jn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function ly({projectId:t}){return`${DI}/projects/${t}/registrations`}async function cy({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Jx({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:e,p256dh:t}};return i!==Wx&&(a.web.applicationPubKey=i),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=10080*60*1e3;async function WI(t){const e=await XI(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Qs(e.getKey("auth")),p256dh:Qs(e.getKey("p256dh"))},i=await $I(t.firebaseDependencies);if(i){if(QI(i.subscriptionOptions,n))return Date.now()>=i.createTime+KI?YI(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await GI(t.firebaseDependencies,i.token)}catch(a){console.warn(a)}return bw(t.firebaseDependencies,n)}else return bw(t.firebaseDependencies,n)}async function YI(t,e){try{const n=await HI(t.firebaseDependencies,e),i={...e,token:n,createTime:Date.now()};return await oy(t.firebaseDependencies,i),n}catch(n){throw n}}async function bw(t,e){const i={token:await qI(t,e),createTime:Date.now(),subscriptionOptions:e};return await oy(t,i),i.token}async function XI(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LI(e)})}function QI(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,a=e.auth===t.auth,l=e.p256dh===t.p256dh;return n&&i&&a&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return JI(e,t),ZI(e,t),e4(e,t),e}function JI(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const a=e.notification.image;a&&(t.notification.image=a);const l=e.notification.icon;l&&(t.notification.icon=l)}function ZI(t,e){e.data&&(t.data=e.data)}function e4(t,e){var a,l,c,d;if(!e.fcmOptions&&!((a=e.notification)!=null&&a.click_action))return;t.fcmOptions={};const n=((l=e.fcmOptions)==null?void 0:l.link)??((c=e.notification)==null?void 0:c.click_action);n&&(t.fcmOptions.link=n);const i=(d=e.fcmOptions)==null?void 0:d.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){return typeof t=="object"&&!!t&&Yx in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){if(!t||!t.options)throw ep("App Configuration Object");if(!t.name)throw ep("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw ep(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ep(t){return jn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=n4(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t){try{t.swRegistration=await navigator.serviceWorker.register(jI,{scope:RI}),t.swRegistration.update().catch(()=>{}),await r4(t.swRegistration)}catch(e){throw jn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function r4(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${gw} ms`)),gw),a=t.installing||t.waiting;t.active?(clearTimeout(i),e()):a?a.onstatechange=l=>{var c;((c=l.target)==null?void 0:c.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){if(!e&&!t.swRegistration&&await i4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Wx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e){if(!navigator)throw jn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw jn.create("permission-blocked");return await o4(t,e==null?void 0:e.vapidKey),await a4(t,e==null?void 0:e.serviceWorkerRegistration),WI(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e,n){const i=u4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Yx],message_name:n[NI],message_time:n[II],message_device_time:Math.floor(Date.now()/1e3)})}function u4(t){switch(t){case zl.NOTIFICATION_CLICKED:return"notification_open";case zl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===zl.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(_w(n)):t.onMessageHandler.next(_w(n)));const i=n.data;t4(i)&&i[MI]==="1"&&await c4(t,n.messageType,i)}const ww="@firebase/messaging",Sw="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=t=>{const e=new s4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>d4(e,n)),e},f4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>l4(e,i)}};function m4(){ds(new Qn("messaging",h4,"PUBLIC")),ds(new Qn("messaging-internal",f4,"PRIVATE")),Yn(ww,Sw),Yn(ww,Sw,"esm2020")}m4();function Zx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p4=Zx,e2=new Yi("auth","Firebase",Zx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Zg("@firebase/auth");function g4(t,...e){Ed.logLevel<=et.WARN&&Ed.warn(`Auth (${rc}): ${t}`,...e)}function ed(t,...e){Ed.logLevel<=et.ERROR&&Ed.error(`Auth (${rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw uy(t,...e)}function Ts(t,...e){return uy(t,...e)}function t2(t,e,n){const i={...p4(),[e]:n};return new Yi("auth","Firebase",i).create(e,{appName:t.name})}function Pr(t){return t2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return e2.create(t,...e)}function Te(t,e,...n){if(!t)throw uy(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function ri(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function y4(){return Tw()==="http:"||Tw()==="https:"}function Tw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y4()||vx()||"connection"in navigator)?navigator.onLine:!0}function b4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=P3()||B3()}get(){return v4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S4=new ac(3e4,6e4);function hy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ho(t,e,n,i,a={}){return s2(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ic({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...l};return U3()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Yd(t.emulatorConfig.host)&&(f.credentials="include"),n2.fetch()(await i2(t,t.config.apiHost,n,d),f)})}async function s2(t,e,n){t._canInitEmulator=!1;const i={..._4,...e};try{const a=new E4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vu(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Vu(t,"user-disabled",c);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw t2(t,g,f);ii(t,g)}}catch(a){if(a instanceof Os)throw a;ii(t,"network-request-failed",{message:String(a)})}}async function T4(t,e,n,i,a={}){const l=await ho(t,e,n,i,a);return"mfaPendingCredential"in l&&ii(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function i2(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?dy(t.config,a):`${t.config.apiScheme}://${a}`;return w4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class E4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ts(this.auth,"network-request-failed")),S4.get())})}}function Vu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ts(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function xd(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C4(t,e=!1){const n=fs(t),i=await n.getIdToken(e),a=fy(i);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:kl(tp(a.auth_time)),issuedAtTime:kl(tp(a.iat)),expirationTime:kl(tp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function tp(t){return Number(t)*1e3}function fy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const a=px(n);return a?JSON.parse(a):(ed("Failed to decode base64 JWT payload"),null)}catch(a){return ed("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ew(t){const e=fy(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Os&&A4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function A4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){var v;const e=t.auth,n=await t.getIdToken(),i=await $l(t,xd(e,{idToken:n}));Te(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?r2(a.providerUserInfo):[],c=j4(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),f=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ig(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function O4(t){const e=fs(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function r2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){const n=await s2(t,{},async()=>{const i=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await i2(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return t.emulatorConfig&&Yd(t.emulatorConfig.host)&&(h.credentials="include"),n2.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D4(t,e){return ho(t,"POST","/v2/accounts:revokeToken",hy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await R4(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Ya;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new k4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ig(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C4(this,e)}reload(){return O4(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zs(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await $l(this,x4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:S,providerData:T,stsTokenManager:x}=n;Te(v&&x,e,"internal-error");const C=Ya.fromJSON(this.name,x);Te(typeof v=="string",e,"internal-error"),Di(i,e.name),Di(a,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof S=="boolean",e,"internal-error"),Di(l,e.name),Di(c,e.name),Di(d,e.name),Di(h,e.name),Di(f,e.name),Di(g,e.name);const k=new ls({uid:v,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:C,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(k.providerData=T.map(j=>({...j}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,n,i=!1){const a=new Ya;a.updateFromServerResponse(n);const l=new ls({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Cd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?r2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ya;d.updateFromIdToken(i);const h=new ls({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ig(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function ti(t){ri(t instanceof Function,"Expected a class definition");let e=xw.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a2.type="NONE";const Cw=a2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=td(this.userKey,a.apiKey,l),this.fullPersistenceKey=td("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xd(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Xa(ti(Cw),e,i);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||ti(Cw);const c=td(i,e.config.apiKey,e.name);let d=null;for(const f of n)try{const g=await f._get(c);if(g){let v;if(typeof g=="string"){const b=await xd(e,{idToken:g}).catch(()=>{});if(!b)break;v=await ls._fromGetAccountInfoResponse(e,b,g)}else v=ls._fromJSON(e,g);f!==l&&(d=v),l=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Xa(l,e,i):(l=h[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(c)}catch{}})),new Xa(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h2(e))return"Blackberry";if(f2(e))return"Webos";if(l2(e))return"Safari";if((e.includes("chrome/")||c2(e))&&!e.includes("edge/"))return"Chrome";if(d2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function o2(t=sn()){return/firefox\//i.test(t)}function l2(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c2(t=sn()){return/crios\//i.test(t)}function u2(t=sn()){return/iemobile/i.test(t)}function d2(t=sn()){return/android/i.test(t)}function h2(t=sn()){return/blackberry/i.test(t)}function f2(t=sn()){return/webos/i.test(t)}function my(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N4(t=sn()){var e;return my(t)&&!!((e=window.navigator)!=null&&e.standalone)}function I4(){return z3()&&document.documentMode===10}function m2(t=sn()){return my(t)||d2(t)||f2(t)||h2(t)||/windows phone/i.test(t)||u2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e=[]){let n;switch(t){case"Browser":n=Aw(sn());break;case"Worker":n=`${Aw(sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const h=e(l);c(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e={}){return ho(t,"GET","/v2/passwordPolicy",hy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=6;class U4{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new M4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xd(this,{idToken:e}),i=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Zs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zs(this.app))return Promise.reject(Pr(this));const n=e?fs(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zs(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zs(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L4(this),n=new U4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await D4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Zs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function py(t){return fs(t)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=G3(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z4(t){gy=t}function V4(t){return gy.loadJS(t)}function $4(){return gy.gapiScript}function F4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e){const n=uo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(zr(l,e??{}))return a;ii(a,"already-initialized")}return n.initialize({options:e})}function H4(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function G4(t,e,n){const i=py(t);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=g2(e),{host:c,port:d}=K4(e),h=d===null?"":`:${d}`,f={url:`${l}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(zr(f,i.config.emulator)&&zr(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Yd(c)?(N3(`${l}//${c}${h}`),L3("Auth",!0)):W4()}function g2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K4(t){const e=g2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Ow(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Ow(c)}}}function Ow(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e){return T4(t,"POST","/v1/accounts:signInWithIdp",hy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="http://localhost";class Fr extends y2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Fr(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Qa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:Y4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends v2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends oc{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fr._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends oc{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends oc{constructor(){super("twitter.com")}static credential(e,n){return Fr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return $i.credential(n,i)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ls._fromIdTokenResponse(e,i,a),c=jw(i);return new ro({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=jw(i);return new ro({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Os{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Ad(e,n,i,a)}}function b2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(t,l,e,i):l})}async function X4(t,e,n=!1){const i=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e,n=!1){const{auth:i}=t;if(Zs(i.app))return Promise.reject(Pr(i));const a="reauthenticate";try{const l=await $l(t,b2(i,a,e,t),n);Te(l.idToken,i,"internal-error");const c=fy(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(t.uid===d,i,"user-mismatch"),ro._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ii(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e,n=!1){if(Zs(t.app))return Promise.reject(Pr(t));const i="signIn",a=await b2(t,i,e),l=await ro._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function Z4(t,e,n,i){return fs(t).onIdTokenChanged(e,n,i)}function eM(t,e,n){return fs(t).beforeAuthStateChanged(e,n)}function tM(t,e,n,i){return fs(t).onAuthStateChanged(e,n,i)}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=1e3,sM=10;class w2 extends _2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);I4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,sM):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},nM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w2.type="LOCAL";const iM=w2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends _2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S2.type="SESSION";const T2=S2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new eh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async f=>f(n.origin,l)),h=await rM(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,h)=>{const f=yy("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(g),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function oM(t){Es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function lM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uM(){return E2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebaseLocalStorageDb",dM=1,Od="firebaseLocalStorage",C2="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(t,e){return t.transaction([Od],e?"readwrite":"readonly").objectStore(Od)}function hM(){const t=indexedDB.deleteDatabase(x2);return new lc(t).toPromise()}function rg(){const t=indexedDB.open(x2,dM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Od,{keyPath:C2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Od)?e(i):(i.close(),await hM(),e(await rg()))})})}async function Rw(t,e,n){const i=th(t,!0).put({[C2]:e,value:n});return new lc(i).toPromise()}async function fM(t,e){const n=th(t,!1).get(e),i=await new lc(n).toPromise();return i===void 0?null:i.value}function Dw(t,e){const n=th(t,!0).delete(e);return new lc(n).toPromise()}const mM=800,pM=3;class A2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>pM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(uM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await lM(),!this.activeServiceWorker)return;this.sender=new aM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await Rw(e,kd,"1"),await Dw(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>fM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=th(a,!1).getAll();return new lc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A2.type="LOCAL";const gM=A2;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e){return e?ti(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends y2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vM(t){return J4(t.auth,new vy(t),t.bypassAuthState)}function bM(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Q4(n,new vy(t),t.bypassAuthState)}async function _M(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),X4(n,new vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vM;case"linkViaPopup":case"linkViaRedirect":return _M;case"reauthViaPopup":case"reauthViaRedirect":return bM;default:ii(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new ac(2e3,1e4);class za extends k2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wM.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="pendingRedirect",nd=new Map;class TM extends k2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const i=await EM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EM(t,e){const n=AM(e),i=CM(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function xM(t,e){nd.set(t._key(),e)}function CM(t){return ti(t._redirectPersistence)}function AM(t){return td(SM,t.config.apiKey,t.name)}async function kM(t,e,n=!1){if(Zs(t.app))return Promise.reject(Pr(t));const i=py(t),a=yM(i,e),c=await new TM(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=600*1e3;class jM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!O2(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ts(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IM=/^https?/;async function MM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DM(t);for(const n of e)try{if(LM(n))return}catch{}ii(t,"unauthorized-domain")}function LM(t){const e=sg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!IM.test(n))return!1;if(NM.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new ac(3e4,6e4);function Iw(){const t=Es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UM(t){return new Promise((e,n)=>{var a,l,c;function i(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),n(Ts(t,"network-request-failed"))},timeout:PM.get()})}if((l=(a=Es().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Es().gapi)!=null&&c.load)i();else{const d=F4("iframefcb");return Es()[d]=()=>{gapi.load?i():n(Ts(t,"network-request-failed"))},V4(`${$4()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw sd=null,e})}let sd=null;function BM(t){return sd=sd||UM(t),sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new ac(5e3,15e3),VM="__/auth/iframe",$M="emulator/auth/iframe",FM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HM(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,$M):`https://${t.config.authDomain}/${VM}`,i={apiKey:e.apiKey,appName:t.name,v:rc},a=qM.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ic(i).slice(1)}`}async function GM(t){const e=await BM(t),n=Es().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:HM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ts(t,"network-request-failed"),d=Es().setTimeout(()=>{l(c)},zM.get());function h(){Es().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WM=500,YM=600,XM="_blank",QM="http://localhost";class Mw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JM(t,e,n,i=WM,a=YM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h={...KM,width:i.toString(),height:a.toString(),top:l,left:c},f=sn().toLowerCase();n&&(d=c2(f)?XM:n),o2(f)&&(e=e||QM,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[S,T])=>`${b}${S}=${T},`,"");if(N4(f)&&d!=="_self")return ZM(e||"",d),new Mw(null);const v=window.open(e||"",d,g);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new Mw(v)}function ZM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="__/auth/handler",t6="emulator/auth/handler",n6=encodeURIComponent("fac");async function Lw(t,e,n,i,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:rc,eventId:a};if(e instanceof v2){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",H3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof oc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),f=h?`#${n6}=${encodeURIComponent(h)}`:"";return`${s6(t)}?${ic(d).slice(1)}${f}`}function s6({config:t}){return t.emulator?dy(t,t6):`https://${t.authDomain}/${e6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class i6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T2,this._completeRedirectFn=kM,this._overrideRedirectResult=xM}async _openPopup(e,n,i,a){var c;ri((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Lw(e,n,i,sg(),a);return JM(e,l,yy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Lw(e,n,i,sg(),a);return oM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ri(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await GM(e),i=new jM(e);return n.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[np];l!==void 0&&n(!!l),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m2()||l2()||my()}}const r6=i6;var Pw="@firebase/auth",Uw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l6(t){ds(new Qn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p2(t)},f=new B4(i,a,l,h);return H4(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ds(new Qn("auth-internal",e=>{const n=py(e.getProvider("auth").getImmediate());return(i=>new a6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(Pw,Uw,o6(t)),Yn(Pw,Uw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=300,u6=yx("authIdTokenMaxAge")||c6;let Bw=null;const d6=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>u6)return;const a=n==null?void 0:n.token;Bw!==a&&(Bw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function h6(t=Ex()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q4(t,{popupRedirectResolver:r6,persistence:[gM,iM,T2]}),i=yx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=d6(l.toString());eM(n,c,()=>c(n.currentUser)),Z4(n,d=>c(d))}}const a=R3("auth");return a&&G4(n,`http://${a}`),n}function f6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}z4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ts("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",f6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l6("Browser");const m6={apiKey:"AIzaSyC4iDYWSOU9Naqp9O29f1pvzXfS8v6K5fU",authDomain:"focusfroggit-81838821-bbab8.firebaseapp.com",projectId:"focusfroggit-81838821-bbab8",storageBucket:"focusfroggit-81838821-bbab8.firebasestorage.app",messagingSenderId:"878346894346",appId:"1:878346894346:web:c0517918bd73569e1f73f3",measurementId:"G-REN0MZQYW6"},j2=Tx(m6);let sp=null,ip=null;const p6=()=>(sp||(sp=h6(j2)),sp),by=()=>(ip||(ip=xI(j2)),ip);tM(p6(),t=>{if(t){const e=by();e&&AI(e,t.uid)}});const g6=t=>{const e=by();e&&ay(e,"pwa_installed",{source:t})},y6=()=>{const t=by();t&&ay(t,"new_routine_created")},R2=A.createContext({canInstall:!1,triggerInstall:()=>console.warn("triggerInstall chamado fora de um PWAInstallProvider")}),v6=()=>A.useContext(R2),b6=({children:t})=>{const e=A.useRef(null),[n,i]=A.useState(!1);A.useEffect(()=>{const c=h=>{h.preventDefault(),e.current=h,i(!0),console.log("Evento beforeinstallprompt capturado com sucesso!")};window.addEventListener("beforeinstallprompt",c);const d=()=>{console.log("PWA instalado com sucesso!"),i(!1),e.current=null};return window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const l={canInstall:n,triggerInstall:async()=>{if(e.current){console.log("A acionar o prompt de instalao..."),await e.current.prompt();const{outcome:c}=await e.current.userChoice;console.log(`Escolha do utilizador: ${c}`),c==="accepted"&&(console.log("O utilizador aceitou a instalao. A rastrear o evento..."),g6("install_button"),i(!1),e.current=null)}else console.warn("O evento de instalao no est disponvel.")}};return y.jsx(R2.Provider,{value:l,children:t})},zw={"light-theme":{colors:{"--primary-color":"#2563eb","--primary-color-hover":"#1d4ed8","--secondary-color":"#dbeafe","--accent-color":"#f59e0b","--accent-color-hover":"#d97706","--success-color":"#10b981","--danger-color":"#ef4444","--background-color":"#f3f4f6","--surface-color":"#ffffff","--surface-secondary-color":"#f9fafb","--text-color":"#1f2937","--text-secondary-color":"#6b7280","--text-light-color":"#ffffff","--text-on-primary":"#ffffff","--text-on-accent":"#ffffff","--border-color":"#e5e7eb","--border-subtle-color":"#f3f4f6","--quadrant-do-bg":"#fee2e2","--quadrant-schedule-bg":"#dbeafe","--quadrant-delegate-bg":"#fef3c7","--quadrant-eliminate-bg":"#e5e7eb"},preview:"linear-gradient(to bottom right, #f3f4f6, #ffffff)"},"dark-theme":{colors:{"--primary-color":"#3B82F6","--primary-color-hover":"#2563EB","--secondary-color":"#374151","--accent-color":"#FBBF24","--accent-color-hover":"#F59E0B","--accent-color-light":"#FCD34D","--accent-color-glow":"rgba(251, 191, 36, 0.4)","--accent-color-dark":"#B45309","--success-color":"#10B981","--danger-color":"#EF4444","--background-color":"#111827","--surface-color":"#1F2937","--surface-secondary-color":"#374151","--text-color":"#F3F4F6","--text-secondary-color":"#9CA3AF","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#111827","--border-color":"#374151","--border-subtle-color":"#1F2937","--quadrant-do-bg":"rgba(239, 68, 68, 0.1)","--quadrant-schedule-bg":"rgba(59, 130, 246, 0.1)","--quadrant-delegate-bg":"rgba(245, 158, 11, 0.1)","--quadrant-eliminate-bg":"rgba(107, 114, 128, 0.1)"},preview:"linear-gradient(to bottom right, #1F2937, #111827)"},"forest-theme":{colors:{"--primary-color":"#2F855A","--primary-color-hover":"#276749","--secondary-color":"#C6F6D5","--accent-color":"#DD6B20","--accent-color-hover":"#C05621","--success-color":"#38A169","--danger-color":"#E53E3E","--background-color":"#F0FFF4","--surface-color":"#FFFFFF","--surface-secondary-color":"#EDF2F7","--text-color":"#2D3748","--text-secondary-color":"#4A5568","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#FFFFFF","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#C6F6D5","--quadrant-delegate-bg":"#FEEBC8","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #F0FFF4, #C6F6D5)"},"ocean-theme":{colors:{"--primary-color":"#3182CE","--primary-color-hover":"#2B6CB0","--secondary-color":"#BEE3F8","--accent-color":"#F6E05E","--accent-color-hover":"#D69E2E","--success-color":"#38B2AC","--danger-color":"#E53E3E","--background-color":"#EBF8FF","--surface-color":"#FFFFFF","--surface-secondary-color":"#F7FAFC","--text-color":"#2A4365","--text-secondary-color":"#4A5568","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#2A4365","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#BEE3F8","--quadrant-delegate-bg":"#FEFCBF","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #EBF8FF, #BEE3F8)"},"sunset-theme":{colors:{"--primary-color":"#D53F8C","--primary-color-hover":"#B83280","--secondary-color":"#FED7E2","--accent-color":"#ED8936","--accent-color-hover":"#DD6B20","--success-color":"#38A169","--danger-color":"#C53030","--background-color":"#FFF5F7","--surface-color":"#FFFFFF","--surface-secondary-color":"#F7FAFC","--text-color":"#4A5568","--text-secondary-color":"#718096","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#FFFFFF","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#FBB6CE","--quadrant-delegate-bg":"#FEEBC8","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #FFF5F7, #FED7E2)"}},_6={"--safe-top":"env(safe-area-inset-top, 0px)","--safe-bottom":"env(safe-area-inset-bottom, 0px)","--safe-left":"env(safe-area-inset-left, 0px)","--safe-right":"env(safe-area-inset-right, 0px)","--font-inter":`'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif`,"--font-poppins":`'Poppins', "Helvetica Neue", Arial, sans-serif`,"--font-scale":"1.0","--sp-xs":"4px","--sp-sm":"8px","--sp-md":"12px","--sp-lg":"16px","--sp-xl":"24px","--sp-xxl":"32px","--border-radius-md":"8px","--border-radius-lg":"12px","--transition-fast":"200ms ease","--transition-slow":"400ms ease"},Vw="focusfrog_theme_data_v2",D2=A.createContext(void 0),_y=()=>{const t=A.useContext(D2);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},w6={activeThemeId:"dark-theme",activeSoundId:"none",pontosFoco:0,unlockedRewards:["dark-theme","none"]},S6=({children:t})=>{const[e,n]=A.useState(w6),[i,a]=A.useState(!0);A.useEffect(()=>{try{const v=localStorage.getItem(Vw);v&&n(b=>({...b,...JSON.parse(v)}))}catch(v){console.error("Failed to load theme data from localStorage",v)}a(!1)},[]),A.useEffect(()=>{const v=zw[e.activeThemeId]||zw["dark-theme"],b=document.documentElement;Object.entries(_6).forEach(([S,T])=>{b.style.setProperty(S,T)}),Object.entries(v.colors).forEach(([S,T])=>{b.style.setProperty(S,T)})},[e.activeThemeId]);const l=A.useCallback((v,b)=>{n(S=>{const T=S[v],x=typeof b=="function"?b(T):b,C={...S,[v]:x};try{localStorage.setItem(Vw,JSON.stringify(C))}catch(k){console.error("Failed to save theme data",k)}return C})},[]),c=A.useCallback(v=>{l("activeThemeId",v)},[l]),d=A.useCallback(v=>{l("activeSoundId",v)},[l]),h=A.useCallback(v=>{l("pontosFoco",v)},[l]),f=A.useCallback(v=>{l("unlockedRewards",v)},[l]),g={...e,setActiveThemeId:c,setActiveSoundId:d,setPontosFoco:h,setUnlockedRewards:f,loadingTheme:i};return y.jsx(D2.Provider,{value:g,children:t})},T6={},E6=1500,x6=(t,e)=>{t&&(t.volume=e,t.play().catch(n=>console.error("Erro ao tocar som:",n)))},N2=A.createContext(void 0),fo=()=>{const t=A.useContext(N2);if(!t)throw new Error("usePomodoro must be used within a PomodoroProvider");return t},C6=({children:t})=>{const{soundEnabled:e}=vn(),{setPontosFoco:n}=_y(),[i,a]=Yt("focusfrog_pomodorosCompleted",0),[l,c]=A.useState(E6),[d]=A.useState("focus"),[h,f]=A.useState("idle"),[g,v]=A.useState(l),[b,S]=A.useState(""),[T,x]=Yt("focusfrog_activeTaskId",null),[C,k]=Yt("focusfrog_activeTaskTitle",null),[j,O]=A.useState(null),M=A.useRef(null),$=h==="running",F=A.useCallback(()=>{M.current&&clearInterval(M.current),f("idle"),v(l),x(null),k(null)},[l,x,k]);A.useEffect(()=>{if(h==="running")return M.current=setInterval(()=>{v(pe=>pe<=1?(clearInterval(M.current),setTimeout(()=>{e&&x6(T6.levelEnd,.5),a(B=>B+1),n(B=>B+25),T?O({taskId:T}):F()},0),0):pe-1)},1e3),()=>{M.current&&clearInterval(M.current)}},[h,e,n,T,a,F,O]);const L=A.useCallback(pe=>{v(pe),f("running")},[]),G=A.useCallback(()=>{T&&F(),L(l)},[T,l,L,F]),Z=A.useCallback((pe,B,Y)=>{const le=Y?Y*60:l;x(pe),k(B),L(le)},[l,L,x,k]),ee=A.useCallback(()=>f("paused"),[]),oe=A.useCallback(()=>f("running"),[]),J=A.useCallback(pe=>{const B=pe*60;c(B),h==="idle"&&v(B)},[h]),se=A.useCallback(()=>O(null),[]),Ee={pomodorosCompleted:i,timerMode:d,status:h,isActive:$,timeRemaining:g,sessionDuration:l,distractionNotes:b,setDistractionNotes:S,activeTaskId:T,activeTaskTitle:C,lastCompletedFocus:j,clearLastCompletedFocus:se,startFocusOnTask:Z,startCycle:G,pauseCycle:ee,resumeCycle:oe,stopCycle:F,setFocusDuration:J};return y.jsx(N2.Provider,{value:Ee,children:t})},I2=A.createContext(void 0),Rn=()=>{const t=A.useContext(I2);if(!t)throw new Error("useTasks must be used within a TasksProvider");return t},A6=[{id:"item-1",text:"Chaves",completed:!1,isDefault:!0},{id:"item-2",text:"Carteira",completed:!1,isDefault:!0},{id:"item-3",text:"Celular",completed:!1,isDefault:!0}],k6=({children:t})=>{const{addNotification:e}=vn(),{setPontosFoco:n}=_y(),{activeTaskId:i,stopCycle:a,lastCompletedFocus:l,clearLastCompletedFocus:c}=fo(),[d,h]=Yt("focusfrog_tasks",[]),[f,g]=Yt("focusfrog_tags",rx),[v,b]=Yt("focusfrog_frogTaskId",null),[S,T]=Yt("focusfrog_onboarding_completed",!1),[x,C]=Yt("focusfrog_routines",ox),[k,j]=Yt("focusfrog_taskTemplates",ax),[O,M]=Yt("focusfrog_leavingHomeItems",A6),[$,F]=A.useState(null),[L,G]=A.useState([]),Z=A.useMemo(()=>L.length>0,[L]);A.useEffect(()=>{var ae;const X=k.find(de=>de.id===50);if(!S&&X){const de=`task-${Date.now()}`,ce={id:de,title:X.title,description:X.description,quadrant:X.quadrant||"inbox",pomodoroEstimate:X.pomodoroEstimate!==void 0?X.pomodoroEstimate:1,customDuration:X.customDuration,energyNeeded:X.energyNeeded,subtasks:(ae=X.subtasks)==null?void 0:ae.map((Ke,gt)=>({id:`sub-${Date.now()}-${gt}`,text:Ke.text,completed:!1})),tagId:X.category==="FocusFrog"?1:void 0,status:"todo",displayOrder:0,templateId:X.id};h([ce]),b(de),T(!0)}},[S,T,h,b,k]);const ee=A.useCallback(()=>{const X=new Date,ae=X.getFullYear(),de=String(X.getMonth()+1).padStart(2,"0"),ce=String(X.getDate()).padStart(2,"0");return`${ae}-${de}-${ce}`},[]),oe=A.useMemo(()=>ee(),[ee]),J=A.useMemo(()=>!d.find(ae=>ae.id===v&&ae.dueDate===oe),[d,v,oe]),se=A.useCallback(X=>{B([X]),X.quadrant==="inbox"?e("Nova tarefa capturada na Caixa de Entrada","","info"):e("Nova tarefa adicionada  sua lista","","success")},[e]),Ee=A.useCallback(X=>{h(ae=>{const de=ae.find(Re=>Re.id===X.id);if(!de)return ae;if(de.quadrant===X.quadrant)return ae.map(Re=>Re.id===X.id?X:Re);const ce=ae.filter(Re=>Re.id!==X.id),Ke=ce.filter(Re=>Re.quadrant===de.quadrant).sort((Re,rn)=>(Re.displayOrder||0)-(rn.displayOrder||0)).map((Re,rn)=>({...Re,displayOrder:rn})),gt={...X,displayOrder:ce.filter(Re=>Re.quadrant===X.quadrant).length},bt=[...ce.filter(Re=>Re.quadrant===X.quadrant),gt].sort((Re,rn)=>(Re.displayOrder||0)-(rn.displayOrder||0)).map((Re,rn)=>({...Re,displayOrder:rn}));return[...ce.filter(Re=>Re.quadrant!==de.quadrant&&Re.quadrant!==X.quadrant),...Ke,...bt]}),e("Tarefa atualizada com sucesso","","success")},[h,e]),pe=A.useCallback((X,ae)=>{const de=d.find(ce=>ce.id===X);!de||de.status==="done"||(X===i&&a(),h(ce=>ce.map(Ke=>{var gt;if(Ke.id!==X)return Ke;if(ae){const bt=((gt=Ke.subtasks)==null?void 0:gt.map(Re=>Re.id===ae?{...Re,completed:!0}:Re))||[];return bt.every(Re=>Re.completed)?(n(Re=>Re+10),X===v?(e("Sapo do dia engolido!","","victory"),n(Re=>Re+40)):e("Tarefa concluda por subtarefas!","","success"),{...Ke,subtasks:bt,status:"done",completedAt:new Date().toISOString()}):{...Ke,subtasks:bt}}else return n(bt=>bt+10),X===v?(e("Sapo do dia engolido!","","victory"),n(bt=>bt+40)):e("Tarefa concluda!","","success"),{...Ke,status:"done",completedAt:new Date().toISOString()}})))},[d,h,e,n,i,a,v]);A.useEffect(()=>{l!=null&&l.taskId&&setTimeout(()=>{pe(l.taskId),c(),a()},0)},[l,pe,c,a]);const B=A.useCallback(X=>{h(ae=>{const de=X.map((ce,Ke)=>({...ce,id:`task-${Date.now()}-${Ke}`,status:"todo",displayOrder:ae.filter(gt=>gt.quadrant===ce.quadrant).length+Ke}));return[...ae,...de]})},[h]),Y=A.useCallback((X,ae,de)=>{h(ce=>{const Ke=ce.find(Je=>Je.id===X);if(!Ke)return ce;const gt=Ke.quadrant;if(gt===ae){const Je=ce.filter(ht=>ht.quadrant===gt&&ht.id!==X).sort((ht,So)=>(ht.displayOrder||0)-(So.displayOrder||0));Je.splice(de,0,Ke);const ot=Je.map((ht,So)=>({...ht,displayOrder:So}));return[...ce.filter(ht=>ht.quadrant!==gt),...ot]}const bt=ce.filter(Je=>Je.id!==X),Nt=bt.filter(Je=>Je.quadrant===gt).sort((Je,ot)=>(Je.displayOrder||0)-(ot.displayOrder||0)).map((Je,ot)=>({...Je,displayOrder:ot})),Re=bt.filter(Je=>Je.quadrant===ae).sort((Je,ot)=>(Je.displayOrder||0)-(ot.displayOrder||0)),rn={...Ke,quadrant:ae};Re.splice(de,0,rn);const wo=Re.map((Je,ot)=>({...Je,displayOrder:ot}));return[...bt.filter(Je=>Je.quadrant!==gt&&Je.quadrant!==ae),...Nt,...wo]})},[h]),le=A.useCallback(()=>{$&&(h(X=>{const ae=[...X];return ae.splice($.index,0,$.task),ae}),F(null),e("Tarefa restaurada","","info"))},[$,h,e]),xe=A.useCallback(X=>{X===i&&a();const ae=d.findIndex(ce=>ce.id===X);if(ae===-1)return;const de=d[ae];F({task:de,index:ae}),h(ce=>ce.filter(Ke=>Ke.id!==X)),e("Tarefa excluda","","info",{label:"Desfazer",onAction:le}),setTimeout(()=>{F(null)},5e3)},[d,h,e,le,i,a]),Ae=A.useCallback((X,ae)=>{pe(X,ae)},[pe]),D=A.useCallback(X=>{v===i&&v!==X&&a(),b(X)},[v,i,a,b]),H=A.useCallback(()=>{v===i&&a(),b(null)},[v,i,a,b]),re=A.useCallback(X=>{g(ae=>{if(X.id)return e("Tag atualizada com sucesso","","success"),ae.map(ce=>ce.id===X.id?{...ce,...X}:ce);e("Nova tag criada","","success");const de={id:Date.now(),name:X.name,color:X.color};return[...ae,de]})},[g,e]),ne=A.useCallback(X=>{g(ae=>ae.filter(de=>de.id!==X)),h(ae=>ae.map(de=>de.tagId===X?{...de,tagId:void 0}:de)),e("Tag excluda","","info")},[g,h,e]),_e=A.useCallback(X=>{const ae=d.find(de=>de.id===X);if(ae){const de={...ae,title:`${ae.title} (Cpia)`};se(de)}},[d,se]),je=A.useCallback((X,ae)=>{h(de=>de.map(ce=>{if(ce.id===X){const Ke=ce.dueDate?new Date(ce.dueDate+"T00:00:00"):new Date;Ke.setDate(Ke.getDate()+ae);const gt=Ke.toISOString().split("T")[0];return{...ce,dueDate:gt}}return ce})),e(`Tarefa adiada por ${ae} dia(s)`,"","info")},[h,e]),ze=A.useCallback(X=>{var de;const ae={id:Date.now(),title:X.title,description:X.description,quadrant:X.quadrant,pomodoroEstimate:X.pomodoroEstimate,customDuration:X.customDuration,energyNeeded:X.energyNeeded,category:"Personalizado",subtasks:(de=X.subtasks)==null?void 0:de.map(ce=>({text:ce.text})),isDefault:!1};j(ce=>[...ce,ae]),e("Novo modelo salvo na sua biblioteca","","success")},[j,e]),Ot=A.useCallback(X=>{const ae=k.find(de=>de.id===X);if(ae){if(ae.isDefault){e("Modelos padro no podem ser excludos.","","error");return}j(de=>de.filter(ce=>ce.id!==X)),e("Modelo excludo com sucesso.","","info")}},[k,j,e]),ge=A.useCallback(X=>{const ae=new Date,de=ae.getFullYear(),ce=String(ae.getMonth()+1).padStart(2,"0"),Ke=String(ae.getDate()).padStart(2,"0"),gt=`${de}-${ce}-${Ke}`,bt=X.map(Nt=>{var Re;return{title:Nt.title,description:Nt.description,quadrant:Nt.quadrant||"inbox",pomodoroEstimate:Nt.pomodoroEstimate!==void 0?Nt.pomodoroEstimate:1,customDuration:Nt.customDuration,energyNeeded:Nt.energyNeeded,subtasks:(Re=Nt.subtasks)==null?void 0:Re.map((rn,wo)=>({id:`sub-${Date.now()}-${wo}`,text:rn.text,completed:!1})),dueDate:gt,templateId:Nt.id}});bt.length>0&&(B(bt),e(`${bt.length} tarefa(s) adicionada(s)  sua lista`,"","success"))},[B,e]),Zt=A.useCallback(X=>{const ae=k.filter(de=>X.taskTemplateIds.includes(de.id));ae.length>0&&(ge(ae),e(`Rotina '${X.name}' adicionada`,"","success"))},[k,ge,e]),ps=A.useCallback(X=>{C(ae=>{const de=ae.findIndex(ce=>ce.id===X.id);if(de>-1){const ce=[...ae];return ce[de]=X,e(`Rotina '${X.name}' atualizada!`,"","success"),ce}else{const ce={...X,id:`routine-${Date.now()}`,isDefault:!1};return e(`Nova rotina '${ce.name}' criada!`,"","success"),[...ae,ce]}})},[C,e]),Qi=A.useCallback(X=>{const ae=x.find(de=>de.id===X);if(ae){if(ae.isDefault){e("Rotinas padro no podem ser excludas.","","error");return}C(de=>de.filter(ce=>ce.id!==X)),e("Rotina excluda com sucesso.","","info")}},[x,C,e]),Ji=X=>{M(ae=>ae.map(de=>de.id===X?{...de,completed:!de.completed}:de))},Jn=X=>{M(ae=>[...ae,{id:`item-${Date.now()}`,text:X,completed:!1}])},Zi=X=>{M(ae=>ae.filter(de=>de.id!==X))},js=()=>{M(X=>X.map(ae=>({...ae,completed:!1})))},ph=A.useCallback(()=>{const X=d.filter(ae=>ae.quadrant==="inbox");G(X),X.length===0&&e("Sua caixa de entrada est limpa!","","success")},[d,e]),Hr=A.useCallback(()=>{G([])},[]),bo=A.useCallback(X=>{if(L.length===0)return;const ae=L[0],de=d.filter(ce=>ce.quadrant===X).length;Y(ae.id,X,de),G(ce=>ce.slice(1)),L.length===1&&(e("Triagem concluda!","","success"),Hr())},[L,d,Y,Hr,e]),_o={tasks:d,tags:f,frogTaskId:v,routines:x,taskTemplates:k,handleAddTask:se,handleAddTasks:B,handleUpdateTask:Ee,handleUpdateTaskQuadrant:Y,handleDeleteTask:xe,handleCompleteTask:pe,handleToggleSubtask:Ae,handleSetFrog:D,handleUnsetFrog:H,handleSaveTag:re,handleDeleteTag:ne,handleDuplicateTask:_e,handlePostponeTask:je,needsMorningPlan:J,handleCreateTemplateFromTask:ze,handleDeleteTemplate:Ot,handleAddRoutine:Zt,handleSaveRoutine:ps,handleDeleteRoutine:Qi,handleAddTemplates:ge,leavingHomeItems:O,handleToggleLeavingHomeItem:Ji,handleAddLeavingHomeItem:Jn,handleRemoveLeavingHomeItem:Zi,handleResetLeavingHomeItems:js,triageQueue:L,isTriageActive:Z,startTriage:ph,processTriage:bo,endTriage:Hr};return y.jsx(I2.Provider,{value:_o,children:t})};var mo=WT();const te=({path:t,size:e=24,className:n="",style:i,title:a})=>y.jsxs("svg",{className:n,style:i,width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[a&&y.jsx("title",{children:a}),y.jsx("path",{d:t,fillRule:"evenodd",clipRule:"evenodd"})]}),Q={layoutGrid:"M3 3h8v8H3V3zm0 10h8v8H3v-8zM13 3h8v8h-8V3zm0 10h8v8h-8v-8z",checkSquare:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",timer:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.25 12.15L11 12.5V7h1.5v4.5l4.08 2.14l-.83 1.51z",star:"M12 17.27l6.18 3.73-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21l6.18-3.73z",barChart:"M4 9h4v11H4zm6-5h4v16h-4zm6 8h4v8h-4z",plus:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",pencil:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",trash:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",ellipsis:"M6 12c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2zm6 0c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2zm6 0c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2z",chevronDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",chevronUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41-1.41z",play:"M8 5v14l11-7L8 5z",pause:"M6 19h4V5H6v14zm8-14v14h4V5h-4z",rotateCw:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",copy:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",filter:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z",list:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z",arrowDownUp:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",download:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z",pomodoro:"M18.5 6.5C18.5 5.2 17.4 4 16 4h-2c-.8 0-1.6.4-2 1C11.6 4.4 10.8 4 10 4H8C6.6 4 5.5 5.2 5.5 6.5c0 .3.1.6.2.9C3.9 8.2 3 10 3 12c0 2.2 1.8 4 4 4h1v2.5c0 .8.7 1.5 1.5 1.5h1c.8 0 1.5-.7 1.5-1.5V16h1c2.2 0 4-1.8 4-4c0-2-1-3.8-2.8-4.6.1-.3.2-.6.2-.9z",frog:"M20 10.5c0-1.87-.92-3.63-2.5-4.75-.5-.35-1.15-.3-1.6.15l-.2.2c-.75.75-1.85.95-2.8.5-2.2-1.05-4.8-.9-6.85.45-.6.4-1.25.35-1.8-.1l-.15-.15C2.62 5.42 1 7.22 1 9.5c0 1.48.68 2.88 1.88 3.88.55.45 1.25.5 1.8.1.1-.05.15-.1.25-.15 1.9-1.25 4.35-1.35 6.45-.35 1.1.55 2.35.45 3.35-.25.1-.05.15-.1.25-.15 1.35-.6 2.65-.1 3.5.85.35.35.8.5 1.25.5.4 0 .75-.1.9-.3.8-.8.97-1.93.52-2.93zM8.5 13a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm7-3a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",target:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2V7zm0 4h2v6h-2v-6z",zap:"M7 2v11h3v9l7-12h-4l4-8z",listChecks:"M15.5 2H8.5C7.67 2 7 2.67 7 3.5v17c0 .83.67 1.5 1.5 1.5h11c.83 0 1.5-.67 1.5-1.5V7.5L15.5 2zM15 8V4l4 4h-4zm-2.5 9H10v-2h2.5v2zm2.5-4H10v-2h5v2zm0-4H10V7h5v2z",coffee:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2a2 2 0 002-2V5c0-1.1-.9-2-2-2zm-2 5h-2V5h2v3z",bookOpen:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-4zm-2 10l-2.5 1.5L7 12V4h5v8z",pawPrint:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.5 11.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-7 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm1.5-5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z",briefcase:"M20 7h-4V5c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5z",sun:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",moon:"M10 2c-1.71 0-3.32.42-4.75 1.19-1.42.77-2.63 1.98-3.4 3.4-.77 1.42-1.19 3.04-1.19 4.75 0 3.73 2.14 7.02 5.25 8.56.28.14.6-.06.6-.37v-1.6c0-.44-.24-.84-.62-1.04-1.1-.6-1.88-1.75-1.88-3.05 0-1.93 1.57-3.5 3.5-3.5.95 0 1.82.38 2.45.99.3.29.7.43 1.12.37.7-.1 1.25-.66 1.35-1.35.06-.42.2-.82.47-1.13.61-.72 1.5-1.14 2.45-1.14 1.93 0 3.5 1.57 3.5 3.5 0 1.3-.78 2.45-1.88 3.05-.38.2-.62.6-.62 1.04v1.6c0 .31.32.51.6.37 3.11-1.54 5.25-4.83 5.25-8.56 0-4.97-4.03-9-9-9z",award:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-3 14H9V8l3-3 3 3v7z",battery:"M17 5v14c0 1.1-.9 2-2 2H9c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h1.5V2h3v1H15c1.1 0 2 .9 2 2zm-4 3h-2v4h2V8zm0 6h-2v2h2v-2z",batteryLow:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 9h4v1H10V9z",batteryMedium:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 13h4v-5H10v5z",batteryFull:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 7h4v10H10V7z",alertTriangle:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",checkCircle:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",circle:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",clock:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.25 12.15L11 12.5V7h1.5v4.5l4.08 2.14l-.83 1.51z",calendar:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V8h10v11z",trophy:"M20.2,2H3.8C3.3,2 3,2.3,3,2.8V3c0,0.1,0,0.2,0.1,0.3L6,6.2V11c0,1.3,0.6,2.5,1.6,3.3L12,17.4l4.4-3.1c1-0.8,1.6-2,1.6-3.3V6.2l2.9-2.9C21,3.2,21,3.1,21,3v-0.2C21,2.3,20.7,2,20.2,2z M10,12v-2h4v2H10z M21,19c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2v-1h18V19z",palette:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5C21 7.03 16.97 3 12 3zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9s1.5.67 1.5 1.5S7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5S18.33 12 17.5 12z",music:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-4z",volumeX:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z",sparkles:"M19 10h-2.1l-1.9-4-1.9 4H11l1.6 3.2L11 16.4h2.1l1.9-4 1.9 4H19l-1.6-3.2L19 10zm-8-4H9V4H7v2H5c-1.1 0-2 .9-2 2v2h2v-1.5h1.5V11h-2v2h2v-1.5h1.5V15h-2v2h2v-1.5h1.5V19h-2v2h2v-1.5h1.5V23h2v-2h-1.5v-1.5H11v-2h1.5v-1.5H11v-2h1.5V11H11V9h1.5V7.5H11V6z",lock:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z",check:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z",rocket:"M14 2L11.5 9h5L14 2zm1.25 10a.75.75 0 01.75-.75h2a.75.75 0 01.75.75v5.336c0 .85-.36 1.63-.95 2.18L18 20.334V22h-4v-1.666l-1.05-1.052a2.75 2.75 0 01-.95-2.18V12a.75.75 0 01.75-.75h2a.75.75 0 01.75.75v.25h1.5V12z",gem:"M12.83 2.12a2 2 0 00-1.66 0L2.6 8.3c-.63.53-.78 1.45-.36 2.12l8 11.2a2 2 0 003.52 0l8-11.2c.42-.67.27-1.59-.36-2.12L12.83 2.12z",crown:"M5 16L3 5l5.5 4.5L12 4l3.5 5.5L21 5l-2 11H5zm14 2H5v2h14v-2z",flame:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67z",sliders:"M4 21h4v-4H4v4zm0-10h4V7H4v4zm0-4h4V3H4v4zm6 10h4v-8H10v8zm0-12h4V3h-4v6zm6 4h4V7h-4v4zm0-4h4V3h-4v4zm0 12h4v-4h-4v4z"},O6="_modalOverlay_g91xn_5",j6="_fadeIn_g91xn_1",R6="_modal_g91xn_5",D6="_slideUp_g91xn_1",N6="_modalHeader_g91xn_11",I6="_modalBody_g91xn_14",M6="_titleInput_g91xn_16",L6="_descriptionTextarea_g91xn_19",P6="_addDetailsButton_g91xn_22",U6="_detailedFields_g91xn_25",B6="_formGroup_g91xn_27",z6="_grid_g91xn_30",V6="_buttonSelector_g91xn_32",$6="_selected_g91xn_34",F6="_matrixSelectorContainer_g91xn_36",q6="_matrixRow_g91xn_37",H6="_matrixLabel_g91xn_38",G6="_matrixToggleGroup_g91xn_39",K6="_matrixToggleBtn_g91xn_40",W6="_active_g91xn_42",Y6="_matrixResult_g91xn_44",X6="_resultIcon_g91xn_45",Q6="_resultText_g91xn_47",J6="_resultTitle_g91xn_48",Z6="_resultSubtitle_g91xn_49",eL="_subtaskList_g91xn_60",tL="_subtaskItem_g91xn_61",nL="_subtaskInput_g91xn_62",sL="_subtaskAddGroup_g91xn_65",iL="_modalFooter_g91xn_69",rL="_footerActions_g91xn_70",Se={modalOverlay:O6,fadeIn:j6,modal:R6,slideUp:D6,modalHeader:N6,modalBody:I6,titleInput:M6,descriptionTextarea:L6,addDetailsButton:P6,detailedFields:U6,formGroup:B6,grid:z6,buttonSelector:V6,selected:$6,matrixSelectorContainer:F6,matrixRow:q6,matrixLabel:H6,matrixToggleGroup:G6,matrixToggleBtn:K6,active:W6,matrixResult:Y6,resultIcon:X6,resultText:Q6,resultTitle:J6,resultSubtitle:Z6,"quadrant-inbox":"_quadrant-inbox_g91xn_52","quadrant-do":"_quadrant-do_g91xn_53","quadrant-schedule":"_quadrant-schedule_g91xn_54","quadrant-delegate":"_quadrant-delegate_g91xn_55","quadrant-eliminate":"_quadrant-eliminate_g91xn_56",subtaskList:eL,subtaskItem:tL,subtaskInput:nL,subtaskAddGroup:sL,modalFooter:iL,footerActions:rL},ms=t=>{const e=A.useRef(null);return A.useEffect(()=>{const n=i=>{e.current&&!e.current.contains(i.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),e},aL="_selectorContainer_1vmeg_2",oL="_selectorButton_1vmeg_7",lL="_open_1vmeg_22",cL="_selectorValue_1vmeg_27",uL="_tagColorDot_1vmeg_33",dL="_placeholder_1vmeg_39",hL="_chevron_1vmeg_43",fL="_popover_1vmeg_52",mL="_popoverItem_1vmeg_68",pL="_selected_1vmeg_82",gL="_manageButton_1vmeg_88",Kt={selectorContainer:aL,selectorButton:oL,open:lL,selectorValue:cL,tagColorDot:uL,placeholder:dL,chevron:hL,popover:fL,popoverItem:mL,selected:pL,manageButton:gL},yL=({tags:t,selectedTagId:e,onChange:n,onManageTags:i,label:a})=>{const[l,c]=A.useState(!1),d=A.useRef(null);ms(d);const h=t.find(g=>g.id===e),f=g=>{n(g),c(!1)};return y.jsxs("div",{className:Kt.selectorContainer,ref:d,children:[y.jsxs("label",{className:"form-label",children:[y.jsx(te,{path:Q.tag})," ",a]}),y.jsxs("button",{className:`${Kt.selectorButton} ${l?Kt.open:""}`,onClick:()=>c(!l),children:[y.jsx("div",{className:Kt.selectorValue,children:h?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:Kt.tagColorDot,style:{backgroundColor:h.color}}),y.jsx("span",{children:h.name})]}):y.jsx("span",{className:Kt.placeholder,children:"Nenhuma etiqueta"})}),y.jsx(te,{path:Q.chevronDown,className:`${Kt.chevron} ${l?Kt.open:""}`})]}),l&&y.jsxs("div",{className:Kt.popover,children:[y.jsxs("div",{className:`${Kt.popoverItem} ${e?"":Kt.selected}`,onClick:()=>f(null),children:[y.jsx("span",{className:Kt.tagColorDot,style:{backgroundColor:"var(--border-color)"}}),"Nenhuma etiqueta"]}),t.map(g=>y.jsxs("div",{className:`${Kt.popoverItem} ${e===g.id?Kt.selected:""}`,onClick:()=>f(g.id),children:[y.jsx("span",{className:Kt.tagColorDot,style:{backgroundColor:g.color}}),g.name]},g.id)),y.jsxs("div",{className:Kt.manageButton,onClick:i,children:[y.jsx(te,{path:Q.settings}),"Gerenciar Etiquetas"]})]})]})},vL="_editorContainer_jc5hz_2",bL="_header_jc5hz_9",_L="_editorBody_jc5hz_22",wL="_form_jc5hz_29",SL="_formActions_jc5hz_35",TL="_colorPalette_jc5hz_41",EL="_colorSwatch_jc5hz_47",xL="_selected_jc5hz_56",CL="_listSection_jc5hz_61",AL="_list_jc5hz_61",kL="_listItem_jc5hz_82",OL="_listItemInfo_jc5hz_91",jL="_tagColorDot_jc5hz_98",RL="_listItemActions_jc5hz_104",fn={editorContainer:vL,header:bL,editorBody:_L,form:wL,formActions:SL,colorPalette:TL,colorSwatch:EL,selected:xL,listSection:CL,list:AL,listItem:kL,listItemInfo:OL,tagColorDot:jL,listItemActions:RL},rp=["#EF4444","#F97316","#FBBF24","#10B981","#3B82F6","#8B5CF6","#EC4899"],DL=({onBack:t})=>{const{tags:e,handleSaveTag:n,handleDeleteTag:i}=Rn(),[a,l]=A.useState({name:"",color:rp[0]}),c=g=>{l(g)},d=()=>{l({name:"",color:rp[0]})},h=g=>{var v;g.preventDefault(),(v=a.name)!=null&&v.trim()&&(n(a),d())},f=g=>{window.confirm("Tem certeza que deseja excluir esta etiqueta? Ela ser removida de todas as tarefas.")&&(i(g),d())};return y.jsxs("div",{className:fn.editorContainer,children:[y.jsxs("div",{className:fn.header,children:[y.jsx("button",{onClick:t,className:"btn btn-secondary btn-icon",children:y.jsx(te,{path:Q.arrowLeft})}),y.jsx("h4",{children:"Gerenciar Etiquetas"})]}),y.jsxs("div",{className:fn.editorBody,children:[y.jsxs("form",{onSubmit:h,className:fn.form,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:a.id?"Editando Etiqueta":"Nova Etiqueta"}),y.jsx("input",{type:"text",className:"g-input",placeholder:"Nome da etiqueta",value:a.name||"",onChange:g=>l(v=>({...v,name:g.target.value}))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Cor"}),y.jsx("div",{className:fn.colorPalette,children:rp.map(g=>y.jsx("div",{className:`${fn.colorSwatch} ${a.color===g?fn.selected:""}`,style:{backgroundColor:g},onClick:()=>l(v=>({...v,color:g}))},g))})]}),y.jsxs("div",{className:fn.formActions,children:[a.id&&y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:d,children:"Cancelar Edio"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:a.id?"Salvar Alteraes":"Criar Etiqueta"})]})]}),y.jsxs("div",{className:fn.listSection,children:[y.jsx("h5",{children:"Etiquetas Existentes"}),y.jsx("ul",{className:fn.list,children:e.map(g=>y.jsxs("li",{className:fn.listItem,children:[y.jsxs("div",{className:fn.listItemInfo,children:[y.jsx("div",{className:fn.tagColorDot,style:{backgroundColor:g.color}}),y.jsx("span",{children:g.name})]}),y.jsxs("div",{className:fn.listItemActions,children:[y.jsx("button",{onClick:()=>c(g),className:"btn btn-tertiary btn-icon btn-sm",children:y.jsx(te,{path:Q.pencil})}),y.jsx("button",{onClick:()=>f(g.id),className:"btn btn-tertiary btn-icon btn-sm btn-danger",children:y.jsx(te,{path:Q.trash})})]})]},g.id))})]})]})]})},M2=({taskToEdit:t,onClose:e,tags:n})=>{const{handleAddTask:i,handleUpdateTask:a,handleDeleteTask:l,handleCreateTemplateFromTask:c}=Rn(),{startFocusOnTask:d}=fo(),{handleNavigate:h}=vn(),[f,g]=A.useState({}),[v,b]=A.useState(""),[S,T]=A.useState("task"),[x,C]=A.useState(null),k=ms(e),j=f.pomodoroEstimate===0;A.useEffect(()=>{const se=(Ee=>{if(Ee&&Object.keys(Ee).length>0)return{...Ee,subtasks:Ee.subtasks?[...Ee.subtasks]:[],pomodoroEstimate:Ee.pomodoroEstimate!==void 0?Ee.pomodoroEstimate:1};const pe=new Date,B=pe.getFullYear(),Y=String(pe.getMonth()+1).padStart(2,"0"),le=String(pe.getDate()).padStart(2,"0");return{title:"",description:"",quadrant:"inbox",subtasks:[],status:"todo",pomodoroEstimate:1,energyNeeded:"medium",dueDate:`${B}-${Y}-${le}`}})(t);g(se),T("task"),C(document.getElementById("modal-root"))},[t]);const O=(J,se)=>g(Ee=>({...Ee,[J]:se})),M=J=>{O("pomodoroEstimate",J==="quick"?0:1),J==="quick"&&O("customDuration",void 0)},$=()=>{if(v.trim()){const J={id:`sub-${Date.now()}`,text:v,completed:!1};O("subtasks",[...f.subtasks||[],J]),b("")}},F=J=>{var se;return O("subtasks",(se=f.subtasks)==null?void 0:se.filter(Ee=>Ee.id!==J))},L=()=>{var se;if(!((se=f.title)!=null&&se.trim()))return alert("O ttulo da tarefa  obrigatrio.");const{...J}=f;J.id?a(J):i(J),e()},G=()=>{f.id&&window.confirm("Tem certeza que deseja excluir esta tarefa?")&&(l(f.id),e())};if(!t||!x)return null;const Z=[{id:"low",label:"Baixa",icon:"batteryLow"},{id:"medium",label:"Mdia",icon:"batteryMedium"},{id:"high",label:"Alta",icon:"battery"}],ee=[{id:"morning",label:"Manh"},{id:"afternoon",label:"Tarde"},{id:"night",label:"Noite"},{id:"",label:"Nenhum"}],oe=()=>{var J;return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:"g-modal-header",children:[y.jsx("div",{className:Se.headerTitleGroup,children:y.jsxs("h3",{children:[y.jsx(te,{path:Q.pencil})," ",f.id?"Editar Tarefa":"Nova Tarefa"]})}),y.jsx("button",{onClick:e,className:"btn btn-secondary btn-icon",children:y.jsx(te,{path:Q.close})})]}),y.jsxs("main",{className:"g-modal-body",children:[y.jsx("input",{type:"text",className:Se.titleInput,placeholder:"O que precisa ser feito?",value:f.title||"",onChange:se=>O("title",se.target.value),autoFocus:!0}),y.jsxs("div",{className:Se.detailedFields,children:[y.jsx("textarea",{className:Se.descriptionTextarea,placeholder:"Descrio, links, notas...",value:f.description||"",onChange:se=>O("description",se.target.value)}),y.jsx(NL,{task:f,setTask:g}),y.jsxs("div",{className:Se.grid,children:[y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.calendar})," Data"]}),y.jsx("input",{type:"date",className:"g-input",value:f.dueDate||"",onChange:se=>O("dueDate",se.target.value)})]}),y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.sun})," Perodo"]}),y.jsx("div",{className:Se.buttonSelector,children:ee.map(se=>y.jsx("button",{className:f.timeOfDay===se.id?Se.selected:"",onClick:()=>O("timeOfDay",se.id),children:se.label},se.id))})]})]}),y.jsx(yL,{label:"Etiqueta",tags:n,selectedTagId:f.tagId||null,onChange:se=>O("tagId",se),onManageTags:()=>T("tags")}),y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.target})," Tipo de Tarefa"]}),y.jsxs("div",{className:Se.buttonSelector,children:[y.jsx("button",{className:j?"":Se.selected,onClick:()=>M("focus"),children:"Foco (Timer)"}),y.jsx("button",{className:j?Se.selected:"",onClick:()=>M("quick"),children:"Rpida (Check)"})]})]}),!j&&y.jsxs("div",{className:Se.grid,children:[y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.timer})," Pomodoros (25min)"]}),y.jsx("input",{type:"number",className:"g-input",value:f.pomodoroEstimate||"",onChange:se=>O("pomodoroEstimate",parseInt(se.target.value)||1),min:"1",placeholder:"1"})]}),y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.clock})," Durao Custom. (min)"]}),y.jsx("input",{type:"number",className:"g-input",value:f.customDuration||"",onChange:se=>O("customDuration",se.target.value?parseInt(se.target.value):void 0),min:"1",placeholder:"25"})]})]}),y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.battery})," Energia Necessria"]}),y.jsx("div",{className:Se.buttonSelector,children:Z.map(se=>y.jsxs("button",{className:f.energyNeeded===se.id?Se.selected:"",onClick:()=>O("energyNeeded",se.id),children:[y.jsx(te,{path:Q[se.icon]})," ",se.label]},se.id))})]}),y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.checkSquare})," Subtarefas"]}),y.jsx("ul",{className:Se.subtaskList,children:(J=f.subtasks)==null?void 0:J.map(se=>y.jsxs("li",{className:Se.subtaskItem,children:[y.jsx("input",{type:"checkbox",checked:se.completed,readOnly:!0,className:"task-complete-button"}),y.jsx("input",{type:"text",value:se.text,onChange:Ee=>{var pe;return O("subtasks",(pe=f.subtasks)==null?void 0:pe.map(B=>B.id===se.id?{...B,text:Ee.target.value}:B))},className:Se.subtaskInput}),y.jsx("button",{onClick:()=>F(se.id),className:"btn btn-tertiary btn-icon btn-sm",children:y.jsx(te,{path:Q.trash})})]},se.id))}),y.jsxs("div",{className:Se.subtaskAddGroup,children:[y.jsx("input",{type:"text",placeholder:"Adicionar subtarefa...",value:v,onChange:se=>b(se.target.value),onKeyPress:se=>se.key==="Enter"&&$()}),y.jsx("button",{onClick:$,className:"btn btn-primary btn-icon btn-sm",children:y.jsx(te,{path:Q.plus})})]})]})]})]}),y.jsxs("footer",{className:"g-modal-footer",children:[y.jsxs("div",{className:Se.footerActions,children:[f.id&&y.jsxs("button",{className:"btn btn-tertiary btn-danger",onClick:G,children:[y.jsx(te,{path:Q.trash})," Excluir"]}),f.id&&y.jsxs("button",{className:"btn btn-tertiary",onClick:()=>c(f),children:[y.jsx(te,{path:Q.bookOpen})," Salvar como Modelo"]})]}),y.jsx("div",{className:Se.footerActions,children:y.jsxs("button",{className:"btn btn-primary",onClick:L,children:[y.jsx(te,{path:Q.check})," Salvar"]})})]})]})};return mo.createPortal(y.jsx("div",{className:"g-modal-overlay",children:y.jsx("div",{className:"g-modal",ref:k,children:S==="task"?oe():y.jsx(DL,{onBack:()=>T("task")})})}),x)},NL=({task:t,setTask:e})=>{const[n,i]=A.useState(null),[a,l]=A.useState(null),c=Xp.find(h=>h.id===t.quadrant)||Xp.find(h=>h.id==="inbox");A.useEffect(()=>{const h=t.quadrant;h==="do"?(i("urgent"),l("important")):h==="schedule"?(i("not-urgent"),l("important")):h==="someday"?(i("not-urgent"),l("not-important")):(i(null),l(null))},[t.quadrant]);const d=(h,f)=>{if(i(h),l(f),h&&f){let g="inbox";h==="urgent"&&f==="important"?g="do":h==="not-urgent"&&f==="important"?g="schedule":h==="not-urgent"&&f==="not-important"?g="someday":h==="urgent"&&f==="not-important"&&(g="do"),e(v=>({...v,quadrant:g}))}};return y.jsxs("div",{className:Se.formGroup,children:[y.jsxs("label",{children:[y.jsx(te,{path:Q.layoutGrid})," Matriz de Prioridade"]}),y.jsxs("div",{className:Se.matrixSelectorContainer,children:[y.jsxs("div",{className:Se.matrixRow,children:[y.jsx("span",{className:Se.matrixLabel,children:" urgente?"}),y.jsxs("div",{className:Se.matrixToggleGroup,children:[y.jsx("button",{className:`${Se.matrixToggleBtn} ${n==="not-urgent"?Se.active:""}`,onClick:()=>d("not-urgent",a),children:"Pode esperar"}),y.jsx("button",{className:`${Se.matrixToggleBtn} ${n==="urgent"?Se.active:""}`,onClick:()=>d("urgent",a),children:" pra j!"})]})]}),y.jsxs("div",{className:Se.matrixRow,children:[y.jsx("span",{className:Se.matrixLabel,children:" importante?"}),y.jsxs("div",{className:Se.matrixToggleGroup,children:[y.jsx("button",{className:`${Se.matrixToggleBtn} ${a==="not-important"?Se.active:""}`,onClick:()=>d(n,"not-important"),children:"Baixo impacto"}),y.jsx("button",{className:`${Se.matrixToggleBtn} ${a==="important"?Se.active:""}`,onClick:()=>d(n,"important"),children:"Alto impacto"})]})]}),c&&y.jsxs("div",{className:`${Se.matrixResult} ${Se[`quadrant-${c.id}`]}`,children:[y.jsx("div",{className:Se.resultIcon,children:y.jsx(te,{path:Q[c.icon]})}),y.jsxs("div",{className:Se.resultText,children:[y.jsx("span",{className:Se.resultTitle,children:c.title}),y.jsx("span",{className:Se.resultSubtitle,children:c.subtitle})]})]})]})]})},IL="_centeredHeader_pryjy_6",ML="_subtitle_pryjy_18",LL="_taskList_pryjy_27",PL="_taskButton_pryjy_38",UL="_selected_pryjy_65",BL="_emptyState_pryjy_75",zL="_controlButton_pryjy_83",VL="_secondary_pryjy_98",$L="_primary_pryjy_110",$n={centeredHeader:IL,subtitle:ML,taskList:LL,taskButton:PL,selected:UL,emptyState:BL,controlButton:zL,secondary:VL,primary:$L},L2=({isOpen:t,tasks:e=[],selectedTask:n,onSelectTask:i,onConfirm:a,onClose:l,onNavigateToTasks:c})=>{const d=ms(l),[h,f]=A.useState(null);if(A.useEffect(()=>{f(document.getElementById("modal-root"))},[]),!t||!h)return null;const g=e.length>0,v=y.jsx("div",{className:"g-modal-overlay",children:y.jsxs("div",{className:"g-modal",ref:d,children:[y.jsxs("header",{className:`g-modal-header ${$n.centeredHeader}`,children:[y.jsx("h3",{children:" Qual sapo voc vai engolir hoje?"}),y.jsx("p",{className:$n.subtitle,children:"Escolha a tarefa mais importante para focar primeiro."})]}),y.jsx("main",{className:"g-modal-body",children:g?y.jsx("ul",{className:$n.taskList,children:e.map(b=>y.jsx("li",{children:y.jsx("button",{className:`${$n.taskButton} ${n===b.id?$n.selected:""}`,onClick:()=>i(b.id),children:b.title})},b.id))}):y.jsx("div",{className:$n.emptyState,children:y.jsx("p",{children:"Nenhuma tarefa elegvel na sua lista! Adicione algumas para comear."})})}),y.jsxs("footer",{className:"g-modal-footer g-modal-footer--space-between",children:[y.jsx("button",{className:`${$n.controlButton} ${$n.secondary}`,onClick:l,children:"Decidir depois"}),g?y.jsx("button",{className:`${$n.controlButton} ${$n.primary}`,onClick:a,disabled:!n,children:"Engolir este sapo"}):y.jsx("button",{className:`${$n.controlButton} ${$n.primary}`,onClick:c,children:"Ir para Tarefas"})]})]})});return mo.createPortal(v,h)},FL="_modalSmall_1uz35_6",qL="_content_1uz35_10",HL="_iconContainer_1uz35_15",GL="_promptText_1uz35_20",KL="_taskHighlightBox_1uz35_29",WL="_controlButton_1uz35_49",YL="_secondary_1uz35_63",XL="_primary_1uz35_74",Xs={modalSmall:FL,content:qL,iconContainer:HL,promptText:GL,taskHighlightBox:KL,controlButton:WL,secondary:YL,primary:XL},QL=()=>{const{quickTaskForCompletion:t,setQuickTaskForCompletion:e}=vn(),{handleCompleteTask:n,frogTaskId:i,handleUnsetFrog:a}=Rn(),[l,c]=A.useState(null);A.useEffect(()=>{c(document.getElementById("modal-root"))},[]);const d=()=>{e(null)},h=ms(d),f=()=>{t&&(n(t.id),i===t.id&&a(),e(null))};return!t||!l?null:mo.createPortal(y.jsx("div",{className:"g-modal-overlay",children:y.jsxs("div",{className:`g-modal ${Xs.modalSmall}`,ref:h,children:[y.jsxs("header",{className:"g-modal-header",children:[y.jsxs("h3",{children:[y.jsx(te,{path:Q.frog})," Sapo Comido!"]}),y.jsx("button",{onClick:d,className:"btn btn-secondary btn-icon",children:y.jsx(te,{path:Q.close})})]}),y.jsx("main",{className:"g-modal-body",children:y.jsxs("div",{className:Xs.content,children:[y.jsx("div",{className:Xs.iconContainer,children:y.jsx(te,{path:Q.checkCircle,size:48})}),y.jsx("p",{className:Xs.promptText,children:"Voc finalizou a tarefa e deu um passo importante no seu dia."}),y.jsx("div",{className:Xs.taskHighlightBox,children:t.title})]})}),y.jsxs("footer",{className:"g-modal-footer",children:[y.jsx("button",{className:`${Xs.controlButton} ${Xs.secondary}`,onClick:d,children:"Ops, ainda no"}),y.jsxs("button",{className:`${Xs.controlButton} ${Xs.primary}`,onClick:f,children:[y.jsx(te,{path:Q.check})," Confirmar"]})]})]})}),l)},JL="_modalHeader_ekv6i_5",ZL="_modalBody_ekv6i_16",eP="_itemList_ekv6i_20",tP="_item_ekv6i_20",nP="_formGroup_ekv6i_41",sP="_inputGroup_ekv6i_53",iP="_modalFooter_ekv6i_68",_r={modalHeader:JL,modalBody:ZL,itemList:eP,item:tP,formGroup:nP,inputGroup:sP,modalFooter:iP},rP=({items:t,onAddItem:e,onRemoveItem:n,onClose:i})=>{const[a,l]=A.useState(""),c=ms(i),d=()=>{a.trim()&&(e(a),l(""))};return y.jsx("div",{className:"g-modal-overlay",children:y.jsxs("div",{className:"g-modal",ref:c,children:[y.jsxs("div",{className:_r.modalHeader,children:[y.jsx("h3",{children:"Gerenciar Itens de Sada"}),y.jsx("p",{children:"Adicione ou remova itens da sua lista pessoal."})]}),y.jsxs("div",{className:_r.modalBody,children:[y.jsx("ul",{className:_r.itemList,children:t.map(h=>y.jsxs("li",{className:_r.item,children:[y.jsx("span",{children:h.text}),!h.isDefault&&y.jsx("button",{onClick:()=>n(h.id),className:"btn btn-icon btn-small","aria-label":`Remover ${h.text}`,children:y.jsx(te,{path:Q.trash})})]},h.id))}),y.jsxs("div",{className:_r.formGroup,children:[y.jsx("label",{children:"Adicionar novo item"}),y.jsxs("div",{className:_r.inputGroup,children:[y.jsx("input",{type:"text",placeholder:"Ex: Fone de ouvido",value:a,onChange:h=>l(h.target.value),onKeyPress:h=>h.key==="Enter"&&d()}),y.jsx("button",{onClick:d,className:"btn btn-primary btn-small",children:y.jsx(te,{path:Q.plus})})]})]})]}),y.jsx("div",{className:_r.modalFooter,children:y.jsx("button",{className:"btn btn-secondary",onClick:i,children:"Fechar"})})]})})},aP="_card_13t4e_3",oP="_header_13t4e_13",lP="_buttonGroup_13t4e_28",cP="_checklist_13t4e_33",uP="_checklistItem_13t4e_42",dP="_itemContent_13t4e_56",hP="_editing_13t4e_64",fP="_checkbox_13t4e_72",mP="_text_13t4e_81",pP="_completed_13t4e_86",_s={card:aP,header:oP,buttonGroup:lP,checklist:cP,checklistItem:uP,itemContent:dP,editing:hP,checkbox:fP,text:mP,completed:pP},gP=({items:t,onToggleItem:e,onAddItem:n,onRemoveItem:i,onResetItems:a})=>{const[l,c]=A.useState(!1),[d,h]=A.useState(!1);if(!t||t.length===0)return null;const f=g=>{d||e(g)};return y.jsxs(y.Fragment,{children:[l&&y.jsx(rP,{items:t,onAddItem:n,onRemoveItem:i,onClose:()=>c(!1)}),y.jsxs("div",{className:_s.card,children:[y.jsxs("div",{className:_s.header,children:[y.jsxs("h3",{children:[y.jsx(te,{path:Q.briefcase})," J pegou?"]}),y.jsxs("div",{className:_s.buttonGroup,children:[d?y.jsx("button",{className:"btn btn-icon btn-primary btn-small",onClick:()=>c(!0),title:"Adicionar Item",children:y.jsx(te,{path:Q.plus})}):y.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:a,title:"Desmarcar Todos",children:y.jsx(te,{path:Q.rotateCw})}),y.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:()=>h(!d),title:d?"Concluir Edio":"Editar Checklist",children:d?y.jsx(te,{path:Q.check}):y.jsx(te,{path:Q.pencil})})]})]}),y.jsx("ul",{className:_s.checklist,children:t.map(g=>y.jsxs("li",{className:`${_s.checklistItem} ${g.completed?_s.completed:""} ${d?_s.editing:""}`,onClick:()=>f(g.id),children:[y.jsxs("div",{className:_s.itemContent,children:[y.jsx("span",{className:_s.checkbox}),y.jsx("span",{className:_s.text,children:g.text})]}),d&&!g.isDefault&&y.jsx("button",{className:"btn btn-icon btn-small",onClick:()=>i(g.id),title:"Remover Item",children:y.jsx(te,{path:Q.trash})})]},g.id))})]})]})},yP="_cardWrapper_1ge8q_5",vP="_swipeBackground_1ge8q_7",bP="_completeBackground_1ge8q_8",_P="_deleteBackground_1ge8q_9",wP="_swipeIcon_1ge8q_10",SP="_taskCard_1ge8q_12",TP="_statusDone_1ge8q_24",EP="_taskCardTitleGroup_1ge8q_25",xP="_dragging_1ge8q_27",CP="_inboxCard_1ge8q_28",AP="_taskCardContent_1ge8q_30",kP="_taskCardHeader_1ge8q_31",OP="_checkbox_1ge8q_45",jP="_disabled_1ge8q_46",RP="_taskCardActions_1ge8q_49",DP="_headerPlayButton_1ge8q_51",NP="_activeFocus_1ge8q_51",IP="_frogIconActive_1ge8q_52",MP="_taskCardDescription_1ge8q_54",LP="_isFrog_1ge8q_62",PP="_subtasksSection_1ge8q_64",UP="_subtasksHeader_1ge8q_65",BP="_collapsibleChevron_1ge8q_78",zP="_collapsed_1ge8q_79",VP="_subtasksContent_1ge8q_80",$P="_subtaskItem_1ge8q_82",FP="_clickable_1ge8q_93",qP="_completed_1ge8q_94",HP="_subtaskCheckbox_1ge8q_96",GP="_footerTags_1ge8q_107",KP="_footerTag_1ge8q_107",WP="_energyTag_1ge8q_121",Pe={cardWrapper:yP,swipeBackground:vP,completeBackground:bP,deleteBackground:_P,swipeIcon:wP,taskCard:SP,statusDone:TP,taskCardTitleGroup:EP,dragging:xP,inboxCard:CP,taskCardContent:AP,taskCardHeader:kP,checkbox:OP,disabled:jP,taskCardActions:RP,headerPlayButton:DP,activeFocus:NP,frogIconActive:IP,taskCardDescription:MP,isFrog:LP,subtasksSection:PP,subtasksHeader:UP,collapsibleChevron:BP,collapsed:zP,subtasksContent:VP,subtaskItem:$P,clickable:FP,completed:qP,subtaskCheckbox:HP,footerTags:GP,footerTag:KP,energyTag:WP};var wy=uc(),ke=t=>cc(t,wy),Sy=uc();ke.write=t=>cc(t,Sy);var nh=uc();ke.onStart=t=>cc(t,nh);var Ty=uc();ke.onFrame=t=>cc(t,Ty);var Ey=uc();ke.onFinish=t=>cc(t,Ey);var Ja=[];ke.setTimeout=(t,e)=>{const n=ke.now()+e,i=()=>{const l=Ja.findIndex(c=>c.cancel==i);~l&&Ja.splice(l,1),qi-=~l?1:0},a={time:n,handler:t,cancel:i};return Ja.splice(P2(n),0,a),qi+=1,U2(),a};var P2=t=>~(~Ja.findIndex(e=>e.time>t)||~Ja.length);ke.cancel=t=>{nh.delete(t),Ty.delete(t),Ey.delete(t),wy.delete(t),Sy.delete(t)};ke.sync=t=>{ag=!0,ke.batchedUpdates(t),ag=!1};ke.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function i(...a){e=a,ke.onStart(n)}return i.handler=t,i.cancel=()=>{nh.delete(n),e=null},i};var xy=typeof window<"u"?window.requestAnimationFrame:(()=>{});ke.use=t=>xy=t;ke.now=typeof performance<"u"?()=>performance.now():Date.now;ke.batchedUpdates=t=>t();ke.catch=console.error;ke.frameLoop="always";ke.advance=()=>{ke.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):z2()};var Fi=-1,qi=0,ag=!1;function cc(t,e){ag?(e.delete(t),t(0)):(e.add(t),U2())}function U2(){Fi<0&&(Fi=0,ke.frameLoop!=="demand"&&xy(B2))}function YP(){Fi=-1}function B2(){~Fi&&(xy(B2),ke.batchedUpdates(z2))}function z2(){const t=Fi;Fi=ke.now();const e=P2(Fi);if(e&&(V2(Ja.splice(0,e),n=>n.handler()),qi-=e),!qi){YP();return}nh.flush(),wy.flush(t?Math.min(64,Fi-t):16.667),Ty.flush(),Sy.flush(),Ey.flush()}function uc(){let t=new Set,e=t;return{add(n){qi+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return qi-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,qi-=e.size,V2(e,i=>i(n)&&t.add(i)),qi+=t.size,e=t)}}}function V2(t,e){t.forEach(n=>{try{e(n)}catch(i){ke.catch(i)}})}var XP=Object.defineProperty,QP=(t,e)=>{for(var n in e)XP(t,n,{get:e[n],enumerable:!0})},hs={};QP(hs,{assign:()=>ZP,colors:()=>Gi,createStringInterpolator:()=>Ay,skipAnimation:()=>F2,to:()=>$2,willAdvance:()=>ky});function og(){}var JP=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ie={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Js(t,e){if(ie.arr(t)){if(!ie.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Be=(t,e)=>t.forEach(e);function As(t,e,n){if(ie.arr(t)){for(let i=0;i<t.length;i++)e.call(n,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i)}var kn=t=>ie.und(t)?[]:ie.arr(t)?t:[t];function Ol(t,e){if(t.size){const n=Array.from(t);t.clear(),Be(n,e)}}var xl=(t,...e)=>Ol(t,n=>n(...e)),Cy=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ay,$2,Gi=null,F2=!1,ky=og,ZP=t=>{t.to&&($2=t.to),t.now&&(ke.now=t.now),t.colors!==void 0&&(Gi=t.colors),t.skipAnimation!=null&&(F2=t.skipAnimation),t.createStringInterpolator&&(Ay=t.createStringInterpolator),t.requestAnimationFrame&&ke.use(t.requestAnimationFrame),t.batchedUpdates&&(ke.batchedUpdates=t.batchedUpdates),t.willAdvance&&(ky=t.willAdvance),t.frameLoop&&(ke.frameLoop=t.frameLoop)},jl=new Set,Kn=[],ap=[],jd=0,sh={get idle(){return!jl.size&&!Kn.length},start(t){jd>t.priority?(jl.add(t),ke.onStart(e8)):(q2(t),ke(lg))},advance:lg,sort(t){if(jd)ke.onFrame(()=>sh.sort(t));else{const e=Kn.indexOf(t);~e&&(Kn.splice(e,1),H2(t))}},clear(){Kn=[],jl.clear()}};function e8(){jl.forEach(q2),jl.clear(),ke(lg)}function q2(t){Kn.includes(t)||H2(t)}function H2(t){Kn.splice(t8(Kn,e=>e.priority>t.priority),0,t)}function lg(t){const e=ap;for(let n=0;n<Kn.length;n++){const i=Kn[n];jd=i.priority,i.idle||(ky(i),i.advance(t),i.idle||e.push(i))}return jd=0,ap=Kn,ap.length=0,Kn=e,Kn.length>0}function t8(t,e){const n=t.findIndex(e);return n<0?t.length:n}var n8={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},cs="[-+]?\\d*\\.?\\d+",Rd=cs+"%";function ih(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var s8=new RegExp("rgb"+ih(cs,cs,cs)),i8=new RegExp("rgba"+ih(cs,cs,cs,cs)),r8=new RegExp("hsl"+ih(cs,Rd,Rd)),a8=new RegExp("hsla"+ih(cs,Rd,Rd,cs)),o8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,l8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,c8=/^#([0-9a-fA-F]{6})$/,u8=/^#([0-9a-fA-F]{8})$/;function d8(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=c8.exec(t))?parseInt(e[1]+"ff",16)>>>0:Gi&&Gi[t]!==void 0?Gi[t]:(e=s8.exec(t))?(Ia(e[1])<<24|Ia(e[2])<<16|Ia(e[3])<<8|255)>>>0:(e=i8.exec(t))?(Ia(e[1])<<24|Ia(e[2])<<16|Ia(e[3])<<8|qw(e[4]))>>>0:(e=o8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=u8.exec(t))?parseInt(e[1],16)>>>0:(e=l8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=r8.exec(t))?($w(Fw(e[1]),$u(e[2]),$u(e[3]))|255)>>>0:(e=a8.exec(t))?($w(Fw(e[1]),$u(e[2]),$u(e[3]))|qw(e[4]))>>>0:null}function op(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $w(t,e,n){const i=n<.5?n*(1+e):n+e-n*e,a=2*n-i,l=op(a,i,t+1/3),c=op(a,i,t),d=op(a,i,t-1/3);return Math.round(l*255)<<24|Math.round(c*255)<<16|Math.round(d*255)<<8}function Ia(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Fw(t){return(parseFloat(t)%360+360)%360/360}function qw(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function $u(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Hw(t){let e=d8(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,i=(e&16711680)>>>16,a=(e&65280)>>>8,l=(e&255)/255;return`rgba(${n}, ${i}, ${a}, ${l})`}var Fl=(t,e,n)=>{if(ie.fun(t))return t;if(ie.arr(t))return Fl({range:t,output:e,extrapolate:n});if(ie.str(t.output[0]))return Ay(t);const i=t,a=i.output,l=i.range||[0,1],c=i.extrapolateLeft||i.extrapolate||"extend",d=i.extrapolateRight||i.extrapolate||"extend",h=i.easing||(f=>f);return f=>{const g=f8(f,l);return h8(f,l[g],l[g+1],a[g],a[g+1],h,c,d,i.map)}};function h8(t,e,n,i,a,l,c,d,h){let f=h?h(t):t;if(f<e){if(c==="identity")return f;c==="clamp"&&(f=e)}if(f>n){if(d==="identity")return f;d==="clamp"&&(f=n)}return i===a?i:e===n?t<=e?i:a:(e===-1/0?f=-f:n===1/0?f=f-e:f=(f-e)/(n-e),f=l(f),i===-1/0?f=-f:a===1/0?f=f+i:f=f*(a-i)+i,f)}function f8(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var m8={linear:t=>t},ql=Symbol.for("FluidValue.get"),ao=Symbol.for("FluidValue.observers"),Hn=t=>!!(t&&t[ql]),gn=t=>t&&t[ql]?t[ql]():t,Gw=t=>t[ao]||null;function p8(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Hl(t,e){const n=t[ao];n&&n.forEach(i=>{p8(i,e)})}var G2=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");g8(this,t)}},g8=(t,e)=>K2(t,ql,e);function po(t,e){if(t[ql]){let n=t[ao];n||K2(t,ao,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Gl(t,e){const n=t[ao];if(n&&n.has(e)){const i=n.size-1;i?n.delete(e):t[ao]=null,t.observerRemoved&&t.observerRemoved(i,e)}}var K2=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),id=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Kw=new RegExp(`(${id.source})(%|[a-z]+)`,"i"),v8=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,rh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,W2=t=>{const[e,n]=b8(t);if(!e||Cy())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(n&&n.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(n);return a||t}else{if(n&&rh.test(n))return W2(n);if(n)return n}return t},b8=t=>{const e=rh.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]},lp,_8=(t,e,n,i,a)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(i)}, ${a})`,Y2=t=>{lp||(lp=Gi?new RegExp(`(${Object.keys(Gi).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(l=>gn(l).replace(rh,W2).replace(y8,Hw).replace(lp,Hw)),n=e.map(l=>l.match(id).map(Number)),a=n[0].map((l,c)=>n.map(d=>{if(!(c in d))throw Error('The arity of each "output" value must be equal');return d[c]})).map(l=>Fl({...t,output:l}));return l=>{var h;const c=!Kw.test(e[0])&&((h=e.find(f=>Kw.test(f)))==null?void 0:h.replace(id,""));let d=0;return e[0].replace(id,()=>`${a[d++](l)}${c||""}`).replace(v8,_8)}},Oy="react-spring: ",X2=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${Oy}once requires a function parameter`);return(...i)=>{n||(e(...i),n=!0)}},w8=X2(console.warn);function S8(){w8(`${Oy}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var T8=X2(console.warn);function E8(){T8(`${Oy}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ah(t){return ie.str(t)&&(t[0]=="#"||/\d/.test(t)||!Cy()&&rh.test(t)||t in(Gi||{}))}var jy=Cy()?A.useEffect:A.useLayoutEffect,x8=()=>{const t=A.useRef(!1);return jy(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Q2(){const t=A.useState()[1],e=x8();return()=>{e.current&&t(Math.random())}}var J2=t=>A.useEffect(t,C8),C8=[];function Ww(t){const e=A.useRef(void 0);return A.useEffect(()=>{e.current=t}),e.current}var Kl=Symbol.for("Animated:node"),A8=t=>!!t&&t[Kl]===t,Ss=t=>t&&t[Kl],Ry=(t,e)=>JP(t,Kl,e),oh=t=>t&&t[Kl]&&t[Kl].getPayload(),Z2=class{constructor(){Ry(this,this)}getPayload(){return this.payload||[]}},lh=class eC extends Z2{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,ie.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new eC(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return ie.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ie.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Dd=class tC extends lh{constructor(e){super(0),this._string=null,this._toString=Fl({output:[e,e]})}static create(e){return new tC(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ie.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Fl({output:[this.getValue(),e]})),this._value=0,super.reset()}},Nd={dependencies:null},ch=class extends Z2{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return As(this.source,(n,i)=>{A8(n)?e[i]=n.getValue(t):Hn(n)?e[i]=gn(n):t||(e[i]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Be(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return As(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Nd.dependencies&&Hn(t)&&Nd.dependencies.add(t);const e=oh(t);e&&Be(e,n=>this.add(n))}},k8=class nC extends ch{constructor(e){super(e)}static create(e){return new nC(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((i,a)=>i.setValue(e[a])).some(Boolean):(super.setValue(e.map(O8)),!0)}};function O8(t){return(ah(t)?Dd:lh).create(t)}function cg(t){const e=Ss(t);return e?e.constructor:ie.arr(t)?k8:ah(t)?Dd:lh}var Yw=(t,e)=>{const n=!ie.fun(t)||t.prototype&&t.prototype.isReactComponent;return A.forwardRef((i,a)=>{const l=A.useRef(null),c=n&&A.useCallback(T=>{l.current=D8(a,T)},[a]),[d,h]=R8(i,e),f=Q2(),g=()=>{const T=l.current;if(n&&!T)return;(T?e.applyAnimatedValues(T,d.getValue(!0)):!1)===!1&&f()},v=new j8(g,h),b=A.useRef(void 0);jy(()=>(b.current=v,Be(h,T=>po(T,v)),()=>{b.current&&(Be(b.current.deps,T=>Gl(T,b.current)),ke.cancel(b.current.update))})),A.useEffect(g,[]),J2(()=>()=>{const T=b.current;Be(T.deps,x=>Gl(x,T))});const S=e.getComponentProps(d.getValue());return A.createElement(t,{...S,ref:c})})},j8=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&ke.write(this.update)}};function R8(t,e){const n=new Set;return Nd.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new ch(t),Nd.dependencies=null,[t,n]}function D8(t,e){return t&&(ie.fun(t)?t(e):t.current=e),e}var Xw=Symbol.for("AnimatedComponent"),N8=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=a=>new ch(a),getComponentProps:i=a=>a}={})=>{const a={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:i},l=c=>{const d=Qw(c)||"Anonymous";return ie.str(c)?c=l[c]||(l[c]=Yw(c,a)):c=c[Xw]||(c[Xw]=Yw(c,a)),c.displayName=`Animated(${d})`,c};return As(t,(c,d)=>{ie.arr(t)&&(d=Qw(c)),l[d]=l(c)}),{animated:l}},Qw=t=>ie.str(t)?t:t&&ie.str(t.displayName)?t.displayName:ie.fun(t)&&t.name||null;function jr(t,...e){return ie.fun(t)?t(...e):t}var Rl=(t,e)=>t===!0||!!(e&&t&&(ie.fun(t)?t(e):kn(t).includes(e))),sC=(t,e)=>ie.obj(t)?e&&t[e]:t,iC=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,I8=t=>t,Dy=(t,e=I8)=>{let n=M8;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const i={};for(const a of n){const l=e(t[a],a);ie.und(l)||(i[a]=l)}return i},M8=["config","onProps","onStart","onChange","onPause","onResume","onRest"],L8={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function P8(t){const e={};let n=0;if(As(t,(i,a)=>{L8[a]||(e[a]=i,n++)}),n)return e}function rC(t){const e=P8(t);if(e){const n={to:e};return As(t,(i,a)=>a in e||(n[a]=i)),n}return{...t}}function Wl(t){return t=gn(t),ie.arr(t)?t.map(Wl):ah(t)?hs.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function U8(t){for(const e in t)return!0;return!1}function ug(t){return ie.fun(t)||ie.arr(t)&&ie.obj(t[0])}function B8(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function z8(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var V8={default:{tension:170,friction:26}},dg={...V8.default,mass:1,damping:1,easing:m8.linear,clamp:!1},$8=class{constructor(){this.velocity=0,Object.assign(this,dg)}};function F8(t,e,n){n&&(n={...n},Jw(n,e),e={...n,...e}),Jw(t,e),Object.assign(t,e);for(const c in dg)t[c]==null&&(t[c]=dg[c]);let{frequency:i,damping:a}=t;const{mass:l}=t;return ie.und(i)||(i<.01&&(i=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/i,2)*l,t.friction=4*Math.PI*a*l/i),t}function Jw(t,e){if(!ie.und(e.decay))t.duration=void 0;else{const n=!ie.und(e.tension)||!ie.und(e.friction);(n||!ie.und(e.frequency)||!ie.und(e.damping)||!ie.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var Zw=[],q8=class{constructor(){this.changed=!1,this.values=Zw,this.toValues=null,this.fromValues=Zw,this.config=new $8,this.immediate=!1}};function aC(t,{key:e,props:n,defaultProps:i,state:a,actions:l}){return new Promise((c,d)=>{let h,f,g=Rl(n.cancel??(i==null?void 0:i.cancel),e);if(g)S();else{ie.und(n.pause)||(a.paused=Rl(n.pause,e));let T=i==null?void 0:i.pause;T!==!0&&(T=a.paused||Rl(T,e)),h=jr(n.delay||0,e),T?(a.resumeQueue.add(b),l.pause()):(l.resume(),b())}function v(){a.resumeQueue.add(b),a.timeouts.delete(f),f.cancel(),h=f.time-ke.now()}function b(){h>0&&!hs.skipAnimation?(a.delayed=!0,f=ke.setTimeout(S,h),a.pauseQueue.add(v),a.timeouts.add(f)):S()}function S(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(v),a.timeouts.delete(f),t<=(a.cancelId||0)&&(g=!0);try{l.start({...n,callId:t,cancel:g},c)}catch(T){d(T)}}})}var Ny=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Za(t.get()):e.every(n=>n.noop)?oC(t.get()):os(t.get(),e.every(n=>n.finished)),oC=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),os=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Za=t=>({value:t,cancelled:!0,finished:!1});function lC(t,e,n,i){const{callId:a,parentId:l,onRest:c}=e,{asyncTo:d,promise:h}=n;return!l&&t===d&&!e.reset?h:n.promise=(async()=>{n.asyncId=a,n.asyncTo=t;const f=Dy(e,(C,k)=>k==="onRest"?void 0:C);let g,v;const b=new Promise((C,k)=>(g=C,v=k)),S=C=>{const k=a<=(n.cancelId||0)&&Za(i)||a!==n.asyncId&&os(i,!1);if(k)throw C.result=k,v(C),C},T=(C,k)=>{const j=new eS,O=new tS;return(async()=>{if(hs.skipAnimation)throw Yl(n),O.result=os(i,!1),v(O),O;S(j);const M=ie.obj(C)?{...C}:{...k,to:C};M.parentId=a,As(f,(F,L)=>{ie.und(M[L])&&(M[L]=F)});const $=await i.start(M);return S(j),n.paused&&await new Promise(F=>{n.resumeQueue.add(F)}),$})()};let x;if(hs.skipAnimation)return Yl(n),os(i,!1);try{let C;ie.arr(t)?C=(async k=>{for(const j of k)await T(j)})(t):C=Promise.resolve(t(T,i.stop.bind(i))),await Promise.all([C.then(g),b]),x=os(i.get(),!0,!1)}catch(C){if(C instanceof eS)x=C.result;else if(C instanceof tS)x=C.result;else throw C}finally{a==n.asyncId&&(n.asyncId=l,n.asyncTo=l?d:void 0,n.promise=l?h:void 0)}return ie.fun(c)&&ke.batchedUpdates(()=>{c(x,i,i.item)}),x})()}function Yl(t,e){Ol(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var eS=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tS=class extends Error{constructor(){super("SkipAnimationSignal")}},hg=t=>t instanceof Iy,H8=1,Iy=class extends G2{constructor(){super(...arguments),this.id=H8++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Ss(this);return t&&t.getValue()}to(...t){return hs.to(this,t)}interpolate(...t){return S8(),hs.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Hl(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||sh.sort(this),Hl(this,{type:"priority",parent:this,priority:t})}},qr=Symbol.for("SpringPhase"),cC=1,fg=2,mg=4,cp=t=>(t[qr]&cC)>0,Ni=t=>(t[qr]&fg)>0,gl=t=>(t[qr]&mg)>0,nS=(t,e)=>e?t[qr]|=fg|cC:t[qr]&=~fg,sS=(t,e)=>e?t[qr]|=mg:t[qr]&=~mg,G8=class extends Iy{constructor(t,e){if(super(),this.animation=new q8,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ie.und(t)||!ie.und(e)){const n=ie.obj(t)?{...t}:{...e,from:t};ie.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ni(this)||this._state.asyncTo)||gl(this)}get goal(){return gn(this.animation.to)}get velocity(){const t=Ss(this);return t instanceof lh?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return cp(this)}get isAnimating(){return Ni(this)}get isPaused(){return gl(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const i=this.animation;let{toValues:a}=i;const{config:l}=i,c=oh(i.to);!c&&Hn(i.to)&&(a=kn(gn(i.to))),i.values.forEach((f,g)=>{if(f.done)return;const v=f.constructor==Dd?1:c?c[g].lastPosition:a[g];let b=i.immediate,S=v;if(!b){if(S=f.lastPosition,l.tension<=0){f.done=!0;return}let T=f.elapsedTime+=t;const x=i.fromValues[g],C=f.v0!=null?f.v0:f.v0=ie.arr(l.velocity)?l.velocity[g]:l.velocity;let k;const j=l.precision||(x==v?.005:Math.min(1,Math.abs(v-x)*.001));if(ie.und(l.duration))if(l.decay){const O=l.decay===!0?.998:l.decay,M=Math.exp(-(1-O)*T);S=x+C/(1-O)*(1-M),b=Math.abs(f.lastPosition-S)<=j,k=C*M}else{k=f.lastVelocity==null?C:f.lastVelocity;const O=l.restVelocity||j/10,M=l.clamp?0:l.bounce,$=!ie.und(M),F=x==v?f.v0>0:x<v;let L,G=!1;const Z=1,ee=Math.ceil(t/Z);for(let oe=0;oe<ee&&(L=Math.abs(k)>O,!(!L&&(b=Math.abs(v-S)<=j,b)));++oe){$&&(G=S==v||S>v==F,G&&(k=-k*M,S=v));const J=-l.tension*1e-6*(S-v),se=-l.friction*.001*k,Ee=(J+se)/l.mass;k=k+Ee*Z,S=S+k*Z}}else{let O=1;l.duration>0&&(this._memoizedDuration!==l.duration&&(this._memoizedDuration=l.duration,f.durationProgress>0&&(f.elapsedTime=l.duration*f.durationProgress,T=f.elapsedTime+=t)),O=(l.progress||0)+T/this._memoizedDuration,O=O>1?1:O<0?0:O,f.durationProgress=O),S=x+l.easing(O)*(v-x),k=(S-f.lastPosition)/t,b=O==1}f.lastVelocity=k,Number.isNaN(S)&&(console.warn("Got NaN while animating:",this),b=!0)}c&&!c[g].done&&(b=!1),b?f.done=!0:e=!1,f.setValue(S,l.round)&&(n=!0)});const d=Ss(this),h=d.getValue();if(e){const f=gn(i.to);(h!==f||n)&&!l.decay?(d.setValue(f),this._onChange(f)):n&&l.decay&&this._onChange(h),this._stop()}else n&&this._onChange(h)}set(t){return ke.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ni(this)){const{to:t,config:e}=this.animation;ke.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return ie.und(t)?(n=this.queue||[],this.queue=[]):n=[ie.obj(t)?t:{...e,to:t}],Promise.all(n.map(i=>this._update(i))).then(i=>Ny(this,i))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Yl(this._state,t&&this._lastCallId),ke.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:i}=t;n=ie.obj(n)?n[e]:n,(n==null||ug(n))&&(n=void 0),i=ie.obj(i)?i[e]:i,i==null&&(i=void 0);const a={to:n,from:i};return cp(this)||(t.reverse&&([n,i]=[i,n]),i=gn(i),ie.und(i)?Ss(this)||this._set(n):this._set(i)),a}_update({...t},e){const{key:n,defaultProps:i}=this;t.default&&Object.assign(i,Dy(t,(c,d)=>/^on/.test(d)?sC(c,n):c)),rS(this,t,"onProps"),vl(this,"onProps",t,this);const a=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const l=this._state;return aC(++this._lastCallId,{key:n,props:t,defaultProps:i,state:l,actions:{pause:()=>{gl(this)||(sS(this,!0),xl(l.pauseQueue),vl(this,"onPause",os(this,yl(this,this.animation.to)),this))},resume:()=>{gl(this)&&(sS(this,!1),Ni(this)&&this._resume(),xl(l.resumeQueue),vl(this,"onResume",os(this,yl(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(c=>{if(t.loop&&c.finished&&!(e&&c.noop)){const d=uC(t);if(d)return this._update(d,!0)}return c})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Za(this));const i=!ie.und(t.to),a=!ie.und(t.from);if(i||a)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(Za(this));const{key:l,defaultProps:c,animation:d}=this,{to:h,from:f}=d;let{to:g=h,from:v=f}=t;a&&!i&&(!e.default||ie.und(g))&&(g=v),e.reverse&&([g,v]=[v,g]);const b=!Js(v,f);b&&(d.from=v),v=gn(v);const S=!Js(g,h);S&&this._focus(g);const T=ug(e.to),{config:x}=d,{decay:C,velocity:k}=x;(i||a)&&(x.velocity=0),e.config&&!T&&F8(x,jr(e.config,l),e.config!==c.config?jr(c.config,l):void 0);let j=Ss(this);if(!j||ie.und(g))return n(os(this,!0));const O=ie.und(e.reset)?a&&!e.default:!ie.und(v)&&Rl(e.reset,l),M=O?v:this.get(),$=Wl(g),F=ie.num($)||ie.arr($)||ah($),L=!T&&(!F||Rl(c.immediate||e.immediate,l));if(S){const oe=cg(g);if(oe!==j.constructor)if(L)j=this._set($);else throw Error(`Cannot animate between ${j.constructor.name} and ${oe.name}, as the "to" prop suggests`)}const G=j.constructor;let Z=Hn(g),ee=!1;if(!Z){const oe=O||!cp(this)&&b;(S||oe)&&(ee=Js(Wl(M),$),Z=!ee),(!Js(d.immediate,L)&&!L||!Js(x.decay,C)||!Js(x.velocity,k))&&(Z=!0)}if(ee&&Ni(this)&&(d.changed&&!O?Z=!0:Z||this._stop(h)),!T&&((Z||Hn(h))&&(d.values=j.getPayload(),d.toValues=Hn(g)?null:G==Dd?[1]:kn($)),d.immediate!=L&&(d.immediate=L,!L&&!O&&this._set(h)),Z)){const{onRest:oe}=d;Be(W8,se=>rS(this,e,se));const J=os(this,yl(this,h));xl(this._pendingCalls,J),this._pendingCalls.add(n),d.changed&&ke.batchedUpdates(()=>{var se;d.changed=!O,oe==null||oe(J,this),O?jr(c.onRest,J):(se=d.onStart)==null||se.call(d,J,this)})}O&&this._set(M),T?n(lC(e.to,e,this._state,this)):Z?this._start():Ni(this)&&!S?this._pendingCalls.add(n):n(oC(M))}_focus(t){const e=this.animation;t!==e.to&&(Gw(this)&&this._detach(),e.to=t,Gw(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Hn(e)&&(po(e,this),hg(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Hn(t)&&Gl(t,this)}_set(t,e=!0){const n=gn(t);if(!ie.und(n)){const i=Ss(this);if(!i||!Js(n,i.getValue())){const a=cg(n);!i||i.constructor!=a?Ry(this,a.create(n)):i.setValue(n),i&&ke.batchedUpdates(()=>{this._onChange(n,e)})}}return Ss(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,vl(this,"onStart",os(this,yl(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),jr(this.animation.onChange,t,this)),jr(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Ss(this).reset(gn(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Ni(this)||(nS(this,!0),gl(this)||this._resume())}_resume(){hs.skipAnimation?this.finish():sh.start(this)}_stop(t,e){if(Ni(this)){nS(this,!1);const n=this.animation;Be(n.values,a=>{a.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Hl(this,{type:"idle",parent:this});const i=e?Za(this.get()):os(this.get(),yl(this,t??n.to));xl(this._pendingCalls,i),n.changed&&(n.changed=!1,vl(this,"onRest",i,this))}}};function yl(t,e){const n=Wl(e),i=Wl(t.get());return Js(i,n)}function uC(t,e=t.loop,n=t.to){const i=jr(e);if(i){const a=i!==!0&&rC(i),l=(a||t).reverse,c=!a||a.reset;return Xl({...t,loop:e,default:!1,pause:void 0,to:!l||ug(n)?n:void 0,from:c?t.from:void 0,reset:c,...a})}}function Xl(t){const{to:e,from:n}=t=rC(t),i=new Set;return ie.obj(e)&&iS(e,i),ie.obj(n)&&iS(n,i),t.keys=i.size?Array.from(i):null,t}function K8(t){const e=Xl(t);return ie.und(e.default)&&(e.default=Dy(e)),e}function iS(t,e){As(t,(n,i)=>n!=null&&e.add(i))}var W8=["onStart","onRest","onChange","onPause","onResume"];function rS(t,e,n){t.animation[n]=e[n]!==iC(e,n)?sC(e[n],t.key):void 0}function vl(t,e,...n){var i,a,l,c;(a=(i=t.animation)[e])==null||a.call(i,...n),(c=(l=t.defaultProps)[e])==null||c.call(l,...n)}var Y8=["onStart","onChange","onRest"],X8=1,Q8=class{constructor(e,n){this.id=X8++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,i)=>e[i]=n.get()),e}set(e){for(const n in e){const i=e[n];ie.und(i)||this.springs[n].set(i)}}update(e){return e&&this.queue.push(Xl(e)),this}start(e){let{queue:n}=this;return e?n=kn(e).map(Xl):this.queue=[],this._flush?this._flush(this,n):(pC(this,n),pg(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const i=this.springs;Be(kn(n),a=>i[a].stop(!!e))}else Yl(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(ie.und(e))this.start({pause:!0});else{const n=this.springs;Be(kn(e),i=>n[i].pause())}return this}resume(e){if(ie.und(e))this.start({pause:!1});else{const n=this.springs;Be(kn(e),i=>n[i].resume())}return this}each(e){As(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:i}=this._events,a=this._active.size>0,l=this._changed.size>0;(a&&!this._started||l&&!this._started)&&(this._started=!0,Ol(e,([h,f])=>{f.value=this.get(),h(f,this,this._item)}));const c=!a&&this._started,d=l||c&&i.size?this.get():null;l&&n.size&&Ol(n,([h,f])=>{f.value=d,h(f,this,this._item)}),c&&(this._started=!1,Ol(i,([h,f])=>{f.value=d,h(f,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;ke.onFrame(this._onFrame)}};function pg(t,e){return Promise.all(e.map(n=>dC(t,n))).then(n=>Ny(t,n))}async function dC(t,e,n){const{keys:i,to:a,from:l,loop:c,onRest:d,onResolve:h}=e,f=ie.obj(e.default)&&e.default;c&&(e.loop=!1),a===!1&&(e.to=null),l===!1&&(e.from=null);const g=ie.arr(a)||ie.fun(a)?a:void 0;g?(e.to=void 0,e.onRest=void 0,f&&(f.onRest=void 0)):Be(Y8,x=>{const C=e[x];if(ie.fun(C)){const k=t._events[x];e[x]=({finished:j,cancelled:O})=>{const M=k.get(C);M?(j||(M.finished=!1),O&&(M.cancelled=!0)):k.set(C,{value:null,finished:j||!1,cancelled:O||!1})},f&&(f[x]=e[x])}});const v=t._state;e.pause===!v.paused?(v.paused=e.pause,xl(e.pause?v.pauseQueue:v.resumeQueue)):v.paused&&(e.pause=!0);const b=(i||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),S=e.cancel===!0||iC(e,"cancel")===!0;(g||S&&v.asyncId)&&b.push(aC(++t._lastAsyncId,{props:e,state:v,actions:{pause:og,resume:og,start(x,C){S?(Yl(v,t._lastAsyncId),C(Za(t))):(x.onRest=d,C(lC(g,x,v,t)))}}})),v.paused&&await new Promise(x=>{v.resumeQueue.add(x)});const T=Ny(t,await Promise.all(b));if(c&&T.finished&&!(n&&T.noop)){const x=uC(e,c,a);if(x)return pC(t,[x]),dC(t,x,!0)}return h&&ke.batchedUpdates(()=>h(T,t,t.item)),T}function aS(t,e){const n={...t.springs};return e&&Be(kn(e),i=>{ie.und(i.keys)&&(i=Xl(i)),ie.obj(i.to)||(i={...i,to:void 0}),mC(n,i,a=>fC(a))}),hC(t,n),n}function hC(t,e){As(e,(n,i)=>{t.springs[i]||(t.springs[i]=n,po(n,t))})}function fC(t,e){const n=new G8;return n.key=t,e&&po(n,e),n}function mC(t,e,n){e.keys&&Be(e.keys,i=>{(t[i]||(t[i]=n(i)))._prepareNode(e)})}function pC(t,e){Be(e,n=>{mC(t.springs,n,i=>fC(i,t))})}var J8=A.createContext({pause:!1,immediate:!1}),Z8=()=>{const t=[],e=function(i){E8();const a=[];return Be(t,(l,c)=>{if(ie.und(i))a.push(l.start());else{const d=n(i,l,c);d&&a.push(l.start(d))}}),a};e.current=t,e.add=function(i){t.includes(i)||t.push(i)},e.delete=function(i){const a=t.indexOf(i);~a&&t.splice(a,1)},e.pause=function(){return Be(t,i=>i.pause(...arguments)),this},e.resume=function(){return Be(t,i=>i.resume(...arguments)),this},e.set=function(i){Be(t,(a,l)=>{const c=ie.fun(i)?i(l,a):i;c&&a.set(c)})},e.start=function(i){const a=[];return Be(t,(l,c)=>{if(ie.und(i))a.push(l.start());else{const d=this._getProps(i,l,c);d&&a.push(l.start(d))}}),a},e.stop=function(){return Be(t,i=>i.stop(...arguments)),this},e.update=function(i){return Be(t,(a,l)=>a.update(this._getProps(i,a,l))),this};const n=function(i,a,l){return ie.fun(i)?i(l,a):i};return e._getProps=n,e};function eU(t,e,n){const i=ie.fun(e)&&e;i&&!n&&(n=[]);const a=A.useMemo(()=>i||arguments.length==3?Z8():void 0,[]),l=A.useRef(0),c=Q2(),d=A.useMemo(()=>({ctrls:[],queue:[],flush(k,j){const O=aS(k,j);return l.current>0&&!d.queue.length&&!Object.keys(O).some($=>!k.springs[$])?pg(k,j):new Promise($=>{hC(k,O),d.queue.push(()=>{$(pg(k,j))}),c()})}}),[]),h=A.useRef([...d.ctrls]),f=A.useRef([]),g=Ww(t)||0;A.useMemo(()=>{Be(h.current.slice(t,g),k=>{B8(k,a),k.stop(!0)}),h.current.length=t,v(g,t)},[t]),A.useMemo(()=>{v(0,Math.min(g,t))},n);function v(k,j){for(let O=k;O<j;O++){const M=h.current[O]||(h.current[O]=new Q8(null,d.flush)),$=i?i(O,M):e[O];$&&(f.current[O]=K8($))}}const b=h.current.map((k,j)=>aS(k,f.current[j])),S=A.useContext(J8),T=Ww(S),x=S!==T&&U8(S);jy(()=>{l.current++,d.ctrls=h.current;const{queue:k}=d;k.length&&(d.queue=[],Be(k,j=>j())),Be(h.current,(j,O)=>{a==null||a.add(j),x&&j.start({default:S});const M=f.current[O];M&&(z8(j,M.ref),j.ref?j.queue.push(M):j.start(M))})}),J2(()=>()=>{Be(d.ctrls,k=>k.stop(!0))});const C=b.map(k=>({...k}));return a?[C,a]:C}function tU(t,e){const n=ie.fun(t),[[i],a]=eU(1,n?t:[t],n?[]:e);return n||arguments.length==2?[i,a]:i}var nU=class extends Iy{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Fl(...e);const n=this._get(),i=cg(n);Ry(this,i.create(n))}advance(t){const e=this._get(),n=this.get();Js(e,n)||(Ss(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&oS(this._active)&&up(this)}_get(){const t=ie.arr(this.source)?this.source.map(gn):kn(gn(this.source));return this.calc(...t)}_start(){this.idle&&!oS(this._active)&&(this.idle=!1,Be(oh(this),t=>{t.done=!1}),hs.skipAnimation?(ke.batchedUpdates(()=>this.advance()),up(this)):sh.start(this))}_attach(){let t=1;Be(kn(this.source),e=>{Hn(e)&&po(e,this),hg(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Be(kn(this.source),t=>{Hn(t)&&Gl(t,this)}),this._active.clear(),up(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=kn(this.source).reduce((e,n)=>Math.max(e,(hg(n)?n.priority:0)+1),0))}};function sU(t){return t.idle!==!1}function oS(t){return!t.size||Array.from(t).every(sU)}function up(t){t.idle||(t.idle=!0,Be(oh(t),e=>{e.done=!0}),Hl(t,{type:"idle",parent:t}))}hs.assign({createStringInterpolator:Y2,to:(t,e)=>new nU(t,e)});var gC=/^--/;function iU(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!gC.test(t)&&!(Dl.hasOwnProperty(t)&&Dl[t])?e+"px":(""+e).trim()}var lS={};function rU(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:a,children:l,scrollTop:c,scrollLeft:d,viewBox:h,...f}=e,g=Object.values(f),v=Object.keys(f).map(b=>n||t.hasAttribute(b)?b:lS[b]||(lS[b]=b.replace(/([A-Z])/g,S=>"-"+S.toLowerCase())));l!==void 0&&(t.textContent=l);for(const b in a)if(a.hasOwnProperty(b)){const S=iU(b,a[b]);gC.test(b)?t.style.setProperty(b,S):t.style[b]=S}v.forEach((b,S)=>{t.setAttribute(b,g[S])}),i!==void 0&&(t.className=i),c!==void 0&&(t.scrollTop=c),d!==void 0&&(t.scrollLeft=d),h!==void 0&&t.setAttribute("viewBox",h)}var Dl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aU=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),oU=["Webkit","Ms","Moz","O"];Dl=Object.keys(Dl).reduce((t,e)=>(oU.forEach(n=>t[aU(n,e)]=t[e]),t),Dl);var lU=/^(matrix|translate|scale|rotate|skew)/,cU=/^(translate)/,uU=/^(rotate|skew)/,dp=(t,e)=>ie.num(t)&&t!==0?t+e:t,rd=(t,e)=>ie.arr(t)?t.every(n=>rd(n,e)):ie.num(t)?t===e:parseFloat(t)===e,dU=class extends ch{constructor({x:t,y:e,z:n,...i}){const a=[],l=[];(t||e||n)&&(a.push([t||0,e||0,n||0]),l.push(c=>[`translate3d(${c.map(d=>dp(d,"px")).join(",")})`,rd(c,0)])),As(i,(c,d)=>{if(d==="transform")a.push([c||""]),l.push(h=>[h,h===""]);else if(lU.test(d)){if(delete i[d],ie.und(c))return;const h=cU.test(d)?"px":uU.test(d)?"deg":"";a.push(kn(c)),l.push(d==="rotate3d"?([f,g,v,b])=>[`rotate3d(${f},${g},${v},${dp(b,h)})`,rd(b,0)]:f=>[`${d}(${f.map(g=>dp(g,h)).join(",")})`,rd(f,d.startsWith("scale")?1:0)])}}),a.length&&(i.transform=new hU(a,l)),super(i)}},hU=class extends G2{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Be(this.inputs,(n,i)=>{const a=gn(n[0]),[l,c]=this.transforms[i](ie.arr(a)?a:n.map(gn));t+=" "+l,e=e&&c}),e?"none":t}observerAdded(t){t==1&&Be(this.inputs,e=>Be(e,n=>Hn(n)&&po(n,this)))}observerRemoved(t){t==0&&Be(this.inputs,e=>Be(e,n=>Hn(n)&&Gl(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Hl(this,t)}},fU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];hs.assign({batchedUpdates:mo.unstable_batchedUpdates,createStringInterpolator:Y2,colors:n8});var mU=N8(fU,{applyAnimatedValues:rU,createAnimatedStyle:t=>new dU(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),hp=mU.animated;function pU(t,e,n){return Math.max(e,Math.min(t,n))}const Xt={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function cS(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function uS(t,e,n,i=.15){return i===0?pU(t,e,n):t<e?-cS(e-t,n-e,i)+e:t>n?+cS(t-n,n-e,i)+n:t}function gU(t,[e,n],[i,a]){const[[l,c],[d,h]]=t;return[uS(e,l,c,i),uS(n,d,h,a)]}function yU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vU(t){var e=yU(t,"string");return typeof e=="symbol"?e:String(e)}function pn(t,e,n){return e=vU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(i){pn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const yC={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function hS(t){return t?t[0].toUpperCase()+t.slice(1):""}const bU=["enter","leave"];function _U(t=!1,e){return t&&!bU.includes(e)}function wU(t,e="",n=!1){const i=yC[t],a=i&&i[e]||e;return"on"+hS(t)+hS(a)+(_U(n,a)?"Capture":"")}const SU=["gotpointercapture","lostpointercapture"];function TU(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const i=SU.includes(e)?"capturecapture":"capture",a=!!~e.indexOf(i);return a&&(e=e.replace("capture","")),{device:e,capture:a,passive:n}}function EU(t,e=""){const n=yC[t],i=n&&n[e]||e;return t+i}function uh(t){return"touches"in t}function vC(t){return uh(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function xU(t){return Array.from(t.touches).filter(e=>{var n,i;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(i=n.contains)===null||i===void 0?void 0:i.call(n,e.target))})}function CU(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function bC(t){return uh(t)?CU(t)[0]:t}function AU(t){return xU(t).map(e=>e.identifier)}function fp(t){const e=bC(t);return uh(t)?e.identifier:e.pointerId}function fS(t){const e=bC(t);return[e.clientX,e.clientY]}function kU(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:i,metaKey:a,ctrlKey:l}=t;Object.assign(e,{shiftKey:n,altKey:i,metaKey:a,ctrlKey:l})}return e}function Id(t,...e){return typeof t=="function"?t(...e):t}function OU(){}function jU(...t){return t.length===0?OU:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function mS(t,e){return Object.assign({},e,t||{})}const RU=32;class DU{constructor(e,n,i){this.ctrl=e,this.args=n,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:i,args:a}=this;n[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=a,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,i=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=i.from?Id(i.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:i,shared:a}=this;n.args=this.args;let l=0;if(e&&(n.event=e,i.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,a.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,a.locked=!!document.pointerLockElement,Object.assign(a,kU(e)),a.down=a.pressed=a.buttons%2===1||a.touches>0,l=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const F=n._delta.map(Math.abs);Xt.addTo(n._distance,F)}this.axisIntent&&this.axisIntent(e);const[c,d]=n._movement,[h,f]=i.threshold,{_step:g,values:v}=n;if(i.hasCustomTransform?(g[0]===!1&&(g[0]=Math.abs(c)>=h&&v[0]),g[1]===!1&&(g[1]=Math.abs(d)>=f&&v[1])):(g[0]===!1&&(g[0]=Math.abs(c)>=h&&Math.sign(c)*h),g[1]===!1&&(g[1]=Math.abs(d)>=f&&Math.sign(d)*f)),n.intentional=g[0]!==!1||g[1]!==!1,!n.intentional)return;const b=[0,0];if(i.hasCustomTransform){const[F,L]=v;b[0]=g[0]!==!1?F-g[0]:0,b[1]=g[1]!==!1?L-g[1]:0}else b[0]=g[0]!==!1?c-g[0]:0,b[1]=g[1]!==!1?d-g[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(b);const S=n.offset,T=n._active&&!n._blocked||n.active;T&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=a[this.ingKey]=n._active,e&&(n.first&&("bounds"in i&&(n._bounds=Id(i.bounds,n)),this.setup&&this.setup()),n.movement=b,this.computeOffset()));const[x,C]=n.offset,[[k,j],[O,M]]=n._bounds;n.overflow=[x<k?-1:x>j?1:0,C<O?-1:C>M?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const $=n._active?i.rubberband||[0,0]:[0,0];if(n.offset=gU(n._bounds,n.offset,$),n.delta=Xt.sub(n.offset,S),this.computeMovement(),T&&(!n.last||l>RU)){n.delta=Xt.sub(n.offset,S);const F=n.delta.map(Math.abs);Xt.addTo(n.distance,F),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&l>0&&(n.velocity=[F[0]/l,F[1]/l],n.timeDelta=l)}}emit(){const e=this.state,n=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const a=this.handler(dt(dt(dt({},n),e),{},{[this.aliasKey]:e.values}));a!==void 0&&(e.memo=a)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function NU([t,e],n){const i=Math.abs(t),a=Math.abs(e);if(i>a&&i>n)return"x";if(a>i&&a>n)return"y"}class IU extends DU{constructor(...e){super(...e),pn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Xt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Xt.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,i=this.config;if(!n.axis&&e){const a=typeof i.axisThreshold=="object"?i.axisThreshold[vC(e)]:i.axisThreshold;n.axis=NU(n._movement,a)}n._blocked=(i.lockDirection||!!i.axis)&&!n.axis||!!i.axis&&i.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const MU=t=>t,pS=.15,_C={enabled(t=!0){return t},eventOptions(t,e,n){return dt(dt({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[pS,pS];case!1:return[0,0];default:return Xt.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Xt.toVector(t)},transform(t,e,n){const i=t||n.shared.transform;return this.hasCustomTransform=!!i,i||MU},threshold(t){return Xt.toVector(t,0)}},LU=0,dc=dt(dt({},_C),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=LU){return t},bounds(t={}){if(typeof t=="function")return l=>dc.bounds(t(l));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:i=-1/0,bottom:a=1/0}=t;return[[e,n],[i,a]]}}),gS={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class PU extends IU{constructor(...e){super(...e),pn(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),a={left:n.left-i.left+e.offset[0],right:n.right-i.right+e.offset[0],top:n.top-i.top+e.offset[1],bottom:n.bottom-i.bottom+e.offset[1]};e._bounds=dc.bounds(a)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const a=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(a&&a.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=fp(e),i._pointerActive=!0,this.computeValues(fS(e)),this.computeInitial(),n.preventScrollAxis&&vC(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,i=this.config;if(!n._pointerActive)return;const a=fp(e);if(n._pointerId!==void 0&&a!==n._pointerId)return;const l=fS(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Xt.sub(l,n._values),this.computeValues(l)),Xt.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,i=this.config;if(!n._active||!n._pointerActive)return;const a=fp(e);if(n._pointerId!==void 0&&a!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[l,c]=n._distance;if(n.tap=l<=i.tapsThreshold&&c<=i.tapsThreshold,n.tap&&i.filterTaps)n._force=!0;else{const[d,h]=n._delta,[f,g]=n._movement,[v,b]=i.swipe.velocity,[S,T]=i.swipe.distance,x=i.swipe.duration;if(n.elapsedTime<x){const C=Math.abs(d/n.timeDelta),k=Math.abs(h/n.timeDelta);C>v&&Math.abs(f)>S&&(n.swipe[0]=Math.sign(d)),k>b&&Math.abs(g)>T&&(n.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,i=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,UU(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=gS[e.key];if(n){const i=this.state,a=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=n(this.config.keyboardDisplacement,a),i._keyboardActive=!0,Xt.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in gS&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function UU(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const hc=typeof window<"u"&&window.document&&window.document.createElement;function wC(){return hc&&"ontouchstart"in window}function BU(){return wC()||hc&&window.navigator.maxTouchPoints>1}function zU(){return hc&&"onpointerdown"in window}function VU(){return hc&&"exitPointerLock"in window.document}function $U(){try{return"constructor"in GestureEvent}catch{return!1}}const Gn={isBrowser:hc,gesture:$U(),touch:wC(),touchscreen:BU(),pointer:zU(),pointerLock:VU()},FU=250,qU=180,HU=.5,GU=50,KU=250,WU=10,yS={mouse:0,touch:0,pen:8},YU=dt(dt({},dc),{},{device(t,e,{pointer:{touch:n=!1,lock:i=!1,mouse:a=!1}={}}){return this.pointerLock=i&&Gn.pointerLock,Gn.touch&&n?"touch":this.pointerLock?"mouse":Gn.pointer&&!a?"pointer":Gn.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?FU:void 0,!(!Gn.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:i=1,keys:a=!0}={}}){return this.pointerButtons=i,this.keys=a,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:i=3,axis:a=void 0}){const l=Xt.toVector(t,n?i:a?1:0);return this.filterTaps=n,this.tapsThreshold=i,l},swipe({velocity:t=HU,distance:e=GU,duration:n=KU}={}){return{velocity:this.transform(Xt.toVector(t)),distance:this.transform(Xt.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return qU;case!1:return 0;default:return t}},axisThreshold(t){return t?dt(dt({},yS),t):yS},keyboardDisplacement(t=WU){return t}});dt(dt({},_C),{},{device(t,e,{shared:n,pointer:{touch:i=!1}={}}){if(n.target&&!Gn.touch&&Gn.gesture)return"gesture";if(Gn.touch&&i)return"touch";if(Gn.touchscreen){if(Gn.pointer)return"pointer";if(Gn.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:i={}}){const a=c=>{const d=mS(Id(n,c),{min:-1/0,max:1/0});return[d.min,d.max]},l=c=>{const d=mS(Id(i,c),{min:-1/0,max:1/0});return[d.min,d.max]};return typeof n!="function"&&typeof i!="function"?[a(),l()]:c=>[a(c),l(c)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Xt.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});dt(dt({},dc),{},{mouseOnly:(t=!0)=>t});dt(dt({},dc),{},{mouseOnly:(t=!0)=>t});const SC=new Map,gg=new Map;function XU(t){SC.set(t.key,t.engine),gg.set(t.key,t.resolver)}const QU={key:"drag",engine:PU,resolver:YU};function JU(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function ZU(t,e){if(t==null)return{};var n=JU(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}const eB={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Gn.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},tB=["target","eventOptions","window","enabled","transform"];function ad(t={},e){const n={};for(const[i,a]of Object.entries(e))switch(typeof a){case"function":n[i]=a.call(n,t[i],i,t);break;case"object":n[i]=ad(t[i],a);break;case"boolean":a&&(n[i]=t[i]);break}return n}function nB(t,e,n={}){const i=t,{target:a,eventOptions:l,window:c,enabled:d,transform:h}=i,f=ZU(i,tB);if(n.shared=ad({target:a,eventOptions:l,window:c,enabled:d,transform:h},eB),e){const g=gg.get(e);n[e]=ad(dt({shared:n.shared},f),g)}else for(const g in f){const v=gg.get(g);v&&(n[g]=ad(dt({shared:n.shared},f[g]),v))}return n}class TC{constructor(e,n){pn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,i,a,l){const c=this._listeners,d=EU(n,i),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},f=dt(dt({},h),l);e.addEventListener(d,a,f);const g=()=>{e.removeEventListener(d,a,f),c.delete(g)};return c.add(g),g}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class sB{constructor(){pn(this,"_timeouts",new Map)}add(e,n,i=140,...a){this.remove(e),this._timeouts.set(e,window.setTimeout(n,i,...a))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class iB{constructor(e){pn(this,"gestures",new Set),pn(this,"_targetEventStore",new TC(this)),pn(this,"gestureEventStores",{}),pn(this,"gestureTimeoutStores",{}),pn(this,"handlers",{}),pn(this,"config",{}),pn(this,"pointerIds",new Set),pn(this,"touchIds",new Set),pn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),rB(this,e)}setEventIds(e){if(uh(e))return this.touchIds=new Set(AU(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=nB(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,i={};let a;if(!(n.target&&(a=n.target(),!a))){if(n.enabled){for(const c of this.gestures){const d=this.config[c],h=vS(i,d.eventOptions,!!a);if(d.enabled){const f=SC.get(c);new f(this,e,c).bind(h)}}const l=vS(i,n.eventOptions,!!a);for(const c in this.nativeHandlers)l(c,"",d=>this.nativeHandlers[c](dt(dt({},this.state.shared),{},{event:d,args:e})),void 0,!0)}for(const l in i)i[l]=jU(...i[l]);if(!a)return i;for(const l in i){const{device:c,capture:d,passive:h}=TU(l);this._targetEventStore.add(a,c,"",i[l],{capture:d,passive:h})}}}}function Ma(t,e){t.gestures.add(e),t.gestureEventStores[e]=new TC(t,e),t.gestureTimeoutStores[e]=new sB}function rB(t,e){e.drag&&Ma(t,"drag"),e.wheel&&Ma(t,"wheel"),e.scroll&&Ma(t,"scroll"),e.move&&Ma(t,"move"),e.pinch&&Ma(t,"pinch"),e.hover&&Ma(t,"hover")}const vS=(t,e,n)=>(i,a,l,c={},d=!1)=>{var h,f;const g=(h=c.capture)!==null&&h!==void 0?h:e.capture,v=(f=c.passive)!==null&&f!==void 0?f:e.passive;let b=d?i:wU(i,a,g);n&&v&&(b+="Passive"),t[b]=t[b]||[],t[b].push(l)};function aB(t,e={},n,i){const a=us.useMemo(()=>new iB(t),[]);if(a.applyHandlers(t,i),a.applyConfig(e,n),us.useEffect(a.effect.bind(a)),us.useEffect(()=>a.clean.bind(a),[]),e.target===void 0)return a.bind.bind(a)}function oB(t,e){return XU(QU),aB({drag:t},e||{},"drag")}const lB=({subtask:t,onToggle:e})=>y.jsxs("div",{className:`${Pe.subtaskItem} ${t.completed?Pe.completed:""} ${Pe.clickable}`,onClick:n=>{n.stopPropagation(),e()},children:[y.jsx("div",{className:Pe.subtaskCheckbox}),y.jsx("span",{children:t.text})]}),cB={low:{label:"Baixa",icon:"batteryLow"},medium:{label:"Mdia",icon:"batteryMedium"},high:{label:"Alta",icon:"batteryFull"}},My=({task:t,tags:e,onEdit:n,onDragStart:i,onDragEnd:a,isDragging:l,quadrant:c,onTriage:d})=>{const{handleCompleteTask:h,handleSetFrog:f,frogTaskId:g,handleDeleteTask:v,handleToggleSubtask:b}=Rn(),{startFocusOnTask:S,activeTaskId:T,status:x}=fo(),{addNotification:C,handleNavigate:k}=vn(),[j,O]=A.useState(!0),M=A.useRef(),$=80,F=c==="inbox",L=A.useMemo(()=>{var ge;return((ge=t.subtasks)==null?void 0:ge.some(Zt=>!Zt.completed))??!1},[t.subtasks]),G=x!=="idle",[Z,ee]=A.useState(!1),oe=g===t.id,J=A.useMemo(()=>F?"check":t.pomodoroEstimate>0?"focus":"check",[t.pomodoroEstimate,F]),[{x:se,scale:Ee},pe]=tU(()=>({x:0,scale:1})),B=()=>{C("Finalize as subtarefas antes de concluir a tarefa principal.","","info")},Y=()=>{oe&&C("Sapo do Dia Concludo! VITRIA!","","success"),h(t.id)},le=oB(({down:ge,movement:[Zt],axis:ps,first:Qi,last:Ji,event:Jn,cancel:Zi})=>{if(!Z){if(Qi&&(M.current=setTimeout(()=>{if(i){ee(!0);const js=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});Jn.target.dispatchEvent(js),Zi()}},400)),ps&&clearTimeout(M.current),Zt>0&&L&&!F){if(ge){const js=Math.min(Zt,$/2);pe.start({x:js,scale:1.05,immediate:!0})}Ji&&(B(),pe.start({x:0,scale:1}));return}if(ps==="x"&&ge&&pe.start({x:Zt,scale:1.05,immediate:!0}),Ji){if(clearTimeout(M.current),ps==="x"){if(Zt>$){pe.start({x:window.innerWidth,onRest:Y});return}else if(Zt<-$){pe.start({x:-window.innerWidth,onRest:()=>v(t.id)});return}}pe.start({x:0,scale:1})}}},{axis:"lock",filterTaps:!0,rubberband:!0,from:()=>[se.get(),0],eventOptions:{passive:!1},threshold:10});A.useEffect(()=>{l||ee(!1)},[l]);const xe=ge=>{if(ge.stopPropagation(),L&&!F){B();return}Y()},Ae=ge=>{ge.stopPropagation(),!G&&(S(t.id,t.title,t.customDuration),k("focus"))},D=t.tagId?e.find(ge=>ge.id===t.tagId):null,H=t.energyNeeded?cB[t.energyNeeded]:null,re=T===t.id,ne=!L||F,_e=F?"Vitria Rpida":"Concluir",je=se.to(ge=>ne?Math.max(0,ge/$)*.7:0),ze=se.to(ge=>Math.max(0,-ge/$)*.7),Ot=`
        ${Pe.taskCard}
        ${t.status==="done"?Pe.statusDone:""}
        ${l?Pe.dragging:""}
        ${F?Pe.inboxCard:""}
        ${oe?Pe.isFrog:""}
    `;return y.jsxs("div",{className:Pe.cardWrapper,children:[y.jsx(hp.div,{className:`${Pe.swipeBackground} ${Pe.completeBackground}`,style:{opacity:je},children:y.jsxs("div",{className:Pe.swipeIcon,children:[y.jsx(te,{path:Q.check}),y.jsx("span",{children:_e})]})}),y.jsx(hp.div,{className:`${Pe.swipeBackground} ${Pe.deleteBackground}`,style:{opacity:ze},children:y.jsxs("div",{className:Pe.swipeIcon,children:[y.jsx(te,{path:Q.trash}),y.jsx("span",{children:"Excluir"})]})}),y.jsx(hp.div,{...le(),draggable:Z,onDragStart:Z?i:void 0,onDragEnd:Z?ge=>{a&&a(ge),ee(!1)}:void 0,className:Ot,style:{x:se,scale:Ee,touchAction:"pan-y"},children:y.jsxs("div",{className:Pe.taskCardContent,children:[y.jsxs("div",{className:Pe.taskCardHeader,children:[y.jsxs("div",{className:Pe.taskCardTitleGroup,children:[J==="check"&&y.jsx("div",{className:`${Pe.checkbox} ${ne?"":Pe.disabled}`,onClick:xe}),J==="focus"&&y.jsx("button",{title:re&&G?"Focando":"Iniciar Foco",onClick:Ae,className:`icon-button ${Pe.headerPlayButton} ${re&&G?Pe.activeFocus:""}`,disabled:G,children:y.jsx(te,{path:re&&G?Q.zap:Q.play})}),y.jsx("h4",{children:t.title})]}),y.jsxs("div",{className:Pe.taskCardActions,children:[F&&d?y.jsx("button",{title:"Organizar Tarefa",onClick:ge=>{ge.stopPropagation(),d(t)},className:"icon-button",children:y.jsx(te,{path:Q.layoutGrid})}):y.jsx(y.Fragment,{children:y.jsx("button",{title:oe?"Este  o Sapo do Dia":"Marcar como Sapo do Dia",onClick:ge=>{ge.stopPropagation(),f(t.id)},disabled:oe,className:`icon-button ${oe?Pe.frogIconActive:""}`,children:y.jsx(te,{path:Q.frog})})}),n&&t.templateId!==50&&y.jsx("button",{title:"Editar Tarefa",onClick:ge=>{ge.stopPropagation(),n(t)},className:"icon-button",children:y.jsx(te,{path:Q.pencil})})]})]}),t.description&&!F&&y.jsx("p",{className:Pe.taskCardDescription,children:t.description}),t.subtasks&&t.subtasks.length>0&&!F&&y.jsxs("div",{className:`${Pe.subtasksSection} ${j?"":Pe.collapsed}`,children:[y.jsxs("div",{className:Pe.subtasksHeader,onClick:()=>O(!j),children:[y.jsxs("div",{children:["Subtarefas (",t.subtasks.filter(ge=>ge.completed).length,"/",t.subtasks.length,")"]}),y.jsx(te,{path:Q.chevronDown,className:Pe.collapsibleChevron})]}),j&&y.jsx("div",{className:Pe.subtasksContent,children:t.subtasks.map(ge=>y.jsx(lB,{subtask:ge,onToggle:()=>b(t.id,ge.id)},ge.id))})]}),(D||H)&&!F&&y.jsxs("div",{className:Pe.taskCardFooter,children:[y.jsx("div",{className:Pe.footerTags,children:D&&y.jsx("div",{className:Pe.footerTag,style:{backgroundColor:D.color},children:D.name})}),H&&y.jsx("div",{title:`Energia: ${H.label}`,className:`${Pe.footerTag} ${Pe.energyTag}`,children:y.jsx(te,{path:Q[H.icon]})})]})]})})]})},uB="_card_1xn00_3",dB="_header_1xn00_13",hB="_taskList_1xn00_27",fB="_emptyState_1xn00_33",Fu={card:uB,header:dB,taskList:hB,emptyState:fB},mB=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${i}`},pB=()=>{const{tasks:t,tags:e}=Rn(),n=mB(),i=A.useMemo(()=>t.filter(a=>a.dueDate===n&&a.status!=="done"),[t,n]);return y.jsxs("div",{className:Fu.card,children:[y.jsx("div",{className:Fu.header,children:y.jsxs("h3",{children:[y.jsx(te,{path:Q.calendar})," Agenda de Hoje"]})}),i.length>0?y.jsx("div",{className:Fu.taskList,children:i.map(a=>y.jsx(My,{task:a,tags:e,quadrant:a.quadrant},a.id))}):y.jsx("div",{className:Fu.emptyState,children:y.jsx("p",{children:"Nenhuma tarefa agendada para hoje. Aproveite o dia ou adicione novas tarefas!"})})]})},gB="_container_1p4hs_3",yB="_contentWrapper_1p4hs_7",vB="_dashboardHeader_1p4hs_13",bB="_greetingContent_1p4hs_19",_B="_headerIcon_1p4hs_39",wB="_brainDumpForm_1p4hs_46",SB="_frogCard_1p4hs_71",TB="_hasFrog_1p4hs_81",EB="_frogCardHeader_1p4hs_86",xB="_frogCardHeaderActions_1p4hs_93",CB="_iconButton_1p4hs_99",AB="_frogTitleCard_1p4hs_117",kB="_frogTaskTitle_1p4hs_125",OB="_frogCardContentEmpty_1p4hs_132",jB="_frogSubtasks_1p4hs_153",RB="_frogSubtaskItem_1p4hs_162",DB="_completed_1p4hs_187",NB="_frogSubtaskCheckbox_1p4hs_192",Et={container:gB,contentWrapper:yB,dashboardHeader:vB,greetingContent:bB,headerIcon:_B,brainDumpForm:wB,frogCard:SB,hasFrog:TB,frogCardHeader:EB,frogCardHeaderActions:xB,iconButton:CB,frogTitleCard:AB,frogTaskTitle:kB,frogCardContentEmpty:OB,frogSubtasks:jB,frogSubtaskItem:RB,completed:DB,frogSubtaskCheckbox:NB};var EC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bS=us.createContext&&us.createContext(EC),IB=["attr","size","title"];function MB(t,e){if(t==null)return{};var n=LB(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function LB(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Md.apply(this,arguments)}function _S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(n),!0).forEach(function(i){PB(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PB(t,e,n){return e=UB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UB(t){var e=BB(t,"string");return typeof e=="symbol"?e:e+""}function BB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t){return t&&t.map((e,n)=>us.createElement(e.tag,Ld({key:n},e.attr),xC(e.child)))}function kt(t){return e=>us.createElement(zB,Md({attr:Ld({},t.attr)},e),xC(t.child))}function zB(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=MB(t,IB),d=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),us.createElement("svg",Md({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:h,style:Ld(Ld({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&us.createElement("title",null,l),t.children)};return bS!==void 0?us.createElement(bS.Consumer,null,n=>e(n)):e(EC)}function VB(t){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function $B(t){return kt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const wS=["Vamos fazer acontecer hoje?","Que a fora do sapo esteja com voc.","O dia s comea depois de um bom planejamento.","Defina suas intenes e v com tudo!","Um pequeno passo hoje, um grande salto para seus objetivos."],SS=["Mantenha o foco, voc est quase l!","A tarde  perfeita para concluir tarefas importantes.","No desista agora, o sapo est esperando!","Uma pausa para o caf e de volta  produtividade!","Continue o bom trabalho, seu futuro agradece."],TS=["A noite  uma criana, planeje seu prximo dia.","Descanse e recarregue, amanh tem mais.","Reflita sobre suas vitrias de hoje.","Ainda d tempo de planejar um amanh incrvel.","Bom descanso, guerreiro do foco!"],ES=()=>{const t=new Date().getHours();return t<12?{text:"Bom dia",icon:Q.sun,gradient:"linear-gradient(140deg, #5D9CEC 0%, #3C6DB9 100%)",phrase:wS[Math.floor(Math.random()*wS.length)]}:t<18?{text:"Boa tarde",icon:Q.sun,gradient:"linear-gradient(140deg, #FFC837 0%, #FF8C00 100%)",phrase:SS[Math.floor(Math.random()*SS.length)]}:{text:"Boa noite",icon:Q.moon,gradient:"linear-gradient(140deg, #8A79F7 0%, #624EC2 100%)",phrase:TS[Math.floor(Math.random()*TS.length)]}},CC=()=>{const{tasks:t,frogTaskId:e,handleSetFrog:n,handleAddTask:i,handleUnsetFrog:a,handleToggleSubtask:l,leavingHomeItems:c,handleToggleLeavingHomeItem:d,handleAddLeavingHomeItem:h,handleRemoveLeavingHomeItem:f,handleResetLeavingHomeItems:g}=Rn(),{handleNavigate:v,addNotification:b,setQuickTaskForCompletion:S}=vn(),{activeTaskId:T,status:x,startFocusOnTask:C}=fo(),{userName:k}=Wd(),[j,O]=A.useState(null),[M,$]=A.useState(""),[F,L]=A.useState(!1),[G,Z]=A.useState(null),[ee,oe]=A.useState(()=>ES());A.useEffect(()=>{const ne=()=>{document.visibilityState==="visible"&&oe(ES())};return document.addEventListener("visibilitychange",ne),()=>{document.removeEventListener("visibilitychange",ne)}},[]);const J=A.useMemo(()=>t.find(ne=>ne.id===e&&ne.status!=="done"),[t,e]),se=A.useMemo(()=>t.filter(ne=>ne.status!=="done"),[t]),Ee=A.useMemo(()=>{var ne;return((ne=J==null?void 0:J.subtasks)==null?void 0:ne.filter(_e=>!_e.completed).length)??0},[J]),pe=A.useMemo(()=>{var ne;return(((ne=J==null?void 0:J.subtasks)==null?void 0:ne.length)??0)>0},[J]),B=A.useMemo(()=>(J==null?void 0:J.title)===" Card Especial FocusFrog N.1",[J]),Y=A.useMemo(()=>J?J.id===T&&x!=="idle":!1,[J,T,x]),le=ne=>{ne.preventDefault(),M.trim()&&(i({title:M,quadrant:"inbox",pomodoroEstimate:1,energyNeeded:"medium"}),$(""))},xe=()=>{G&&(n(G),b("Sapo do Dia definido","","success"),L(!1),Z(null))},Ae=()=>{L(!1),v("tasks")},D=()=>{if(B){window.open("https://www.instagram.com/focus.frog/","_blank");return}!J||pe||(J.pomodoroEstimate>0?(C(J.id,J.title,J.customDuration),v("focus")):S(J))},H=ne=>y.jsxs("div",{className:`${Et.frogSubtaskItem} ${ne.completed?Et.completed:""}`,onClick:()=>J&&l(J.id,ne.id),children:[y.jsx("div",{className:Et.frogSubtaskCheckbox}),y.jsx("span",{children:ne.text})]},ne.id),re=()=>B?"Visitar o Instagram ":Y?y.jsxs(y.Fragment,{children:[y.jsx(te,{path:Q.zap})," Focando no Sapo"]}):pe?Ee>1?`Faltam ${Ee} subtarefas`:Ee===1?"Falta 1 subtarefa":"Sapo comido! ":"Comer o Sapo";return y.jsxs("div",{className:Et.container,children:[j&&y.jsx(M2,{taskToEdit:j,onClose:()=>O(null)}),y.jsx(QL,{}),y.jsx(L2,{isOpen:F,onClose:()=>L(!1),tasks:se,selectedTask:G,onSelectTask:Z,onConfirm:xe,onNavigateToTasks:Ae}),y.jsx("div",{className:Et.dashboardHeader,style:{background:ee.gradient},children:y.jsxs("div",{className:Et.greetingContent,children:[y.jsx("img",{src:"/icon-192.png",alt:"FocusFrog App Icon",className:Et.headerIcon}),y.jsxs("div",{children:[y.jsxs("h2",{children:[ee.text,", ",k||"Usurio","!"]}),y.jsx("p",{children:ee.phrase})]})]})}),y.jsxs("div",{className:Et.contentWrapper,children:[y.jsxs("form",{id:"tutorial-step1-form",onSubmit:le,className:Et.brainDumpForm,children:[y.jsx("input",{type:"text",placeholder:"O que est na sua mente? (Despejo Mental)",value:M,onChange:ne=>$(ne.target.value)}),y.jsx("button",{type:"submit",disabled:!M.trim(),children:y.jsx(te,{path:Q.plus})})]}),y.jsxs("div",{className:`${Et.frogCard} ${J?Et.hasFrog:""} ${Y?Et.frogFocused:""}`,children:[y.jsxs("div",{className:Et.frogCardHeader,children:[y.jsxs("h3",{children:[y.jsx(te,{path:Q.frog})," Sapo do Dia"]}),J&&y.jsxs("div",{className:Et.frogCardHeaderActions,children:[y.jsx("button",{className:`btn btn-secondary btn-small ${Et.iconButton}`,onClick:()=>L(!0),children:y.jsx(VB,{})}),y.jsx("button",{className:`btn btn-secondary btn-icon btn-small ${Et.iconButton}`,onClick:a,title:"Remover Sapo",children:y.jsx($B,{})})]})]}),J?y.jsxs("div",{children:[y.jsx("div",{className:Et.frogTitleCard,children:y.jsx("p",{className:Et.frogTaskTitle,children:J.title})}),pe&&y.jsx("div",{className:Et.frogSubtasks,children:J.subtasks.map(H)}),y.jsx("button",{id:"eat-the-frog-button",className:"btn btn-primary",style:{width:"100%"},onClick:D,disabled:Y||pe&&!B,children:re()})]}):y.jsxs("div",{id:"frog-card-empty-state",className:Et.frogCardContentEmpty,onClick:()=>L(!0),children:[y.jsx(te,{path:Q.target,size:24}),y.jsx("strong",{children:"Escolha seu Sapo"}),y.jsx("p",{children:"Selecione a tarefa que vai destravar seu dia"})]})]}),y.jsx(gP,{items:c,onToggleItem:d,onAddItem:h,onRemoveItem:f,onResetItems:g}),y.jsx(pB,{onEditTask:O})]})]})},FB="_focusScreen_oaf86_3",qB="_screenContent_oaf86_11",HB="_titleContainer_oaf86_27",GB="_subtaskTitle_oaf86_50",KB="_zenSanctuary_oaf86_58",WB="_zenElements_oaf86_68",YB="_characterContainer_oaf86_75",XB="_timerTime_oaf86_79",QB="_controlsContainer_oaf86_86",JB="_mainActionButton_oaf86_100",ZB="_footerActionLeft_oaf86_110",e9="_footerActionRight_oaf86_110",t9="_secondaryActionButton_oaf86_118",n9="_timerCycle_oaf86_138",Lt={focusScreen:FB,screenContent:qB,"cycle-focus":"_cycle-focus_oaf86_22","cycle-shortBreak":"_cycle-shortBreak_oaf86_23","cycle-longBreak":"_cycle-longBreak_oaf86_24",titleContainer:HB,subtaskTitle:GB,zenSanctuary:KB,zenElements:WB,characterContainer:YB,timerTime:XB,controlsContainer:QB,mainActionButton:JB,footerActionLeft:ZB,footerActionRight:e9,secondaryActionButton:t9,timerCycle:n9},s9=t=>{const[e,n]=A.useState(window.matchMedia(t).matches);return A.useEffect(()=>{const i=window.matchMedia(t),a=l=>{n(l.matches)};return i.addEventListener("change",a),()=>{i.removeEventListener("change",a)}},[t]),e},i9="_auraContainer_3ebzk_3",r9="_auraSvg_3ebzk_7",a9="_tick_3ebzk_14",o9="_tickInactive_3ebzk_21",l9="_tickActive_3ebzk_27",La={auraContainer:i9,auraSvg:r9,tick:a9,tickInactive:o9,tickActive:l9,"aura--focus":"_aura--focus_3ebzk_32","aura--shortBreak":"_aura--shortBreak_3ebzk_36","aura--longBreak":"_aura--longBreak_3ebzk_40"},mp=60,qu=150,Hu=135,xS=10,c9=({progress:t,size:e=300,mode:n})=>{const i=A.useMemo(()=>{const c=[];for(let d=0;d<mp;d++){const f=(d/mp*360-90)*Math.PI/180,g=qu+(Hu-xS)*Math.cos(f),v=qu+(Hu-xS)*Math.sin(f),b=qu+Hu*Math.cos(f),S=qu+Hu*Math.sin(f);c.push({x1:g,y1:v,x2:b,y2:S})}return c},[]),a=Math.ceil(t/100*mp),l=La[`aura--${n}`];return y.jsx("div",{className:La.auraContainer,style:{width:e,height:e},children:y.jsx("svg",{viewBox:"0 0 300 300",className:La.auraSvg,children:y.jsx("g",{children:i.map((c,d)=>y.jsx("line",{className:`
                                ${La.tick} 
                                ${d<a?La.tickActive:La.tickInactive}
                                ${l}
                            `,x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2},d))})})})},u9="_frogContainer_1l3ep_3",d9="_frogSvg_1l3ep_7",h9="_frogBody_1l3ep_13",f9="_frogEyes_1l3ep_19",m9="_visible_1l3ep_25",p9="_frogMouth_1l3ep_30",g9="_eyesMeditating_1l3ep_59",y9="_awaken_1l3ep_1",v9="_eyesIdle_1l3ep_84",Fn={frogContainer:u9,frogSvg:d9,frogBody:h9,frogEyes:f9,visible:m9,frogMouth:p9,"status--meditating":"_status--meditating_1l3ep_59",eyesMeditating:g9,awaken:y9,"status--idle":"_status--idle_1l3ep_70","idle-bob":"_idle-bob_1l3ep_1","status--happy":"_status--happy_1l3ep_80","happy-bounce":"_happy-bounce_1l3ep_1",eyesIdle:v9},b9=({status:t,size:e=150})=>{const n=`${Fn.frogEyes} ${Fn.eyesIdle} ${t==="idle"||t==="happy"?Fn.visible:""}`,i=`${Fn.frogEyes} ${Fn.eyesMeditating} ${t==="meditating"?Fn.visible:""}`,a=`${Fn.frogMouth} ${t==="happy"?Fn.visible:""}`;return y.jsx("div",{className:`${Fn.frogContainer} ${Fn["status--"+t]}`,style:{width:e,height:e},children:y.jsxs("svg",{viewBox:"0 0 100 100",className:Fn.frogSvg,children:[y.jsxs("g",{className:Fn.frogBody,children:[y.jsx("path",{d:"M50,95 C25,95 20,70 20,50 C20,25 30,20 50,20 C70,20 80,25 80,50 C80,70 75,95 50,95 Z",fill:"#5c8b57"}),y.jsx("path",{d:"M50,90 C35,90 30,70 30,55 C30,40 40,35 50,35 C60,35 70,40 70,55 C70,70 65,90 50,90 Z",fill:"#84b87c"})]}),y.jsxs("g",{className:n,children:[y.jsx("circle",{cx:"38",cy:"42",r:"6",fill:"#fff"}),y.jsx("circle",{cx:"62",cy:"42",r:"6",fill:"#fff"}),y.jsx("circle",{cx:"39",cy:"43",r:"3",fill:"#000"}),y.jsx("circle",{cx:"61",cy:"43",r:"3",fill:"#000"})]}),y.jsxs("g",{className:i,children:[y.jsx("path",{d:"M34,45 C38,42 42,42 46,45",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),y.jsx("path",{d:"M54,45 C58,42 62,42 66,45",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),y.jsx("g",{className:a,children:y.jsx("path",{d:"M40,58 C45,65 55,65 60,58",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"})})]})})},_9=t=>{const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},w9={focus:"Foco",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"},S9=()=>{const{setShowFocusScreen:t}=vn(),{tasks:e,handleCompleteTask:n}=Rn(),{timerMode:i,status:a,timeRemaining:l,sessionDuration:c,activeTaskId:d,activeTaskTitle:h,activeSubtaskTitle:f,resumeCycle:g,pauseCycle:v,stopCycle:b}=fo(),S=s9("(max-width: 768px)"),T=S?280:320,x=S?100:120,C=A.useMemo(()=>e.find($=>$.id===d),[e,d]),k=()=>{d&&(n(d),b(),t(!1))},j=c>0?l/c*100:0,[O,M]=A.useState("idle");return A.useEffect(()=>{if(a==="running")M("meditating");else if(a==="finished"){M("happy");const $=setTimeout(()=>M("idle"),2500);return()=>clearTimeout($)}else M("idle")},[a]),y.jsx("main",{className:`${Lt.focusScreen} ${Lt["cycle-"+i]}`,children:y.jsxs("div",{className:Lt.screenContent,children:[y.jsxs("div",{className:Lt.titleContainer,children:[y.jsx("p",{children:"Focando em:"}),y.jsx("h2",{children:h||"Foco Geral"}),f&&y.jsx("p",{className:Lt.subtaskTitle,children:f})]}),y.jsxs("div",{className:Lt.zenSanctuary,children:[y.jsx(c9,{progress:j,size:T,mode:i}),y.jsxs("div",{className:Lt.zenElements,children:[y.jsx("div",{className:Lt.characterContainer,children:y.jsx(b9,{status:O,size:x})}),y.jsx("div",{className:Lt.timerTime,children:_9(l)})]})]}),y.jsxs("div",{className:Lt.controlsContainer,children:[y.jsx("div",{className:Lt.footerActionLeft,children:(a==="running"||a==="paused")&&y.jsx("button",{className:`btn ${Lt.secondaryActionButton}`,onClick:b,"aria-label":"Parar ciclo",children:y.jsx(te,{path:Q.square})})}),y.jsx("div",{className:Lt.mainActions,children:a==="running"?y.jsx("button",{className:`btn btn-primary ${Lt.mainActionButton}`,onClick:v,"aria-label":"Pausar ciclo",children:y.jsx(te,{path:Q.pause})}):y.jsx("button",{className:`btn btn-primary ${Lt.mainActionButton}`,onClick:g,"aria-label":a==="paused"?"Continuar ciclo":"Iniciar ciclo",children:y.jsx(te,{path:Q.play})})}),y.jsx("div",{className:Lt.footerActionRight,children:C&&i==="focus"&&a!=="finished"?y.jsx("button",{className:`btn ${Lt.secondaryActionButton}`,onClick:k,"aria-label":"Concluir tarefa",children:y.jsx(te,{path:Q.checkCircle})}):y.jsx("div",{className:Lt.timerCycle,children:w9[i]})})]})]})})},T9="_centeredHeader_98xbw_5",E9="_subtitle_98xbw_13",x9="_optionsGrid_98xbw_22",C9="_optionButton_98xbw_30",A9="_optionTitle_98xbw_57",k9="_optionSubtitle_98xbw_63",O9="_schedule_98xbw_70",j9="_someday_98xbw_71",R9="_footerButton_98xbw_73",Ii={centeredHeader:T9,subtitle:E9,optionsGrid:x9,optionButton:C9,optionTitle:A9,optionSubtitle:k9,do:"_do_98xbw_69",schedule:O9,someday:j9,footerButton:R9},D9=({task:t,onClose:e,onTriage:n})=>{const i=ms(e),[a,l]=A.useState(null);if(A.useEffect(()=>{l(document.getElementById("modal-root"))},[]),!a)return null;const c=[{id:"do",title:"Foco Imediato",subtitle:"Urgente & Importante",icon:"zap"},{id:"schedule",title:"Tarefas do Dia",subtitle:"Importante, no urgente",icon:"calendar"},{id:"someday",title:"Ideias & Projetos",subtitle:"No urgente & no importante",icon:"bookOpen"}];return mo.createPortal(y.jsx("div",{className:"g-modal-overlay",children:y.jsxs("div",{className:"g-modal",ref:i,style:{maxWidth:"550px"},children:[y.jsxs("header",{className:`g-modal-header ${Ii.centeredHeader}`,children:[y.jsx("h3",{children:`Para onde vai a tarefa "${t.title}"?`}),y.jsx("p",{className:Ii.subtitle,children:"Escolha o quadrante de destino para organizar sua tarefa."})]}),y.jsx("main",{className:"g-modal-body",children:y.jsx("div",{className:Ii.optionsGrid,children:c.map(d=>y.jsxs("button",{className:`${Ii.optionButton} ${Ii[d.id]}`,onClick:()=>n(d.id),children:[y.jsx(te,{path:Q[d.icon]}),y.jsx("span",{className:Ii.optionTitle,children:d.title}),y.jsx("span",{className:Ii.optionSubtitle,children:d.subtitle})]},d.id))})}),y.jsx("footer",{className:"g-modal-footer",children:y.jsx("button",{className:`${Ii.footerButton}`,onClick:e,children:"Decidir Depois"})})]})}),a)},N9="_filterPanel_1gow1_3",I9="_panelHeader_1gow1_15",M9="_closeButton_1gow1_32",L9="_panelBody_1gow1_44",P9="_filterSection_1gow1_51",U9="_filterOptions_1gow1_60",B9="_filterChip_1gow1_66",z9="_active_1gow1_88",V9="_overdueActive_1gow1_99",$9="_tagColorDot_1gow1_108",F9="_panelFooter_1gow1_115",Rt={filterPanel:N9,panelHeader:I9,closeButton:M9,panelBody:L9,filterSection:P9,filterOptions:U9,filterChip:B9,active:z9,overdueActive:V9,tagColorDot:$9,panelFooter:F9},q9=[{id:"overdue",label:"Atrasada"},{id:"frog",label:"Sapo do Dia"}],H9=[{id:"low",label:"Baixa"},{id:"medium",label:"Mdia"},{id:"high",label:"Alta"}],G9=({isOpen:t,onClose:e,filters:n,onFilterChange:i})=>{const{tags:a}=Rn(),l=ms(e),c=(f,g)=>{const v={...n};let b=v[f];b.includes(g)?b=b.filter(S=>S!==g):b=[...b,g],i({...v,[f]:b})},d=()=>{i({tags:[],status:[],energy:[]})};if(!t)return null;const h=f=>{const g=n.status.includes(f);return`${Rt.filterChip} ${g?Rt.active:""} ${g&&f==="overdue"?Rt.overdueActive:""}`};return y.jsx("div",{className:"g-modal-overlay",children:y.jsxs("div",{className:Rt.filterPanel,ref:l,onClick:f=>f.stopPropagation(),children:[y.jsxs("header",{className:Rt.panelHeader,children:[y.jsxs("h3",{children:[y.jsx(te,{path:Q.sliders})," Filtros"]}),y.jsx("button",{onClick:e,className:Rt.closeButton,"aria-label":"Fechar filtros",children:y.jsx(te,{path:Q.x})})]}),y.jsxs("main",{className:Rt.panelBody,children:[y.jsxs("div",{className:Rt.filterSection,children:[y.jsx("h4",{children:"STATUS"}),y.jsx("div",{className:Rt.filterOptions,children:q9.map(f=>y.jsx("button",{className:h(f.id),onClick:()=>c("status",f.id),children:f.label},f.id))})]}),y.jsxs("div",{className:Rt.filterSection,children:[y.jsx("h4",{children:"TAGS"}),y.jsx("div",{className:Rt.filterOptions,children:a.map(f=>y.jsxs("button",{className:`${Rt.filterChip} ${n.tags.includes(f.id)?Rt.active:""}`,onClick:()=>c("tags",f.id),children:[y.jsx("span",{className:Rt.tagColorDot,style:{backgroundColor:f.color}}),f.name]},f.id))})]}),y.jsxs("div",{className:Rt.filterSection,children:[y.jsx("h4",{children:"NVEL DE ENERGIA"}),y.jsx("div",{className:Rt.filterOptions,children:H9.map(f=>y.jsx("button",{className:`${Rt.filterChip} ${n.energy.includes(f.id)?Rt.active:""}`,onClick:()=>c("energy",f.id),children:f.label},f.id))})]})]}),y.jsxs("footer",{className:Rt.panelFooter,children:[y.jsx("button",{className:"btn btn-secondary",onClick:d,children:"Limpar Filtros"}),y.jsx("button",{className:"btn btn-primary",onClick:e,children:"Aplicar"})]})]})})},K9="_subtitle_1ughe_3",W9="_libraryTabs_1ughe_10",Y9="_active_1ughe_31",X9="_routinesList_1ughe_36",Q9="_routineCard_1ughe_43",J9="_routineActions_1ughe_60",Z9="_routineCardHeader_1ughe_88",ez="_taskLibraryAccordion_1ughe_111",tz="_accordionItem_1ughe_118",nz="_open_1ughe_125",sz="_accordionHeader_1ughe_129",iz="_accordionContent_1ughe_151",rz="_templateItem_1ughe_165",az="_checkboxVisual_1ughe_187",oz="_deleteTemplateButton_1ughe_216",Wt={subtitle:K9,libraryTabs:W9,active:Y9,routinesList:X9,routineCard:Q9,routineActions:J9,routineCardHeader:Z9,taskLibraryAccordion:ez,accordionItem:tz,open:nz,accordionHeader:sz,accordionContent:iz,templateItem:rz,checkboxVisual:az,deleteTemplateButton:oz},lz="_routineEditorModal_fgm9m_3",cz="_formSection_fgm9m_13",uz="_tasksSection_fgm9m_22",dz="_sectionHeader_fgm9m_31",hz="_defaultRoutineInfo_fgm9m_41",fz="_defaultRoutineIconContainer_fgm9m_50",mz="_defaultRoutineTextContainer_fgm9m_67",pz="_iconSelector_fgm9m_83",gz="_active_fgm9m_107",yz="_taskSearchInput_fgm9m_112",vz="_taskListContainer_fgm9m_116",bz="_templateSelectionList_fgm9m_122",_z="_templateItemContainer_fgm9m_135",wz="_checkboxLabel_fgm9m_137",Sz="_templateItem_fgm9m_135",Tz="_selected_fgm9m_160",Ez="_templateTitle_fgm9m_165",xz="_checkboxVisual_fgm9m_167",Cz="_removeButton_fgm9m_196",Az="_noResults_fgm9m_220",it={routineEditorModal:lz,formSection:cz,tasksSection:uz,sectionHeader:dz,defaultRoutineInfo:hz,defaultRoutineIconContainer:fz,defaultRoutineTextContainer:mz,iconSelector:pz,active:gz,taskSearchInput:yz,taskListContainer:vz,templateSelectionList:bz,templateItemContainer:_z,checkboxLabel:wz,templateItem:Sz,selected:Tz,templateTitle:Ez,checkboxVisual:xz,removeButton:Cz,noResults:Az},yg=({availableTemplates:t,selectedIds:e,onToggle:n,searchTerm:i,isRemovable:a=!1,routineIsDefault:l=!1,noResultsMessage:c="Nenhuma tarefa encontrada."})=>{const d=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase()));return y.jsxs("ul",{className:it.templateSelectionList,children:[d.length===0&&y.jsx("p",{className:it.noResults,children:c}),d.map(h=>{const f=e.includes(h.id),g=l&&h.isDefault;return y.jsx("li",{className:it.templateItemContainer,children:a?y.jsxs("div",{className:it.templateItem,children:[y.jsx("span",{className:it.templateTitle,children:h.title}),!g&&y.jsx("button",{className:it.removeButton,onClick:()=>n(h.id),title:"Remover Tarefa",children:y.jsx(te,{path:Q.trash})})]}):y.jsxs("label",{className:`${it.templateItem} ${it.checkboxLabel} ${f?it.selected:""}`,children:[y.jsx("input",{type:"checkbox",checked:f,onChange:()=>n(h.id)}),y.jsx("span",{className:it.checkboxVisual,children:y.jsx(te,{path:Q.check})}),y.jsx("span",{className:it.templateTitle,children:h.title})]})},h.id)})]})},kz=({onToggleTask:t,tasksNotInRoutine:e,onClose:n,searchTerm:i,setSearchTerm:a,routineTaskIds:l,isDefaultRoutine:c})=>{const d=ms(n),h=c?e.filter(g=>!g.isDefault):e,f=c?"Nenhuma tarefa personalizada disponvel para adicionar.":"Nenhuma tarefa encontrada.";return y.jsx("div",{className:"g-modal-overlay",children:y.jsxs("div",{className:`g-modal ${it.addTaskModal}`,ref:d,children:[y.jsxs("header",{className:"g-modal-header",children:[y.jsx("h3",{children:"Adicionar Tarefas  Rotina"}),y.jsx("button",{onClick:n,className:it.closePaneButton,children:y.jsx(te,{path:Q.x})})]}),y.jsxs("main",{className:"g-modal-body",style:{flexDirection:"column"},children:[y.jsx("input",{type:"text",placeholder:"Buscar tarefas personalizadas...",value:i,onChange:g=>a(g.target.value),className:"g-input"}),y.jsx(yg,{availableTemplates:h,selectedIds:l,onToggle:t,searchTerm:i,noResultsMessage:f})]}),y.jsx("footer",{className:"g-modal-footer",children:y.jsx("button",{className:"btn btn-primary",onClick:n,children:"Concludo"})})]})})},Oz=({routineToEdit:t,onSave:e,onClose:n})=>{const{taskTemplates:i}=Rn(),[a,l]=A.useState(t||{id:"",name:"",description:"",icon:"zap",taskTemplateIds:[],isDefault:!1}),[c,d]=A.useState(""),[h,f]=A.useState(!1),g=!!t,v=a.isDefault,b=ms(()=>{h||n()}),S=(j,O)=>{l(M=>({...M,[j]:O}))},T=j=>{l(O=>{const M=O.taskTemplateIds,$=M.includes(j)?M.filter(F=>F!==j):[...M,j];return{...O,taskTemplateIds:$}})},x=()=>{a.name.trim()&&(g||y6(),e(a))},C=A.useMemo(()=>i.filter(j=>a.taskTemplateIds.includes(j.id)),[i,a.taskTemplateIds]),k=A.useMemo(()=>i.filter(j=>!a.taskTemplateIds.includes(j.id)),[i,a.taskTemplateIds]);return y.jsxs("div",{className:"g-modal-overlay",children:[y.jsxs("div",{className:`g-modal ${it.routineEditorModal}`,ref:b,children:[y.jsx("header",{className:"g-modal-header",children:y.jsx("h3",{children:g?"Editar Rotina":"Criar Nova Rotina"})}),y.jsxs("main",{className:"g-modal-body",children:[y.jsx("div",{className:it.formSection,children:v?y.jsxs("div",{className:it.defaultRoutineInfo,children:[y.jsx("div",{className:it.defaultRoutineIconContainer,children:y.jsx(te,{path:Q[a.icon]})}),y.jsxs("div",{className:it.defaultRoutineTextContainer,children:[y.jsx("h5",{children:a.name}),y.jsx("p",{children:a.description})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Nome da Rotina"}),y.jsx("input",{type:"text",className:"g-input",value:a.name,onChange:j=>S("name",j.target.value),placeholder:"Ex: Preparao para a Semana"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Descrio"}),y.jsx("input",{type:"text",className:"g-input",value:a.description,onChange:j=>S("description",j.target.value),placeholder:"Ex: Organizar agenda e metas..."})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"cone"}),y.jsx("div",{className:it.iconSelector,children:b3.map(j=>y.jsx("button",{className:a.icon===j?it.active:"",onClick:()=>S("icon",j),children:y.jsx(te,{path:Q[j]})},j))})]})]})}),y.jsxs("div",{className:it.tasksSection,children:[y.jsx("h4",{className:it.sectionHeader,children:g?"Tarefas na Rotina":"Selecione as Tarefas"}),y.jsx("input",{type:"text",placeholder:"Buscar tarefas...",value:c,onChange:j=>d(j.target.value),className:`${it.taskSearchInput} g-input`}),g?y.jsxs("div",{className:it.taskListContainer,children:[y.jsx(yg,{availableTemplates:C,selectedIds:a.taskTemplateIds,onToggle:T,searchTerm:c,isRemovable:!0,routineIsDefault:a.isDefault}),y.jsxs("button",{className:"btn btn-primary",onClick:()=>f(!0),style:{width:"100%",marginTop:"var(--sp-md)"},children:[y.jsx(te,{path:Q.plus})," Adicionar Tarefa"]})]}):y.jsx("div",{className:it.taskListContainer,children:y.jsx(yg,{availableTemplates:i,selectedIds:a.taskTemplateIds,onToggle:T,searchTerm:c})})]})]}),y.jsxs("footer",{className:"g-modal-footer",children:[y.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Cancelar"}),y.jsx("button",{className:"btn btn-primary",onClick:x,disabled:!a.name.trim(),children:g?"Salvar Alteraes":"Criar Rotina"})]})]}),g&&h&&y.jsx(kz,{onClose:()=>f(!1),tasksNotInRoutine:k,onToggleTask:T,searchTerm:c,setSearchTerm:d,routineTaskIds:a.taskTemplateIds,isDefaultRoutine:v})]})},jz=({onAddRoutine:t,onAddTemplates:e,onClose:n})=>{const{routines:i,taskTemplates:a,handleDeleteTemplate:l,handleSaveRoutine:c,handleDeleteRoutine:d}=Rn(),[h,f]=A.useState([]),[g,v]=A.useState(null),[b,S]=A.useState("routines"),[T,x]=A.useState(null),[C,k]=A.useState(!1),j=ms(()=>{!C&&!T&&n()}),O=A.useMemo(()=>{const ee=Array.from(new Set(a.map(J=>J.category))),oe=new Set([...ee,...v3]);return Array.from(oe)},[a]),M=ee=>{f(oe=>oe.includes(ee)?oe.filter(J=>J!==ee):[...oe,ee])},$=ee=>{v(oe=>oe===ee?null:ee)},F=()=>{const ee=a.filter(oe=>h.includes(oe.id));ee.length>0&&e(ee),n()},L=ee=>{t(ee),n()},G=(ee,oe)=>{ee.stopPropagation(),l(oe)},Z=ee=>{c(ee),k(!1),x(null)};return y.jsxs("div",{className:"g-modal-overlay",children:[y.jsxs("div",{className:"g-modal",ref:j,children:[y.jsxs("header",{className:"g-modal-header",children:[y.jsxs("div",{children:[y.jsxs("h3",{children:[y.jsx(te,{path:Q.bookOpen})," Biblioteca"]}),y.jsx("p",{className:Wt.subtitle,children:"Adicione rotinas e tarefas para agilizar seu dia."})]}),b==="routines"&&y.jsxs("button",{className:"btn btn-primary",onClick:()=>k(!0),children:[y.jsx(te,{path:Q.plus})," Criar Rotina"]})]}),y.jsxs("div",{className:Wt.libraryTabs,children:[y.jsxs("button",{className:b==="routines"?Wt.active:"",onClick:()=>S("routines"),children:[y.jsx(te,{path:Q.rotateCw})," Rotinas"]}),y.jsxs("button",{className:b==="templates"?Wt.active:"",onClick:()=>S("templates"),children:[y.jsx(te,{path:Q.zap})," Tarefas Rpidas"]})]}),y.jsxs("main",{className:"g-modal-body",children:[b==="routines"&&y.jsx("div",{className:Wt.routinesList,children:i.map(ee=>y.jsxs("div",{className:`card ${Wt.routineCard}`,children:[y.jsxs("div",{className:Wt.routineActions,children:[y.jsx("button",{onClick:()=>x(ee),title:"Editar Rotina",children:y.jsx(te,{path:Q.edit})}),!ee.isDefault&&y.jsx("button",{onClick:()=>d(ee.id),title:"Excluir Rotina",children:y.jsx(te,{path:Q.trash})})]}),y.jsxs("div",{className:Wt.routineCardHeader,children:[y.jsx(te,{path:Q[ee.icon]}),y.jsx("h5",{children:ee.name})]}),y.jsx("p",{children:ee.description}),y.jsxs("button",{className:"btn btn-secondary",onClick:()=>L(ee),children:[y.jsx(te,{path:Q.plus})," Adicionar (",ee.taskTemplateIds.length,") Tarefas"]})]},ee.id))}),b==="templates"&&y.jsx("div",{className:Wt.taskLibraryAccordion,children:O.map(ee=>y.jsxs("div",{className:`${Wt.accordionItem} ${g===ee?Wt.open:""}`,children:[y.jsxs("div",{className:Wt.accordionHeader,onClick:()=>$(ee),children:[y.jsx("span",{children:ee}),y.jsx(te,{path:Q.chevronDown})]}),y.jsx("div",{className:Wt.accordionContent,children:a.filter(oe=>oe.category===ee).map(oe=>y.jsxs("div",{className:Wt.templateItem,onClick:()=>M(oe.id),children:[y.jsx("input",{type:"checkbox",checked:h.includes(oe.id),readOnly:!0}),y.jsx("span",{className:Wt.checkboxVisual,children:y.jsx(te,{path:Q.check})}),y.jsx("label",{children:oe.title}),!oe.isDefault&&y.jsx("button",{className:Wt.deleteTemplateButton,onClick:J=>G(J,oe.id),title:"Excluir este modelo",children:y.jsx(te,{path:Q.trash})})]},oe.id))})]},ee))})]}),y.jsxs("footer",{className:"g-modal-footer",children:[y.jsx("button",{className:"btn btn-secondary",onClick:n,style:{marginLeft:b==="templates"?"0":"auto"},children:"Fechar"}),b==="templates"&&y.jsxs("button",{className:"btn btn-primary",onClick:F,disabled:h.length===0,style:{marginLeft:"auto"},children:["Adicionar Tarefas (",h.length,")"]})]})]}),(C||T)&&y.jsx(Oz,{routineToEdit:C?null:T,onSave:Z,onClose:()=>{k(!1),x(null)}})]})},Rz="_tasksHeader_1puwp_1",Dz="_tasksTitle_1puwp_8",Nz="_tasksActions_1puwp_12",Iz="_tasksBoard_1puwp_17",Mz="_quadrantColumn_1puwp_32",Lz="_quadrantHeader_1puwp_43",Pz="_taskList_1puwp_51",Uz="_collapsedHorizontalList_1puwp_61",Bz="_expandedHorizontalList_1puwp_69",zz="_inboxShowMore_1puwp_76",tn={tasksHeader:Rz,tasksTitle:Dz,tasksActions:Nz,tasksBoard:Iz,"quadrant-inbox":"_quadrant-inbox_1puwp_27","quadrant-do":"_quadrant-do_1puwp_28","quadrant-schedule":"_quadrant-schedule_1puwp_29","quadrant-someday":"_quadrant-someday_1puwp_30",quadrantColumn:Mz,quadrantHeader:Lz,taskList:Pz,collapsedHorizontalList:Uz,expandedHorizontalList:Bz,inboxShowMore:zz},CS=({title:t,quadrant:e,tasks:n,tags:i,onEdit:a,onStartTriage:l})=>{const[c,d]=A.useState(!1),h=c?n:n.slice(0,2),f=e==="inbox"||e==="someday",g=e==="inbox",v=()=>f?c?tn.expandedHorizontalList:tn.collapsedHorizontalList:tn.taskList;return y.jsxs("div",{className:`${tn.quadrantColumn} ${tn["quadrant-"+e]}`,children:[y.jsxs("header",{className:tn.quadrantHeader,children:[y.jsxs("span",{children:[t," (",n.length,")"]}),g&&n.length>0&&y.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:l,children:[y.jsx(te,{path:Q.clipboardList})," Organizar Caixa de Entrada"]})]}),y.jsx("div",{className:v(),children:h.map(b=>y.jsx(My,{task:b,tags:i,onEdit:a,quadrant:e},b.id))}),f&&n.length>2&&y.jsx("button",{className:`btn btn-tertiary ${tn.inboxShowMore}`,onClick:()=>d(!c),children:c?"Mostrar menos":`Mostrar mais ${n.length-2} tarefa(s)`})]})},AS=({title:t,quadrant:e,tasks:n,onEdit:i,tags:a})=>y.jsxs("div",{className:`${tn.quadrantColumn} ${tn["quadrant-"+e]}`,children:[y.jsx("header",{className:tn.quadrantHeader,children:y.jsxs("span",{children:[t," (",n.length,")"]})}),y.jsx("div",{className:tn.taskList,children:n.map(l=>y.jsx(My,{task:l,tags:a,onEdit:i,quadrant:e},l.id))})]}),Vz=()=>{const{tasks:t,tags:e,routines:n,handleAddRoutine:i,handleAddTemplates:a,isTriageActive:l,triageQueue:c,startTriage:d,endTriage:h,processTriage:f}=Rn(),[g,v]=A.useState(null),[b,S]=A.useState(!1),[T,x]=A.useState(!1),[C,k]=A.useState({tags:[],status:[],energy:[]}),j=A.useMemo(()=>t.filter(L=>{if(L.status==="done")return!1;const G=C.tags.length===0||L.tagId&&C.tags.includes(L.tagId),Z=C.energy.length===0||L.energyNeeded&&C.energy.includes(L.energyNeeded);return G&&Z}),[t,C]),O=A.useMemo(()=>{const L={inbox:[],do:[],schedule:[],someday:[]};return j.forEach(G=>{const Z=G.quadrant;L[Z]?L[Z].push(G):L.inbox.push(G)}),L},[j]),M=L=>v(L||{quadrant:"inbox"}),$=()=>v(null),F=[{id:"inbox",component:CS,props:{onStartTriage:d}},{id:"do",component:AS,props:{}},{id:"schedule",component:AS,props:{}},{id:"someday",component:CS,props:{}}];return y.jsxs("main",{children:[g&&y.jsx(M2,{taskToEdit:g,onClose:$,tags:e}),l&&c.length>0&&y.jsx(D9,{task:c[0],onClose:h,onTriage:f}),T&&y.jsx(jz,{routines:n,onAddRoutine:i,onAddTemplates:a,onClose:()=>x(!1)}),y.jsx(G9,{isOpen:b,onClose:()=>S(!1),filters:C,onFilterChange:k}),y.jsxs("div",{className:"screen-content",children:[y.jsxs("div",{className:tn.tasksHeader,children:[y.jsx("div",{className:tn.tasksTitle,children:y.jsx("h2",{children:"Matriz de Eisenhower"})}),y.jsxs("div",{className:tn.tasksActions,children:[y.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>x(!0),title:"Biblioteca",children:y.jsx(te,{path:Q.bookOpen})}),y.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>S(!0),title:"Filtros",children:y.jsx(te,{path:Q.filter})}),y.jsxs("button",{className:"btn btn-primary",onClick:()=>M(),children:[y.jsx(te,{path:Q.plus})," Nova Tarefa"]})]})]}),y.jsx("div",{className:tn.tasksBoard,children:F.map(L=>{const G=L.component,Z=Xp.find(ee=>ee.id===L.id);return Z?y.jsx(G,{quadrant:L.id,title:Z.title,tasks:O[L.id]||[],tags:e,onEdit:M,...L.props},L.id):null})})]})]})},$z="_statsContainer_1smwq_3",Fz="_statsHeader_1smwq_9",qz="_statsTitle_1smwq_13",Hz="_streakHeroCard_1smwq_19",Gz="_streakContent_1smwq_28",Kz="_streakSubContent_1smwq_35",Wz="_streakIcon_1smwq_41",Yz="_streakLevel0_1smwq_48",Xz="_burning_1smwq_52",Qz="_streakInfo_1smwq_63",Jz="_streakCount_1smwq_68",Zz="_streakLabel_1smwq_75",eV="_keyMetricsGrid_1smwq_82",tV="_metricCard_1smwq_102",nV="_metricHeader_1smwq_107",sV="_value_1smwq_117",iV="_consistencyCard_1smwq_124",rV="_sectionTitle_1smwq_126",aV="_heatmapWrapper_1smwq_135",oV="_heatmapGrid_1smwq_143",lV="_heatmapCell_1smwq_152",cV="_footnote_1smwq_163",uV="_statsFooterActions_1smwq_171",dV="_btn_1smwq_175",Ge={statsContainer:$z,statsHeader:Fz,statsTitle:qz,streakHeroCard:Hz,streakContent:Gz,streakSubContent:Kz,streakIcon:Wz,streakLevel0:Yz,burning:Xz,"flame-flicker":"_flame-flicker_1smwq_1",streakInfo:Qz,streakCount:Jz,streakLabel:Zz,keyMetricsGrid:eV,metricCard:tV,metricHeader:nV,value:sV,consistencyCard:iV,sectionTitle:rV,heatmapWrapper:aV,heatmapGrid:oV,heatmapCell:lV,"level-1":"_level-1_1smwq_159","level-2":"_level-2_1smwq_160","level-3":"_level-3_1smwq_161",footnote:cV,statsFooterActions:uV,btn:dV},hV=t=>t===0?{background:"linear-gradient(145deg, var(--surface-secondary-color), var(--border-color))",color:"var(--text-color)"}:t===1?{background:"linear-gradient(145deg, #3C6DB9, #5D9CEC)"}:t>=2&&t<30?{background:`linear-gradient(270deg, #FF8C00 0%, #FFD700 50%, #3A7BD5 ${100-(t-2)/27*100}%)`}:{background:"linear-gradient(145deg, #FF8C00, #E65C00)"},fV=()=>{const{handleNavigate:t}=vn(),{tasks:e}=Rn(),{pomodorosCompleted:n}=fo(),{pontosFoco:i}=_y(),a=A.useMemo(()=>{const d=e.filter(v=>v.status==="done"),h=n*25/60,f=[...new Set(d.map(v=>new Date(v.completedAt).toDateString()))];f.sort((v,b)=>new Date(b).getTime()-new Date(v).getTime());let g=0;if(f.length>0){let v=new Date;const b=new Date(f[0]);if((v.setHours(0,0,0,0)-b.setHours(0,0,0,0))/(1e3*60*60*24)>1)g=0;else{g=1;for(let T=0;T<f.length-1;T++){const x=new Date(f[T]),C=new Date(f[T+1]),k=x.getTime()-C.getTime();if(Math.ceil(k/(1e3*60*60*24))===1)g++;else break}}}return{tasksCompletedCount:d.length,focusHours:Math.round(h*10)/10,pointsEarned:i,streakDays:g}},[e,n,i]),l=A.useMemo(()=>{const d={};e.filter(g=>g.status==="done"&&g.completedAt).forEach(g=>{const v=new Date(g.completedAt).toISOString().split("T")[0];d[v]=(d[v]||0)+1});const h=[],f=new Date;for(let g=90;g>=0;g--){const v=new Date(f);v.setDate(f.getDate()-g);const b=v.toISOString().split("T")[0],S=d[b]||0;let T=0;S>0&&S<=2?T=1:S>2&&S<=5?T=2:S>5&&(T=3),h.push({date:b,count:S,level:T})}return h},[e]),c=hV(a.streakDays);return y.jsxs("main",{className:"screen-content",children:[y.jsx("div",{className:Ge.statsHeader,children:y.jsx("div",{className:Ge.statsTitle,children:y.jsx("h2",{children:"Seu Progresso"})})}),y.jsxs("div",{className:Ge.statsContainer,children:[y.jsx("div",{className:Ge.streakHeroCard,style:c,children:y.jsxs("div",{className:Ge.streakContent,children:[y.jsx("div",{className:Ge.streakInfo,children:y.jsx("span",{className:Ge.streakCount,children:a.streakDays})}),y.jsxs("div",{className:Ge.streakSubContent,children:[y.jsx("div",{className:`${Ge.streakIcon} ${a.streakDays>0?Ge.burning:""}`,children:y.jsx(te,{path:Q.flame})}),y.jsx("span",{className:Ge.streakLabel,children:"Dias seguidos de foco"})]})]})}),y.jsxs("div",{className:Ge.keyMetricsGrid,children:[y.jsxs("div",{className:`card ${Ge.metricCard}`,children:[y.jsxs("div",{className:Ge.metricHeader,children:[y.jsx(te,{path:Q.checkSquare}),y.jsx("span",{children:"Tarefas"})]}),y.jsx("div",{className:Ge.value,children:a.tasksCompletedCount})]}),y.jsxs("div",{className:`card ${Ge.metricCard}`,children:[y.jsxs("div",{className:Ge.metricHeader,children:[y.jsx(te,{path:Q.timer}),y.jsx("span",{children:"Horas Focadas"})]}),y.jsxs("div",{className:Ge.value,children:[a.focusHours,"h"]})]}),y.jsxs("div",{className:`card ${Ge.metricCard}`,children:[y.jsxs("div",{className:Ge.metricHeader,children:[y.jsx(te,{path:Q.trophy}),y.jsx("span",{children:"Pontos"})]}),y.jsx("div",{className:Ge.value,children:a.pointsEarned})]})]}),y.jsxs("div",{className:`card ${Ge.consistencyCard}`,children:[y.jsxs("h4",{className:Ge.sectionTitle,children:[y.jsx(te,{path:Q.calendar})," Consistncia"]}),y.jsx("div",{className:Ge.heatmapWrapper,children:y.jsx("div",{className:Ge.heatmapGrid,children:l.map(d=>y.jsx("div",{className:`${Ge.heatmapCell} ${Ge["level-"+d.level]}`,title:`${d.date}: ${d.count} tarefas`},d.date))})}),y.jsx("p",{className:Ge.footnote,children:"ltimos 3 meses"})]}),y.jsx("div",{className:Ge.statsFooterActions,children:y.jsxs("button",{className:"btn btn-secondary",onClick:()=>t("rewards"),children:[y.jsx(te,{path:Q.trophy})," Ir para Loja de Recompensas"]})})]})]})},mV="_header_eadj9_3",pV="_tabContent_eadj9_5",gV="_settingsGroup_eadj9_6",yV="_navRow_eadj9_8",vV="_navRowIconWrapper_eadj9_9",bV="_navRowText_eadj9_10",_V="_navRowChevron_eadj9_12",wV="_subScreenHeader_eadj9_16",SV="_backButton_eadj9_19",TV="_profileScreen_eadj9_22",EV="_authCard_eadj9_23",xV="_authIcon_eadj9_24",CV="_authIconSuccess_eadj9_25",AV="_dataActions_eadj9_32",kV="_buttonDanger_eadj9_34",ct={header:mV,tabContent:pV,settingsGroup:gV,navRow:yV,navRowIconWrapper:vV,navRowText:bV,navRowChevron:_V,subScreenHeader:wV,backButton:SV,profileScreen:TV,authCard:EV,authIcon:xV,authIconSuccess:CV,dataActions:AV,buttonDanger:kV},OV="_modalOverlay_sbist_3",jV="_modal_sbist_3",RV="_iconWrapper_sbist_31",DV="_buttonGroup_sbist_51",NV="_confirmButton_sbist_57",IV="_cancelButton_sbist_58",MV="_danger_sbist_63",wr={modalOverlay:OV,modal:jV,iconWrapper:RV,buttonGroup:DV,confirmButton:NV,cancelButton:IV,danger:MV},LV=({title:t,message:e,confirmText:n,cancelText:i,onConfirm:a,onCancel:l,icon:c="alertTriangle",variant:d="default"})=>{const h=ms(l),f=`btn ${wr.confirmButton} ${d==="danger"?wr.danger:"btn-primary"}`;return y.jsx("div",{className:wr.modalOverlay,children:y.jsxs("div",{className:wr.modal,ref:h,children:[y.jsx("div",{className:wr.iconWrapper,children:y.jsx(te,{path:Q[c]})}),y.jsx("h3",{children:t}),y.jsx("p",{children:e}),y.jsxs("div",{className:wr.buttonGroup,children:[y.jsx("button",{className:f,onClick:a,children:n}),y.jsx("button",{className:`btn btn-secondary ${wr.cancelButton}`,onClick:l,children:i})]})]})})};function PV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function UV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function BV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function zV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(t)}function VV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function $V(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"},child:[]},{tag:"polyline",attr:{points:"13 11 9 17 15 17 11 23"},child:[]}]})(t)}function FV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function qV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function kS(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function HV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function GV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(t)}function KV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function WV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function YV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function XV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function QV(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function AC(t){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}const Gu=({icon:t,title:e,description:n,onClick:i})=>y.jsx("div",{className:ct.settingsGroup,onClick:i,children:y.jsxs("div",{className:ct.navRow,children:[y.jsx("div",{className:ct.navRowIconWrapper,children:y.jsx(t,{})}),y.jsxs("div",{className:ct.navRowText,children:[y.jsx("h4",{children:e}),y.jsx("p",{children:n})]}),i&&y.jsx("span",{className:ct.navRowChevron,children:y.jsx(VV,{})})]})}),vg=({title:t,onBack:e})=>y.jsxs("div",{className:ct.subScreenHeader,children:[y.jsx("button",{onClick:e,className:ct.backButton,children:y.jsx(PV,{})}),y.jsx("h3",{children:t})]}),JV=({user:t,signIn:e,signOut:n,onBack:i})=>{var a;return t?y.jsxs("div",{className:`${ct.tabContent} ${ct.profileScreen}`,children:[y.jsx(vg,{title:"Perfil e Sincronizao",onBack:i}),y.jsxs("div",{className:ct.authCard,children:[y.jsx("span",{className:ct.authIconSuccess,children:y.jsx(BV,{size:40})}),y.jsx("h3",{children:"Tudo Sincronizado!"}),y.jsx("p",{children:"Voc est logado como:"}),y.jsx("strong",{children:((a=t.user_metadata)==null?void 0:a.full_name)||"Usurio"}),y.jsx("small",{children:t.email}),y.jsxs("button",{onClick:n,className:`btn ${ct.buttonDanger} ${ct.signOutButton}`,children:[y.jsx(WV,{})," Sair"]})]})]}):y.jsxs("div",{className:`${ct.tabContent} ${ct.profileScreen}`,children:[y.jsx(vg,{title:"Perfil e Sincronizao",onBack:i}),y.jsxs("div",{className:ct.authCard,children:[y.jsx("span",{className:ct.authIcon,children:y.jsx(KV,{size:40})}),y.jsx("h3",{children:"Salve seu Progresso"}),y.jsx("p",{children:"Crie uma conta gratuita para fazer backup na nuvem e sincronizar suas tarefas entre dispositivos."}),y.jsxs("button",{onClick:e,className:"g-button",children:[y.jsx("img",{src:"/google-logo.svg",alt:"Google",style:{width:20,height:20,marginRight:10}}),"Continuar com Google"]})]})]})},ZV=({user:t,onBack:e,exportData:n,importDataFromFile:i,downloadAndRestoreFromSupabase:a,showResetModal:l})=>{const c=A.useRef(null),d=()=>{var f;t?a(t):(f=c.current)==null||f.click()},h=f=>{var v;const g=(v=f.target.files)==null?void 0:v[0];g&&i(g,t)};return y.jsxs("div",{className:ct.tabContent,children:[y.jsx(vg,{title:"Dados do Aplicativo",onBack:e}),y.jsxs("div",{className:ct.dataActions,children:[y.jsx("p",{className:ct.dataDescription,children:t?"Seu backup na nuvem  atualizado ao fazer login. Restaure a partir dele ou exporte um arquivo local a qualquer momento.":"Crie uma conta para habilitar o backup na nuvem. Por enquanto, voc s pode gerenciar backups locais."}),y.jsxs("button",{className:"btn btn-secondary",onClick:n,children:[y.jsx(qV,{})," Exportar para Arquivo"]}),y.jsxs("button",{className:"btn btn-secondary",onClick:d,children:[t?y.jsx($V,{}):y.jsx(QV,{}),t?"Restaurar da Nuvem":"Importar de Arquivo"]}),y.jsxs("button",{className:`btn ${ct.buttonDanger}`,onClick:l,children:[y.jsx(XV,{})," Resetar Dados Locais"]})]}),y.jsx("input",{type:"file",ref:c,style:{display:"none"},accept:".json",onChange:h})]})},e7=()=>{const{addNotification:t,setDevModeEnabled:e}=vn(),{exportData:n,importDataFromFile:i,resetData:a,downloadAndRestoreFromSupabase:l}=cx(),{user:c,isLoading:d,signInWithGoogle:h,signOut:f}=Kd(),[g,v]=A.useState("main"),[b,S]=A.useState(!1),T=()=>S(!0),x=()=>S(!1),C=()=>{a(),x()},k=()=>{var j;switch(g){case"profile":return y.jsx(JV,{user:c,signIn:h,signOut:f,onBack:()=>v("main")});case"data":return y.jsx(ZV,{user:c,onBack:()=>v("main"),exportData:n,importDataFromFile:i,downloadAndRestoreFromSupabase:l,showResetModal:T});case"main":default:return y.jsxs("div",{className:ct.tabContent,children:[y.jsx("div",{className:ct.header,children:y.jsx("h2",{children:"Configuraes"})}),y.jsx(Gu,{icon:AC,title:"Perfil e Sincronizao",description:c?`Logado como ${(j=c.user_metadata)==null?void 0:j.full_name}`:"Backup na nuvem e multi-dispositivo",onClick:()=>v("profile")}),y.jsx(Gu,{icon:GV,title:"Aparncia",description:"Ajuste tema, sons e outros.",onClick:()=>alert("Tela de Aparncia em breve!")}),y.jsx(Gu,{icon:FV,title:"Gerenciar Dados",description:"Backup, restaurao e reset.",onClick:()=>v("data")}),y.jsx(Gu,{icon:HV,title:"Sobre",description:"Nossa histria e misso.",onClick:()=>alert("Tela Sobre em breve!")})]})}};return y.jsxs("main",{className:"screen-content",children:[b&&y.jsx(LV,{title:"Resetar Todos os Dados",message:"Tem a certeza? Esta ao  irreversvel e ir apagar todas as suas tarefas, pontos e personalizaes.",confirmText:"Sim, Resetar Tudo",cancelText:"Cancelar",onConfirm:C,onCancel:x,variant:"danger",icon:"trash"}),d?y.jsx("p",{children:"Carregando..."}):k()]})},t7="_subtitle_rs6lb_61",Qe={subtitle:t7},n7=()=>y.jsxs("div",{className:Qe.moodboardContainer,children:[y.jsxs("header",{className:Qe.moodboardHeader,children:[y.jsxs("div",{className:Qe.logoConcept,children:[y.jsx(te,{path:Q.frog,className:Qe.logoIcon}),y.jsx("h1",{children:"FocusFrog"})]}),y.jsx("h2",{children:"Guia de Estilo & Arquitetura"}),y.jsx("p",{className:Qe.subtitle,children:"Um guia vivo para a identidade visual, filosofia e arquitetura tcnica do projeto."})]}),y.jsxs("main",{className:Qe.moodboardContent,children:[y.jsxs("section",{className:Qe.moodboardSection,children:[y.jsx("h3",{children:"Filosofia & Arquitetura"}),y.jsxs("div",{className:Qe.philosophyGrid,children:[y.jsxs("div",{className:Qe.philosophyCard,children:[y.jsxs("h4",{children:[y.jsx(te,{path:Q.eye})," Foco Direcionado"]}),y.jsx("p",{children:"O fundo escuro elimina distraes. O brilho das cores primrias guia o olho para aes importantes."})]}),y.jsxs("div",{className:Qe.philosophyCard,children:[y.jsxs("h4",{children:[y.jsx(te,{path:Q.gift})," Recompensa Imediata"]}),y.jsx("p",{children:"Cores quentes e vibrantes so usadas para recompensas e celebraes, criando um feedback visual positivo."})]}),y.jsxs("div",{className:Qe.philosophyCard,children:[y.jsxs("h4",{children:[y.jsx(te,{path:Q.home})," Arquitetura da Casa"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Fundao:"})," `App.css` e `ThemeContext` (regras globais). ",y.jsx("strong",{children:"Cmodos:"})," As Telas (`/screens`), que usam a classe `.screen-content`. ",y.jsx("strong",{children:"Mveis:"})," Os Componentes (`/components`), padronizados para qualquer cmodo."]})]}),y.jsxs("div",{className:Qe.philosophyCard,children:[y.jsxs("h4",{children:[y.jsx(te,{path:Q.fileCode})," CSS Modules so Lei"]}),y.jsx("p",{children:"Cada tela ou componente tem seu prprio arquivo `.module.css` para estilos. No polumos mais o escopo global com estilos especficos de componentes."})]})]})]}),y.jsxs("section",{className:Qe.moodboardSection,children:[y.jsx("h3",{children:'Componentes Reais (Nossos "Mveis")'}),y.jsxs("div",{className:Qe.gridComponents,children:[y.jsxs("div",{className:"card",children:[y.jsx("h4",{className:Qe.componentTitle,children:"Botes Padro (`.btn`)"}),y.jsxs("div",{className:Qe.componentExample,children:[y.jsxs("button",{className:"btn btn-primary",children:[y.jsx(te,{path:Q.plus})," Primrio"]}),y.jsxs("button",{className:"btn btn-secondary",children:[y.jsx(te,{path:Q.settings})," Secundrio"]}),y.jsxs("button",{className:"btn btn-danger",children:[y.jsx(te,{path:Q.trash})," Perigo"]})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h4",{className:Qe.componentTitle,children:"Carto Base (`.card`)"}),y.jsxs("div",{className:`${Qe.componentExample} ${Qe.cardExampleContent}`,children:[y.jsxs("span",{children:["Este  um ",y.jsx("strong",{children:".card"}),"."]}),y.jsx("p",{children:"Ele  a base para a maioria dos nossos contineres de contedo, como este."})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h4",{className:Qe.componentTitle,children:"Carto de Tarefa (`TaskCard`)"}),y.jsx("div",{className:Qe.componentExample,children:y.jsxs("div",{className:Qe.mockTaskCard,children:[y.jsxs("div",{children:[y.jsx("p",{className:Qe.mockTaskTitle,children:"Reformar o Moodboard"}),y.jsx("span",{className:Qe.mockTaskTag,children:"#dev"})]}),y.jsx(te,{path:Q.chevronRight})]})})]})]})]}),y.jsxs("section",{className:Qe.moodboardSection,children:[y.jsx("h3",{children:"Paleta de Cores"}),y.jsx("div",{className:Qe.gridColors})]}),y.jsxs("section",{className:Qe.moodboardSection,children:[y.jsx("h3",{children:"Tipografia"}),y.jsx("div",{className:Qe.gridTypography})]})]})]}),s7="_bottomNav_131p4_3",i7="_navItem_131p4_24",r7="_active_131p4_41",a7="_navIcon_131p4_46",Ku={bottomNav:s7,navItem:i7,active:r7,navIcon:a7},o7={dashboard:kS,tasks:zV,focus:YV,stats:UV,rewards:AC,moodboard:kS},l7=["focus","tasks","dashboard","stats","rewards"],c7=()=>{const{activeScreen:t,handleNavigate:e}=vn(),n=l7,i={dashboard:"Home",tasks:"Tarefas",focus:"Foco",stats:"Estatsticas",rewards:"Configuraes",moodboard:"Dev"};return y.jsx("nav",{className:Ku.bottomNav,children:n.map(a=>{const l=o7[a],c=t===a,d=`${Ku.navItem} ${c?Ku.active:""}`;return y.jsxs("button",{className:d,onClick:()=>e(a),children:[y.jsx(l,{className:Ku.navIcon}),y.jsx("span",{children:i[a]})]},a)})})},u7="_dashboardLayout_100ix_2",d7="_mainContent_100ix_11",h7="_footerNav_100ix_18",pp={dashboardLayout:u7,mainContent:d7,footerNav:h7},f7={dashboard:CC,focus:S9,tasks:Vz,stats:fV,rewards:e7,moodboard:n7},m7=()=>{const{activeScreen:t,addNotification:e}=vn(),{tasks:n,frogTaskId:i,setFrogTaskId:a}=Rn(),[l,c]=A.useState(!1),[d,h]=A.useState(i),f=n.filter(T=>T.status!=="done"),g=()=>{d&&(a(d),e("Sapo do Dia definido!","","success")),c(!1)},v=()=>{h(i),c(!0)},b=f7[t]||CC,S={};return t==="dashboard"&&(S.openMorningReview=v),y.jsxs("div",{className:pp.dashboardLayout,children:[y.jsx(L2,{isOpen:l,tasks:f,selectedTask:d,onSelectTask:h,onConfirm:g,onClose:()=>c(!1)}),y.jsx("main",{className:pp.mainContent,children:y.jsx(b,{...S})}),y.jsx("footer",{className:pp.footerNav,children:y.jsx(c7,{})})]})};function p7(t){return kt({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const g7="/icon-512.png",y7=()=>{const[t,e]=A.useState(""),{setUserName:n}=Wd(),{upgradeToGoogle:i}=Kd(),a=()=>{t.trim()&&n(t.trim())},l=async()=>{try{await i()}catch(c){console.error("Erro ao fazer login com o Google:",c)}};return y.jsx("div",{className:"onboarding-container",children:y.jsxs("div",{className:"onboarding-card",children:[y.jsx("img",{src:g7,alt:"FocusFrog Logo",className:"onboarding-logo"}),y.jsx("h1",{className:"onboarding-title",children:"Bem-vindo(a) ao Focus Frog!"}),y.jsx("p",{className:"onboarding-subtitle",children:"Seu osis de produtividade para transformar o caos em clareza."}),y.jsx("div",{className:"onboarding-actions",children:y.jsxs("button",{onClick:l,className:"btn btn-secondary",children:[y.jsx(p7,{}),"Entrar com o Google"]})}),y.jsx("div",{className:"onboarding-divider",children:y.jsx("span",{children:"OU"})}),y.jsx("div",{className:"onboarding-actions",children:y.jsxs("div",{className:"onboarding-input-group",children:[y.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),placeholder:"Digite seu nome aqui",className:"g-input",onKeyPress:c=>c.key==="Enter"&&a()}),y.jsx("button",{onClick:a,className:"btn btn-accent",children:"Continuar"})]})})]})})},v7=()=>{const{userName:t,completeOnboarding:e}=Wd();return y.jsx("div",{className:"onboarding-container",children:y.jsxs("div",{className:"onboarding-card welcome-screen-typography",children:[y.jsxs("h1",{className:"onboarding-title",children:["Bem-vindo, ",t,"!"]}),y.jsx("p",{className:"onboarding-subtitle",children:"O FocusFrog  uma caixa de ferramentas para acalmar a mente e te ajudar a focar no que realmente importa. Veja como:"}),y.jsxs("div",{className:"features-grid",children:[y.jsxs("div",{className:"feature-item",children:[y.jsx("h3",{children:" Engula um Sapo por Dia"}),y.jsx("p",{children:'Para vencer a paralisia de deciso, escolheremos UMA tarefa principal por dia: o seu "Sapo". Complet-la j torna o dia uma vitria.'})]}),y.jsxs("div",{className:"feature-item",children:[y.jsx("h3",{children:' Adeus, "No sei por onde comear"'}),y.jsx("p",{children:"Use a Matriz de Prioridades para organizar suas ideias. Ela te ajuda a separar o que  para FAZER AGORA do que pode ser AGENDADO, dando clareza."})]}),y.jsxs("div",{className:"feature-item",children:[y.jsx("h3",{children:" Rotinas que Pensam por Voc"}),y.jsx("p",{children:'Use rotinas prontas (como "limpar em 5 min" ou "preparar para dormir") que quebram tarefas assustadoras em passos rpidos para voc apenas seguir.'})]}),y.jsxs("div",{className:"feature-item",children:[y.jsx("h3",{children:" Chega de Voltar para Casa"}),y.jsx("p",{children:'Antes de sair, use nosso checklist "J pegou?" para verificar itens como chaves e carteira. Uma pequena ajuda para sua memria de trabalho.'})]})]}),y.jsx("button",{onClick:e,className:"g-button g-button--primary",children:"Estou pronto para focar!"})]})})},b7="/icon-512.png",_7=({isFadingOut:t})=>y.jsx("div",{className:`splash-container ${t?"fade-out":""}`,children:y.jsxs("div",{className:"splash-content",children:[y.jsx("img",{src:b7,alt:"FocusFrog Logo",className:"splash-logo"}),y.jsx("h1",{className:"splash-title",children:"FocusFrog"})]})}),w7="_container_btmmw_3",S7={container:w7},T7="_toast_1o0bn_3",E7="_success_1o0bn_25",x7="_info_1o0bn_28",C7="_error_1o0bn_31",A7="_victory_1o0bn_34",k7="_special_1o0bn_37",O7="_toastIcon_1o0bn_42",j7="_toastContent_1o0bn_47",R7="_dismissing_1o0bn_58",D7="_actionButton_1o0bn_63",bl={toast:T7,success:E7,info:x7,error:C7,victory:A7,special:k7,toastIcon:O7,toastContent:j7,dismissing:R7,actionButton:D7},N7=({notification:t,onDismiss:e})=>{A.useEffect(()=>{if(!(!t.action||_d.dismissActionable))return;const l=setTimeout(()=>{e(t.id)},_d.defaultDuration);return()=>clearTimeout(l)},[t,e]);const n=bl[t.category]||"",i=a=>{a.stopPropagation(),t.action&&t.action.onAction(),e(t.id)};return y.jsxs("div",{className:`${bl.toast} ${n}`,onClick:()=>e(t.id),children:[y.jsx("span",{className:bl.toastIcon,children:t.icon}),y.jsx("div",{className:bl.toastContent,children:y.jsx("p",{children:t.message})}),t.action&&y.jsx("button",{className:bl.actionButton,onClick:i,children:t.action.label})]})},I7="_notificationContainer_1kqp2_5",M7="_toastListContainer_1kqp2_21",L7="_clearButton_1kqp2_32",gp={notificationContainer:I7,toastListContainer:M7,clearButton:L7},Ly=A.createContext({});function Py(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uy=typeof window<"u",kC=Uy?A.useLayoutEffect:A.useEffect,dh=A.createContext(null);function By(t,e){t.indexOf(e)===-1&&t.push(e)}function zy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ai=(t,e,n)=>n>e?e:n<t?t:n;let Vy=()=>{};const oi={},OC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jC(t){return typeof t=="object"&&t!==null}const RC=t=>/^0[^.\s]+$/u.test(t);function $y(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xn=t=>t,P7=(t,e)=>n=>e(t(n)),fc=(...t)=>t.reduce(P7),Ql=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Fy{constructor(){this.subscriptions=[]}add(e){return By(this.subscriptions,e),()=>zy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xs=t=>t*1e3,Wn=t=>t/1e3;function DC(t,e){return e?t*(1e3/e):0}const NC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,U7=1e-7,B7=12;function z7(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=NC(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>U7&&++d<B7);return c}function mc(t,e,n,i){if(t===e&&n===i)return Xn;const a=l=>z7(l,0,1,t,n);return l=>l===0||l===1?l:NC(a(l),e,i)}const IC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MC=t=>e=>1-t(1-e),LC=mc(.33,1.53,.69,.99),qy=MC(LC),PC=IC(qy),UC=t=>(t*=2)<1?.5*qy(t):.5*(2-Math.pow(2,-10*(t-1))),Hy=t=>1-Math.sin(Math.acos(t)),BC=MC(Hy),zC=IC(Hy),V7=mc(.42,0,1,1),$7=mc(0,0,.58,1),VC=mc(.42,0,.58,1),F7=t=>Array.isArray(t)&&typeof t[0]!="number",$C=t=>Array.isArray(t)&&typeof t[0]=="number",q7={linear:Xn,easeIn:V7,easeInOut:VC,easeOut:$7,circIn:Hy,circInOut:zC,circOut:BC,backIn:qy,backInOut:PC,backOut:LC,anticipate:UC},H7=t=>typeof t=="string",OS=t=>{if($C(t)){Vy(t.length===4);const[e,n,i,a]=t;return mc(e,n,i,a)}else if(H7(t))return q7[t];return t},Wu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G7(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(f.schedule(g),t()),g(d)}const f={schedule:(g,v=!1,b=!1)=>{const T=b&&a?n:i;return v&&c.add(g),T.has(g)||T.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(d=g,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(h),n.clear(),a=!1,l&&(l=!1,f.process(g))}};return f}const K7=40;function FC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Wu.reduce((O,M)=>(O[M]=G7(l),O),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:g,update:v,preRender:b,render:S,postRender:T}=c,x=()=>{const O=oi.useManualTiming?a.timestamp:performance.now();n=!1,oi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,K7),1)),a.timestamp=O,a.isProcessing=!0,d.process(a),h.process(a),f.process(a),g.process(a),v.process(a),b.process(a),S.process(a),T.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(x))},C=()=>{n=!0,i=!0,a.isProcessing||t(x)};return{schedule:Wu.reduce((O,M)=>{const $=c[M];return O[M]=(F,L=!1,G=!1)=>(n||C(),$.schedule(F,L,G)),O},{}),cancel:O=>{for(let M=0;M<Wu.length;M++)c[Wu[M]].cancel(O)},state:a,steps:c}}const{schedule:at,cancel:Ki,state:qt,steps:yp}=FC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let od;function W7(){od=void 0}const yn={now:()=>(od===void 0&&yn.set(qt.isProcessing||oi.useManualTiming?qt.timestamp:performance.now()),od),set:t=>{od=t,queueMicrotask(W7)}},qC=t=>e=>typeof e=="string"&&e.startsWith(t),Gy=qC("--"),Y7=qC("var(--"),Ky=t=>Y7(t)?X7.test(t.split("/*")[0].trim()):!1,X7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jl={...go,transform:t=>ai(0,1,t)},Yu={...go,default:1},Nl=t=>Math.round(t*1e5)/1e5,Wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q7(t){return t==null}const J7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yy=(t,e)=>n=>!!(typeof n=="string"&&J7.test(n)&&n.startsWith(t)||e&&!Q7(n)&&Object.prototype.hasOwnProperty.call(n,e)),HC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(Wy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Z7=t=>ai(0,255,t),vp={...go,transform:t=>Math.round(Z7(t))},Ir={test:Yy("rgb","red"),parse:HC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+vp.transform(t)+", "+vp.transform(e)+", "+vp.transform(n)+", "+Nl(Jl.transform(i))+")"};function e$(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const bg={test:Yy("#"),parse:e$,transform:Ir.transform},pc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=pc("deg"),Cs=pc("%"),we=pc("px"),t$=pc("vh"),n$=pc("vw"),jS={...Cs,parse:t=>Cs.parse(t)/100,transform:t=>Cs.transform(t*100)},Va={test:Yy("hsl","hue"),parse:HC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Cs.transform(Nl(e))+", "+Cs.transform(Nl(n))+", "+Nl(Jl.transform(i))+")"},At={test:t=>Ir.test(t)||bg.test(t)||Va.test(t),parse:t=>Ir.test(t)?Ir.parse(t):Va.test(t)?Va.parse(t):bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ir.transform(t):Va.transform(t),getAnimatableNone:t=>{const e=At.parse(t);return e.alpha=0,At.transform(e)}},s$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Wy))==null?void 0:e.length)||0)+(((n=t.match(s$))==null?void 0:n.length)||0)>0}const GC="number",KC="color",r$="var",a$="var(",RS="${}",o$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(o$,h=>(At.test(h)?(i.color.push(l),a.push(KC),n.push(At.parse(h))):h.startsWith(a$)?(i.var.push(l),a.push(r$),n.push(h)):(i.number.push(l),a.push(GC),n.push(parseFloat(h))),++l,RS)).split(RS);return{values:n,split:d,indexes:i,types:a}}function WC(t){return Zl(t).values}function YC(t){const{split:e,types:n}=Zl(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===GC?l+=Nl(a[c]):d===KC?l+=At.transform(a[c]):l+=a[c]}return l}}const l$=t=>typeof t=="number"?0:At.test(t)?At.getAnimatableNone(t):t;function c$(t){const e=WC(t);return YC(t)(e.map(l$))}const Wi={test:i$,parse:WC,createTransformer:YC,getAnimatableNone:c$};function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u$({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;a=bp(h,d,t+1/3),l=bp(h,d,t),c=bp(h,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Pd(t,e){return n=>n>0?e:t}const ut=(t,e,n)=>t+(e-t)*n,_p=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},d$=[bg,Ir,Va],h$=t=>d$.find(e=>e.test(t));function DS(t){const e=h$(t);if(!e)return!1;let n=e.parse(t);return e===Va&&(n=u$(n)),n}const NS=(t,e)=>{const n=DS(t),i=DS(e);if(!n||!i)return Pd(t,e);const a={...n};return l=>(a.red=_p(n.red,i.red,l),a.green=_p(n.green,i.green,l),a.blue=_p(n.blue,i.blue,l),a.alpha=ut(n.alpha,i.alpha,l),Ir.transform(a))},_g=new Set(["none","hidden"]);function f$(t,e){return _g.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function m$(t,e){return n=>ut(t,e,n)}function Xy(t){return typeof t=="number"?m$:typeof t=="string"?Ky(t)?Pd:At.test(t)?NS:y$:Array.isArray(t)?XC:typeof t=="object"?At.test(t)?NS:p$:Pd}function XC(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Xy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function p$(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Xy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function g$(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const y$=(t,e)=>{const n=Wi.createTransformer(e),i=Zl(t),a=Zl(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?_g.has(t)&&!a.values.length||_g.has(e)&&!i.values.length?f$(t,e):fc(XC(g$(i,a),a.values),n):Pd(t,e)};function QC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ut(t,e,n):Xy(t)(t,e)}const v$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>Ki(e),now:()=>qt.isProcessing?qt.timestamp:yn.now()}},JC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ud=2e4;function Qy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ud;)e+=n,i=t.next(e);return e>=Ud?1/0:e}function b$(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Qy(i),Ud);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Wn(a)}}const _$=5;function ZC(t,e,n){const i=Math.max(e-_$,0);return DC(n-t(i),e-i)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wp=.001;function w$({duration:t=pt.duration,bounce:e=pt.bounce,velocity:n=pt.velocity,mass:i=pt.mass}){let a,l,c=1-e;c=ai(pt.minDamping,pt.maxDamping,c),t=ai(pt.minDuration,pt.maxDuration,Wn(t)),c<1?(a=f=>{const g=f*c,v=g*t,b=g-n,S=wg(f,c),T=Math.exp(-v);return wp-b/S*T},l=f=>{const v=f*c*t,b=v*n+n,S=Math.pow(c,2)*Math.pow(f,2)*t,T=Math.exp(-v),x=wg(Math.pow(f,2),c);return(-a(f)+wp>0?-1:1)*((b-S)*T)/x}):(a=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-wp+g*v},l=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const d=5/t,h=T$(a,l,d);if(t=xs(t),isNaN(h))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:t}}}const S$=12;function T$(t,e,n){let i=n;for(let a=1;a<S$;a++)i=i-t(i)/e(i);return i}function wg(t,e){return t*Math.sqrt(1-e*e)}const E$=["duration","bounce"],x$=["stiffness","damping","mass"];function IS(t,e){return e.some(n=>t[n]!==void 0)}function C$(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!IS(t,x$)&&IS(t,E$))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ai(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:pt.mass,stiffness:a,damping:l}}else{const n=w$(t);e={...e,...n,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function Bd(t=pt.visualDuration,e=pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:g,duration:v,velocity:b,isResolvedFromDuration:S}=C$({...n,velocity:-Wn(n.velocity||0)}),T=b||0,x=f/(2*Math.sqrt(h*g)),C=c-l,k=Wn(Math.sqrt(h/g)),j=Math.abs(C)<5;i||(i=j?pt.restSpeed.granular:pt.restSpeed.default),a||(a=j?pt.restDelta.granular:pt.restDelta.default);let O;if(x<1){const $=wg(k,x);O=F=>{const L=Math.exp(-x*k*F);return c-L*((T+x*k*C)/$*Math.sin($*F)+C*Math.cos($*F))}}else if(x===1)O=$=>c-Math.exp(-k*$)*(C+(T+k*C)*$);else{const $=k*Math.sqrt(x*x-1);O=F=>{const L=Math.exp(-x*k*F),G=Math.min($*F,300);return c-L*((T+x*k*C)*Math.sinh(G)+$*C*Math.cosh(G))/$}}const M={calculatedDuration:S&&v||null,next:$=>{const F=O($);if(S)d.done=$>=v;else{let L=$===0?T:0;x<1&&(L=$===0?xs(T):ZC(O,$,F));const G=Math.abs(L)<=i,Z=Math.abs(c-F)<=a;d.done=G&&Z}return d.value=d.done?c:F,d},toString:()=>{const $=Math.min(Qy(M),Ud),F=JC(L=>M.next($*L).value,$,30);return $+"ms "+F},toTransition:()=>{}};return M}Bd.applyToOptions=t=>{const e=b$(t,100,Bd);return t.ease=e.ease,t.duration=xs(e.duration),t.type="keyframes",t};function Sg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:g}){const v=t[0],b={done:!1,value:v},S=G=>d!==void 0&&G<d||h!==void 0&&G>h,T=G=>d===void 0?h:h===void 0||Math.abs(d-G)<Math.abs(h-G)?d:h;let x=n*e;const C=v+x,k=c===void 0?C:c(C);k!==C&&(x=k-v);const j=G=>-x*Math.exp(-G/i),O=G=>k+j(G),M=G=>{const Z=j(G),ee=O(G);b.done=Math.abs(Z)<=f,b.value=b.done?k:ee};let $,F;const L=G=>{S(b.value)&&($=G,F=Bd({keyframes:[b.value,T(b.value)],velocity:ZC(O,G,b.value),damping:a,stiffness:l,restDelta:f,restSpeed:g}))};return L(0),{calculatedDuration:null,next:G=>{let Z=!1;return!F&&$===void 0&&(Z=!0,M(G),L(G)),$!==void 0&&G>=$?F.next(G-$):(!Z&&M(G),b)}}}function A$(t,e,n){const i=[],a=n||oi.mix||QC,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Xn:e;d=fc(h,d)}i.push(d)}return i}function k$(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Vy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=A$(e,i,a),h=d.length,f=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const b=Ql(t[v],t[v+1],g);return d[v](b)};return n?g=>f(ai(t[0],t[l-1],g)):f}function O$(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Ql(0,e,i);t.push(ut(n,1,a))}}function j$(t){const e=[0];return O$(e,t.length-1),e}function R$(t,e){return t.map(n=>n*e)}function D$(t,e){return t.map(()=>e||VC).splice(0,t.length-1)}function Il({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=F7(i)?i.map(OS):OS(i),l={done:!1,value:e[0]},c=R$(n&&n.length===e.length?n:j$(e),t),d=k$(c,e,{ease:Array.isArray(a)?a:D$(e,a)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const N$=t=>t!==null;function Jy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(N$),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const I$={decay:Sg,inertia:Sg,tween:Il,keyframes:Il,spring:Bd};function eA(t){typeof t.type=="string"&&(t.type=I$[t.type])}class Zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const M$=t=>t/100;class ev extends Zy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eA(e);const{type:n=Il,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const h=n||Il;h!==Il&&typeof d[0]!="number"&&(this.mixKeyframes=fc(M$,QC(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Qy(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:S,type:T,onUpdate:x,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,M=i;if(v){const G=Math.min(this.currentTime,a)/d;let Z=Math.floor(G),ee=G%1;!ee&&G>=1&&(ee=1),ee===1&&Z--,Z=Math.min(Z,v+1),!!(Z%2)&&(b==="reverse"?(ee=1-ee,S&&(ee-=S/d)):b==="mirror"&&(M=c)),O=ai(0,1,ee)*d}const $=j?{done:!1,value:g[0]}:M.next(O);l&&($.value=l($.value));let{done:F}=$;!j&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return L&&T!==Sg&&($.value=Jy(g,this.options,C,this.speed)),x&&x($.value),L&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(this.currentTime)}set time(e){var n;e=xs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wn(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=v$,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function L$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Mr=t=>t*180/Math.PI,Tg=t=>{const e=Mr(Math.atan2(t[1],t[0]));return Eg(e)},P$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Tg,rotateZ:Tg,skewX:t=>Mr(Math.atan(t[1])),skewY:t=>Mr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Eg=t=>(t=t%360,t<0&&(t+=360),t),MS=Tg,LS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),PS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LS,scaleY:PS,scale:t=>(LS(t)+PS(t))/2,rotateX:t=>Eg(Mr(Math.atan2(t[6],t[5]))),rotateY:t=>Eg(Mr(Math.atan2(-t[2],t[0]))),rotateZ:MS,rotate:MS,skewX:t=>Mr(Math.atan(t[4])),skewY:t=>Mr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xg(t){return t.includes("scale")?1:0}function Cg(t,e){if(!t||t==="none")return xg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=U$,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=P$,a=d}if(!a)return xg(e);const l=i[e],c=a[1].split(",").map(z$);return typeof l=="function"?l(c):c[l]}const B$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cg(n,e)};function z$(t){return parseFloat(t.trim())}const yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vo=new Set(yo),US=t=>t===go||t===we,V$=new Set(["x","y","z"]),$$=yo.filter(t=>!V$.has(t));function F$(t){const e=[];return $$.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ur={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cg(e,"x"),y:(t,{transform:e})=>Cg(e,"y")};Ur.translateX=Ur.x;Ur.translateY=Ur.y;const Br=new Set;let Ag=!1,kg=!1,Og=!1;function tA(){if(kg){const t=Array.from(Br).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=F$(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kg=!1,Ag=!1,Br.forEach(t=>t.complete(Og)),Br.clear()}function nA(){Br.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kg=!0)})}function q$(){Og=!0,nA(),tA(),Og=!1}class tv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Br.add(this),Ag||(Ag=!0,at.read(nA),at.resolveKeyframes(tA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}L$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Br.delete(this)}cancel(){this.state==="scheduled"&&(Br.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H$=t=>t.startsWith("--");function G$(t,e,n){H$(e)?t.style.setProperty(e,n):t.style[e]=n}const K$=$y(()=>window.ScrollTimeline!==void 0),W$={};function Y$(t,e){const n=$y(t);return()=>W$[e]??n()}const sA=Y$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,BS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function iA(t,e){if(t)return typeof t=="function"?sA()?JC(t,e):"ease-out":$C(t)?Cl(t):Array.isArray(t)?t.map(n=>iA(n,e)||BS.easeOut):BS[t]}function X$(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},f=void 0){const g={[e]:n};h&&(g.offset=h);const v=iA(d,a);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),t.animate(g,b)}function rA(t){return typeof t=="function"&&"applyToOptions"in t}function Q$({type:t,...e}){return rA(t)&&sA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class J$ extends Zy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Vy(typeof e.type!="string");const f=Q$(e);this.animation=X$(n,i,a,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Jy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):G$(n,i,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Wn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&K$()?(this.animation.timeline=e,Xn):n(this)}}const aA={anticipate:UC,backInOut:PC,circInOut:zC};function Z$(t){return t in aA}function eF(t){typeof t.ease=="string"&&Z$(t.ease)&&(t.ease=aA[t.ease])}const zS=10;class tF extends J${constructor(e){eF(e),eA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new ev({...c,autoplay:!1}),h=xs(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-zS).value,d.sample(h).value,zS),d.stop()}}const VS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wi.test(t)||t==="0")&&!t.startsWith("url("));function nF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sF(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=VS(a,e),d=VS(l,e);return!c||!d?!1:nF(t)||(n==="spring"||rA(n))&&i}function jg(t){t.duration=0,t.type="keyframes"}const iF=new Set(["opacity","clipPath","filter","transform"]),rF=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aF(t){var g;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return rF()&&n&&iF.has(n)&&(n!=="transform"||!f)&&!h&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const oF=40;class lF extends Zy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:f,element:g,...v}){var T;super(),this.stop=()=>{var x,C;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=yn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:h,motionValue:f,element:g,...v},S=(g==null?void 0:g.KeyframeResolver)||tv;this.keyframeResolver=new S(d,(x,C,k)=>this.onKeyframesResolved(x,C,b,!k),h,f,g),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:f,onUpdate:g}=i;this.resolvedAt=yn.now(),sF(e,l,c,d)||((oi.instantAnimations||!h)&&(g==null||g(Jy(e,i,n))),e[0]=e[e.length-1],jg(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!f&&aF(b)?new tF({...b,element:b.motionValue.owner.current}):new ev(b);S.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),q$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const cF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uF(t){const e=cF.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function oA(t,e,n=1){const[i,a]=uF(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return OC(c)?parseFloat(c):c}return Ky(a)?oA(a,e,n+1):a}function nv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const lA=new Set(["width","height","top","left","right","bottom",...yo]),dF={test:t=>t==="auto",parse:t=>t},cA=t=>e=>e.test(t),uA=[go,we,Cs,Li,n$,t$,dF],$S=t=>uA.find(cA(t));function hF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RC(t):!0}const fF=new Set(["brightness","contrast","saturate","opacity"]);function mF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Wy)||[];if(!i)return t;const a=n.replace(i,"");let l=fF.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const pF=/\b([a-z-]*)\(.*?\)/gu,Rg={...Wi,getAnimatableNone:t=>{const e=t.match(pF);return e?e.map(mF).join(" "):t}},FS={...go,transform:Math.round},gF={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Yu,scaleX:Yu,scaleY:Yu,scaleZ:Yu,skew:Li,skewX:Li,skewY:Li,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Jl,originX:jS,originY:jS,originZ:we},sv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...gF,zIndex:FS,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:FS},yF={...sv,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:Rg,WebkitFilter:Rg},dA=t=>yF[t];function hA(t,e){let n=dA(t);return n!==Rg&&(n=Wi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vF=new Set(["auto","none","0"]);function bF(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!vF.has(l)&&Zl(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=hA(n,a)}class _F extends tv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Ky(f))){const g=oA(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!lA.has(i)||e.length!==2)return;const[a,l]=e,c=$S(a),d=$S(l);if(c!==d)if(US(c)&&US(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Ur[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||hF(e[a]))&&i.push(a);i.length&&bF(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ur[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Ur[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function wF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const fA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mA(t){return jC(t)&&"offsetHeight"in t}const qS=30,SF=t=>!isNaN(parseFloat(t));class TF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fy);const i=this.events[e].add(n);return e==="change"?()=>{i(),at.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qS);return DC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oo(t,e){return new TF(t,e)}const{schedule:iv}=FC(queueMicrotask,!1),is={x:!1,y:!1};function pA(){return is.x||is.y}function EF(t){return t==="x"||t==="y"?is[t]?null:(is[t]=!0,()=>{is[t]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function gA(t,e){const n=wF(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function HS(t){return!(t.pointerType==="touch"||pA())}function xF(t,e,n={}){const[i,a,l]=gA(t,n),c=d=>{if(!HS(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const g=v=>{HS(v)&&(f(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const yA=(t,e)=>e?t===e?!0:yA(t,e.parentElement):!1,rv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,CF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AF(t){return CF.has(t.tagName)||t.tabIndex!==-1}const ld=new WeakSet;function GS(t){return e=>{e.key==="Enter"&&t(e)}}function Sp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kF=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=GS(()=>{if(ld.has(n))return;Sp(n,"down");const a=GS(()=>{Sp(n,"up")}),l=()=>Sp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function KS(t){return rv(t)&&!pA()}function OF(t,e,n={}){const[i,a,l]=gA(t,n),c=d=>{const h=d.currentTarget;if(!KS(d))return;ld.add(h);const f=e(h,d),g=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),ld.has(h)&&ld.delete(h),KS(S)&&typeof f=="function"&&f(S,{success:T})},v=S=>{g(S,h===window||h===document||n.useGlobalTarget||yA(h,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),mA(d)&&(d.addEventListener("focus",f=>kF(f,a)),!AF(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function vA(t){return jC(t)&&"ownerSVGElement"in t}function jF(t){return vA(t)&&t.tagName==="svg"}const Qt=t=>!!(t&&t.getVelocity),RF=[...uA,At,Wi],DF=t=>RF.find(cA(t)),av=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function WS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NF(...t){return e=>{let n=!1;const i=t.map(a=>{const l=WS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():WS(t[a],null)}}}}function IF(...t){return A.useCallback(NF(...t),t)}class MF extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=mA(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LF({children:t,isPresent:e,anchorX:n,root:i}){const a=A.useId(),l=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=A.useContext(av),h=IF(l,t==null?void 0:t.ref);return A.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:b,right:S}=c.current;if(e||!l.current||!f||!g)return;const T=n==="left"?`left: ${b}`:`right: ${S}`;l.current.dataset.motionPopId=a;const x=document.createElement("style");d&&(x.nonce=d);const C=i??document.head;return C.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(x)&&C.removeChild(x)}},[e]),y.jsx(MF,{isPresent:e,childRef:l,sizeRef:c,children:A.cloneElement(t,{ref:h})})}const PF=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const f=Py(UF),g=A.useId();let v=!0,b=A.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:S=>{f.set(S,!0);for(const T of f.values())if(!T)return;i&&i()},register:S=>(f.set(S,!1),()=>f.delete(S))}),[n,f,i]);return l&&v&&(b={...b}),A.useMemo(()=>{f.forEach((S,T)=>f.set(T,!1))},[n]),A.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=y.jsx(LF,{isPresent:n,anchorX:d,root:h,children:t})),y.jsx(dh.Provider,{value:b,children:t})};function UF(){return new Map}function bA(t=!0){const e=A.useContext(dh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=A.useId();A.useEffect(()=>{if(t)return a(l)},[t]);const c=A.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Xu=t=>t.key||"";function YS(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const XS=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[f,g]=bA(c),v=A.useMemo(()=>YS(t),[t]),b=c&&!f?[]:v.map(Xu),S=A.useRef(!0),T=A.useRef(v),x=Py(()=>new Map),[C,k]=A.useState(v),[j,O]=A.useState(v);kC(()=>{S.current=!1,T.current=v;for(let F=0;F<j.length;F++){const L=Xu(j[F]);b.includes(L)?x.delete(L):x.get(L)!==!0&&x.set(L,!1)}},[j,b.length,b.join("-")]);const M=[];if(v!==C){let F=[...v];for(let L=0;L<j.length;L++){const G=j[L],Z=Xu(G);b.includes(Z)||(F.splice(L,0,G),M.push(G))}return l==="wait"&&M.length&&(F=M),O(YS(F)),k(v),null}const{forceRender:$}=A.useContext(Ly);return y.jsx(y.Fragment,{children:j.map(F=>{const L=Xu(F),G=c&&!f?!1:v===j||b.includes(L),Z=()=>{if(x.has(L))x.set(L,!0);else return;let ee=!0;x.forEach(oe=>{oe||(ee=!1)}),ee&&($==null||$(),O(T.current),c&&(g==null||g()),i&&i())};return y.jsx(PF,{isPresent:G,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:h,onExitComplete:G?void 0:Z,anchorX:d,children:F},L)})})},_A=A.createContext({strict:!1}),QS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lo={};for(const t in QS)lo[t]={isEnabled:e=>QS[t].some(n=>!!e[n])};function BF(t){for(const e in t)lo[e]={...lo[e],...t[e]}}const zF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zF.has(t)}let wA=t=>!zd(t);function VF(t){typeof t=="function"&&(wA=e=>e.startsWith("on")?!zd(e):t(e))}try{VF(require("@emotion/is-prop-valid").default)}catch{}function $F(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(wA(a)||n===!0&&zd(a)||!e&&!zd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const hh=A.createContext({});function fh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ec(t){return typeof t=="string"||Array.isArray(t)}const ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...ov];function mh(t){return fh(t.animate)||lv.some(e=>ec(t[e]))}function SA(t){return!!(mh(t)||t.variants)}function FF(t,e){if(mh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ec(n)?n:void 0,animate:ec(i)?i:void 0}}return t.inherit!==!1?e:{}}function qF(t){const{initial:e,animate:n}=FF(t,A.useContext(hh));return A.useMemo(()=>({initial:e,animate:n}),[JS(e),JS(n)])}function JS(t){return Array.isArray(t)?t.join(" "):t}const tc={};function HF(t){for(const e in t)tc[e]=t[e],Gy(e)&&(tc[e].isCSSVariable=!0)}function TA(t,{layout:e,layoutId:n}){return vo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tc[t]||t==="opacity")}const GF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KF=yo.length;function WF(t,e,n){let i="",a=!0;for(let l=0;l<KF;l++){const c=yo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=fA(d,sv[c]);if(!h){a=!1;const g=GF[c]||c;i+=`${g}(${f}) `}n&&(e[c]=f)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function cv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(vo.has(h)){c=!0;continue}else if(Gy(h)){a[h]=f;continue}else{const g=fA(f,sv[h]);h.startsWith("origin")?(d=!0,l[h]=g):i[h]=g}}if(e.transform||(c||n?i.transform=WF(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;i.transformOrigin=`${h} ${f} ${g}`}}const uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EA(t,e,n){for(const i in e)!Qt(e[i])&&!TA(i,n)&&(t[i]=e[i])}function YF({transformTemplate:t},e){return A.useMemo(()=>{const n=uv();return cv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XF(t,e){const n=t.style||{},i={};return EA(i,n,t),Object.assign(i,YF(t,e)),i}function QF(t,e){const n={},i=XF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const JF={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZF={offset:"strokeDashoffset",array:"strokeDasharray"};function eq(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?JF:ZF;t[l.offset]=we.transform(-i);const c=we.transform(e),d=we.transform(n);t[l.array]=`${c} ${d}`}function xA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},h,f,g){if(cv(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&eq(v,a,l,c,!1)}const CA=()=>({...uv(),attrs:{}}),AA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tq(t,e,n,i){const a=A.useMemo(()=>{const l=CA();return xA(l,e,AA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};EA(l,t.style,t),a.style={...l,...a.style}}return a}const nq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dv(t){return typeof t!="string"||t.includes("-")?!1:!!(nq.indexOf(t)>-1||/[A-Z]/u.test(t))}function sq(t,e,n,{latestValues:i},a,l=!1){const d=(dv(t)?tq:QF)(e,i,a,t),h=$F(e,typeof t=="string",l),f=t!==A.Fragment?{...h,...d,ref:n}:{},{children:g}=e,v=A.useMemo(()=>Qt(g)?g.get():g,[g]);return A.createElement(t,{...f,children:v})}function ZS(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function hv(t,e,n,i){if(typeof e=="function"){const[a,l]=ZS(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=ZS(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function cd(t){return Qt(t)?t.get():t}function iq({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:rq(n,i,a,t),renderState:e()}}function rq(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=cd(l[b]);let{initial:c,animate:d}=t;const h=mh(t),f=SA(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!fh(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const T=hv(t,b[S]);if(T){const{transitionEnd:x,transition:C,...k}=T;for(const j in k){let O=k[j];if(Array.isArray(O)){const M=g?O.length-1:0;O=O[M]}O!==null&&(a[j]=O)}for(const j in x)a[j]=x[j]}}}return a}const kA=t=>(e,n)=>{const i=A.useContext(hh),a=A.useContext(dh),l=()=>iq(t,e,i,a);return n?l():Py(l)};function fv(t,e,n){var l;const{style:i}=t,a={};for(const c in i)(Qt(i[c])||e.style&&Qt(e.style[c])||TA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const aq=kA({scrapeMotionValuesFromProps:fv,createRenderState:uv});function OA(t,e,n){const i=fv(t,e,n);for(const a in t)if(Qt(t[a])||Qt(e[a])){const l=yo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const oq=kA({scrapeMotionValuesFromProps:OA,createRenderState:CA}),lq=Symbol.for("motionComponentSymbol");function $a(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cq(t,e,n){return A.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):$a(n)&&(n.current=i))},[e])}const mv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uq="framerAppearId",jA="data-"+mv(uq),RA=A.createContext({});function dq(t,e,n,i,a){var x,C;const{visualElement:l}=A.useContext(hh),c=A.useContext(_A),d=A.useContext(dh),h=A.useContext(av).reducedMotion,f=A.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=f.current,v=A.useContext(RA);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&hq(f.current,n,a,v);const b=A.useRef(!1);A.useInsertionEffect(()=>{g&&b.current&&g.update(n,d)});const S=n[jA],T=A.useRef(!!S&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,S))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,S)));return kC(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),A.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,S)}),T.current=!1),g.enteringChildren=void 0)}),g}function hq(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&$a(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:f})}function DA(t){if(t)return t.options.allowProjection!==!1?t.projection:DA(t.parent)}function Tp(t,{forwardMotionProps:e=!1}={},n,i){n&&BF(n);const a=dv(t)?oq:aq;function l(d,h){let f;const g={...A.useContext(av),...d,layoutId:fq(d)},{isStatic:v}=g,b=qF(d),S=a(d,v);if(!v&&Uy){mq();const T=pq(g);f=T.MeasureLayout,b.visualElement=dq(t,S,g,i,T.ProjectionNode)}return y.jsxs(hh.Provider,{value:b,children:[f&&b.visualElement?y.jsx(f,{visualElement:b.visualElement,...g}):null,sq(t,d,cq(S,b.visualElement,h),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(l);return c[lq]=t,c}function fq({layoutId:t}){const e=A.useContext(Ly).id;return e&&t!==void 0?e+"-"+t:t}function mq(t,e){A.useContext(_A).strict}function pq(t){const{drag:e,layout:n}=lo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function gq(t,e){if(typeof Proxy>"u")return Tp;const n=new Map,i=(l,c)=>Tp(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Tp(c,void 0,t,e)),n.get(c))})}function NA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function yq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ep(t){return t===void 0||t===1}function Dg({scale:t,scaleX:e,scaleY:n}){return!Ep(t)||!Ep(e)||!Ep(n)}function Ar(t){return Dg(t)||IA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IA(t){return eT(t.x)||eT(t.y)}function eT(t){return t&&t!=="0%"}function Vd(t,e,n){const i=t-n,a=e*i;return n+a}function tT(t,e,n,i,a){return a!==void 0&&(t=Vd(t,a,i)),Vd(t,n,i)+e}function Ng(t,e=0,n=1,i,a){t.min=tT(t.min,e,n,i,a),t.max=tT(t.max,e,n,i,a)}function MA(t,{x:e,y:n}){Ng(t.x,e.translate,e.scale,e.originPoint),Ng(t.y,n.translate,n.scale,n.originPoint)}const nT=.999999999999,sT=1.0000000000001;function bq(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,MA(t,c)),i&&Ar(l.latestValues)&&qa(t,l.latestValues))}e.x<sT&&e.x>nT&&(e.x=1),e.y<sT&&e.y>nT&&(e.y=1)}function Fa(t,e){t.min=t.min+e,t.max=t.max+e}function iT(t,e,n,i,a=.5){const l=ut(t.min,t.max,a);Ng(t,e,n,l,i)}function qa(t,e){iT(t.x,e.x,e.scaleX,e.scale,e.originX),iT(t.y,e.y,e.scaleY,e.scale,e.originY)}function LA(t,e){return NA(vq(t.getBoundingClientRect(),e))}function _q(t,e,n){const i=LA(t,n),{scroll:a}=e;return a&&(Fa(i.x,a.offset.x),Fa(i.y,a.offset.y)),i}const rT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:rT(),y:rT()}),aT=()=>({min:0,max:0}),Dt=()=>({x:aT(),y:aT()}),Ig={current:null},PA={current:!1};function wq(){if(PA.current=!0,!!Uy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ig.current=t.matches;t.addEventListener("change",e),e()}else Ig.current=!1}const Sq=new WeakMap;function Tq(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Qt(a))t.addValue(i,a);else if(Qt(l))t.addValue(i,oo(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,oo(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const oT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eq{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=yn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,at.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=mh(n),this.isVariantNode=SA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const S=v[b];h[b]!==void 0&&Qt(S)&&S.set(h[b])}}mount(e){var n;this.current=e,Sq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),PA.current||wq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ig.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ki(this.notifyUpdate),Ki(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=vo.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&at.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lo){const n=lo[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<oT.length;i++){const a=oT[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Tq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=oo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(OC(i)||RC(i))?i=parseFloat(i):!DF(i)&&Wi.test(n)&&(i=hA(e,n)),this.setBaseTarget(e,Qt(i)?i.get():i)),Qt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=hv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){iv.render(this.render)}}class UA extends Eq{constructor(){super(...arguments),this.KeyframeResolver=_F}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function xq(t){return window.getComputedStyle(t)}class Cq extends UA{constructor(){super(...arguments),this.type="html",this.renderInstance=BA}readValueFromInstance(e,n){var i;if(vo.has(n))return(i=this.projection)!=null&&i.isProjecting?xg(n):B$(e,n);{const a=xq(e),l=(Gy(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return LA(e,n)}build(e,n,i){cv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return fv(e,n,i)}}const zA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Aq(t,e,n,i){BA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(zA.has(a)?a:mv(a),e.attrs[a])}class kq extends UA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vo.has(n)){const i=dA(n);return i&&i.default||0}return n=zA.has(n)?n:mv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return OA(e,n,i)}build(e,n,i){xA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){Aq(e,n,i,a)}mount(e){this.isSVGTag=AA(e.tagName),super.mount(e)}}const Oq=(t,e)=>dv(t)?new kq(e):new Cq(e,{allowProjection:t!==A.Fragment});function eo(t,e,n){const i=t.getProps();return hv(i,e,n!==void 0?n:i.custom,t)}const Mg=t=>Array.isArray(t);function jq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oo(n))}function Rq(t){return Mg(t)?t[t.length-1]||0:t}function Dq(t,e){const n=eo(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=Rq(l[c]);jq(t,c,d)}}function Nq(t){return!!(Qt(t)&&t.add)}function Lg(t,e){const n=t.getValue("willChange");if(Nq(n))return n.add(e);if(!n&&oi.WillChange){const i=new oi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function VA(t){return t.props[jA]}const Iq=t=>t!==null;function Mq(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(Iq),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Lq={type:"spring",stiffness:500,damping:25,restSpeed:10},Pq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Uq={type:"keyframes",duration:.8},Bq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zq=(t,{keyframes:e})=>e.length>2?Uq:vo.has(t)?t.startsWith("scale")?Pq(e[1]):Lq:Bq;function Vq({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const pv=(t,e,n,i={},a,l)=>c=>{const d=nv(i,t)||{},h=d.delay||i.delay||0;let{elapsed:f=0}=i;f=f-xs(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};Vq(d)||Object.assign(g,zq(t,g)),g.duration&&(g.duration=xs(g.duration)),g.repeatDelay&&(g.repeatDelay=xs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(jg(g),g.delay===0&&(v=!0)),(oi.instantAnimations||oi.skipAnimations)&&(v=!0,jg(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const b=Mq(g.keyframes,d);if(b!==void 0){at.update(()=>{g.onUpdate(b),g.onComplete()});return}}return d.isSync?new ev(g):new lF(g)};function $q({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function $A(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const h=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),b=d[g];if(b===void 0||f&&$q(f,g))continue;const S={delay:n,...nv(l||{},g)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===T&&!S.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const k=VA(t);if(k){const j=window.MotionHandoffAnimation(k,g,at);j!==null&&(S.startTime=j,x=!0)}}Lg(t,g),v.start(pv(g,v,b,t.shouldReduceMotion&&lA.has(g)?{type:!1}:S,t,x));const C=v.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{at.update(()=>{c&&Dq(t,c)})}),h}function FA(t,e,n,i=0,a=1){const l=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}function Pg(t,e,n={}){var h;const i=eo(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all($A(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=a;return Fq(t,e,f,g,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,g]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function Fq(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(Pg(h,e,{...c,delay:n+(typeof i=="function"?0:i)+FA(t.variantChildren,h,i,a,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function qq(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Pg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Pg(t,e,n);else{const a=typeof e=="function"?eo(t,e,n.custom):e;i=Promise.all($A(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function qA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Hq=lv.length;function HA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Hq;n++){const i=lv[n],a=t.props[i];(ec(a)||a===!1)&&(e[i]=a)}return e}const Gq=[...ov].reverse(),Kq=ov.length;function Wq(t){return e=>Promise.all(e.map(({animation:n,options:i})=>qq(t,n,i)))}function Yq(t){let e=Wq(t),n=lT(),i=!0;const a=h=>(f,g)=>{var b;const v=eo(t,g,h==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:S,transitionEnd:T,...x}=v;f={...f,...x,...T}}return f};function l(h){e=h(t)}function c(h){const{props:f}=t,g=HA(t.parent)||{},v=[],b=new Set;let S={},T=1/0;for(let C=0;C<Kq;C++){const k=Gq[C],j=n[k],O=f[k]!==void 0?f[k]:g[k],M=ec(O),$=k===h?j.isActive:null;$===!1&&(T=C);let F=O===g[k]&&O!==f[k]&&M;if(F&&i&&t.manuallyAnimateOnMount&&(F=!1),j.protectedKeys={...S},!j.isActive&&$===null||!O&&!j.prevProp||fh(O)||typeof O=="boolean")continue;const L=Xq(j.prevProp,O);let G=L||k===h&&j.isActive&&!F&&M||C>T&&M,Z=!1;const ee=Array.isArray(O)?O:[O];let oe=ee.reduce(a(k),{});$===!1&&(oe={});const{prevResolvedValues:J={}}=j,se={...J,...oe},Ee=Y=>{G=!0,b.has(Y)&&(Z=!0,b.delete(Y)),j.needsAnimating[Y]=!0;const le=t.getValue(Y);le&&(le.liveStyle=!1)};for(const Y in se){const le=oe[Y],xe=J[Y];if(S.hasOwnProperty(Y))continue;let Ae=!1;Mg(le)&&Mg(xe)?Ae=!qA(le,xe):Ae=le!==xe,Ae?le!=null?Ee(Y):b.add(Y):le!==void 0&&b.has(Y)?Ee(Y):j.protectedKeys[Y]=!0}j.prevProp=O,j.prevResolvedValues=oe,j.isActive&&(S={...S,...oe}),i&&t.blockInitialAnimation&&(G=!1);const pe=F&&L;G&&(!pe||Z)&&v.push(...ee.map(Y=>{const le={type:k};if(typeof Y=="string"&&i&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Ae=eo(xe,Y);if(xe.enteringChildren&&Ae){const{delayChildren:D}=Ae.transition||{};le.delay=FA(xe.enteringChildren,t,D)}}return{animation:Y,options:le}}))}if(b.size){const C={};if(typeof f.initial!="boolean"){const k=eo(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(C.transition=k.transition)}b.forEach(k=>{const j=t.getBaseTarget(k),O=t.getValue(k);O&&(O.liveStyle=!0),C[k]=j??null}),v.push({animation:C})}let x=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(v):Promise.resolve()}function d(h,f){var v;if(n[h].isActive===f)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var S;return(S=b.animationState)==null?void 0:S.setActive(h,f)}),n[h].isActive=f;const g=c(h);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=lT()}}}function Xq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qA(e,t):!1}function Sr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lT(){return{animate:Sr(!0),whileInView:Sr(),whileHover:Sr(),whileTap:Sr(),whileDrag:Sr(),whileFocus:Sr(),exit:Sr()}}class Xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qq extends Xi{constructor(e){super(e),e.animationState||(e.animationState=Yq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Jq=0;class Zq extends Xi{constructor(){super(...arguments),this.id=Jq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eH={animation:{Feature:Qq},exit:{Feature:Zq}};function nc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function gc(t){return{point:{x:t.pageX,y:t.pageY}}}const tH=t=>e=>rv(e)&&t(e,gc(e));function Ml(t,e,n,i){return nc(t,e,tH(n),i)}const GA=1e-4,nH=1-GA,sH=1+GA,KA=.01,iH=0-KA,rH=0+KA;function nn(t){return t.max-t.min}function aH(t,e,n){return Math.abs(t-e)<=n}function cT(t,e,n,i=.5){t.origin=i,t.originPoint=ut(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nH&&t.scale<=sH||isNaN(t.scale))&&(t.scale=1),(t.translate>=iH&&t.translate<=rH||isNaN(t.translate))&&(t.translate=0)}function Ll(t,e,n,i){cT(t.x,e.x,n.x,i?i.originX:void 0),cT(t.y,e.y,n.y,i?i.originY:void 0)}function uT(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function oH(t,e,n){uT(t.x,e.x,n.x),uT(t.y,e.y,n.y)}function dT(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function $d(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function qn(t){return[t("x"),t("y")]}const WA=({current:t})=>t?t.ownerDocument.defaultView:null,hT=(t,e)=>Math.abs(t-e);function lH(t,e){const n=hT(t.x,e.x),i=hT(t.y,e.y);return Math.sqrt(n**2+i**2)}class YA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=lH(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:x}=b,{timestamp:C}=qt;this.history.push({...x,timestamp:C});const{onStart:k,onMove:j}=this.handlers;S||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=xp(S,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:T,onSessionEnd:x,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Cp(b.type==="pointercancel"?this.lastMoveEventInfo:xp(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,k),x&&x(b,k)},!rv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=gc(e),h=xp(d,this.transformPagePoint),{point:f}=h,{timestamp:g}=qt;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Cp(h,this.history)),this.removeListeners=fc(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ki(this.updatePoint)}}function xp(t,e){return e?{point:e(t.point)}:t}function fT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cp({point:t},e){return{point:t,delta:fT(t,XA(e)),offset:fT(t,cH(e)),velocity:uH(e,.1)}}function cH(t){return t[0]}function XA(t){return t[t.length-1]}function uH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=XA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>xs(e)));)n--;if(!i)return{x:0,y:0};const l=Wn(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function dH(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ut(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ut(n,t,i.max):Math.min(t,n)),t}function mT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hH(t,{top:e,left:n,bottom:i,right:a}){return{x:mT(t.x,n,a),y:mT(t.y,e,i)}}function pT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function fH(t,e){return{x:pT(t.x,e.x),y:pT(t.y,e.y)}}function mH(t,e){let n=.5;const i=nn(t),a=nn(e);return a>i?n=Ql(e.min,e.max-i,t.min):i>a&&(n=Ql(t.min,t.max-a,e.min)),ai(0,1,n)}function pH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ug=.35;function gH(t=Ug){return t===!1?t=0:t===!0&&(t=Ug),{x:gT(t,"left","right"),y:gT(t,"top","bottom")}}function gT(t,e,n){return{min:yT(t,e),max:yT(t,n)}}function yT(t,e){return typeof t=="number"?t:t[e]||0}const yH=new WeakMap;class vH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gc(v).point)},c=(v,b)=>{const{drag:S,dragPropagation:T,onDragStart:x}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EF(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(k=>{let j=this.getAxisMotionValue(k).get()||0;if(Cs.test(j)){const{projection:O}=this.visualElement;if(O&&O.layout){const M=O.layout.layoutBox[k];M&&(j=nn(M)*(parseFloat(j)/100))}}this.originPoint[k]=j}),x&&at.postRender(()=>x(v,b)),Lg(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:x,onDrag:C}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=b;if(T&&this.currentDirection===null){this.currentDirection=bH(k),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),C&&C(v,b)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>qn(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)==null?void 0:b.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new YA(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:WA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&at.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Qu(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=dH(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&$a(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=hH(i.layoutBox,e):this.constraints=!1,this.elastic=gH(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=pH(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$a(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_q(i,a.root,this.visualElement.getTransformPagePoint());let c=fH(a.layout.layoutBox,l);if(n){const d=n(yq(c));this.hasMutatedConstraints=!!d,d&&(c=NA(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=qn(g=>{if(!Qu(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,T={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Lg(this.visualElement,e),i.start(pv(e,i,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:i}=this.getProps();if(!Qu(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-ut(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!$a(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=mH({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qn(c=>{if(!Qu(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(ut(h,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;yH.set(this.visualElement,this);const e=this.visualElement.current,n=Ml(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();$a(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),at.read(i);const c=nc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(qn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ug,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Qu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _H extends Xi{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new vH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vT=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class wH extends Xi{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new YA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:vT(e),onStart:vT(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&at.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _l={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=bT(t,e.target.x),i=bT(t,e.target.y);return`${n}% ${i}%`}},SH={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Wi.parse(t);if(a.length>5)return i;const l=Wi.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=h;const f=ut(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),l(a)}};let Ap=!1;class TH extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;HF(EH),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Ap&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Ap=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||at.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Ap=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QA(t){const[e,n]=bA(),i=A.useContext(Ly);return y.jsx(TH,{...t,layoutGroup:i,switchLayoutGroup:A.useContext(RA),isPresent:e,safeToRemove:n})}const EH={borderRadius:{..._l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_l,borderTopRightRadius:_l,borderBottomLeftRadius:_l,borderBottomRightRadius:_l,boxShadow:SH};function xH(t,e,n){const i=Qt(t)?t:oo(t);return i.start(pv("",i,e,n)),i.animation}const CH=(t,e)=>t.depth-e.depth;class AH{constructor(){this.children=[],this.isDirty=!1}add(e){By(this.children,e),this.isDirty=!0}remove(e){zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CH),this.isDirty=!1,this.children.forEach(e)}}function kH(t,e){const n=yn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Ki(i),t(l-e))};return at.setup(i,!0),()=>Ki(i)}const JA=["TopLeft","TopRight","BottomLeft","BottomRight"],OH=JA.length,_T=t=>typeof t=="string"?parseFloat(t):t,wT=t=>typeof t=="number"||we.test(t);function jH(t,e,n,i,a,l){a?(t.opacity=ut(0,n.opacity??1,RH(i)),t.opacityExit=ut(e.opacity??1,0,DH(i))):l&&(t.opacity=ut(e.opacity??1,n.opacity??1,i));for(let c=0;c<OH;c++){const d=`border${JA[c]}Radius`;let h=ST(e,d),f=ST(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||wT(h)===wT(f)?(t[d]=Math.max(ut(_T(h),_T(f),i),0),(Cs.test(f)||Cs.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,i))}function ST(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RH=ZA(0,.5,BC),DH=ZA(.5,.95,Xn);function ZA(t,e,n){return i=>i<t?0:i>e?1:n(Ql(t,e,i))}function TT(t,e){t.min=e.min,t.max=e.max}function ns(t,e){TT(t.x,e.x),TT(t.y,e.y)}function ET(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xT(t,e,n,i,a){return t-=e,t=Vd(t,1/n,i),a!==void 0&&(t=Vd(t,1/a,i)),t}function NH(t,e=0,n=1,i=.5,a,l=t,c=t){if(Cs.test(e)&&(e=parseFloat(e),e=ut(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ut(l.min,l.max,i);t===l&&(d-=e),t.min=xT(t.min,e,n,d,a),t.max=xT(t.max,e,n,d,a)}function CT(t,e,[n,i,a],l,c){NH(t,e[n],e[i],e[a],e.scale,l,c)}const IH=["x","scaleX","originX"],MH=["y","scaleY","originY"];function AT(t,e,n,i){CT(t.x,e,IH,n?n.x:void 0,i?i.x:void 0),CT(t.y,e,MH,n?n.y:void 0,i?i.y:void 0)}function kT(t){return t.translate===0&&t.scale===1}function ek(t){return kT(t.x)&&kT(t.y)}function OT(t,e){return t.min===e.min&&t.max===e.max}function LH(t,e){return OT(t.x,e.x)&&OT(t.y,e.y)}function jT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tk(t,e){return jT(t.x,e.x)&&jT(t.y,e.y)}function RT(t){return nn(t.x)/nn(t.y)}function DT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PH{constructor(){this.members=[]}add(e){By(this.members,e),e.scheduleRender()}remove(e){if(zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UH(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:b,skewX:S,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),T&&(i+=`skewY(${T}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const kp=["","X","Y","Z"],BH=1e3;let zH=0;function Op(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function nk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&nk(i)}function sk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=zH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FH),this.nodes.forEach(KH),this.nodes.forEach(WH),this.nodes.forEach(qH)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new AH)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Fy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vA(c)&&!jF(c),this.instance=c;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;at.read(()=>{v=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=kH(b,250),ud.hasAnimatedSinceResize&&(ud.hasAnimatedSinceResize=!1,this.nodes.forEach(MT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||ZH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!tk(this.targetLayout,S),j=!v&&b;if(this.options.layoutRoot||this.resumeFrom||j||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...nv(T,"layout"),onPlay:x,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,j)}else v||MT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YH),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GH),this.nodes.forEach(VH),this.nodes.forEach($H)):this.nodes.forEach(IT),this.clearAllSnapshots();const d=yn.now();qt.delta=ai(0,1e3/60,d-qt.timestamp),qt.timestamp=d,qt.isProcessing=!0,yp.update.process(qt),yp.preRender.process(qt),yp.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HH),this.sharedNodes.forEach(XH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ek(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ar(this.latestValues)||g)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),eG(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Dt();const d=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(tG))){const{scroll:g}=this.root;g&&(Fa(d.x,g.offset.x),Fa(d.y,g.offset.y))}return d}removeElementScroll(c){var h;const d=Dt();if(ns(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ns(d,c),Fa(d.x,v.offset.x),Fa(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const h=Dt();ns(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qa(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ar(g.latestValues)&&qa(h,g.latestValues)}return Ar(this.latestValues)&&qa(h,this.latestValues),h}removeTransform(c){const d=Dt();ns(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Ar(f.latestValues))continue;Dg(f.latestValues)&&f.updateSnapshot();const g=Dt(),v=f.measurePageBox();ns(g,v),AT(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Ar(this.latestValues)&&AT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=qt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),MA(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||IA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),$d(this.relativeTargetOrigin,d,h),ns(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;ns(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;bq(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Dt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ET(this.prevProjectionDelta.x,this.projectionDelta.x),ET(this.prevProjectionDelta.y,this.projectionDelta.y)),Ll(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!DT(this.projectionDelta.x,this.prevProjectionDelta.x)||!DT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ha(),this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Dt(),S=h?h.source:void 0,T=this.layout?this.layout.source:void 0,x=S!==T,C=this.getStack(),k=!C||C.members.length<=1,j=!!(x&&!k&&this.options.crossfade===!0&&!this.path.some(JH));this.animationProgress=0;let O;this.mixTargetDelta=M=>{const $=M/1e3;LT(v.x,c.x,$),LT(v.y,c.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($d(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QH(this.relativeTarget,this.relativeTargetOrigin,b,$),O&&LH(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Dt()),ns(O,this.relativeTarget)),x&&(this.animationValues=g,jH(g,f,this.latestValues,$,j,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,f;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oo(0)),this.currentAnimation=xH(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&ik(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Dt();const v=nn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=nn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}ns(d,h),qa(d,g),Ll(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new PH),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Op("z",c,f,this.animationValues);for(let g=0;g<kp.length;g++)Op(`rotate${kp[g]}`,c,f,this.animationValues),Op(`skew${kp[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cd(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ar(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=UH(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),c.transform=v;const{x:b,y:S}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in tc){if(g[T]===void 0)continue;const{correct:x,applyTo:C,isCSSVariable:k}=tc[T],j=v==="none"?g[T]:x(g[T],f);if(C){const O=C.length;for(let M=0;M<O;M++)c[C[M]]=j}else k?this.options.visualElement.renderState.vars[T]=j:c[T]=j}this.options.layoutId&&(c.pointerEvents=f===this?cd(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(NT),this.root.sharedNodes.clear()}}}function VH(t){t.updateLayout()}function $H(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?qn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],S=nn(b);b.min=i[v].min,b.max=b.min+S}):ik(l,e.layoutBox,i)&&qn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],S=nn(i[v]);b.max=b.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const d=Ha();Ll(d,i,e.layoutBox);const h=Ha();c?Ll(h,t.applyTransform(a,!0),e.measuredBox):Ll(h,i,e.layoutBox);const f=!ek(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const T=Dt();$d(T,e.layoutBox,b.layoutBox);const x=Dt();$d(x,i,S.layoutBox),tk(T,x)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function FH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HH(t){t.clearSnapshot()}function NT(t){t.clearMeasurements()}function IT(t){t.isLayoutDirty=!1}function GH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KH(t){t.resolveTargetDelta()}function WH(t){t.calcProjection()}function YH(t){t.resetSkewAndRotation()}function XH(t){t.removeLeadSnapshot()}function LT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function PT(t,e,n,i){t.min=ut(e.min,n.min,i),t.max=ut(e.max,n.max,i)}function QH(t,e,n,i){PT(t.x,e.x,n.x,i),PT(t.y,e.y,n.y,i)}function JH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZH={duration:.45,ease:[.4,0,.1,1]},UT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BT=UT("applewebkit/")&&!UT("chrome/")?Math.round:Xn;function zT(t){t.min=BT(t.min),t.max=BT(t.max)}function eG(t){zT(t.x),zT(t.y)}function ik(t,e,n){return t==="position"||t==="preserve-aspect"&&!aH(RT(e),RT(n),.2)}function tG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const nG=sk({attachResizeListener:(t,e)=>nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},rk=sk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jp.current){const t=new nG({});t.mount(window),t.setOptions({layoutScroll:!0}),jp.current=t}return jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sG={pan:{Feature:wH},drag:{Feature:_H,ProjectionNode:rk,MeasureLayout:QA}};function VT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&at.postRender(()=>l(e,gc(e)))}class iG extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=xF(e,(n,i)=>(VT(this.node,i,"Start"),a=>VT(this.node,a,"End"))))}unmount(){}}class rG extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(nc(this.node.current,"focus",()=>this.onFocus()),nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $T(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&at.postRender(()=>l(e,gc(e)))}class aG extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=OF(e,(n,i)=>($T(this.node,i,"Start"),(a,{success:l})=>$T(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bg=new WeakMap,Rp=new WeakMap,oG=t=>{const e=Bg.get(t.target);e&&e(t)},lG=t=>{t.forEach(oG)};function cG({root:t,...e}){const n=t||document;Rp.has(n)||Rp.set(n,{});const i=Rp.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(lG,{root:t,...e})),i[a]}function uG(t,e,n){const i=cG(e);return Bg.set(t,n),i.observe(t),()=>{Bg.delete(t),i.unobserve(t)}}const dG={some:0,all:1};class hG extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:dG[a]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=f?g:v;b&&b(h)};return uG(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fG(e,n))&&this.startObserver()}unmount(){}}function fG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mG={inView:{Feature:hG},tap:{Feature:aG},focus:{Feature:rG},hover:{Feature:iG}},pG={layout:{ProjectionNode:rk,MeasureLayout:QA}},gG={...eH,...mG,...sG,...pG},FT=gq(gG,Oq),yG=()=>{const{notifications:t,removeNotification:e,promoteNotification:n,showClearAllButton:i,clearAllNotifications:a,queueCount:l}=vn(),c=h=>{e(h),setTimeout(()=>{n()},300)},d=A.useMemo(()=>document.getElementById("notification-root"),[]);return d?mo.createPortal(y.jsx("div",{className:gp.notificationContainer,children:y.jsxs("div",{className:gp.toastListContainer,children:[y.jsx(XS,{children:i&&y.jsxs(FT.button,{className:gp.clearButton,onClick:a,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:.2}},layout:!0,children:["Limpar Notificaes (",l+t.length,")"]})}),y.jsx(XS,{initial:!1,children:t.map(h=>y.jsx(FT.div,{layout:!0,initial:{opacity:0,y:-50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:y.jsx(N7,{notification:h,onDismiss:c})},h.id))})]})}),d):(console.warn("Notification root element not found."),null)},vG=({children:t})=>y.jsxs("main",{className:S7.container,children:[t,y.jsx(yG,{})]}),bG="modulepreload",_G=function(t,e){return new URL(t,e).href},qT={},wG=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(g=>{if(g=_G(g,i),g in qT)return;qT[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(!!i)for(let x=d.length-1;x>=0;x--){const C=d[x];if(C.href===g&&(!v||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${b}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":bG,v||(T.as="script"),T.crossOrigin="",T.href=g,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((x,C)=>{T.addEventListener("load",x),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},SG=Fg("SplashScreen",{web:()=>wG(()=>import("./web-D6TI0UKZ.js"),[],import.meta.url).then(t=>new t.SplashScreenWeb)}),TG=""+new URL("focusfrog-coffee-95FMuiuU.png",import.meta.url).href,EG=({show:t,onInstall:e,onDismiss:n})=>t?y.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:y.jsxs("div",{style:{backgroundColor:"rgba(44, 62, 80, 0.75)",color:"white",padding:"30px",borderRadius:"20px",textAlign:"center",maxWidth:"340px",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[y.jsx("img",{src:TG,alt:"Mascote FocusFrog com uma chvena de caf",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px",border:"2px solid rgba(255, 255, 255, 0.2)"}}),y.jsx("h3",{style:{marginTop:0,fontSize:"1.5rem",fontWeight:600},children:"Instale o FocusFrog"}),y.jsx("p",{style:{opacity:.9,lineHeight:1.6},children:"Leve seus focos para qualquer lugar. Instale o app em seu dispositivo para uma experincia mais rpida e integrada."}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"30px"},children:[y.jsx("button",{onClick:n,style:{padding:"12px 24px",border:"1px solid rgba(255, 255, 255, 0.5)",backgroundColor:"transparent",color:"#ecf0f1",borderRadius:"10px",cursor:"pointer",fontSize:"1rem"},children:"Agora no"}),y.jsx("button",{onClick:e,style:{padding:"12px 24px",border:"none",backgroundColor:"#f1c40f",color:"#2c3e50",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",fontSize:"1.1rem"},children:"Instalar"})]})]})}):null;function xG(){const{userName:t,onboardingCompleted:e}=Wd(),{isLoading:n}=Kd(),{fontSize:i}=vn(),{canInstall:a,triggerInstall:l}=v6(),[c,d]=A.useState(!1),[h,f]=A.useState(!0),[g,v]=A.useState(!1),[b,S]=A.useState(!1),[T,x]=A.useState(!1);A.useEffect(()=>{document.body.className=`font-size-${i}`},[i]),A.useEffect(()=>{n||S(!0)},[n]),A.useEffect(()=>{const O=setTimeout(()=>{x(!0)},2500);return()=>clearTimeout(O)},[]),A.useEffect(()=>{if(b&&T){const O=setTimeout(()=>v(!0),50),M=setTimeout(()=>{dd.isNativePlatform()&&SG.hide({fadeOutDuration:300}),f(!1)},800);return()=>{clearTimeout(O),clearTimeout(M)}}},[b,T]),A.useEffect(()=>{if(a){const O=setTimeout(()=>d(!0),3500);return()=>clearTimeout(O)}},[a]);const C=()=>{d(!1),l()},k=()=>{d(!1)};if(h)return y.jsx(_7,{isFadingOut:g});let j;return e?j=y.jsx(m7,{}):t?j=y.jsx(v7,{}):j=y.jsx(y7,{}),y.jsxs("div",{id:"app-container",children:[y.jsx(vG,{children:j}),y.jsx(EG,{show:c,onInstall:C,onDismiss:k})]})}try{self["workbox:window:7.3.0"]&&_()}catch{}function HT(t,e){return new Promise((function(n){var i=new MessageChannel;i.port1.onmessage=function(a){n(a.data)},t.postMessage(e,[i.port2])}))}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function CG(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,kG(i.key),i)}}function AG(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=(function(a,l){if(a){if(typeof a=="string")return GT(a,l);var c={}.toString.call(a).slice(8,-1);return c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set"?Array.from(a):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?GT(a,l):void 0}})(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zg(t,e)}function kG(t){var e=(function(n,i){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,i);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(t,"string");return typeof e=="symbol"?e:e+""}try{self["workbox:core:7.3.0"]&&_()}catch{}var Dp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Np(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var wl=function(t,e){this.type=t,Object.assign(this,e)};function Mi(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function OG(){}var jG={type:"SKIP_WAITING"};function KT(t,e){return t&&t.then?t.then(OG):Promise.resolve()}var RG=(function(t){function e(l,c){var d,h;return c===void 0&&(c={}),(d=t.call(this)||this).nn={},d.tn=0,d.rn=new Dp,d.en=new Dp,d.on=new Dp,d.un=0,d.an=new Set,d.cn=function(){var f=d.fn,g=f.installing;d.tn>0||!Np(g.scriptURL,d.sn.toString())||performance.now()>d.un+6e4?(d.vn=g,f.removeEventListener("updatefound",d.cn)):(d.hn=g,d.an.add(g),d.rn.resolve(g)),++d.tn,g.addEventListener("statechange",d.ln)},d.ln=function(f){var g=d.fn,v=f.target,b=v.state,S=v===d.vn,T={sw:v,isExternal:S,originalEvent:f};!S&&d.mn&&(T.isUpdate=!0),d.dispatchEvent(new wl(b,T)),b==="installed"?d.wn=self.setTimeout((function(){b==="installed"&&g.waiting===v&&d.dispatchEvent(new wl("waiting",T))}),200):b==="activating"&&(clearTimeout(d.wn),S||d.en.resolve(v))},d.yn=function(f){var g=d.hn,v=g!==navigator.serviceWorker.controller;d.dispatchEvent(new wl("controlling",{isExternal:v,originalEvent:f,sw:g,isUpdate:d.mn})),v||d.on.resolve(g)},d.gn=(h=function(f){var g=f.data,v=f.ports,b=f.source;return Mi(d.getSW(),(function(){d.an.has(b)&&d.dispatchEvent(new wl("message",{data:g,originalEvent:f,ports:v,sw:b}))}))},function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];try{return Promise.resolve(h.apply(this,f))}catch(v){return Promise.reject(v)}}),d.sn=l,d.nn=c,navigator.serviceWorker.addEventListener("message",d.gn),d}var n,i;i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,zg(n,i);var a=e.prototype;return a.register=function(l){var c=(l===void 0?{}:l).immediate,d=c!==void 0&&c;try{var h=this;return Mi((function(f,g){var v=f();return v&&v.then?v.then(g):g(v)})((function(){if(!d&&document.readyState!=="complete")return KT(new Promise((function(f){return window.addEventListener("load",f)})))}),(function(){return h.mn=!!navigator.serviceWorker.controller,h.dn=h.pn(),Mi(h.bn(),(function(f){h.fn=f,h.dn&&(h.hn=h.dn,h.en.resolve(h.dn),h.on.resolve(h.dn),h.dn.addEventListener("statechange",h.ln,{once:!0}));var g=h.fn.waiting;return g&&Np(g.scriptURL,h.sn.toString())&&(h.hn=g,Promise.resolve().then((function(){h.dispatchEvent(new wl("waiting",{sw:g,wasWaitingBeforeRegister:!0}))})).then((function(){}))),h.hn&&(h.rn.resolve(h.hn),h.an.add(h.hn)),h.fn.addEventListener("updatefound",h.cn),navigator.serviceWorker.addEventListener("controllerchange",h.yn),h.fn}))})))}catch(f){return Promise.reject(f)}},a.update=function(){try{return this.fn?Mi(KT(this.fn.update())):Mi()}catch(l){return Promise.reject(l)}},a.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},a.messageSW=function(l){try{return Mi(this.getSW(),(function(c){return HT(c,l)}))}catch(c){return Promise.reject(c)}},a.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&HT(this.fn.waiting,jG)},a.pn=function(){var l=navigator.serviceWorker.controller;return l&&Np(l.scriptURL,this.sn.toString())?l:void 0},a.bn=function(){try{var l=this;return Mi((function(c,d){try{var h=c()}catch(f){return d(f)}return h&&h.then?h.then(void 0,d):h})((function(){return Mi(navigator.serviceWorker.register(l.sn,l.nn),(function(c){return l.un=performance.now(),c}))}),(function(c){throw c})))}catch(c){return Promise.reject(c)}},(function(l,c,d){return c&&CG(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),l})(e,[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])})((function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,i){this.jn(n).add(i)},e.removeEventListener=function(n,i){this.jn(n).delete(i)},e.dispatchEvent=function(n){n.target=this;for(var i,a=AG(this.jn(n.type));!(i=a()).done;)(0,i.value)(n)},e.jn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t})());const ak=document.getElementById("root");if(!ak)throw new Error("Could not find root element to mount to");if("serviceWorker"in navigator){const t=new RG("/sw.js");t.addEventListener("waiting",e=>{console.log("Nova verso do Service Worker detetada e pronta para ativar."),t.messageSkipWaiting(),console.log("Comando skipWaiting enviado para o novo Service Worker.")}),t.addEventListener("controlling",e=>{e.isUpdate&&(console.log("Novo Service Worker assumiu o controlo. A recarregar a pgina..."),window.location.reload())}),t.register(),console.log("Service Worker registado com a Workbox.")}const DG=Nj.createRoot(ak);DG.render(y.jsx(us.StrictMode,{children:y.jsx(b6,{children:y.jsx(y3,{children:y.jsx(S6,{children:y.jsx(w3,{children:y.jsx(S3,{children:y.jsx(C6,{children:y.jsx(k6,{children:y.jsx(xG,{})})})})})})})})}));export{YT as W};
