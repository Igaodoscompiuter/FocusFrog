function AO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kO(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Dm={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function jO(){if(g1)return pl;g1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return pl.Fragment=e,pl.jsx=n,pl.jsxs=n,pl}var y1;function OO(){return y1||(y1=1,Dm.exports=jO()),Dm.exports}var g=OO(),Nm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function RO(){if(v1)return Ae;v1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function k(D,H,oe){this.props=D,this.context=H,this.refs=C,this.updater=oe||T}k.prototype.isReactComponent={},k.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=k.prototype;function j(D,H,oe){this.props=D,this.context=H,this.refs=C,this.updater=oe||T}var M=j.prototype=new O;M.constructor=j,x(M,k.prototype),M.isPureReactComponent=!0;var V=Array.isArray;function $(){}var z={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function X(D,H,oe){var ne=oe.ref;return{$$typeof:t,type:D,key:H,ref:ne!==void 0?ne:null,props:oe}}function ee(D,H){return X(D.type,H,D.props)}function se(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function J(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return H[oe]})}var ae=/\/+/g;function ve(D,H){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):H.toString(36)}function fe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then($,$):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,H,oe,ne,Te){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Re){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case t:case e:Ve=!0;break;case y:return Ve=D._init,U(Ve(D._payload),H,oe,ne,Te)}}if(Ve)return Te=Te(D),Ve=ne===""?"."+ve(D,0):ne,V(Te)?(oe="",Ve!=null&&(oe=Ve.replace(ae,"$&/")+"/"),U(Te,H,oe,"",function(Jt){return Jt})):Te!=null&&(se(Te)&&(Te=ee(Te,oe+(Te.key==null||D&&D.key===Te.key?"":(""+Te.key).replace(ae,"$&/")+"/")+Ve)),H.push(Te)),1;Ve=0;var jt=ne===""?".":ne+":";if(V(D))for(var ge=0;ge<D.length;ge++)ne=D[ge],Re=jt+ve(ne,ge),Ve+=U(ne,H,oe,Re,Te);else if(ge=S(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(ne=D.next()).done;)ne=ne.value,Re=jt+ve(ne,ge++),Ve+=U(ne,H,oe,Re,Te);else if(Re==="object"){if(typeof D.then=="function")return U(fe(D),H,oe,ne,Te);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function Y(D,H,oe){if(D==null)return D;var ne=[],Te=0;return U(D,ne,"","",function(Re){return H.call(oe,Re,Te++)}),ne}function re(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var we=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},je={map:Y,forEach:function(D,H,oe){Y(D,function(){H.apply(this,arguments)},oe)},count:function(D){var H=0;return Y(D,function(){H++}),H},toArray:function(D){return Y(D,function(H){return H})||[]},only:function(D){if(!se(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=v,Ae.Children=je,Ae.Component=k,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=j,Ae.StrictMode=i,Ae.Suspense=h,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return z.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,H,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=x({},D.props),Te=D.key;if(H!=null)for(Re in H.key!==void 0&&(Te=""+H.key),H)!K.call(H,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&H.ref===void 0||(ne[Re]=H[Re]);var Re=arguments.length-2;if(Re===1)ne.children=oe;else if(1<Re){for(var Ve=Array(Re),jt=0;jt<Re;jt++)Ve[jt]=arguments[jt+2];ne.children=Ve}return X(D.type,Te,ne)},Ae.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ae.createElement=function(D,H,oe){var ne,Te={},Re=null;if(H!=null)for(ne in H.key!==void 0&&(Re=""+H.key),H)K.call(H,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(Te[ne]=H[ne]);var Ve=arguments.length-2;if(Ve===1)Te.children=oe;else if(1<Ve){for(var jt=Array(Ve),ge=0;ge<Ve;ge++)jt[ge]=arguments[ge+2];Te.children=jt}if(D&&D.defaultProps)for(ne in Ve=D.defaultProps,Ve)Te[ne]===void 0&&(Te[ne]=Ve[ne]);return X(D,Re,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:d,render:D}},Ae.isValidElement=se,Ae.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:re}},Ae.memo=function(D,H){return{$$typeof:f,type:D,compare:H===void 0?null:H}},Ae.startTransition=function(D){var H=z.T,oe={};z.T=oe;try{var ne=D(),Te=z.S;Te!==null&&Te(oe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then($,we)}catch(Re){we(Re)}finally{H!==null&&oe.types!==null&&(H.types=oe.types),z.T=H}},Ae.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ae.use=function(D){return z.H.use(D)},Ae.useActionState=function(D,H,oe){return z.H.useActionState(D,H,oe)},Ae.useCallback=function(D,H){return z.H.useCallback(D,H)},Ae.useContext=function(D){return z.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,H){return z.H.useDeferredValue(D,H)},Ae.useEffect=function(D,H){return z.H.useEffect(D,H)},Ae.useEffectEvent=function(D){return z.H.useEffectEvent(D)},Ae.useId=function(){return z.H.useId()},Ae.useImperativeHandle=function(D,H,oe){return z.H.useImperativeHandle(D,H,oe)},Ae.useInsertionEffect=function(D,H){return z.H.useInsertionEffect(D,H)},Ae.useLayoutEffect=function(D,H){return z.H.useLayoutEffect(D,H)},Ae.useMemo=function(D,H){return z.H.useMemo(D,H)},Ae.useOptimistic=function(D,H){return z.H.useOptimistic(D,H)},Ae.useReducer=function(D,H,oe){return z.H.useReducer(D,H,oe)},Ae.useRef=function(D){return z.H.useRef(D)},Ae.useState=function(D){return z.H.useState(D)},Ae.useSyncExternalStore=function(D,H,oe){return z.H.useSyncExternalStore(D,H,oe)},Ae.useTransition=function(){return z.H.useTransition()},Ae.version="19.2.1",Ae}var b1;function Hg(){return b1||(b1=1,Nm.exports=RO()),Nm.exports}var A=Hg();const hs=qg(A);var Im={exports:{}},gl={},Mm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function DO(){return _1||(_1=1,(function(t){function e(U,Y){var re=U.length;U.push(Y);e:for(;0<re;){var we=re-1>>>1,je=U[we];if(0<a(je,Y))U[we]=Y,U[re]=je,re=we;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Y=U[0],re=U.pop();if(re!==Y){U[0]=re;e:for(var we=0,je=U.length,D=je>>>1;we<D;){var H=2*(we+1)-1,oe=U[H],ne=H+1,Te=U[ne];if(0>a(oe,re))ne<je&&0>a(Te,oe)?(U[we]=Te,U[ne]=re,we=ne):(U[we]=oe,U[H]=re,we=H);else if(ne<je&&0>a(Te,re))U[we]=Te,U[ne]=re,we=ne;else break e}}return Y}function a(U,Y){var re=U.sortIndex-Y.sortIndex;return re!==0?re:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],y=1,v=null,b=3,S=!1,T=!1,x=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function M(U){for(var Y=n(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=U)i(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(f)}}function V(U){if(x=!1,M(U),!T)if(n(h)!==null)T=!0,$||($=!0,J());else{var Y=n(f);Y!==null&&fe(V,Y.startTime-U)}}var $=!1,z=-1,K=5,X=-1;function ee(){return C?!0:!(t.unstable_now()-X<K)}function se(){if(C=!1,$){var U=t.unstable_now();X=U;var Y=!0;try{e:{T=!1,x&&(x=!1,O(z),z=-1),S=!0;var re=b;try{t:{for(M(U),v=n(h);v!==null&&!(v.expirationTime>U&&ee());){var we=v.callback;if(typeof we=="function"){v.callback=null,b=v.priorityLevel;var je=we(v.expirationTime<=U);if(U=t.unstable_now(),typeof je=="function"){v.callback=je,M(U),Y=!0;break t}v===n(h)&&i(h),M(U)}else i(h);v=n(h)}if(v!==null)Y=!0;else{var D=n(f);D!==null&&fe(V,D.startTime-U),Y=!1}}break e}finally{v=null,b=re,S=!1}Y=void 0}}finally{Y?J():$=!1}}}var J;if(typeof j=="function")J=function(){j(se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ve=ae.port2;ae.port1.onmessage=se,J=function(){ve.postMessage(null)}}else J=function(){k(se,0)};function fe(U,Y){z=k(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var re=b;b=Y;try{return U()}finally{b=re}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=b;b=U;try{return Y()}finally{b=re}},t.unstable_scheduleCallback=function(U,Y,re){var we=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?we+re:we):re=we,U){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=re+je,U={id:y++,callback:Y,priorityLevel:U,startTime:re,expirationTime:je,sortIndex:-1},re>we?(U.sortIndex=re,e(f,U),n(h)===null&&U===n(f)&&(x?(O(z),z=-1):x=!0,fe(V,re-we))):(U.sortIndex=je,e(h,U),T||S||(T=!0,$||($=!0,J()))),U},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(U){var Y=b;return function(){var re=b;b=Y;try{return U.apply(this,arguments)}finally{b=re}}}})(Lm)),Lm}var w1;function NO(){return w1||(w1=1,Mm.exports=DO()),Mm.exports}var Pm={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function IO(){if(S1)return qt;S1=1;var t=Hg();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qt.createPortal=function(h,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,y)},qt.flushSync=function(h){var f=c.T,y=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=y,i.d.f()}},qt.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},qt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},qt.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var y=f.as,v=d(y,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):y==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qt.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=d(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},qt.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,v=d(y,f.crossOrigin);i.d.L(h,y,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qt.preloadModule=function(h,f){if(typeof h=="string")if(f){var y=d(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},qt.requestFormReset=function(h){i.d.r(h)},qt.unstable_batchedUpdates=function(h,f){return h(f)},qt.useFormState=function(h,f,y){return c.H.useFormState(h,f,y)},qt.useFormStatus=function(){return c.H.useHostTransitionStatus()},qt.version="19.2.1",qt}var T1;function ZT(){if(T1)return Pm.exports;T1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pm.exports=IO(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function MO(){if(E1)return gl;E1=1;var t=NO(),e=Hg(),n=ZT();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return h(m),s;if(p===u)return h(m),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=p;else{for(var w=!1,E=m.child;E;){if(E===o){w=!0,o=m,u=p;break}if(E===u){w=!0,u=m,o=p;break}E=E.sibling}if(!w){for(E=p.child;E;){if(E===o){w=!0,o=p,u=m;break}if(E===u){w=!0,u=p,o=m;break}E=E.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ae?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case X:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case j:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case M:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return r=s.displayName||null,r!==null?r:ve(s.type)||"Memo";case K:r=s._payload,s=s._init;try{return ve(s(r))}catch{}}return null}var fe=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},we=[],je=-1;function D(s){return{current:s}}function H(s){0>je||(s.current=we[je],we[je]=null,je--)}function oe(s,r){je++,we[je]=s.current,s.current=r}var ne=D(null),Te=D(null),Re=D(null),Ve=D(null);function jt(s,r){switch(oe(Re,r),oe(Te,s),oe(ne,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?B_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=B_(r),s=z_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(ne),oe(ne,s)}function ge(){H(ne),H(Te),H(Re)}function Jt(s){s.memoizedState!==null&&oe(Ve,s);var r=ne.current,o=z_(r,s.type);r!==o&&(oe(Te,s),oe(ne,o))}function gs(s){Te.current===s&&(H(ne),H(Te)),Ve.current===s&&(H(Ve),dl._currentValue=re)}var Ji,Zi;function es(s){if(Ji===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ji=r&&r[1]||"",Zi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+s+Zi}var er=!1;function Rs(s,r){if(!s||er)return"";er=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var B=F}Reflect.construct(s,[],W)}else{try{W.call()}catch(F){B=F}s.call(W.prototype)}}else{try{throw Error()}catch(F){B=F}(W=s())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],E=p[1];if(w&&E){var R=w.split(`
`),P=E.split(`
`);for(m=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;m<P.length&&!P[m].includes("DetermineComponentFrameRoot");)m++;if(u===R.length||m===P.length)for(u=R.length-1,m=P.length-1;1<=u&&0<=m&&R[u]!==P[m];)m--;for(;1<=u&&0<=m;u--,m--)if(R[u]!==P[m]){if(u!==1||m!==1)do if(u--,m--,0>m||R[u]!==P[m]){var q=`
`+R[u].replace(" at new "," at ");return s.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",s.displayName)),q}while(1<=u&&0<=m);break}}}finally{er=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?es(o):""}function vh(s,r){switch(s.tag){case 26:case 27:case 5:return es(s.type);case 16:return es("Lazy");case 13:return s.child!==r&&r!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return Rs(s.type,!1);case 11:return Rs(s.type.render,!1);case 1:return Rs(s.type,!0);case 31:return es("Activity");default:return""}}function Kr(s){try{var r="",o=null;do r+=vh(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _o=Object.prototype.hasOwnProperty,wo=t.unstable_scheduleCallback,Q=t.unstable_cancelCallback,le=t.unstable_shouldYield,de=t.unstable_requestPaint,ce=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,yt=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,De=t.unstable_LowPriority,rn=t.unstable_IdlePriority,So=t.log,bv=t.unstable_setDisableYieldValue,Ze=null,ct=null;function Ds(s){if(typeof So=="function"&&bv(s),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Ze,s)}catch{}}var ft=Math.clz32?Math.clz32:fk,To=Math.log,hk=Math.LN2;function fk(s){return s>>>=0,s===0?32:31-(To(s)/hk|0)|0}var bc=256,_c=262144,wc=4194304;function tr(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Sc(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var E=u&134217727;return E!==0?(u=E&~p,u!==0?m=tr(u):(w&=E,w!==0?m=tr(w):o||(o=E&~s,o!==0&&(m=tr(o))))):(E=u&~p,E!==0?m=tr(E):w!==0?m=tr(w):o||(o=u&~s,o!==0&&(m=tr(o)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:m}function Eo(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function mk(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _v(){var s=wc;return wc<<=1,(wc&62914560)===0&&(wc=4194304),s}function bh(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function xo(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pk(s,r,o,u,m,p){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var E=s.entanglements,R=s.expirationTimes,P=s.hiddenUpdates;for(o=w&~o;0<o;){var q=31-ft(o),W=1<<q;E[q]=0,R[q]=-1;var B=P[q];if(B!==null)for(P[q]=null,q=0;q<B.length;q++){var F=B[q];F!==null&&(F.lane&=-536870913)}o&=~W}u!==0&&wv(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(w&~r))}function wv(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ft(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Sv(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-ft(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function Tv(s,r){var o=r&-r;return o=(o&42)!==0?1:_h(o),(o&(s.suspendedLanes|r))!==0?0:o}function _h(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function wh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ev(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:c1(s.type))}function xv(s,r){var o=Y.p;try{return Y.p=s,r()}finally{Y.p=o}}var ci=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ci,an="__reactProps$"+ci,Wr="__reactContainer$"+ci,Sh="__reactEvents$"+ci,gk="__reactListeners$"+ci,yk="__reactHandles$"+ci,Cv="__reactResources$"+ci,Co="__reactMarker$"+ci;function Th(s){delete s[Lt],delete s[an],delete s[Sh],delete s[gk],delete s[yk]}function Yr(s){var r=s[Lt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Wr]||o[Lt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=K_(s);s!==null;){if(o=s[Lt])return o;s=K_(s)}return r}s=o,o=s.parentNode}return null}function Xr(s){if(s=s[Lt]||s[Wr]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Ao(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Qr(s){var r=s[Cv];return r||(r=s[Cv]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(s){s[Co]=!0}var Av=new Set,kv={};function nr(s,r){Jr(s,r),Jr(s+"Capture",r)}function Jr(s,r){for(kv[s]=r,s=0;s<r.length;s++)Av.add(r[s])}var vk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jv={},Ov={};function bk(s){return _o.call(Ov,s)?!0:_o.call(jv,s)?!1:vk.test(s)?Ov[s]=!0:(jv[s]=!0,!1)}function Tc(s,r,o){if(bk(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Ec(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ns(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rv(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _k(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,p.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Eh(s){if(!s._valueTracker){var r=Rv(s)?"checked":"value";s._valueTracker=_k(s,r,""+s[r])}}function Dv(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=Rv(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function xc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wk=/[\n"\\]/g;function Nn(s){return s.replace(wk,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xh(s,r,o,u,m,p,w,E){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Dn(r)):s.value!==""+Dn(r)&&(s.value=""+Dn(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?Ch(s,w,Dn(r)):o!=null?Ch(s,w,Dn(o)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+Dn(E):s.removeAttribute("name")}function Nv(s,r,o,u,m,p,w,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Eh(s);return}o=o!=null?""+Dn(o):"",r=r!=null?""+Dn(r):o,E||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=E?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),Eh(s)}function Ch(s,r,o){r==="number"&&xc(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Zr(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Dn(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Iv(s,r,o){if(r!=null&&(r=""+Dn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Dn(o):""}function Mv(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(fe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Dn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),Eh(s)}function ea(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Sk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lv(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Sk.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Pv(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Lv(s,m,u)}else for(var p in r)r.hasOwnProperty(p)&&Lv(s,p,r[p])}function Ah(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ek=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cc(s){return Ek.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Is(){}var kh=null;function jh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ta=null,na=null;function Uv(s){var r=Xr(s);if(r&&(s=r.stateNode)){var o=s[an]||null;e:switch(s=r.stateNode,r.type){case"input":if(xh(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[an]||null;if(!m)throw Error(i(90));xh(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Dv(u)}break e;case"textarea":Iv(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Zr(s,!!o.multiple,r,!1)}}}var Oh=!1;function Bv(s,r,o){if(Oh)return s(r,o);Oh=!0;try{var u=s(r);return u}finally{if(Oh=!1,(ta!==null||na!==null)&&(fu(),ta&&(r=ta,s=na,na=ta=null,Uv(r),s)))for(r=0;r<s.length;r++)Uv(s[r])}}function ko(s,r){var o=s.stateNode;if(o===null)return null;var u=o[an]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=!1;if(Ms)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Rh=!1}var ui=null,Dh=null,Ac=null;function zv(){if(Ac)return Ac;var s,r=Dh,o=r.length,u,m="value"in ui?ui.value:ui.textContent,p=m.length;for(s=0;s<o&&r[s]===m[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===m[p-u];u++);return Ac=m.slice(s,1<u?1-u:void 0)}function kc(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function jc(){return!0}function Vv(){return!1}function on(s){function r(o,u,m,p,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(o=s[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?jc:Vv,this.isPropagationStopped=Vv,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),r}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=on(sr),Oo=v({},sr,{view:0,detail:0}),xk=on(Oo),Nh,Ih,Ro,Rc=v({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ro&&(Ro&&s.type==="mousemove"?(Nh=s.screenX-Ro.screenX,Ih=s.screenY-Ro.screenY):Ih=Nh=0,Ro=s),Nh)},movementY:function(s){return"movementY"in s?s.movementY:Ih}}),$v=on(Rc),Ck=v({},Rc,{dataTransfer:0}),Ak=on(Ck),kk=v({},Oo,{relatedTarget:0}),Mh=on(kk),jk=v({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ok=on(jk),Rk=v({},sr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Dk=on(Rk),Nk=v({},sr,{data:0}),Fv=on(Nk),Ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pk(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Lk[s])?!!r[s]:!1}function Lh(){return Pk}var Uk=v({},Oo,{key:function(s){if(s.key){var r=Ik[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=kc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(s){return s.type==="keypress"?kc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Bk=on(Uk),zk=v({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qv=on(zk),Vk=v({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),$k=on(Vk),Fk=v({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=on(Fk),Hk=v({},Rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=on(Hk),Kk=v({},sr,{newState:0,oldState:0}),Wk=on(Kk),Yk=[9,13,27,32],Ph=Ms&&"CompositionEvent"in window,Do=null;Ms&&"documentMode"in document&&(Do=document.documentMode);var Xk=Ms&&"TextEvent"in window&&!Do,Hv=Ms&&(!Ph||Do&&8<Do&&11>=Do),Gv=" ",Kv=!1;function Wv(s,r){switch(s){case"keyup":return Yk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sa=!1;function Qk(s,r){switch(s){case"compositionend":return Yv(r);case"keypress":return r.which!==32?null:(Kv=!0,Gv);case"textInput":return s=r.data,s===Gv&&Kv?null:s;default:return null}}function Jk(s,r){if(sa)return s==="compositionend"||!Ph&&Wv(s,r)?(s=zv(),Ac=Dh=ui=null,sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hv&&r.locale!=="ko"?null:r.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Zk[s.type]:r==="textarea"}function Qv(s,r,o,u){ta?na?na.push(u):na=[u]:ta=u,r=_u(r,"onChange"),0<r.length&&(o=new Oc("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var No=null,Io=null;function ej(s){N_(s,0)}function Dc(s){var r=Ao(s);if(Dv(r))return s}function Jv(s,r){if(s==="change")return r}var Zv=!1;if(Ms){var Uh;if(Ms){var Bh="oninput"in document;if(!Bh){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Bh=typeof e0.oninput=="function"}Uh=Bh}else Uh=!1;Zv=Uh&&(!document.documentMode||9<document.documentMode)}function t0(){No&&(No.detachEvent("onpropertychange",n0),Io=No=null)}function n0(s){if(s.propertyName==="value"&&Dc(Io)){var r=[];Qv(r,Io,s,jh(s)),Bv(ej,r)}}function tj(s,r,o){s==="focusin"?(t0(),No=r,Io=o,No.attachEvent("onpropertychange",n0)):s==="focusout"&&t0()}function nj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dc(Io)}function sj(s,r){if(s==="click")return Dc(r)}function ij(s,r){if(s==="input"||s==="change")return Dc(r)}function rj(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var _n=typeof Object.is=="function"?Object.is:rj;function Mo(s,r){if(_n(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!_o.call(r,m)||!_n(s[m],r[m]))return!1}return!0}function s0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function i0(s,r){var o=s0(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=s0(o)}}function r0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?r0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function a0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=xc(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=xc(s.document)}return r}function zh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var aj=Ms&&"documentMode"in document&&11>=document.documentMode,ia=null,Vh=null,Lo=null,$h=!1;function o0(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$h||ia==null||ia!==xc(u)||(u=ia,"selectionStart"in u&&zh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lo&&Mo(Lo,u)||(Lo=u,u=_u(Vh,"onSelect"),0<u.length&&(r=new Oc("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=ia)))}function ir(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var ra={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Fh={},l0={};Ms&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function rr(s){if(Fh[s])return Fh[s];if(!ra[s])return s;var r=ra[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in l0)return Fh[s]=r[o];return s}var c0=rr("animationend"),u0=rr("animationiteration"),d0=rr("animationstart"),oj=rr("transitionrun"),lj=rr("transitionstart"),cj=rr("transitioncancel"),h0=rr("transitionend"),f0=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ts(s,r){f0.set(s,r),nr(r,[s])}var Nc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},In=[],aa=0,Hh=0;function Ic(){for(var s=aa,r=Hh=aa=0;r<s;){var o=In[r];In[r++]=null;var u=In[r];In[r++]=null;var m=In[r];In[r++]=null;var p=In[r];if(In[r++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}p!==0&&m0(o,m,p)}}function Mc(s,r,o,u){In[aa++]=s,In[aa++]=r,In[aa++]=o,In[aa++]=u,Hh|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Gh(s,r,o,u){return Mc(s,r,o,u),Lc(s)}function ar(s,r){return Mc(s,null,null,r),Lc(s)}function m0(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-ft(o),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),p):null}function Lc(s){if(50<il)throw il=0,nm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var oa={};function uj(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,r,o,u){return new uj(s,r,o,u)}function Kh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ls(s,r){var o=s.alternate;return o===null?(o=wn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function p0(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Pc(s,r,o,u,m,p){var w=0;if(u=s,typeof s=="function")Kh(s)&&(w=1);else if(typeof s=="string")w=pO(s,o,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case X:return s=wn(31,o,r,m),s.elementType=X,s.lanes=p,s;case x:return or(o.children,m,p,r);case C:w=8,m|=24;break;case k:return s=wn(12,o,r,m|2),s.elementType=k,s.lanes=p,s;case V:return s=wn(13,o,r,m),s.elementType=V,s.lanes=p,s;case $:return s=wn(19,o,r,m),s.elementType=$,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:w=10;break e;case O:w=9;break e;case M:w=11;break e;case z:w=14;break e;case K:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=wn(w,o,r,m),r.elementType=s,r.type=u,r.lanes=p,r}function or(s,r,o,u){return s=wn(7,s,u,r),s.lanes=o,s}function Wh(s,r,o){return s=wn(6,s,null,r),s.lanes=o,s}function g0(s){var r=wn(18,null,null,0);return r.stateNode=s,r}function Yh(s,r,o){return r=wn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var y0=new WeakMap;function Mn(s,r){if(typeof s=="object"&&s!==null){var o=y0.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Kr(r)},y0.set(s,r),r)}return{value:s,source:r,stack:Kr(r)}}var la=[],ca=0,Uc=null,Po=0,Ln=[],Pn=0,di=null,ys=1,vs="";function Ps(s,r){la[ca++]=Po,la[ca++]=Uc,Uc=s,Po=r}function v0(s,r,o){Ln[Pn++]=ys,Ln[Pn++]=vs,Ln[Pn++]=di,di=s;var u=ys;s=vs;var m=32-ft(u)-1;u&=~(1<<m),o+=1;var p=32-ft(r)+m;if(30<p){var w=m-m%5;p=(u&(1<<w)-1).toString(32),u>>=w,m-=w,ys=1<<32-ft(r)+m|o<<m|u,vs=p+s}else ys=1<<p|o<<m|u,vs=s}function Xh(s){s.return!==null&&(Ps(s,1),v0(s,1,0))}function Qh(s){for(;s===Uc;)Uc=la[--ca],la[ca]=null,Po=la[--ca],la[ca]=null;for(;s===di;)di=Ln[--Pn],Ln[Pn]=null,vs=Ln[--Pn],Ln[Pn]=null,ys=Ln[--Pn],Ln[Pn]=null}function b0(s,r){Ln[Pn++]=ys,Ln[Pn++]=vs,Ln[Pn++]=di,ys=r.id,vs=r.overflow,di=s}var Pt=null,st=null,Be=!1,hi=null,Un=!1,Jh=Error(i(519));function fi(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Mn(r,s)),Jh}function _0(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Lt]=s,r[an]=u,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<al.length;o++)Me(al[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Nv(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Mv(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||P_(r.textContent,o)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=Is),r=!0):r=!1,r||fi(s,!0)}function w0(s){for(Pt=s.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Pt=Pt.return}}function ua(s){if(s!==Pt)return!1;if(!Be)return w0(s),Be=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ym(s.type,s.memoizedProps)),o=!o),o&&st&&fi(s),w0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));st=G_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));st=G_(s)}else r===27?(r=st,Ai(s.type)?(s=Sm,Sm=null,st=s):st=r):st=Pt?zn(s.stateNode.nextSibling):null;return!0}function lr(){st=Pt=null,Be=!1}function Zh(){var s=hi;return s!==null&&(dn===null?dn=s:dn.push.apply(dn,s),hi=null),s}function Uo(s){hi===null?hi=[s]:hi.push(s)}var ef=D(null),cr=null,Us=null;function mi(s,r,o){oe(ef,r._currentValue),r._currentValue=o}function Bs(s){s._currentValue=ef.current,H(ef)}function tf(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function nf(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var w=m.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=m;for(var R=0;R<r.length;R++)if(E.context===r[R]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),tf(p.return,o,s),u||(w=null);break e}p=E.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),tf(w,o,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function da(s,r,o,u){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var E=m.type;_n(m.pendingProps.value,w.value)||(s!==null?s.push(E):s=[E])}}else if(m===Ve.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(dl):s=[dl])}m=m.return}s!==null&&nf(r,s,o,u),r.flags|=262144}function Bc(s){for(s=s.firstContext;s!==null;){if(!_n(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ur(s){cr=s,Us=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ut(s){return S0(cr,s)}function zc(s,r){return cr===null&&ur(s),S0(s,r)}function S0(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Us===null){if(s===null)throw Error(i(308));Us=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Us=Us.next=r;return o}var dj=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},hj=t.unstable_scheduleCallback,fj=t.unstable_NormalPriority,wt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new dj,data:new Map,refCount:0}}function Bo(s){s.refCount--,s.refCount===0&&hj(fj,function(){s.controller.abort()})}var zo=null,rf=0,ha=0,fa=null;function mj(s,r){if(zo===null){var o=zo=[];rf=0,ha=lm(),fa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rf++,r.then(T0,T0),r}function T0(){if(--rf===0&&zo!==null){fa!==null&&(fa.status="fulfilled");var s=zo;zo=null,ha=0,fa=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function pj(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var E0=U.S;U.S=function(s,r){o_=ce(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mj(s,r),E0!==null&&E0(s,r)};var dr=D(null);function af(){var s=dr.current;return s!==null?s:et.pooledCache}function Vc(s,r){r===null?oe(dr,dr.current):oe(dr,r.pool)}function x0(){var s=af();return s===null?null:{parent:wt._currentValue,pool:s}}var ma=Error(i(460)),of=Error(i(474)),$c=Error(i(542)),Fc={then:function(){}};function C0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function A0(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Is,Is),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,j0(s),s;default:if(typeof r.status=="string")r.then(Is,Is);else{if(s=et,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,j0(s),s}throw fr=r,ma}}function hr(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fr=o,ma):o}}var fr=null;function k0(){if(fr===null)throw Error(i(459));var s=fr;return fr=null,s}function j0(s){if(s===ma||s===$c)throw Error(i(483))}var pa=null,Vo=0;function qc(s){var r=Vo;return Vo+=1,pa===null&&(pa=[]),A0(pa,s,r)}function $o(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Hc(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function O0(s){function r(I,N){if(s){var L=I.deletions;L===null?(I.deletions=[N],I.flags|=16):L.push(N)}}function o(I,N){if(!s)return null;for(;N!==null;)r(I,N),N=N.sibling;return null}function u(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function m(I,N){return I=Ls(I,N),I.index=0,I.sibling=null,I}function p(I,N,L){return I.index=L,s?(L=I.alternate,L!==null?(L=L.index,L<N?(I.flags|=67108866,N):L):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function w(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function E(I,N,L,G){return N===null||N.tag!==6?(N=Wh(L,I.mode,G),N.return=I,N):(N=m(N,L),N.return=I,N)}function R(I,N,L,G){var ye=L.type;return ye===x?q(I,N,L.props.children,G,L.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===K&&hr(ye)===N.type)?(N=m(N,L.props),$o(N,L),N.return=I,N):(N=Pc(L.type,L.key,L.props,null,I.mode,G),$o(N,L),N.return=I,N)}function P(I,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Yh(L,I.mode,G),N.return=I,N):(N=m(N,L.children||[]),N.return=I,N)}function q(I,N,L,G,ye){return N===null||N.tag!==7?(N=or(L,I.mode,G,ye),N.return=I,N):(N=m(N,L),N.return=I,N)}function W(I,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wh(""+N,I.mode,L),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return L=Pc(N.type,N.key,N.props,null,I.mode,L),$o(L,N),L.return=I,L;case T:return N=Yh(N,I.mode,L),N.return=I,N;case K:return N=hr(N),W(I,N,L)}if(fe(N)||J(N))return N=or(N,I.mode,L,null),N.return=I,N;if(typeof N.then=="function")return W(I,qc(N),L);if(N.$$typeof===j)return W(I,zc(I,N),L);Hc(I,N)}return null}function B(I,N,L,G){var ye=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:E(I,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===ye?R(I,N,L,G):null;case T:return L.key===ye?P(I,N,L,G):null;case K:return L=hr(L),B(I,N,L,G)}if(fe(L)||J(L))return ye!==null?null:q(I,N,L,G,null);if(typeof L.then=="function")return B(I,N,qc(L),G);if(L.$$typeof===j)return B(I,N,zc(I,L),G);Hc(I,L)}return null}function F(I,N,L,G,ye){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return I=I.get(L)||null,E(N,I,""+G,ye);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return I=I.get(G.key===null?L:G.key)||null,R(N,I,G,ye);case T:return I=I.get(G.key===null?L:G.key)||null,P(N,I,G,ye);case K:return G=hr(G),F(I,N,L,G,ye)}if(fe(G)||J(G))return I=I.get(L)||null,q(N,I,G,ye,null);if(typeof G.then=="function")return F(I,N,L,qc(G),ye);if(G.$$typeof===j)return F(I,N,L,zc(N,G),ye);Hc(N,G)}return null}function ue(I,N,L,G){for(var ye=null,$e=null,me=N,Ne=N=0,Pe=null;me!==null&&Ne<L.length;Ne++){me.index>Ne?(Pe=me,me=null):Pe=me.sibling;var Fe=B(I,me,L[Ne],G);if(Fe===null){me===null&&(me=Pe);break}s&&me&&Fe.alternate===null&&r(I,me),N=p(Fe,N,Ne),$e===null?ye=Fe:$e.sibling=Fe,$e=Fe,me=Pe}if(Ne===L.length)return o(I,me),Be&&Ps(I,Ne),ye;if(me===null){for(;Ne<L.length;Ne++)me=W(I,L[Ne],G),me!==null&&(N=p(me,N,Ne),$e===null?ye=me:$e.sibling=me,$e=me);return Be&&Ps(I,Ne),ye}for(me=u(me);Ne<L.length;Ne++)Pe=F(me,I,Ne,L[Ne],G),Pe!==null&&(s&&Pe.alternate!==null&&me.delete(Pe.key===null?Ne:Pe.key),N=p(Pe,N,Ne),$e===null?ye=Pe:$e.sibling=Pe,$e=Pe);return s&&me.forEach(function(Di){return r(I,Di)}),Be&&Ps(I,Ne),ye}function be(I,N,L,G){if(L==null)throw Error(i(151));for(var ye=null,$e=null,me=N,Ne=N=0,Pe=null,Fe=L.next();me!==null&&!Fe.done;Ne++,Fe=L.next()){me.index>Ne?(Pe=me,me=null):Pe=me.sibling;var Di=B(I,me,Fe.value,G);if(Di===null){me===null&&(me=Pe);break}s&&me&&Di.alternate===null&&r(I,me),N=p(Di,N,Ne),$e===null?ye=Di:$e.sibling=Di,$e=Di,me=Pe}if(Fe.done)return o(I,me),Be&&Ps(I,Ne),ye;if(me===null){for(;!Fe.done;Ne++,Fe=L.next())Fe=W(I,Fe.value,G),Fe!==null&&(N=p(Fe,N,Ne),$e===null?ye=Fe:$e.sibling=Fe,$e=Fe);return Be&&Ps(I,Ne),ye}for(me=u(me);!Fe.done;Ne++,Fe=L.next())Fe=F(me,I,Ne,Fe.value,G),Fe!==null&&(s&&Fe.alternate!==null&&me.delete(Fe.key===null?Ne:Fe.key),N=p(Fe,N,Ne),$e===null?ye=Fe:$e.sibling=Fe,$e=Fe);return s&&me.forEach(function(CO){return r(I,CO)}),Be&&Ps(I,Ne),ye}function Qe(I,N,L,G){if(typeof L=="object"&&L!==null&&L.type===x&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:e:{for(var ye=L.key;N!==null;){if(N.key===ye){if(ye=L.type,ye===x){if(N.tag===7){o(I,N.sibling),G=m(N,L.props.children),G.return=I,I=G;break e}}else if(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===K&&hr(ye)===N.type){o(I,N.sibling),G=m(N,L.props),$o(G,L),G.return=I,I=G;break e}o(I,N);break}else r(I,N);N=N.sibling}L.type===x?(G=or(L.props.children,I.mode,G,L.key),G.return=I,I=G):(G=Pc(L.type,L.key,L.props,null,I.mode,G),$o(G,L),G.return=I,I=G)}return w(I);case T:e:{for(ye=L.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){o(I,N.sibling),G=m(N,L.children||[]),G.return=I,I=G;break e}else{o(I,N);break}else r(I,N);N=N.sibling}G=Yh(L,I.mode,G),G.return=I,I=G}return w(I);case K:return L=hr(L),Qe(I,N,L,G)}if(fe(L))return ue(I,N,L,G);if(J(L)){if(ye=J(L),typeof ye!="function")throw Error(i(150));return L=ye.call(L),be(I,N,L,G)}if(typeof L.then=="function")return Qe(I,N,qc(L),G);if(L.$$typeof===j)return Qe(I,N,zc(I,L),G);Hc(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(o(I,N.sibling),G=m(N,L),G.return=I,I=G):(o(I,N),G=Wh(L,I.mode,G),G.return=I,I=G),w(I)):o(I,N)}return function(I,N,L,G){try{Vo=0;var ye=Qe(I,N,L,G);return pa=null,ye}catch(me){if(me===ma||me===$c)throw me;var $e=wn(29,me,null,I.mode);return $e.lanes=G,$e.return=I,$e}finally{}}}var mr=O0(!0),R0=O0(!1),pi=!1;function lf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function yi(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(qe&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Lc(s),m0(s,null,o),r}return Mc(s,u,r,o),Lc(s)}function Fo(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Sv(s,o)}}function uf(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?m=p=r:p=p.next=r}else m=p=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var df=!1;function qo(){if(df){var s=fa;if(s!==null)throw s}}function Ho(s,r,o,u){df=!1;var m=s.updateQueue;pi=!1;var p=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var R=E,P=R.next;R.next=null,w===null?p=P:w.next=P,w=R;var q=s.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==w&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=R))}if(p!==null){var W=m.baseState;w=0,q=P=R=null,E=p;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Le&B)===B:(u&B)===B){B!==0&&B===ha&&(df=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=s,be=E;B=r;var Qe=o;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){W=ue.call(Qe,W,B);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,B=typeof ue=="function"?ue.call(Qe,W,B):ue,B==null)break e;W=v({},W,B);break e;case 2:pi=!0}}B=E.callback,B!==null&&(s.flags|=64,F&&(s.flags|=8192),F=m.callbacks,F===null?m.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=F,R=W):q=q.next=F,w|=B;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;F=E,E=F.next,F.next=null,m.lastBaseUpdate=F,m.shared.pending=null}}while(!0);q===null&&(R=W),m.baseState=R,m.firstBaseUpdate=P,m.lastBaseUpdate=q,p===null&&(m.shared.lanes=0),Si|=w,s.lanes=w,s.memoizedState=W}}function D0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function N0(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)D0(o[s],r)}var ga=D(null),Gc=D(0);function I0(s,r){s=Ws,oe(Gc,s),oe(ga,r),Ws=s|r.baseLanes}function hf(){oe(Gc,Ws),oe(ga,ga.current)}function ff(){Ws=Gc.current,H(ga),H(Gc)}var Sn=D(null),Bn=null;function vi(s){var r=s.alternate;oe(vt,vt.current&1),oe(Sn,s),Bn===null&&(r===null||ga.current!==null||r.memoizedState!==null)&&(Bn=s)}function mf(s){oe(vt,vt.current),oe(Sn,s),Bn===null&&(Bn=s)}function M0(s){s.tag===22?(oe(vt,vt.current),oe(Sn,s),Bn===null&&(Bn=s)):bi()}function bi(){oe(vt,vt.current),oe(Sn,Sn.current)}function Tn(s){H(Sn),Bn===s&&(Bn=null),H(vt)}var vt=D(0);function Kc(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_m(o)||wm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zs=0,Oe=null,Ye=null,St=null,Wc=!1,ya=!1,pr=!1,Yc=0,Go=0,va=null,gj=0;function mt(){throw Error(i(321))}function pf(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!_n(s[o],r[o]))return!1;return!0}function gf(s,r,o,u,m,p){return zs=p,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=s===null||s.memoizedState===null?vb:Rf,pr=!1,p=o(u,m),pr=!1,ya&&(p=P0(r,o,u,m)),L0(s),p}function L0(s){U.H=Yo;var r=Ye!==null&&Ye.next!==null;if(zs=0,St=Ye=Oe=null,Wc=!1,Go=0,va=null,r)throw Error(i(300));s===null||Tt||(s=s.dependencies,s!==null&&Bc(s)&&(Tt=!0))}function P0(s,r,o,u){Oe=s;var m=0;do{if(ya&&(va=null),Go=0,ya=!1,25<=m)throw Error(i(301));if(m+=1,St=Ye=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=bb,p=r(o,u)}while(ya);return p}function yj(){var s=U.H,r=s.useState()[0];return r=typeof r.then=="function"?Ko(r):r,s=s.useState()[0],(Ye!==null?Ye.memoizedState:null)!==s&&(Oe.flags|=1024),r}function yf(){var s=Yc!==0;return Yc=0,s}function vf(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function bf(s){if(Wc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Wc=!1}zs=0,St=Ye=Oe=null,ya=!1,Go=Yc=0,va=null}function Zt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=s:St=St.next=s,St}function bt(){if(Ye===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=Ye.next;var r=St===null?Oe.memoizedState:St.next;if(r!==null)St=r,Ye=s;else{if(s===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));Ye=s,s={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},St===null?Oe.memoizedState=St=s:St=St.next=s}return St}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(s){var r=Go;return Go+=1,va===null&&(va=[]),s=A0(va,s,r),r=Oe,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?vb:Rf),s}function Qc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ko(s);if(s.$$typeof===j)return Ut(s)}throw Error(i(438,String(s)))}function _f(s){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Xc(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=ee;return r.index++,o}function Vs(s,r){return typeof r=="function"?r(s):r}function Jc(s){var r=bt();return wf(r,Ye,s)}function wf(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var w=m.next;m.next=p.next,p.next=w}r.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var E=w=null,R=null,P=r,q=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Le&W)===W:(zs&W)===W){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===ha&&(q=!0);else if((zs&B)===B){P=P.next,B===ha&&(q=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=W,w=p):R=R.next=W,Oe.lanes|=B,Si|=B;W=P.action,pr&&o(p,W),p=P.hasEagerState?P.eagerState:o(p,W)}else B={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,w=p):R=R.next=B,Oe.lanes|=W,Si|=W;P=P.next}while(P!==null&&P!==r);if(R===null?w=p:R.next=E,!_n(p,s.memoizedState)&&(Tt=!0,q&&(o=fa,o!==null)))throw o;s.memoizedState=p,s.baseState=w,s.baseQueue=R,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Sf(s){var r=bt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,p=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do p=s(p,w.action),w=w.next;while(w!==m);_n(p,r.memoizedState)||(Tt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function U0(s,r,o){var u=Oe,m=bt(),p=Be;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!_n((Ye||m).memoizedState,o);if(w&&(m.memoizedState=o,Tt=!0),m=m.queue,xf(V0.bind(null,u,m,s),[s]),m.getSnapshot!==r||w||St!==null&&St.memoizedState.tag&1){if(u.flags|=2048,ba(9,{destroy:void 0},z0.bind(null,u,m,o,r),null),et===null)throw Error(i(349));p||(zs&127)!==0||B0(u,r,o)}return o}function B0(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Xc(),Oe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function z0(s,r,o,u){r.value=o,r.getSnapshot=u,$0(r)&&F0(s)}function V0(s,r,o){return o(function(){$0(r)&&F0(s)})}function $0(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!_n(s,o)}catch{return!0}}function F0(s){var r=ar(s,2);r!==null&&hn(r,s,2)}function Tf(s){var r=Zt();if(typeof s=="function"){var o=s;if(s=o(),pr){Ds(!0);try{o()}finally{Ds(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:s},r}function q0(s,r,o,u){return s.baseState=o,wf(s,Ye,typeof u=="function"?u:Vs)}function vj(s,r,o,u,m){if(tu(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};U.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,H0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function H0(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var p=U.T,w={};U.T=w;try{var E=o(m,u),R=U.S;R!==null&&R(w,E),G0(s,r,E)}catch(P){Ef(s,r,P)}finally{p!==null&&w.types!==null&&(p.types=w.types),U.T=p}}else try{p=o(m,u),G0(s,r,p)}catch(P){Ef(s,r,P)}}function G0(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){K0(s,r,u)},function(u){return Ef(s,r,u)}):K0(s,r,o)}function K0(s,r,o){r.status="fulfilled",r.value=o,W0(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,H0(s,o)))}function Ef(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,W0(r),r=r.next;while(r!==u)}s.action=null}function W0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Y0(s,r){return r}function X0(s,r){if(Be){var o=et.formState;if(o!==null){e:{var u=Oe;if(Be){if(st){t:{for(var m=st,p=Un;m.nodeType!==8;){if(!p){m=null;break t}if(m=zn(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){st=zn(m.nextSibling),u=m.data==="F!";break e}}fi(u)}u=!1}u&&(r=o[0])}}return o=Zt(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:r},o.queue=u,o=pb.bind(null,Oe,u),u.dispatch=o,u=Tf(!1),p=Of.bind(null,Oe,!1,u.queue),u=Zt(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=vj.bind(null,Oe,m,p,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function Q0(s){var r=bt();return J0(r,Ye,s)}function J0(s,r,o){if(r=wf(s,r,Y0)[0],s=Jc(Vs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ko(r)}catch(w){throw w===ma?$c:w}else u=r;r=bt();var m=r.queue,p=m.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,ba(9,{destroy:void 0},bj.bind(null,m,o),null)),[u,p,s]}function bj(s,r){s.action=r}function Z0(s){var r=bt(),o=Ye;if(o!==null)return J0(r,o,s);bt(),r=r.memoizedState,o=bt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function ba(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Xc(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function eb(){return bt().memoizedState}function Zc(s,r,o,u){var m=Zt();Oe.flags|=s,m.memoizedState=ba(1|r,{destroy:void 0},o,u===void 0?null:u)}function eu(s,r,o,u){var m=bt();u=u===void 0?null:u;var p=m.memoizedState.inst;Ye!==null&&u!==null&&pf(u,Ye.memoizedState.deps)?m.memoizedState=ba(r,p,o,u):(Oe.flags|=s,m.memoizedState=ba(1|r,p,o,u))}function tb(s,r){Zc(8390656,8,s,r)}function xf(s,r){eu(2048,8,s,r)}function _j(s){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Xc(),Oe.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function nb(s){var r=bt().memoizedState;return _j({ref:r,nextImpl:s}),function(){if((qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function sb(s,r){return eu(4,2,s,r)}function ib(s,r){return eu(4,4,s,r)}function rb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ab(s,r,o){o=o!=null?o.concat([s]):null,eu(4,4,rb.bind(null,r,s),o)}function Cf(){}function ob(s,r){var o=bt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&pf(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function lb(s,r){var o=bt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&pf(r,u[1]))return u[0];if(u=s(),pr){Ds(!0);try{s()}finally{Ds(!1)}}return o.memoizedState=[u,r],u}function Af(s,r,o){return o===void 0||(zs&1073741824)!==0&&(Le&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=c_(),Oe.lanes|=s,Si|=s,o)}function cb(s,r,o,u){return _n(o,r)?o:ga.current!==null?(s=Af(s,o,u),_n(s,r)||(Tt=!0),s):(zs&42)===0||(zs&1073741824)!==0&&(Le&261930)===0?(Tt=!0,s.memoizedState=o):(s=c_(),Oe.lanes|=s,Si|=s,r)}function ub(s,r,o,u,m){var p=Y.p;Y.p=p!==0&&8>p?p:8;var w=U.T,E={};U.T=E,Of(s,!1,r,o);try{var R=m(),P=U.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=pj(R,u);Wo(s,r,q,Cn(s))}else Wo(s,r,u,Cn(s))}catch(W){Wo(s,r,{then:function(){},status:"rejected",reason:W},Cn())}finally{Y.p=p,w!==null&&E.types!==null&&(w.types=E.types),U.T=w}}function wj(){}function kf(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=db(s).queue;ub(s,m,r,re,o===null?wj:function(){return hb(s),o(u)})}function db(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:re},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function hb(s){var r=db(s);r.next===null&&(r=s.alternate.memoizedState),Wo(s,r.next.queue,{},Cn())}function jf(){return Ut(dl)}function fb(){return bt().memoizedState}function mb(){return bt().memoizedState}function Sj(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Cn();s=gi(o);var u=yi(r,s,o);u!==null&&(hn(u,r,o),Fo(u,r,o)),r={cache:sf()},s.payload=r;return}r=r.return}}function Tj(s,r,o){var u=Cn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tu(s)?gb(r,o):(o=Gh(s,r,o,u),o!==null&&(hn(o,s,u),yb(o,r,u)))}function pb(s,r,o){var u=Cn();Wo(s,r,o,u)}function Wo(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(tu(s))gb(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var w=r.lastRenderedState,E=p(w,o);if(m.hasEagerState=!0,m.eagerState=E,_n(E,w))return Mc(s,r,m,0),et===null&&Ic(),!1}catch{}finally{}if(o=Gh(s,r,m,u),o!==null)return hn(o,s,u),yb(o,r,u),!0}return!1}function Of(s,r,o,u){if(u={lane:2,revertLane:lm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tu(s)){if(r)throw Error(i(479))}else r=Gh(s,o,u,2),r!==null&&hn(r,s,2)}function tu(s){var r=s.alternate;return s===Oe||r!==null&&r===Oe}function gb(s,r){ya=Wc=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function yb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Sv(s,o)}}var Yo={readContext:Ut,use:Qc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Yo.useEffectEvent=mt;var vb={readContext:Ut,use:Qc,useCallback:function(s,r){return Zt().memoizedState=[s,r===void 0?null:r],s},useContext:Ut,useEffect:tb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Zc(4194308,4,rb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Zc(4194308,4,s,r)},useInsertionEffect:function(s,r){Zc(4,2,s,r)},useMemo:function(s,r){var o=Zt();r=r===void 0?null:r;var u=s();if(pr){Ds(!0);try{s()}finally{Ds(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Zt();if(o!==void 0){var m=o(r);if(pr){Ds(!0);try{o(r)}finally{Ds(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=Tj.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var r=Zt();return s={current:s},r.memoizedState=s},useState:function(s){s=Tf(s);var r=s.queue,o=pb.bind(null,Oe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Cf,useDeferredValue:function(s,r){var o=Zt();return Af(o,s,r)},useTransition:function(){var s=Tf(!1);return s=ub.bind(null,Oe,s.queue,!0,!1),Zt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Oe,m=Zt();if(Be){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),et===null)throw Error(i(349));(Le&127)!==0||B0(u,r,o)}m.memoizedState=o;var p={value:o,getSnapshot:r};return m.queue=p,tb(V0.bind(null,u,p,s),[s]),u.flags|=2048,ba(9,{destroy:void 0},z0.bind(null,u,p,o,r),null),o},useId:function(){var s=Zt(),r=et.identifierPrefix;if(Be){var o=vs,u=ys;o=(u&~(1<<32-ft(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Yc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=gj++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:jf,useFormState:X0,useActionState:X0,useOptimistic:function(s){var r=Zt();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Of.bind(null,Oe,!0,o),o.dispatch=r,[s,r]},useMemoCache:_f,useCacheRefresh:function(){return Zt().memoizedState=Sj.bind(null,Oe)},useEffectEvent:function(s){var r=Zt(),o={impl:s};return r.memoizedState=o,function(){if((qe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Rf={readContext:Ut,use:Qc,useCallback:ob,useContext:Ut,useEffect:xf,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:lb,useReducer:Jc,useRef:eb,useState:function(){return Jc(Vs)},useDebugValue:Cf,useDeferredValue:function(s,r){var o=bt();return cb(o,Ye.memoizedState,s,r)},useTransition:function(){var s=Jc(Vs)[0],r=bt().memoizedState;return[typeof s=="boolean"?s:Ko(s),r]},useSyncExternalStore:U0,useId:fb,useHostTransitionStatus:jf,useFormState:Q0,useActionState:Q0,useOptimistic:function(s,r){var o=bt();return q0(o,Ye,s,r)},useMemoCache:_f,useCacheRefresh:mb};Rf.useEffectEvent=nb;var bb={readContext:Ut,use:Qc,useCallback:ob,useContext:Ut,useEffect:xf,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:lb,useReducer:Sf,useRef:eb,useState:function(){return Sf(Vs)},useDebugValue:Cf,useDeferredValue:function(s,r){var o=bt();return Ye===null?Af(o,s,r):cb(o,Ye.memoizedState,s,r)},useTransition:function(){var s=Sf(Vs)[0],r=bt().memoizedState;return[typeof s=="boolean"?s:Ko(s),r]},useSyncExternalStore:U0,useId:fb,useHostTransitionStatus:jf,useFormState:Z0,useActionState:Z0,useOptimistic:function(s,r){var o=bt();return Ye!==null?q0(o,Ye,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:_f,useCacheRefresh:mb};bb.useEffectEvent=nb;function Df(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Nf={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Cn(),m=gi(u);m.payload=r,o!=null&&(m.callback=o),r=yi(s,m,u),r!==null&&(hn(r,s,u),Fo(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Cn(),m=gi(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=yi(s,m,u),r!==null&&(hn(r,s,u),Fo(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Cn(),u=gi(o);u.tag=2,r!=null&&(u.callback=r),r=yi(s,u,o),r!==null&&(hn(r,s,o),Fo(r,s,o))}};function _b(s,r,o,u,m,p,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,w):r.prototype&&r.prototype.isPureReactComponent?!Mo(o,u)||!Mo(m,p):!0}function wb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Nf.enqueueReplaceState(r,r.state,null)}function gr(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function Sb(s){Nc(s)}function Tb(s){console.error(s)}function Eb(s){Nc(s)}function nu(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function xb(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function If(s,r,o){return o=gi(o),o.tag=3,o.payload={element:null},o.callback=function(){nu(s,r)},o}function Cb(s){return s=gi(s),s.tag=3,s}function Ab(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){xb(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){xb(r,o,u),typeof m!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function Ej(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&da(r,o,m,!0),o=Sn.current,o!==null){switch(o.tag){case 31:case 13:return Bn===null?mu():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Fc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),rm(s,u,m)),!1;case 22:return o.flags|=65536,u===Fc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),rm(s,u,m)),!1}throw Error(i(435,o.tag))}return rm(s,u,m),mu(),!1}if(Be)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Jh&&(s=Error(i(422),{cause:u}),Uo(Mn(s,o)))):(u!==Jh&&(r=Error(i(423),{cause:u}),Uo(Mn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Mn(u,o),m=If(s.stateNode,u,m),uf(s,m),pt!==4&&(pt=2)),!1;var p=Error(i(520),{cause:u});if(p=Mn(p,o),sl===null?sl=[p]:sl.push(p),pt!==4&&(pt=2),r===null)return!0;u=Mn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=If(o.stateNode,u,s),uf(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ti===null||!Ti.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Cb(m),Ab(m,s,o,u),uf(o,m),!1}o=o.return}while(o!==null);return!1}var Mf=Error(i(461)),Tt=!1;function Bt(s,r,o,u){r.child=s===null?R0(r,null,o,u):mr(r,s.child,o,u)}function kb(s,r,o,u,m){o=o.render;var p=r.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return ur(r),u=gf(s,r,o,w,p,m),E=yf(),s!==null&&!Tt?(vf(s,r,m),$s(s,r,m)):(Be&&E&&Xh(r),r.flags|=1,Bt(s,r,u,m),r.child)}function jb(s,r,o,u,m){if(s===null){var p=o.type;return typeof p=="function"&&!Kh(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Ob(s,r,p,u,m)):(s=Pc(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Ff(s,m)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Mo,o(w,u)&&s.ref===r.ref)return $s(s,r,m)}return r.flags|=1,s=Ls(p,u),s.ref=r.ref,s.return=r,r.child=s}function Ob(s,r,o,u,m){if(s!==null){var p=s.memoizedProps;if(Mo(p,u)&&s.ref===r.ref)if(Tt=!1,r.pendingProps=u=p,Ff(s,m))(s.flags&131072)!==0&&(Tt=!0);else return r.lanes=s.lanes,$s(s,r,m)}return Lf(s,r,o,u,m)}function Rb(s,r,o,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return Db(s,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vc(r,p!==null?p.cachePool:null),p!==null?I0(r,p):hf(),M0(r);else return u=r.lanes=536870912,Db(s,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Vc(r,p.cachePool),I0(r,p),bi(),r.memoizedState=null):(s!==null&&Vc(r,null),hf(),bi());return Bt(s,r,m,o),r.child}function Xo(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Db(s,r,o,u,m){var p=af();return p=p===null?null:{parent:wt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&Vc(r,null),hf(),M0(r),s!==null&&da(s,r,u,!0),r.childLanes=m,null}function su(s,r){return r=ru({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Nb(s,r,o){return mr(r,s.child,null,o),s=su(r,r.pendingProps),s.flags|=2,Tn(r),r.memoizedState=null,s}function xj(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Be){if(u.mode==="hidden")return s=su(r,u),r.lanes=536870912,Xo(null,s);if(mf(r),(s=st)?(s=H_(s,Un),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:di!==null?{id:ys,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=g0(s),o.return=r,r.child=o,Pt=r,st=null)):s=null,s===null)throw fi(r);return r.lanes=536870912,null}return su(r,u)}var p=s.memoizedState;if(p!==null){var w=p.dehydrated;if(mf(r),m)if(r.flags&256)r.flags&=-257,r=Nb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Tt||da(s,r,o,!1),m=(o&s.childLanes)!==0,Tt||m){if(u=et,u!==null&&(w=Tv(u,o),w!==0&&w!==p.retryLane))throw p.retryLane=w,ar(s,w),hn(u,s,w),Mf;mu(),r=Nb(s,r,o)}else s=p.treeContext,st=zn(w.nextSibling),Pt=r,Be=!0,hi=null,Un=!1,s!==null&&b0(r,s),r=su(r,u),r.flags|=4096;return r}return s=Ls(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function iu(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Lf(s,r,o,u,m){return ur(r),o=gf(s,r,o,u,void 0,m),u=yf(),s!==null&&!Tt?(vf(s,r,m),$s(s,r,m)):(Be&&u&&Xh(r),r.flags|=1,Bt(s,r,o,m),r.child)}function Ib(s,r,o,u,m,p){return ur(r),r.updateQueue=null,o=P0(r,u,o,m),L0(s),u=yf(),s!==null&&!Tt?(vf(s,r,p),$s(s,r,p)):(Be&&u&&Xh(r),r.flags|=1,Bt(s,r,o,p),r.child)}function Mb(s,r,o,u,m){if(ur(r),r.stateNode===null){var p=oa,w=o.contextType;typeof w=="object"&&w!==null&&(p=Ut(w)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},lf(r),w=o.contextType,p.context=typeof w=="object"&&w!==null?Ut(w):oa,p.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Df(r,o,w,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Nf.enqueueReplaceState(p,p.state,null),Ho(r,u,p,m),qo(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var E=r.memoizedProps,R=gr(o,E);p.props=R;var P=p.context,q=o.contextType;w=oa,typeof q=="object"&&q!==null&&(w=Ut(q));var W=o.getDerivedStateFromProps;q=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||P!==w)&&wb(r,p,u,w),pi=!1;var B=r.memoizedState;p.state=B,Ho(r,u,p,m),qo(),P=r.memoizedState,E||B!==P||pi?(typeof W=="function"&&(Df(r,o,W,u),P=r.memoizedState),(R=pi||_b(r,o,R,u,B,P,w))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),p.props=u,p.state=P,p.context=w,u=R):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,cf(s,r),w=r.memoizedProps,q=gr(o,w),p.props=q,W=r.pendingProps,B=p.context,P=o.contextType,R=oa,typeof P=="object"&&P!==null&&(R=Ut(P)),E=o.getDerivedStateFromProps,(P=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==W||B!==R)&&wb(r,p,u,R),pi=!1,B=r.memoizedState,p.state=B,Ho(r,u,p,m),qo();var F=r.memoizedState;w!==W||B!==F||pi||s!==null&&s.dependencies!==null&&Bc(s.dependencies)?(typeof E=="function"&&(Df(r,o,E,u),F=r.memoizedState),(q=pi||_b(r,o,q,u,B,F,R)||s!==null&&s.dependencies!==null&&Bc(s.dependencies))?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,F,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,F,R)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=F),p.props=u,p.state=F,p.context=R,u=q):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,iu(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=mr(r,s.child,null,m),r.child=mr(r,null,o,m)):Bt(s,r,o,m),r.memoizedState=p.state,s=r.child):s=$s(s,r,m),s}function Lb(s,r,o,u){return lr(),r.flags|=256,Bt(s,r,o,u),r.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(s){return{baseLanes:s,cachePool:x0()}}function Bf(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=xn),s}function Pb(s,r,o){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,w;if((w=p)||(w=s!==null&&s.memoizedState===null?!1:(vt.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Be){if(m?vi(r):bi(),(s=st)?(s=H_(s,Un),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:di!==null?{id:ys,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=g0(s),o.return=r,r.child=o,Pt=r,st=null)):s=null,s===null)throw fi(r);return wm(s)?r.lanes=32:r.lanes=536870912,null}var E=u.children;return u=u.fallback,m?(bi(),m=r.mode,E=ru({mode:"hidden",children:E},m),u=or(u,m,o,null),E.return=r,u.return=r,E.sibling=u,r.child=E,u=r.child,u.memoizedState=Uf(o),u.childLanes=Bf(s,w,o),r.memoizedState=Pf,Xo(null,u)):(vi(r),zf(r,E))}var R=s.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(p)r.flags&256?(vi(r),r.flags&=-257,r=Vf(s,r,o)):r.memoizedState!==null?(bi(),r.child=s.child,r.flags|=128,r=null):(bi(),E=u.fallback,m=r.mode,u=ru({mode:"visible",children:u.children},m),E=or(E,m,o,null),E.flags|=2,u.return=r,E.return=r,u.sibling=E,r.child=u,mr(r,s.child,null,o),u=r.child,u.memoizedState=Uf(o),u.childLanes=Bf(s,w,o),r.memoizedState=Pf,r=Xo(null,u));else if(vi(r),wm(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var P=w.dgst;w=P,u=Error(i(419)),u.stack="",u.digest=w,Uo({value:u,source:null,stack:null}),r=Vf(s,r,o)}else if(Tt||da(s,r,o,!1),w=(o&s.childLanes)!==0,Tt||w){if(w=et,w!==null&&(u=Tv(w,o),u!==0&&u!==R.retryLane))throw R.retryLane=u,ar(s,u),hn(w,s,u),Mf;_m(E)||mu(),r=Vf(s,r,o)}else _m(E)?(r.flags|=192,r.child=s.child,r=null):(s=R.treeContext,st=zn(E.nextSibling),Pt=r,Be=!0,hi=null,Un=!1,s!==null&&b0(r,s),r=zf(r,u.children),r.flags|=4096);return r}return m?(bi(),E=u.fallback,m=r.mode,R=s.child,P=R.sibling,u=Ls(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Ls(P,E):(E=or(E,m,o,null),E.flags|=2),E.return=r,u.return=r,u.sibling=E,r.child=u,Xo(null,u),u=r.child,E=s.child.memoizedState,E===null?E=Uf(o):(m=E.cachePool,m!==null?(R=wt._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=x0(),E={baseLanes:E.baseLanes|o,cachePool:m}),u.memoizedState=E,u.childLanes=Bf(s,w,o),r.memoizedState=Pf,Xo(s.child,u)):(vi(r),o=s.child,s=o.sibling,o=Ls(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function zf(s,r){return r=ru({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function ru(s,r){return s=wn(22,s,null,r),s.lanes=0,s}function Vf(s,r,o){return mr(r,s.child,null,o),s=zf(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Ub(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),tf(s.return,r,o)}function $f(s,r,o,u,m,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:p}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m,w.treeForkCount=p)}function Bb(s,r,o){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var w=vt.current,E=(w&2)!==0;if(E?(w=w&1|2,r.flags|=128):w&=1,oe(vt,w),Bt(s,r,u,o),u=Be?Po:0,!E&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ub(s,o,r);else if(s.tag===19)Ub(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Kc(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),$f(r,!1,m,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Kc(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}$f(r,!0,o,null,p,u);break;case"together":$f(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function $s(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Si|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(da(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ls(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ls(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Ff(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Bc(s)))}function Cj(s,r,o){switch(r.tag){case 3:jt(r,r.stateNode.containerInfo),mi(r,wt,s.memoizedState.cache),lr();break;case 27:case 5:Jt(r);break;case 4:jt(r,r.stateNode.containerInfo);break;case 10:mi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mf(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(vi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Pb(s,r,o):(vi(r),s=$s(s,r,o),s!==null?s.sibling:null);vi(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(da(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return Bb(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(vt,vt.current),u)break;return null;case 22:return r.lanes=0,Rb(s,r,o,r.pendingProps);case 24:mi(r,wt,s.memoizedState.cache)}return $s(s,r,o)}function zb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Tt=!0;else{if(!Ff(s,o)&&(r.flags&128)===0)return Tt=!1,Cj(s,r,o);Tt=(s.flags&131072)!==0}else Tt=!1,Be&&(r.flags&1048576)!==0&&v0(r,Po,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=hr(r.elementType),r.type=s,typeof s=="function")Kh(s)?(u=gr(s,u),r.tag=1,r=Mb(null,r,s,u,o)):(r.tag=0,r=Lf(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===M){r.tag=11,r=kb(null,r,s,u,o);break e}else if(m===z){r.tag=14,r=jb(null,r,s,u,o);break e}}throw r=ve(s)||s,Error(i(306,r,""))}}return r;case 0:return Lf(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=gr(u,r.pendingProps),Mb(s,r,u,m,o);case 3:e:{if(jt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,cf(s,r),Ho(r,u,null,o);var w=r.memoizedState;if(u=w.cache,mi(r,wt,u),u!==p.cache&&nf(r,[wt],o,!0),qo(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Lb(s,r,u,o);break e}else if(u!==m){m=Mn(Error(i(424)),r),Uo(m),r=Lb(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(st=zn(s.firstChild),Pt=r,Be=!0,hi=null,Un=!0,o=R0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(lr(),u===m){r=$s(s,r,o);break e}Bt(s,r,u,o)}r=r.child}return r;case 26:return iu(s,r),s===null?(o=Q_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,s=r.pendingProps,u=wu(Re.current).createElement(o),u[Lt]=r,u[an]=s,zt(u,o,s),Dt(u),r.stateNode=u):r.memoizedState=Q_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Jt(r),s===null&&Be&&(u=r.stateNode=W_(r.type,r.pendingProps,Re.current),Pt=r,Un=!0,m=st,Ai(r.type)?(Sm=m,st=zn(u.firstChild)):st=m),Bt(s,r,r.pendingProps.children,o),iu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Be&&((m=u=st)&&(u=nO(u,r.type,r.pendingProps,Un),u!==null?(r.stateNode=u,Pt=r,st=zn(u.firstChild),Un=!1,m=!0):m=!1),m||fi(r)),Jt(r),m=r.type,p=r.pendingProps,w=s!==null?s.memoizedProps:null,u=p.children,ym(m,p)?u=null:w!==null&&ym(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=gf(s,r,yj,null,null,o),dl._currentValue=m),iu(s,r),Bt(s,r,u,o),r.child;case 6:return s===null&&Be&&((s=o=st)&&(o=sO(o,r.pendingProps,Un),o!==null?(r.stateNode=o,Pt=r,st=null,s=!0):s=!1),s||fi(r)),null;case 13:return Pb(s,r,o);case 4:return jt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=mr(r,null,u,o):Bt(s,r,u,o),r.child;case 11:return kb(s,r,r.type,r.pendingProps,o);case 7:return Bt(s,r,r.pendingProps,o),r.child;case 8:return Bt(s,r,r.pendingProps.children,o),r.child;case 12:return Bt(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,mi(r,r.type,u.value),Bt(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,ur(r),m=Ut(m),u=u(m),r.flags|=1,Bt(s,r,u,o),r.child;case 14:return jb(s,r,r.type,r.pendingProps,o);case 15:return Ob(s,r,r.type,r.pendingProps,o);case 19:return Bb(s,r,o);case 31:return xj(s,r,o);case 22:return Rb(s,r,o,r.pendingProps);case 24:return ur(r),u=Ut(wt),s===null?(m=af(),m===null&&(m=et,p=sf(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),r.memoizedState={parent:u,cache:m},lf(r),mi(r,wt,m)):((s.lanes&o)!==0&&(cf(s,r),Ho(r,null,null,o),qo()),m=s.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),mi(r,wt,u)):(u=p.cache,mi(r,wt,u),u!==m.cache&&nf(r,[wt],o,!0))),Bt(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Fs(s){s.flags|=4}function qf(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(f_())s.flags|=8192;else throw fr=Fc,of}else s.flags&=-16777217}function Vb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!n1(r))if(f_())s.flags|=8192;else throw fr=Fc,of}function au(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?_v():536870912,s.lanes|=r,Ta|=r)}function Qo(s,r){if(!Be)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function it(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function Aj(s,r,o){var u=r.pendingProps;switch(Qh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Bs(wt),ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ua(r)?Fs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zh())),it(r),null;case 26:var m=r.type,p=r.memoizedState;return s===null?(Fs(r),p!==null?(it(r),Vb(r,p)):(it(r),qf(r,m,null,u,o))):p?p!==s.memoizedState?(Fs(r),it(r),Vb(r,p)):(it(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Fs(r),it(r),qf(r,m,s,u,o)),null;case 27:if(gs(r),o=Re.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Fs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return it(r),null}s=ne.current,ua(r)?_0(r):(s=W_(m,u,o),r.stateNode=s,Fs(r))}return it(r),null;case 5:if(gs(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Fs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return it(r),null}if(p=ne.current,ua(r))_0(r);else{var w=wu(Re.current);switch(p){case 1:p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=w.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}p[Lt]=r,p[an]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)p.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=p;e:switch(zt(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fs(r)}}return it(r),qf(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Fs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,ua(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=Pt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Lt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||P_(s.nodeValue,o)),s||fi(r,!0)}else s=wu(s).createTextNode(u),s[Lt]=r,r.stateNode=s}return it(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=ua(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Lt]=r}else lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),s=!1}else o=Zh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Tn(r),r):(Tn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return it(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=ua(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Lt]=r}else lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),m=!1}else m=Zh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Tn(r),r):(Tn(r),null)}return Tn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),au(r,r.updateQueue),it(r),null);case 4:return ge(),s===null&&hm(r.stateNode.containerInfo),it(r),null;case 10:return Bs(r.type),it(r),null;case 19:if(H(vt),u=r.memoizedState,u===null)return it(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)Qo(u,!1);else{if(pt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Kc(s),p!==null){for(r.flags|=128,Qo(u,!1),s=p.updateQueue,r.updateQueue=s,au(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)p0(o,s),o=o.sibling;return oe(vt,vt.current&1|2),Be&&Ps(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&ce()>du&&(r.flags|=128,m=!0,Qo(u,!1),r.lanes=4194304)}else{if(!m)if(s=Kc(p),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,au(r,s),Qo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Be)return it(r),null}else 2*ce()-u.renderingStartTime>du&&o!==536870912&&(r.flags|=128,m=!0,Qo(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=ce(),s.sibling=null,o=vt.current,oe(vt,m?o&1|2:o&1),Be&&Ps(r,u.treeForkCount),s):(it(r),null);case 22:case 23:return Tn(r),ff(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),o=r.updateQueue,o!==null&&au(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&H(dr),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Bs(wt),it(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function kj(s,r){switch(Qh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Bs(wt),ge(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return gs(r),null;case 31:if(r.memoizedState!==null){if(Tn(r),r.alternate===null)throw Error(i(340));lr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Tn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));lr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return H(vt),null;case 4:return ge(),null;case 10:return Bs(r.type),null;case 22:case 23:return Tn(r),ff(),s!==null&&H(dr),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Bs(wt),null;case 25:return null;default:return null}}function $b(s,r){switch(Qh(r),r.tag){case 3:Bs(wt),ge();break;case 26:case 27:case 5:gs(r);break;case 4:ge();break;case 31:r.memoizedState!==null&&Tn(r);break;case 13:Tn(r);break;case 19:H(vt);break;case 10:Bs(r.type);break;case 22:case 23:Tn(r),ff(),s!==null&&H(dr);break;case 24:Bs(wt)}}function Jo(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var p=o.create,w=o.inst;u=p(),w.destroy=u}o=o.next}while(o!==m)}}catch(E){Ge(r,r.return,E)}}function _i(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,m=r;var R=o,P=E;try{P()}catch(q){Ge(m,R,q)}}}u=u.next}while(u!==p)}}catch(q){Ge(r,r.return,q)}}function Fb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{N0(r,o)}catch(u){Ge(s,s.return,u)}}}function qb(s,r,o){o.props=gr(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(s,r,u)}}function Zo(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){Ge(s,r,m)}}function bs(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Ge(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ge(s,r,m)}else o.current=null}function Hb(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Ge(s,s.return,m)}}function Hf(s,r,o){try{var u=s.stateNode;Xj(u,s.type,o,r),u[an]=r}catch(m){Ge(s,s.return,m)}}function Gb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ai(s.type)||s.tag===4}function Gf(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ai(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kf(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Is));else if(u!==4&&(u===27&&Ai(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Kf(s,r,o),s=s.sibling;s!==null;)Kf(s,r,o),s=s.sibling}function ou(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Ai(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(ou(s,r,o),s=s.sibling;s!==null;)ou(s,r,o),s=s.sibling}function Kb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);zt(r,u,o),r[Lt]=s,r[an]=o}catch(p){Ge(s,s.return,p)}}var qs=!1,Et=!1,Wf=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function jj(s,r){if(s=s.containerInfo,pm=ku,s=a0(s),zh(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,E=-1,R=-1,P=0,q=0,W=s,B=null;t:for(;;){for(var F;W!==o||m!==0&&W.nodeType!==3||(E=w+m),W!==p||u!==0&&W.nodeType!==3||(R=w+u),W.nodeType===3&&(w+=W.nodeValue.length),(F=W.firstChild)!==null;)B=W,W=F;for(;;){if(W===s)break t;if(B===o&&++P===m&&(E=w),B===p&&++q===u&&(R=w),(F=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=F}o=E===-1||R===-1?null:{start:E,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(gm={focusedElem:s,selectionRange:o},ku=!1,Nt=r;Nt!==null;)if(r=Nt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Nt=s;else for(;Nt!==null;){switch(r=Nt,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,m=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ue=gr(o.type,m);s=u.getSnapshotBeforeUpdate(ue,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(be){Ge(o,o.return,be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)bm(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":bm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Nt=s;break}Nt=r.return}}function Yb(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gs(s,o),u&4&&Jo(5,o);break;case 1:if(Gs(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){Ge(o,o.return,w)}else{var m=gr(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){Ge(o,o.return,w)}}u&64&&Fb(o),u&512&&Zo(o,o.return);break;case 3:if(Gs(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{N0(s,r)}catch(w){Ge(o,o.return,w)}}break;case 27:r===null&&u&4&&Kb(o);case 26:case 5:Gs(s,o),r===null&&u&4&&Hb(o),u&512&&Zo(o,o.return);break;case 12:Gs(s,o);break;case 31:Gs(s,o),u&4&&Jb(s,o);break;case 13:Gs(s,o),u&4&&Zb(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=Uj.bind(null,o),iO(s,o))));break;case 22:if(u=o.memoizedState!==null||qs,!u){r=r!==null&&r.memoizedState!==null||Et,m=qs;var p=Et;qs=u,(Et=r)&&!p?Ks(s,o,(o.subtreeFlags&8772)!==0):Gs(s,o),qs=m,Et=p}break;case 30:break;default:Gs(s,o)}}function Xb(s){var r=s.alternate;r!==null&&(s.alternate=null,Xb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Th(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ot=null,ln=!1;function Hs(s,r,o){for(o=o.child;o!==null;)Qb(s,r,o),o=o.sibling}function Qb(s,r,o){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ze,o)}catch{}switch(o.tag){case 26:Et||bs(o,r),Hs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||bs(o,r);var u=ot,m=ln;Ai(o.type)&&(ot=o.stateNode,ln=!1),Hs(s,r,o),ll(o.stateNode),ot=u,ln=m;break;case 5:Et||bs(o,r);case 6:if(u=ot,m=ln,ot=null,Hs(s,r,o),ot=u,ln=m,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(p){Ge(o,r,p)}else try{ot.removeChild(o.stateNode)}catch(p){Ge(o,r,p)}break;case 18:ot!==null&&(ln?(s=ot,F_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ra(s)):F_(ot,o.stateNode));break;case 4:u=ot,m=ln,ot=o.stateNode.containerInfo,ln=!0,Hs(s,r,o),ot=u,ln=m;break;case 0:case 11:case 14:case 15:_i(2,o,r),Et||_i(4,o,r),Hs(s,r,o);break;case 1:Et||(bs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&qb(o,r,u)),Hs(s,r,o);break;case 21:Hs(s,r,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,Hs(s,r,o),Et=u;break;default:Hs(s,r,o)}}function Jb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ra(s)}catch(o){Ge(r,r.return,o)}}}function Zb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ra(s)}catch(o){Ge(r,r.return,o)}}function Oj(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Wb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Wb),r;default:throw Error(i(435,s.tag))}}function lu(s,r){var o=Oj(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=Bj.bind(null,s,u);u.then(m,m)}})}function cn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],p=s,w=r,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ai(E.type)){ot=E.stateNode,ln=!1;break e}break;case 5:ot=E.stateNode,ln=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(ot===null)throw Error(i(160));Qb(p,w,m),ot=null,ln=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e_(r,s),r=r.sibling}var ns=null;function e_(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:cn(r,s),un(s),u&4&&(_i(3,s,s.return),Jo(3,s),_i(5,s,s.return));break;case 1:cn(r,s),un(s),u&512&&(Et||o===null||bs(o,o.return)),u&64&&qs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=ns;if(cn(r,s),un(s),u&512&&(Et||o===null||bs(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Co]||p[Lt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),zt(p,u,o),p[Lt]=s,Dt(p),u=p;break e;case"link":var w=e1("link","href",m).get(u+(o.href||""));if(w){for(var E=0;E<w.length;E++)if(p=w[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(E,1);break t}}p=m.createElement(u),zt(p,u,o),m.head.appendChild(p);break;case"meta":if(w=e1("meta","content",m).get(u+(o.content||""))){for(E=0;E<w.length;E++)if(p=w[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(E,1);break t}}p=m.createElement(u),zt(p,u,o),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Lt]=s,Dt(p),u=p}s.stateNode=u}else t1(m,s.type,s.stateNode);else s.stateNode=Z_(m,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?t1(m,s.type,s.stateNode):Z_(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Hf(s,s.memoizedProps,o.memoizedProps)}break;case 27:cn(r,s),un(s),u&512&&(Et||o===null||bs(o,o.return)),o!==null&&u&4&&Hf(s,s.memoizedProps,o.memoizedProps);break;case 5:if(cn(r,s),un(s),u&512&&(Et||o===null||bs(o,o.return)),s.flags&32){m=s.stateNode;try{ea(m,"")}catch(ue){Ge(s,s.return,ue)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Hf(s,m,o!==null?o.memoizedProps:m)),u&1024&&(Wf=!0);break;case 6:if(cn(r,s),un(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ue){Ge(s,s.return,ue)}}break;case 3:if(Eu=null,m=ns,ns=Su(r.containerInfo),cn(r,s),ns=m,un(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ra(r.containerInfo)}catch(ue){Ge(s,s.return,ue)}Wf&&(Wf=!1,t_(s));break;case 4:u=ns,ns=Su(s.stateNode.containerInfo),cn(r,s),un(s),ns=u;break;case 12:cn(r,s),un(s);break;case 31:cn(r,s),un(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,lu(s,u)));break;case 13:cn(r,s),un(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(uu=ce()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,lu(s,u)));break;case 22:m=s.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,P=qs,q=Et;if(qs=P||m,Et=q||R,cn(r,s),Et=q,qs=P,un(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||R||qs||Et||yr(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){R=o=r;try{if(p=R.stateNode,m)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=R.stateNode;var W=R.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Ge(R,R.return,ue)}}}else if(r.tag===6){if(o===null){R=r;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(ue){Ge(R,R.return,ue)}}}else if(r.tag===18){if(o===null){R=r;try{var F=R.stateNode;m?q_(F,!0):q_(R.stateNode,!1)}catch(ue){Ge(R,R.return,ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lu(s,o))));break;case 19:cn(r,s),un(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,lu(s,u)));break;case 30:break;case 21:break;default:cn(r,s),un(s)}}function un(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Gb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,p=Gf(s);ou(s,p,m);break;case 5:var w=o.stateNode;o.flags&32&&(ea(w,""),o.flags&=-33);var E=Gf(s);ou(s,E,w);break;case 3:case 4:var R=o.stateNode.containerInfo,P=Gf(s);Kf(s,P,R);break;default:throw Error(i(161))}}catch(q){Ge(s,s.return,q)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function t_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;t_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Gs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yb(s,r.alternate,r),r=r.sibling}function yr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:_i(4,r,r.return),yr(r);break;case 1:bs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qb(r,r.return,o),yr(r);break;case 27:ll(r.stateNode);case 26:case 5:bs(r,r.return),yr(r);break;case 22:r.memoizedState===null&&yr(r);break;case 30:yr(r);break;default:yr(r)}s=s.sibling}}function Ks(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,p=r,w=p.flags;switch(p.tag){case 0:case 11:case 15:Ks(m,p,o),Jo(4,p);break;case 1:if(Ks(m,p,o),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(P){Ge(u,u.return,P)}if(u=p,m=u.updateQueue,m!==null){var E=u.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)D0(R[m],E)}catch(P){Ge(u,u.return,P)}}o&&w&64&&Fb(p),Zo(p,p.return);break;case 27:Kb(p);case 26:case 5:Ks(m,p,o),o&&u===null&&w&4&&Hb(p),Zo(p,p.return);break;case 12:Ks(m,p,o);break;case 31:Ks(m,p,o),o&&w&4&&Jb(m,p);break;case 13:Ks(m,p,o),o&&w&4&&Zb(m,p);break;case 22:p.memoizedState===null&&Ks(m,p,o),Zo(p,p.return);break;case 30:break;default:Ks(m,p,o)}r=r.sibling}}function Yf(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Bo(o))}function Xf(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Bo(s))}function ss(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n_(s,r,o,u),r=r.sibling}function n_(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:ss(s,r,o,u),m&2048&&Jo(9,r);break;case 1:ss(s,r,o,u);break;case 3:ss(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Bo(s)));break;case 12:if(m&2048){ss(s,r,o,u),s=r.stateNode;try{var p=r.memoizedProps,w=p.id,E=p.onPostCommit;typeof E=="function"&&E(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(R){Ge(r,r.return,R)}}else ss(s,r,o,u);break;case 31:ss(s,r,o,u);break;case 13:ss(s,r,o,u);break;case 23:break;case 22:p=r.stateNode,w=r.alternate,r.memoizedState!==null?p._visibility&2?ss(s,r,o,u):el(s,r):p._visibility&2?ss(s,r,o,u):(p._visibility|=2,_a(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Yf(w,r);break;case 24:ss(s,r,o,u),m&2048&&Xf(r.alternate,r);break;default:ss(s,r,o,u)}}function _a(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,w=r,E=o,R=u,P=w.flags;switch(w.tag){case 0:case 11:case 15:_a(p,w,E,R,m),Jo(8,w);break;case 23:break;case 22:var q=w.stateNode;w.memoizedState!==null?q._visibility&2?_a(p,w,E,R,m):el(p,w):(q._visibility|=2,_a(p,w,E,R,m)),m&&P&2048&&Yf(w.alternate,w);break;case 24:_a(p,w,E,R,m),m&&P&2048&&Xf(w.alternate,w);break;default:_a(p,w,E,R,m)}r=r.sibling}}function el(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:el(o,u),m&2048&&Yf(u.alternate,u);break;case 24:el(o,u),m&2048&&Xf(u.alternate,u);break;default:el(o,u)}r=r.sibling}}var tl=8192;function wa(s,r,o){if(s.subtreeFlags&tl)for(s=s.child;s!==null;)s_(s,r,o),s=s.sibling}function s_(s,r,o){switch(s.tag){case 26:wa(s,r,o),s.flags&tl&&s.memoizedState!==null&&gO(o,ns,s.memoizedState,s.memoizedProps);break;case 5:wa(s,r,o);break;case 3:case 4:var u=ns;ns=Su(s.stateNode.containerInfo),wa(s,r,o),ns=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=tl,tl=16777216,wa(s,r,o),tl=u):wa(s,r,o));break;default:wa(s,r,o)}}function i_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function nl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Nt=u,a_(u,s)}i_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r_(s),s=s.sibling}function r_(s){switch(s.tag){case 0:case 11:case 15:nl(s),s.flags&2048&&_i(9,s,s.return);break;case 3:nl(s);break;case 12:nl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,cu(s)):nl(s);break;default:nl(s)}}function cu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Nt=u,a_(u,s)}i_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:_i(8,r,r.return),cu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,cu(r));break;default:cu(r)}s=s.sibling}}function a_(s,r){for(;Nt!==null;){var o=Nt;switch(o.tag){case 0:case 11:case 15:_i(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Nt=u;else e:for(o=s;Nt!==null;){u=Nt;var m=u.sibling,p=u.return;if(Xb(u),u===o){Nt=null;break e}if(m!==null){m.return=p,Nt=m;break e}Nt=p}}}var Rj={getCacheForType:function(s){var r=Ut(wt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return Ut(wt).controller.signal}},Dj=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ie=null,Le=0,He=0,En=null,wi=!1,Sa=!1,Qf=!1,Ws=0,pt=0,Si=0,vr=0,Jf=0,xn=0,Ta=0,sl=null,dn=null,Zf=!1,uu=0,o_=0,du=1/0,hu=null,Ti=null,Ot=0,Ei=null,Ea=null,Ys=0,em=0,tm=null,l_=null,il=0,nm=null;function Cn(){return(qe&2)!==0&&Le!==0?Le&-Le:U.T!==null?lm():Ev()}function c_(){if(xn===0)if((Le&536870912)===0||Be){var s=_c;_c<<=1,(_c&3932160)===0&&(_c=262144),xn=s}else xn=536870912;return s=Sn.current,s!==null&&(s.flags|=32),xn}function hn(s,r,o){(s===et&&(He===2||He===9)||s.cancelPendingCommit!==null)&&(xa(s,0),xi(s,Le,xn,!1)),xo(s,o),((qe&2)===0||s!==et)&&(s===et&&((qe&2)===0&&(vr|=o),pt===4&&xi(s,Le,xn,!1)),_s(s))}function u_(s,r,o){if((qe&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||Eo(s,r),m=u?Mj(s,r):im(s,r,!0),p=u;do{if(m===0){Sa&&!u&&xi(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!Nj(o)){m=im(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var E=s;m=sl;var R=E.current.memoizedState.isDehydrated;if(R&&(xa(E,w).flags|=256),w=im(E,w,!1),w!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=p,vr|=p,m=4;break e}p=dn,dn=m,p!==null&&(dn===null?dn=p:dn.push.apply(dn,p))}m=w}if(p=!1,m!==2)continue}}if(m===1){xa(s,0),xi(s,r,0,!0);break}e:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:xi(u,r,xn,!wi);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=uu+300-ce(),10<m)){if(xi(u,r,xn,!wi),Sc(u,0,!0)!==0)break e;Ys=r,u.timeoutHandle=V_(d_.bind(null,u,o,dn,hu,Zf,r,xn,vr,Ta,wi,p,"Throttled",-0,0),m);break e}d_(u,o,dn,hu,Zf,r,xn,vr,Ta,wi,p,null,-0,0)}}break}while(!0);_s(s)}function d_(s,r,o,u,m,p,w,E,R,P,q,W,B,F){if(s.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Is},s_(r,p,W);var ue=(p&62914560)===p?uu-ce():(p&4194048)===p?o_-ce():0;if(ue=yO(W,ue),ue!==null){Ys=p,s.cancelPendingCommit=ue(b_.bind(null,s,r,p,o,u,m,w,E,R,q,W,null,B,F)),xi(s,p,w,!P);return}}b_(s,r,p,o,u,m,w,E,R)}function Nj(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],p=m.getSnapshot;m=m.value;try{if(!_n(p(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xi(s,r,o,u){r&=~Jf,r&=~vr,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var p=31-ft(m),w=1<<p;u[p]=-1,m&=~w}o!==0&&wv(s,o,r)}function fu(){return(qe&6)===0?(rl(0),!1):!0}function sm(){if(Ie!==null){if(He===0)var s=Ie.return;else s=Ie,Us=cr=null,bf(s),pa=null,Vo=0,s=Ie;for(;s!==null;)$b(s.alternate,s),s=s.return;Ie=null}}function xa(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,Zj(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ys=0,sm(),et=s,Ie=o=Ls(s.current,null),Le=r,He=0,En=null,wi=!1,Sa=Eo(s,r),Qf=!1,Ta=xn=Jf=vr=Si=pt=0,dn=sl=null,Zf=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-ft(u),p=1<<m;r|=s[m],u&=~p}return Ws=r,Ic(),o}function h_(s,r){Oe=null,U.H=Yo,r===ma||r===$c?(r=k0(),He=3):r===of?(r=k0(),He=4):He=r===Mf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Ie===null&&(pt=1,nu(s,Mn(r,s.current)))}function f_(){var s=Sn.current;return s===null?!0:(Le&4194048)===Le?Bn===null:(Le&62914560)===Le||(Le&536870912)!==0?s===Bn:!1}function m_(){var s=U.H;return U.H=Yo,s===null?Yo:s}function p_(){var s=U.A;return U.A=Rj,s}function mu(){pt=4,wi||(Le&4194048)!==Le&&Sn.current!==null||(Sa=!0),(Si&134217727)===0&&(vr&134217727)===0||et===null||xi(et,Le,xn,!1)}function im(s,r,o){var u=qe;qe|=2;var m=m_(),p=p_();(et!==s||Le!==r)&&(hu=null,xa(s,r)),r=!1;var w=pt;e:do try{if(He!==0&&Ie!==null){var E=Ie,R=En;switch(He){case 8:sm(),w=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var P=He;if(He=0,En=null,Ca(s,E,R,P),o&&Sa){w=0;break e}break;default:P=He,He=0,En=null,Ca(s,E,R,P)}}Ij(),w=pt;break}catch(q){h_(s,q)}while(!0);return r&&s.shellSuspendCounter++,Us=cr=null,qe=u,U.H=m,U.A=p,Ie===null&&(et=null,Le=0,Ic()),w}function Ij(){for(;Ie!==null;)g_(Ie)}function Mj(s,r){var o=qe;qe|=2;var u=m_(),m=p_();et!==s||Le!==r?(hu=null,du=ce()+500,xa(s,r)):Sa=Eo(s,r);e:do try{if(He!==0&&Ie!==null){r=Ie;var p=En;t:switch(He){case 1:He=0,En=null,Ca(s,r,p,1);break;case 2:case 9:if(C0(p)){He=0,En=null,y_(r);break}r=function(){He!==2&&He!==9||et!==s||(He=7),_s(s)},p.then(r,r);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:C0(p)?(He=0,En=null,y_(r)):(He=0,En=null,Ca(s,r,p,7));break;case 5:var w=null;switch(Ie.tag){case 26:w=Ie.memoizedState;case 5:case 27:var E=Ie;if(w?n1(w):E.stateNode.complete){He=0,En=null;var R=E.sibling;if(R!==null)Ie=R;else{var P=E.return;P!==null?(Ie=P,pu(P)):Ie=null}break t}}He=0,En=null,Ca(s,r,p,5);break;case 6:He=0,En=null,Ca(s,r,p,6);break;case 8:sm(),pt=6;break e;default:throw Error(i(462))}}Lj();break}catch(q){h_(s,q)}while(!0);return Us=cr=null,U.H=u,U.A=m,qe=o,Ie!==null?0:(et=null,Le=0,Ic(),pt)}function Lj(){for(;Ie!==null&&!le();)g_(Ie)}function g_(s){var r=zb(s.alternate,s,Ws);s.memoizedProps=s.pendingProps,r===null?pu(s):Ie=r}function y_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Ib(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Ib(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:bf(r);default:$b(o,r),r=Ie=p0(r,Ws),r=zb(o,r,Ws)}s.memoizedProps=s.pendingProps,r===null?pu(s):Ie=r}function Ca(s,r,o,u){Us=cr=null,bf(r),pa=null,Vo=0;var m=r.return;try{if(Ej(s,m,r,o,Le)){pt=1,nu(s,Mn(o,s.current)),Ie=null;return}}catch(p){if(m!==null)throw Ie=m,p;pt=1,nu(s,Mn(o,s.current)),Ie=null;return}r.flags&32768?(Be||u===1?s=!0:Sa||(Le&536870912)!==0?s=!1:(wi=s=!0,(u===2||u===9||u===3||u===6)&&(u=Sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),v_(r,s)):pu(r)}function pu(s){var r=s;do{if((r.flags&32768)!==0){v_(r,wi);return}s=r.return;var o=Aj(r.alternate,r,Ws);if(o!==null){Ie=o;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=s}while(r!==null);pt===0&&(pt=5)}function v_(s,r){do{var o=kj(s.alternate,s);if(o!==null){o.flags&=32767,Ie=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ie=s;return}Ie=s=o}while(s!==null);pt=6,Ie=null}function b_(s,r,o,u,m,p,w,E,R){s.cancelPendingCommit=null;do gu();while(Ot!==0);if((qe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Hh,pk(s,o,p,w,E,R),s===et&&(Ie=et=null,Le=0),Ea=r,Ei=s,Ys=o,em=p,tm=m,l_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,zj(Mt,function(){return E_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,m=Y.p,Y.p=2,w=qe,qe|=4;try{jj(s,r,o)}finally{qe=w,Y.p=m,U.T=u}}Ot=1,__(),w_(),S_()}}function __(){if(Ot===1){Ot=0;var s=Ei,r=Ea,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=Y.p;Y.p=2;var m=qe;qe|=4;try{e_(r,s);var p=gm,w=a0(s.containerInfo),E=p.focusedElem,R=p.selectionRange;if(w!==E&&E&&E.ownerDocument&&r0(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var P=R.start,q=R.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var W=E.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var F=B.getSelection(),ue=E.textContent.length,be=Math.min(R.start,ue),Qe=R.end===void 0?be:Math.min(R.end,ue);!F.extend&&be>Qe&&(w=Qe,Qe=be,be=w);var I=i0(E,be),N=i0(E,Qe);if(I&&N&&(F.rangeCount!==1||F.anchorNode!==I.node||F.anchorOffset!==I.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var L=W.createRange();L.setStart(I.node,I.offset),F.removeAllRanges(),be>Qe?(F.addRange(L),F.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),F.addRange(L))}}}}for(W=[],F=E;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var G=W[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ku=!!pm,gm=pm=null}finally{qe=m,Y.p=u,U.T=o}}s.current=r,Ot=2}}function w_(){if(Ot===2){Ot=0;var s=Ei,r=Ea,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=Y.p;Y.p=2;var m=qe;qe|=4;try{Yb(s,r.alternate,r)}finally{qe=m,Y.p=u,U.T=o}}Ot=3}}function S_(){if(Ot===4||Ot===3){Ot=0,de();var s=Ei,r=Ea,o=Ys,u=l_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ot=5:(Ot=0,Ea=Ei=null,T_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ti=null),wh(o),r=r.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ze,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=U.T,m=Y.p,Y.p=2,U.T=null;try{for(var p=s.onRecoverableError,w=0;w<u.length;w++){var E=u[w];p(E.value,{componentStack:E.stack})}}finally{U.T=r,Y.p=m}}(Ys&3)!==0&&gu(),_s(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===nm?il++:(il=0,nm=s):il=0,rl(0)}}function T_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Bo(r)))}function gu(){return __(),w_(),S_(),E_()}function E_(){if(Ot!==5)return!1;var s=Ei,r=em;em=0;var o=wh(Ys),u=U.T,m=Y.p;try{Y.p=32>o?32:o,U.T=null,o=tm,tm=null;var p=Ei,w=Ys;if(Ot=0,Ea=Ei=null,Ys=0,(qe&6)!==0)throw Error(i(331));var E=qe;if(qe|=4,r_(p.current),n_(p,p.current,w,o),qe=E,rl(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ze,p)}catch{}return!0}finally{Y.p=m,U.T=u,T_(s,r)}}function x_(s,r,o){r=Mn(o,r),r=If(s.stateNode,r,2),s=yi(s,r,2),s!==null&&(xo(s,2),_s(s))}function Ge(s,r,o){if(s.tag===3)x_(s,s,o);else for(;r!==null;){if(r.tag===3){x_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ti===null||!Ti.has(u))){s=Mn(o,s),o=Cb(2),u=yi(r,o,2),u!==null&&(Ab(o,u,r,s),xo(u,2),_s(u));break}}r=r.return}}function rm(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new Dj;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(Qf=!0,m.add(o),s=Pj.bind(null,s,r,o),r.then(s,s))}function Pj(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,et===s&&(Le&o)===o&&(pt===4||pt===3&&(Le&62914560)===Le&&300>ce()-uu?(qe&2)===0&&xa(s,0):Jf|=o,Ta===Le&&(Ta=0)),_s(s)}function C_(s,r){r===0&&(r=_v()),s=ar(s,r),s!==null&&(xo(s,r),_s(s))}function Uj(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),C_(s,o)}function Bj(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),C_(s,o)}function zj(s,r){return wo(s,r)}var yu=null,Aa=null,am=!1,vu=!1,om=!1,Ci=0;function _s(s){s!==Aa&&s.next===null&&(Aa===null?yu=Aa=s:Aa=Aa.next=s),vu=!0,am||(am=!0,$j())}function rl(s,r){if(!om&&vu){om=!0;do for(var o=!1,u=yu;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var w=u.suspendedLanes,E=u.pingedLanes;p=(1<<31-ft(42|s)+1)-1,p&=m&~(w&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,O_(u,p))}else p=Le,p=Sc(u,u===et?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Eo(u,p)||(o=!0,O_(u,p));u=u.next}while(o);om=!1}}function Vj(){A_()}function A_(){vu=am=!1;var s=0;Ci!==0&&Jj()&&(s=Ci);for(var r=ce(),o=null,u=yu;u!==null;){var m=u.next,p=k_(u,r);p===0?(u.next=null,o===null?yu=m:o.next=m,m===null&&(Aa=o)):(o=u,(s!==0||(p&3)!==0)&&(vu=!0)),u=m}Ot!==0&&Ot!==5||rl(s),Ci!==0&&(Ci=0)}function k_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var w=31-ft(p),E=1<<w,R=m[w];R===-1?((E&o)===0||(E&u)!==0)&&(m[w]=mk(E,r)):R<=r&&(s.expiredLanes|=E),p&=~E}if(r=et,o=Le,o=Sc(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(He===2||He===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Q(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Eo(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Q(u),wh(o)){case 2:case 8:o=_t;break;case 32:o=Mt;break;case 268435456:o=rn;break;default:o=Mt}return u=j_.bind(null,s),o=wo(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Q(u),s.callbackPriority=2,s.callbackNode=null,2}function j_(s,r){if(Ot!==0&&Ot!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(gu()&&s.callbackNode!==o)return null;var u=Le;return u=Sc(s,s===et?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(u_(s,u,r),k_(s,ce()),s.callbackNode!=null&&s.callbackNode===o?j_.bind(null,s):null)}function O_(s,r){if(gu())return null;u_(s,r,!0)}function $j(){eO(function(){(qe&6)!==0?wo(yt,Vj):A_()})}function lm(){if(Ci===0){var s=ha;s===0&&(s=bc,bc<<=1,(bc&261888)===0&&(bc=256)),Ci=s}return Ci}function R_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Cc(""+s)}function D_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function Fj(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var p=R_((m[an]||null).action),w=u.submitter;w&&(r=(r=w[an]||null)?R_(r.formAction):w.getAttribute("formAction"),r!==null&&(p=r,w=null));var E=new Oc("action","action",null,u,m);s.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ci!==0){var R=w?D_(m,w):new FormData(m);kf(o,{pending:!0,data:R,method:m.method,action:p},null,R)}}else typeof p=="function"&&(E.preventDefault(),R=w?D_(m,w):new FormData(m),kf(o,{pending:!0,data:R,method:m.method,action:p},p,R))},currentTarget:m}]})}}for(var cm=0;cm<qh.length;cm++){var um=qh[cm],qj=um.toLowerCase(),Hj=um[0].toUpperCase()+um.slice(1);ts(qj,"on"+Hj)}ts(c0,"onAnimationEnd"),ts(u0,"onAnimationIteration"),ts(d0,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(oj,"onTransitionRun"),ts(lj,"onTransitionStart"),ts(cj,"onTransitionCancel"),ts(h0,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function N_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var w=u.length-1;0<=w;w--){var E=u[w],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=P;try{p(m)}catch(q){Nc(q)}m.currentTarget=null,p=R}else for(w=0;w<u.length;w++){if(E=u[w],R=E.instance,P=E.currentTarget,E=E.listener,R!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=P;try{p(m)}catch(q){Nc(q)}m.currentTarget=null,p=R}}}}function Me(s,r){var o=r[Sh];o===void 0&&(o=r[Sh]=new Set);var u=s+"__bubble";o.has(u)||(I_(r,s,2,!1),o.add(u))}function dm(s,r,o){var u=0;r&&(u|=4),I_(o,s,u,r)}var bu="_reactListening"+Math.random().toString(36).slice(2);function hm(s){if(!s[bu]){s[bu]=!0,Av.forEach(function(o){o!=="selectionchange"&&(Gj.has(o)||dm(o,!1,s),dm(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[bu]||(r[bu]=!0,dm("selectionchange",!1,r))}}function I_(s,r,o,u){switch(c1(r)){case 2:var m=_O;break;case 8:m=wO;break;default:m=Am}o=m.bind(null,r,o,s),m=void 0,!Rh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function fm(s,r,o,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===m)break;if(w===4)for(w=u.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;E!==null;){if(w=Yr(E),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){u=p=w;continue e}E=E.parentNode}}u=u.return}Bv(function(){var P=p,q=jh(o),W=[];e:{var B=f0.get(s);if(B!==void 0){var F=Oc,ue=s;switch(s){case"keypress":if(kc(o)===0)break e;case"keydown":case"keyup":F=Bk;break;case"focusin":ue="focus",F=Mh;break;case"focusout":ue="blur",F=Mh;break;case"beforeblur":case"afterblur":F=Mh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=$k;break;case c0:case u0:case d0:F=Ok;break;case h0:F=qk;break;case"scroll":case"scrollend":F=xk;break;case"wheel":F=Gk;break;case"copy":case"cut":case"paste":F=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qv;break;case"toggle":case"beforetoggle":F=Wk}var be=(r&4)!==0,Qe=!be&&(s==="scroll"||s==="scrollend"),I=be?B!==null?B+"Capture":null:B;be=[];for(var N=P,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||I===null||(G=ko(N,I),G!=null&&be.push(ol(N,G,L))),Qe)break;N=N.return}0<be.length&&(B=new F(B,ue,null,o,q),W.push({event:B,listeners:be}))}}if((r&7)===0){e:{if(B=s==="mouseover"||s==="pointerover",F=s==="mouseout"||s==="pointerout",B&&o!==kh&&(ue=o.relatedTarget||o.fromElement)&&(Yr(ue)||ue[Wr]))break e;if((F||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ue=o.relatedTarget||o.toElement,F=P,ue=ue?Yr(ue):null,ue!==null&&(Qe=l(ue),be=ue.tag,ue!==Qe||be!==5&&be!==27&&be!==6)&&(ue=null)):(F=null,ue=P),F!==ue)){if(be=$v,G="onMouseLeave",I="onMouseEnter",N="mouse",(s==="pointerout"||s==="pointerover")&&(be=qv,G="onPointerLeave",I="onPointerEnter",N="pointer"),Qe=F==null?B:Ao(F),L=ue==null?B:Ao(ue),B=new be(G,N+"leave",F,o,q),B.target=Qe,B.relatedTarget=L,G=null,Yr(q)===P&&(be=new be(I,N+"enter",ue,o,q),be.target=L,be.relatedTarget=Qe,G=be),Qe=G,F&&ue)t:{for(be=Kj,I=F,N=ue,L=0,G=I;G;G=be(G))L++;G=0;for(var ye=N;ye;ye=be(ye))G++;for(;0<L-G;)I=be(I),L--;for(;0<G-L;)N=be(N),G--;for(;L--;){if(I===N||N!==null&&I===N.alternate){be=I;break t}I=be(I),N=be(N)}be=null}else be=null;F!==null&&M_(W,B,F,be,!1),ue!==null&&Qe!==null&&M_(W,Qe,ue,be,!0)}}e:{if(B=P?Ao(P):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var $e=Jv;else if(Xv(B))if(Zv)$e=ij;else{$e=nj;var me=tj}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ah(P.elementType)&&($e=Jv):$e=sj;if($e&&($e=$e(s,P))){Qv(W,$e,o,q);break e}me&&me(s,B,P),s==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Ch(B,"number",B.value)}switch(me=P?Ao(P):window,s){case"focusin":(Xv(me)||me.contentEditable==="true")&&(ia=me,Vh=P,Lo=null);break;case"focusout":Lo=Vh=ia=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,o0(W,o,q);break;case"selectionchange":if(aj)break;case"keydown":case"keyup":o0(W,o,q)}var Ne;if(Ph)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else sa?Wv(s,o)&&(Pe="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Hv&&o.locale!=="ko"&&(sa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&sa&&(Ne=zv()):(ui=q,Dh="value"in ui?ui.value:ui.textContent,sa=!0)),me=_u(P,Pe),0<me.length&&(Pe=new Fv(Pe,s,null,o,q),W.push({event:Pe,listeners:me}),Ne?Pe.data=Ne:(Ne=Yv(o),Ne!==null&&(Pe.data=Ne)))),(Ne=Xk?Qk(s,o):Jk(s,o))&&(Pe=_u(P,"onBeforeInput"),0<Pe.length&&(me=new Fv("onBeforeInput","beforeinput",null,o,q),W.push({event:me,listeners:Pe}),me.data=Ne)),Fj(W,s,P,o,q)}N_(W,r)})}function ol(s,r,o){return{instance:s,listener:r,currentTarget:o}}function _u(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ko(s,o),m!=null&&u.unshift(ol(s,m,p)),m=ko(s,r),m!=null&&u.push(ol(s,m,p))),s.tag===3)return u;s=s.return}return[]}function Kj(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function M_(s,r,o,u,m){for(var p=r._reactName,w=[];o!==null&&o!==u;){var E=o,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===u)break;E!==5&&E!==26&&E!==27||P===null||(R=P,m?(P=ko(o,p),P!=null&&w.unshift(ol(o,P,R))):m||(P=ko(o,p),P!=null&&w.push(ol(o,P,R)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var Wj=/\r\n?/g,Yj=/\u0000|\uFFFD/g;function L_(s){return(typeof s=="string"?s:""+s).replace(Wj,`
`).replace(Yj,"")}function P_(s,r){return r=L_(r),L_(s)===r}function Xe(s,r,o,u,m,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ea(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ea(s,""+u);break;case"className":Ec(s,"class",u);break;case"tabIndex":Ec(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ec(s,o,u);break;case"style":Pv(s,u,p);break;case"data":if(r!=="object"){Ec(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Cc(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Xe(s,r,"name",m.name,m,null),Xe(s,r,"formEncType",m.formEncType,m,null),Xe(s,r,"formMethod",m.formMethod,m,null),Xe(s,r,"formTarget",m.formTarget,m,null)):(Xe(s,r,"encType",m.encType,m,null),Xe(s,r,"method",m.method,m,null),Xe(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Cc(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Is);break;case"onScroll":u!=null&&Me("scroll",s);break;case"onScrollEnd":u!=null&&Me("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Cc(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Me("beforetoggle",s),Me("toggle",s),Tc(s,"popover",u);break;case"xlinkActuate":Ns(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ns(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ns(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ns(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ns(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ns(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ns(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ns(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ns(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Tc(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tk.get(o)||o,Tc(s,o,u))}}function mm(s,r,o,u,m,p){switch(o){case"style":Pv(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?ea(s,u):(typeof u=="number"||typeof u=="bigint")&&ea(s,""+u);break;case"onScroll":u!=null&&Me("scroll",s);break;case"onScrollEnd":u!=null&&Me("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),p=s[an]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Tc(s,o,u)}}}function zt(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",s),Me("load",s);var u=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Xe(s,r,p,w,o,null)}}m&&Xe(s,r,"srcSet",o.srcSet,o,null),u&&Xe(s,r,"src",o.src,o,null);return;case"input":Me("invalid",s);var E=p=w=m=null,R=null,P=null;for(u in o)if(o.hasOwnProperty(u)){var q=o[u];if(q!=null)switch(u){case"name":m=q;break;case"type":w=q;break;case"checked":R=q;break;case"defaultChecked":P=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Xe(s,r,u,q,o,null)}}Nv(s,p,E,R,P,w,m,!1);return;case"select":Me("invalid",s),u=w=p=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":p=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:Xe(s,r,m,E,o,null)}r=p,o=w,s.multiple=!!u,r!=null?Zr(s,!!u,r,!1):o!=null&&Zr(s,!!u,o,!0);return;case"textarea":Me("invalid",s),p=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(E=o[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":m=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Xe(s,r,w,E,o,null)}Mv(s,u,m,p);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(s,r,R,u,o,null)}return;case"dialog":Me("beforetoggle",s),Me("toggle",s),Me("cancel",s),Me("close",s);break;case"iframe":case"object":Me("load",s);break;case"video":case"audio":for(u=0;u<al.length;u++)Me(al[u],s);break;case"image":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"embed":case"source":case"link":Me("error",s),Me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Xe(s,r,P,u,o,null)}return;default:if(Ah(r)){for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!==void 0&&mm(s,r,q,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&Xe(s,r,E,u,o,null))}function Xj(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,w=null,E=null,R=null,P=null,q=null;for(F in o){var W=o[F];if(o.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=W;default:u.hasOwnProperty(F)||Xe(s,r,F,null,u,W)}}for(var B in u){var F=u[B];if(W=o[B],u.hasOwnProperty(B)&&(F!=null||W!=null))switch(B){case"type":p=F;break;case"name":m=F;break;case"checked":P=F;break;case"defaultChecked":q=F;break;case"value":w=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:F!==W&&Xe(s,r,B,F,u,W)}}xh(s,w,E,R,P,q,p,m);return;case"select":F=w=E=B=null;for(p in o)if(R=o[p],o.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":F=R;default:u.hasOwnProperty(p)||Xe(s,r,p,null,u,R)}for(m in u)if(p=u[m],R=o[m],u.hasOwnProperty(m)&&(p!=null||R!=null))switch(m){case"value":B=p;break;case"defaultValue":E=p;break;case"multiple":w=p;default:p!==R&&Xe(s,r,m,p,u,R)}r=E,o=w,u=F,B!=null?Zr(s,!!o,B,!1):!!u!=!!o&&(r!=null?Zr(s,!!o,r,!0):Zr(s,!!o,o?[]:"",!1));return;case"textarea":F=B=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(s,r,E,null,u,m)}for(w in u)if(m=u[w],p=o[w],u.hasOwnProperty(w)&&(m!=null||p!=null))switch(w){case"value":B=m;break;case"defaultValue":F=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&Xe(s,r,w,m,u,p)}Iv(s,B,F);return;case"option":for(var ue in o)if(B=o[ue],o.hasOwnProperty(ue)&&B!=null&&!u.hasOwnProperty(ue))switch(ue){case"selected":s.selected=!1;break;default:Xe(s,r,ue,null,u,B)}for(R in u)if(B=u[R],F=o[R],u.hasOwnProperty(R)&&B!==F&&(B!=null||F!=null))switch(R){case"selected":s.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xe(s,r,R,B,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)B=o[be],o.hasOwnProperty(be)&&B!=null&&!u.hasOwnProperty(be)&&Xe(s,r,be,null,u,B);for(P in u)if(B=u[P],F=o[P],u.hasOwnProperty(P)&&B!==F&&(B!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:Xe(s,r,P,B,u,F)}return;default:if(Ah(r)){for(var Qe in o)B=o[Qe],o.hasOwnProperty(Qe)&&B!==void 0&&!u.hasOwnProperty(Qe)&&mm(s,r,Qe,void 0,u,B);for(q in u)B=u[q],F=o[q],!u.hasOwnProperty(q)||B===F||B===void 0&&F===void 0||mm(s,r,q,B,u,F);return}}for(var I in o)B=o[I],o.hasOwnProperty(I)&&B!=null&&!u.hasOwnProperty(I)&&Xe(s,r,I,null,u,B);for(W in u)B=u[W],F=o[W],!u.hasOwnProperty(W)||B===F||B==null&&F==null||Xe(s,r,W,B,u,F)}function U_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qj(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],p=m.transferSize,w=m.initiatorType,E=m.duration;if(p&&E&&U_(w)){for(w=0,E=m.responseEnd,u+=1;u<o.length;u++){var R=o[u],P=R.startTime;if(P>E)break;var q=R.transferSize,W=R.initiatorType;q&&U_(W)&&(R=R.responseEnd,w+=q*(R<E?1:(E-P)/(R-P)))}if(--u,r+=8*(p+w)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pm=null,gm=null;function wu(s){return s.nodeType===9?s:s.ownerDocument}function B_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ym(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function Jj(){var s=window.event;return s&&s.type==="popstate"?s===vm?!1:(vm=s,!0):(vm=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,Zj=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,eO=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(s){return $_.resolve(null).then(s).catch(tO)}:V_;function tO(s){setTimeout(function(){throw s})}function Ai(s){return s==="head"}function F_(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),Ra(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ll(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,ll(o);for(var p=o.firstChild;p;){var w=p.nextSibling,E=p.nodeName;p[Co]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=w}}else o==="body"&&ll(s.ownerDocument.body);o=m}while(o);Ra(r)}function q_(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function bm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bm(o),Th(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function nO(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Co])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=zn(s.nextSibling),s===null)break}return null}function sO(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=zn(s.nextSibling),s===null))return null;return s}function H_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=zn(s.nextSibling),s===null))return null;return s}function _m(s){return s.data==="$?"||s.data==="$~"}function wm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function iO(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function zn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Sm=null;function G_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return zn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function K_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function W_(s,r,o){switch(r=wu(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ll(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Th(s)}var Vn=new Map,Y_=new Set;function Su(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xs=Y.d;Y.d={f:rO,r:aO,D:oO,C:lO,L:cO,m:uO,X:hO,S:dO,M:fO};function rO(){var s=Xs.f(),r=fu();return s||r}function aO(s){var r=Xr(s);r!==null&&r.tag===5&&r.type==="form"?hb(r):Xs.r(s)}var ka=typeof document>"u"?null:document;function X_(s,r,o){var u=ka;if(u&&typeof r=="string"&&r){var m=Nn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Y_.has(m)||(Y_.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),zt(r,"link",s),Dt(r),u.head.appendChild(r)))}}function oO(s){Xs.D(s),X_("dns-prefetch",s,null)}function lO(s,r){Xs.C(s,r),X_("preconnect",s,r)}function cO(s,r,o){Xs.L(s,r,o);var u=ka;if(u&&s&&r){var m='link[rel="preload"][as="'+Nn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Nn(o.imageSizes)+'"]')):m+='[href="'+Nn(s)+'"]';var p=m;switch(r){case"style":p=ja(s);break;case"script":p=Oa(s)}Vn.has(p)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Vn.set(p,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(cl(p))||r==="script"&&u.querySelector(ul(p))||(r=u.createElement("link"),zt(r,"link",s),Dt(r),u.head.appendChild(r)))}}function uO(s,r){Xs.m(s,r);var o=ka;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Nn(u)+'"][href="'+Nn(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Oa(s)}if(!Vn.has(p)&&(s=v({rel:"modulepreload",href:s},r),Vn.set(p,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ul(p)))return}u=o.createElement("link"),zt(u,"link",s),Dt(u),o.head.appendChild(u)}}}function dO(s,r,o){Xs.S(s,r,o);var u=ka;if(u&&s){var m=Qr(u).hoistableStyles,p=ja(s);r=r||"default";var w=m.get(p);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(cl(p)))E.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Vn.get(p))&&Tm(s,o);var R=w=u.createElement("link");Dt(R),zt(R,"link",s),R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tu(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:E},m.set(p,w)}}}function hO(s,r){Xs.X(s,r);var o=ka;if(o&&s){var u=Qr(o).hoistableScripts,m=Oa(s),p=u.get(m);p||(p=o.querySelector(ul(m)),p||(s=v({src:s,async:!0},r),(r=Vn.get(m))&&Em(s,r),p=o.createElement("script"),Dt(p),zt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function fO(s,r){Xs.M(s,r);var o=ka;if(o&&s){var u=Qr(o).hoistableScripts,m=Oa(s),p=u.get(m);p||(p=o.querySelector(ul(m)),p||(s=v({src:s,async:!0,type:"module"},r),(r=Vn.get(m))&&Em(s,r),p=o.createElement("script"),Dt(p),zt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function Q_(s,r,o,u){var m=(m=Re.current)?Su(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ja(o.href),o=Qr(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=ja(o.href);var p=Qr(m).hoistableStyles,w=p.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,w),(p=m.querySelector(cl(s)))&&!p._p&&(w.instance=p,w.state.loading=5),Vn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vn.set(s,o),p||mO(m,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oa(o),o=Qr(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ja(s){return'href="'+Nn(s)+'"'}function cl(s){return'link[rel="stylesheet"]['+s+"]"}function J_(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function mO(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),zt(r,"link",o),Dt(r),s.head.appendChild(r))}function Oa(s){return'[src="'+Nn(s)+'"]'}function ul(s){return"script[async]"+s}function Z_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Nn(o.href)+'"]');if(u)return r.instance=u,Dt(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Dt(u),zt(u,"style",m),Tu(u,o.precedence,s),r.instance=u;case"stylesheet":m=ja(o.href);var p=s.querySelector(cl(m));if(p)return r.state.loading|=4,r.instance=p,Dt(p),p;u=J_(o),(m=Vn.get(m))&&Tm(u,m),p=(s.ownerDocument||s).createElement("link"),Dt(p);var w=p;return w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),zt(p,"link",u),r.state.loading|=4,Tu(p,o.precedence,s),r.instance=p;case"script":return p=Oa(o.src),(m=s.querySelector(ul(p)))?(r.instance=m,Dt(m),m):(u=o,(m=Vn.get(p))&&(u=v({},o),Em(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Dt(m),zt(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Tu(u,o.precedence,s));return r.instance}function Tu(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===r)p=E;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Tm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Em(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Eu=null;function e1(s,r,o){if(Eu===null){var u=new Map,m=Eu=new Map;m.set(o,u)}else m=Eu,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var p=o[m];if(!(p[Co]||p[Lt]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(r)||"";w=s+w;var E=u.get(w);E?E.push(p):u.set(w,[p])}}return u}function t1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function pO(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function n1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function gO(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ja(u.href),p=r.querySelector(cl(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=xu.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=p,Dt(p);return}p=r.ownerDocument||r,u=J_(u),(m=Vn.get(m))&&Tm(u,m),p=p.createElement("link"),Dt(p);var w=p;w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),zt(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=xu.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var xm=0;function yO(s,r){return s.stylesheets&&s.count===0&&Au(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Au(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&xm===0&&(xm=62500*Qj());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Au(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>xm?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Cu=null;function Au(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Cu=new Map,r.forEach(vO,s),Cu=null,xu.call(s))}function vO(s,r){if(!(r.state.loading&4)){var o=Cu.get(s);if(o)var u=o.get(null);else{o=new Map,Cu.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var w=m[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=r.instance,w=m.getAttribute("data-precedence"),p=o.get(w)||u,p===u&&o.set(null,m),o.set(w,m),this.count++,u=xu.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var dl={$$typeof:j,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function bO(s,r,o,u,m,p,w,E,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.hiddenUpdates=bh(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function s1(s,r,o,u,m,p,w,E,R,P,q,W){return s=new bO(s,r,o,w,R,P,q,W,E),r=1,p===!0&&(r|=24),p=wn(3,null,null,r),s.current=p,p.stateNode=s,r=sf(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},lf(p),s}function i1(s){return s?(s=oa,s):oa}function r1(s,r,o,u,m,p){m=i1(m),u.context===null?u.context=m:u.pendingContext=m,u=gi(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=yi(s,u,r),o!==null&&(hn(o,s,r),Fo(o,s,r))}function a1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Cm(s,r){a1(s,r),(s=s.alternate)&&a1(s,r)}function o1(s){if(s.tag===13||s.tag===31){var r=ar(s,67108864);r!==null&&hn(r,s,67108864),Cm(s,67108864)}}function l1(s){if(s.tag===13||s.tag===31){var r=Cn();r=_h(r);var o=ar(s,r);o!==null&&hn(o,s,r),Cm(s,r)}}var ku=!0;function _O(s,r,o,u){var m=U.T;U.T=null;var p=Y.p;try{Y.p=2,Am(s,r,o,u)}finally{Y.p=p,U.T=m}}function wO(s,r,o,u){var m=U.T;U.T=null;var p=Y.p;try{Y.p=8,Am(s,r,o,u)}finally{Y.p=p,U.T=m}}function Am(s,r,o,u){if(ku){var m=km(u);if(m===null)fm(s,r,u,ju,o),u1(s,u);else if(TO(m,s,r,o,u))u.stopPropagation();else if(u1(s,u),r&4&&-1<SO.indexOf(s)){for(;m!==null;){var p=Xr(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=tr(p.pendingLanes);if(w!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var R=1<<31-ft(w);E.entanglements[1]|=R,w&=~R}_s(p),(qe&6)===0&&(du=ce()+500,rl(0))}}break;case 31:case 13:E=ar(p,2),E!==null&&hn(E,p,2),fu(),Cm(p,2)}if(p=km(u),p===null&&fm(s,r,u,ju,o),p===m)break;m=p}m!==null&&u.stopPropagation()}else fm(s,r,u,null,o)}}function km(s){return s=jh(s),jm(s)}var ju=null;function jm(s){if(ju=null,s=Yr(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return ju=s,null}function c1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case yt:return 2;case _t:return 8;case Mt:case De:return 32;case rn:return 268435456;default:return 32}default:return 32}}var Om=!1,ki=null,ji=null,Oi=null,hl=new Map,fl=new Map,Ri=[],SO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u1(s,r){switch(s){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(r.pointerId)}}function ml(s,r,o,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Xr(r),r!==null&&o1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function TO(s,r,o,u,m){switch(r){case"focusin":return ki=ml(ki,s,r,o,u,m),!0;case"dragenter":return ji=ml(ji,s,r,o,u,m),!0;case"mouseover":return Oi=ml(Oi,s,r,o,u,m),!0;case"pointerover":var p=m.pointerId;return hl.set(p,ml(hl.get(p)||null,s,r,o,u,m)),!0;case"gotpointercapture":return p=m.pointerId,fl.set(p,ml(fl.get(p)||null,s,r,o,u,m)),!0}return!1}function d1(s){var r=Yr(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,xv(s.priority,function(){l1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,xv(s.priority,function(){l1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ou(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=km(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);kh=u,o.target.dispatchEvent(u),kh=null}else return r=Xr(o),r!==null&&o1(r),s.blockedOn=o,!1;r.shift()}return!0}function h1(s,r,o){Ou(s)&&o.delete(r)}function EO(){Om=!1,ki!==null&&Ou(ki)&&(ki=null),ji!==null&&Ou(ji)&&(ji=null),Oi!==null&&Ou(Oi)&&(Oi=null),hl.forEach(h1),fl.forEach(h1)}function Ru(s,r){s.blockedOn===r&&(s.blockedOn=null,Om||(Om=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EO)))}var Du=null;function f1(s){Du!==s&&(Du=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Du===s&&(Du=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(jm(u||o)===null)continue;break}var p=Xr(o);p!==null&&(s.splice(r,3),r-=3,kf(p,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Ra(s){function r(R){return Ru(R,s)}ki!==null&&Ru(ki,s),ji!==null&&Ru(ji,s),Oi!==null&&Ru(Oi,s),hl.forEach(r),fl.forEach(r);for(var o=0;o<Ri.length;o++){var u=Ri[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ri.length&&(o=Ri[0],o.blockedOn===null);)d1(o),o.blockedOn===null&&Ri.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],p=o[u+1],w=m[an]||null;if(typeof p=="function")w||f1(o);else if(w){var E=null;if(p&&p.hasAttribute("formAction")){if(m=p,w=p[an]||null)E=w.formAction;else if(jm(m)!==null)continue}else E=w.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),f1(o)}}}function m1(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Rm(s){this._internalRoot=s}Nu.prototype.render=Rm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Cn();r1(o,u,s,r,null,null)},Nu.prototype.unmount=Rm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;r1(s.current,2,null,s,null,null),fu(),r[Wr]=null}};function Nu(s){this._internalRoot=s}Nu.prototype.unstable_scheduleHydration=function(s){if(s){var r=Ev();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Ri.length&&r!==0&&r<Ri[o].priority;o++);Ri.splice(o,0,s),o===0&&d1(s)}};var p1=e.version;if(p1!=="19.2.1")throw Error(i(527,p1,"19.2.1"));Y.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var xO={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Ze=Iu.inject(xO),ct=Iu}catch{}}return gl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=Sb,p=Tb,w=Eb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=s1(s,1,!1,null,null,o,u,null,m,p,w,m1),s[Wr]=r.current,hm(s),new Rm(r)},gl.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",p=Sb,w=Tb,E=Eb,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(R=o.formState)),r=s1(s,1,!0,r,o??null,u,m,R,p,w,E,m1),r.context=i1(null),o=r.current,u=Cn(),u=_h(u),m=gi(u),m.callback=null,yi(o,m,u),o=u,r.current.lanes=o,xo(r,o),_s(r),s[Wr]=r.current,hm(s),new Nu(r)},gl.version="19.2.1",gl}var x1;function LO(){if(x1)return Im.exports;x1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=MO(),Im.exports}var PO=LO();const UO=qg(PO);/*! Capacitor: https://capacitorjs.com/ - MIT License */var so;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(so||(so={}));class Um extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const BO=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},zO=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},i=n.Plugins=n.Plugins||{},a=()=>e!==null?e.name:BO(t),l=()=>a()!=="web",c=v=>{const b=f.get(v);return!!(b!=null&&b.platforms.has(a())||d(v))},d=v=>{var b;return(b=n.PluginHeaders)===null||b===void 0?void 0:b.find(S=>S.name===v)},h=v=>t.console.error(v),f=new Map,y=(v,b={})=>{const S=f.get(v);if(S)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),S.proxy;const T=a(),x=d(v);let C;const k=async()=>(!C&&T in b?C=typeof b[T]=="function"?C=await b[T]():C=b[T]:e!==null&&!C&&"web"in b&&(C=typeof b.web=="function"?C=await b.web():C=b.web),C),O=(K,X)=>{var ee,se;if(x){const J=x==null?void 0:x.methods.find(ae=>X===ae.name);if(J)return J.rtype==="promise"?ae=>n.nativePromise(v,X.toString(),ae):(ae,ve)=>n.nativeCallback(v,X.toString(),ae,ve);if(K)return(ee=K[X])===null||ee===void 0?void 0:ee.bind(K)}else{if(K)return(se=K[X])===null||se===void 0?void 0:se.bind(K);throw new Um(`"${v}" plugin is not implemented on ${T}`,so.Unimplemented)}},j=K=>{let X;const ee=(...se)=>{const J=k().then(ae=>{const ve=O(ae,K);if(ve){const fe=ve(...se);return X=fe==null?void 0:fe.remove,fe}else throw new Um(`"${v}.${K}()" is not implemented on ${T}`,so.Unimplemented)});return K==="addListener"&&(J.remove=async()=>X()),J};return ee.toString=()=>`${K.toString()}() { [capacitor code] }`,Object.defineProperty(ee,"name",{value:K,writable:!1,configurable:!1}),ee},M=j("addListener"),V=j("removeListener"),$=(K,X)=>{const ee=M({eventName:K},X),se=async()=>{const ae=await ee;V({eventName:K,callbackId:ae},X)},J=new Promise(ae=>ee.then(()=>ae({remove:se})));return J.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await se()},J},z=new Proxy({},{get(K,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?$:M;case"removeListener":return V;default:return j(X)}}});return i[v]=z,f.set(v,{name:v,proxy:z,platforms:new Set([...Object.keys(b),...x?[T]:[]])}),z};return n.convertFileSrc||(n.convertFileSrc=v=>v),n.getPlatform=a,n.handleError=h,n.isNativePlatform=l,n.isPluginAvailable=c,n.registerPlugin=y,n.Exception=Um,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},VO=t=>t.Capacitor=zO(t),md=VO(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Gg=md.registerPlugin;class eE{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),i&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const a=this.listeners[e];if(!a){if(i){let l=this.retainedEventArguments[e];l||(l=[]),l.push(n),this.retainedEventArguments[e]=l}return}a.forEach(l=>l(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new md.Exception(e,so.Unimplemented)}unavailable(e="not available"){return new md.Exception(e,so.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const a=i.indexOf(n);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const C1=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),A1=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $O extends eE{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[a,l]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=A1(a).trim(),l=A1(l).trim(),n[a]=l}),n}async setCookie(e){try{const n=C1(e.key),i=C1(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,l=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${a}; path=${l}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Gg("CapacitorCookies",{web:()=>new $O});const FO=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const a=i.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},i.onerror=a=>n(a),i.readAsDataURL(t)}),qO=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,l,c)=>(a[l]=t[e[c]],a),{})},HO=(t,e=!0)=>t?Object.entries(t).reduce((i,a)=>{const[l,c]=a;let d,h;return Array.isArray(c)?(h="",c.forEach(f=>{d=e?encodeURIComponent(f):f,h+=`${l}=${d}&`}),h.slice(0,-1)):(d=e?encodeURIComponent(c):c,h=`${l}=${d}`),`${i}&${h}`},"").substr(1):null,GO=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),a=qO(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,d]of Object.entries(t.data||{}))l.set(c,d);n.body=l.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((d,h)=>{l.append(h,d)});else for(const d of Object.keys(t.data))l.append(d,t.data[d]);n.body=l;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(a.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class KO extends eE{async request(e){const n=GO(e,e.webFetchExtra),i=HO(e.params,e.shouldEncodeUrlParams),a=i?`${e.url}?${i}`:e.url,l=await fetch(a,n),c=l.headers.get("content-type")||"";let{responseType:d="text"}=l.ok?e:{};c.includes("application/json")&&(d="json");let h,f;switch(d){case"arraybuffer":case"blob":f=await l.blob(),h=await FO(f);break;case"json":h=await l.json();break;case"document":case"text":default:h=await l.text()}const y={};return l.headers.forEach((v,b)=>{y[b]=v}),{data:h,headers:y,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Gg("CapacitorHttp",{web:()=>new KO});function Wt(t,e){const[n,i]=A.useState(()=>{if(typeof window>"u")return e;try{const l=window.localStorage.getItem(t);return l?JSON.parse(l):e}catch(l){return console.error(`Error reading localStorage key ${t}:`,l),e}});return[n,l=>{try{const c=l instanceof Function?l(n):l;i(c),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(c))}catch(c){console.error(`Error setting localStorage key ${t}:`,c)}}]}function WO(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(y){try{f(i.next(y))}catch(v){c(v)}}function h(y){try{f(i.throw(y))}catch(v){c(v)}}function f(y){y.done?l(y.value):a(y.value).then(d,h)}f((i=i.apply(t,e||[])).next())})}const YO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Gd extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class tE extends Gd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pp extends Gd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Up extends Gd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pd||(pd={}));class XO{constructor(e,{headers:n={},customFetch:i,region:a=pd.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=YO(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return WO(this,arguments,void 0,function*(n,i={}){var a;let l,c;try{const{headers:d,method:h,body:f,signal:y,timeout:v}=i;let b={},{region:S}=i;S||(S=this.region);const T=new URL(`${this.url}/${n}`);S&&S!=="any"&&(b["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let x;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(b["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(b["Content-Type"]="application/json",x=JSON.stringify(f)):x=f;let C=y;v&&(c=new AbortController,l=setTimeout(()=>c.abort(),v),y?(C=c.signal,y.addEventListener("abort",()=>c.abort())):C=c.signal);const k=yield this.fetch(T.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:x,signal:C}).catch(V=>{throw new tE(V)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new Pp(k);if(!k.ok)throw new Up(k);let j=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),M;return j==="application/json"?M=yield k.json():j==="application/octet-stream"||j==="application/pdf"?M=yield k.blob():j==="text/event-stream"?M=k:j==="multipart/form-data"?M=yield k.formData():M=yield k.text(),{data:M,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof Up||d instanceof Pp?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var Ht={},Bp=function(t,e){return Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Bp(t,e)};function nE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var gd=function(){return gd=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},gd.apply(this,arguments)};function sE(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function iE(t,e,n,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(a<3?c(l):a>3?c(e,n,l):c(e,n))||l);return a>3&&l&&Object.defineProperty(e,n,l),l}function rE(t,e){return function(n,i){e(n,i,t)}}function aE(t,e,n,i,a,l){function c(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var d=i.kind,h=d==="getter"?"get":d==="setter"?"set":"value",f=!e&&t?i.static?t:t.prototype:null,y=e||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),v,b=!1,S=n.length-1;S>=0;S--){var T={};for(var x in i)T[x]=x==="access"?{}:i[x];for(var x in i.access)T.access[x]=i.access[x];T.addInitializer=function(k){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(k||null))};var C=(0,n[S])(d==="accessor"?{get:y.get,set:y.set}:y[h],T);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=c(C.get))&&(y.get=v),(v=c(C.set))&&(y.set=v),(v=c(C.init))&&a.unshift(v)}else(v=c(C))&&(d==="field"?a.unshift(v):y[h]=v)}f&&Object.defineProperty(f,i.name,y),b=!0}function oE(t,e,n){for(var i=arguments.length>2,a=0;a<e.length;a++)n=i?e[a].call(t,n):e[a].call(t);return i?n:void 0}function lE(t){return typeof t=="symbol"?t:"".concat(t)}function cE(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function uE(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dE(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(y){try{f(i.next(y))}catch(v){c(v)}}function h(y){try{f(i.throw(y))}catch(v){c(v)}}function f(y){y.done?l(y.value):a(y.value).then(d,h)}f((i=i.apply(t,e||[])).next())})}function hE(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(y){return h([f,y])}}function h(f){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(i=1,a&&(l=f[0]&2?a.return:f[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,f[1])).done)return l;switch(a=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){n.label=f[1];break}if(f[0]===6&&n.label<l[1]){n.label=l[1],l=f;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(f);break}l[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(y){f=[6,y],a=0}finally{i=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Kd=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function fE(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Kd(e,t,n)}function yd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(d){c={error:d}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l}function mE(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kg(arguments[e]));return t}function pE(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<n;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,a++)i[a]=l[c];return i}function gE(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function io(t){return this instanceof io?(this.v=t,this):new io(t)}function yE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(S){return function(T){return Promise.resolve(T).then(S,v)}}function d(S,T){i[S]&&(a[S]=function(x){return new Promise(function(C,k){l.push([S,x,C,k])>1||h(S,x)})},T&&(a[S]=T(a[S])))}function h(S,T){try{f(i[S](T))}catch(x){b(l[0][3],x)}}function f(S){S.value instanceof io?Promise.resolve(S.value.v).then(y,v):b(l[0][2],S)}function y(S){h("next",S)}function v(S){h("throw",S)}function b(S,T){S(T),l.shift(),l.length&&h(l[0][0],l[0][1])}}function vE(t){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=t[a]?function(c){return(n=!n)?{value:io(t[a](c)),done:!1}:l?l(c):c}:l}}function bE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yd=="function"?yd(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),a(d,h,c.done,c.value)})}}function a(l,c,d,h){Promise.resolve(h).then(function(f){l({value:f,done:d})},c)}}function _E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var QO=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},zp=function(t){return zp=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},zp(t)};function wE(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=zp(t),i=0;i<n.length;i++)n[i]!=="default"&&Kd(e,t,n[i]);return QO(e,t),e}function SE(t){return t&&t.__esModule?t:{default:t}}function TE(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function EE(t,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}function xE(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function CE(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var JO=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function AE(t){function e(l){t.error=t.hasError?new JO(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var n,i=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function kE(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,l,c){return i?e?".jsx":".js":a&&(!l||!c)?n:a+l+"."+c.toLowerCase()+"js"}):t}const ZO={__extends:nE,__assign:gd,__rest:sE,__decorate:iE,__param:rE,__esDecorate:aE,__runInitializers:oE,__propKey:lE,__setFunctionName:cE,__metadata:uE,__awaiter:dE,__generator:hE,__createBinding:Kd,__exportStar:fE,__values:yd,__read:Kg,__spread:mE,__spreadArrays:pE,__spreadArray:gE,__await:io,__asyncGenerator:yE,__asyncDelegator:vE,__asyncValues:bE,__makeTemplateObject:_E,__importStar:wE,__importDefault:SE,__classPrivateFieldGet:TE,__classPrivateFieldSet:EE,__classPrivateFieldIn:xE,__addDisposableResource:CE,__disposeResources:AE,__rewriteRelativeImportExtension:kE},eR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CE,get __assign(){return gd},__asyncDelegator:vE,__asyncGenerator:yE,__asyncValues:bE,__await:io,__awaiter:dE,__classPrivateFieldGet:TE,__classPrivateFieldIn:xE,__classPrivateFieldSet:EE,__createBinding:Kd,__decorate:iE,__disposeResources:AE,__esDecorate:aE,__exportStar:fE,__extends:nE,__generator:hE,__importDefault:SE,__importStar:wE,__makeTemplateObject:_E,__metadata:uE,__param:rE,__propKey:lE,__read:Kg,__rest:sE,__rewriteRelativeImportExtension:kE,__runInitializers:oE,__setFunctionName:cE,__spread:mE,__spreadArray:gE,__spreadArrays:pE,__values:yd,default:ZO},Symbol.toStringTag,{value:"Module"})),ho=kO(eR);var Mu={},Lu={},Pu={},Uu={},Bu={},zu={},k1;function jE(){if(k1)return zu;k1=1,Object.defineProperty(zu,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return zu.default=t,zu}var j1;function OE(){if(j1)return Bu;j1=1,Object.defineProperty(Bu,"__esModule",{value:!0});const e=ho.__importDefault(jE());class n{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,y,v,b;let S=null,T=null,x=null,C=h.status,k=h.statusText;if(h.ok){if(this.method!=="HEAD"){const V=await h.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?T=V:T=JSON.parse(V))}const j=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),M=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");j&&M&&M.length>1&&(x=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(S={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,x=null,C=406,k="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const j=await h.text();try{S=JSON.parse(j),Array.isArray(S)&&h.status===404&&(T=[],S=null,C=200,k="OK")}catch{h.status===404&&j===""?(C=204,k="No Content"):S={message:j}}if(S&&this.isMaybeSingle&&(!((b=S==null?void 0:S.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,C=200,k="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:T,count:x,status:C,statusText:k}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,y,v,b,S,T;let x="";const C=h==null?void 0:h.cause;if(C){const k=(f=C==null?void 0:C.message)!==null&&f!==void 0?f:"",O=(y=C==null?void 0:C.code)!==null&&y!==void 0?y:"";x=`${(v=h==null?void 0:h.name)!==null&&v!==void 0?v:"FetchError"}: ${h==null?void 0:h.message}`,x+=`

Caused by: ${(b=C==null?void 0:C.name)!==null&&b!==void 0?b:"Error"}: ${k}`,O&&(x+=` (${O})`),C!=null&&C.stack&&(x+=`
${C.stack}`)}else x=(S=h==null?void 0:h.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(T=h==null?void 0:h.name)!==null&&T!==void 0?T:"FetchError"}: ${h==null?void 0:h.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Bu.default=n,Bu}var O1;function RE(){if(O1)return Uu;O1=1,Object.defineProperty(Uu,"__esModule",{value:!0});const e=ho.__importDefault(OE());class n extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",y=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${y?`${y},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(f,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var y;const v=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${v};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Uu.default=n,Uu}var R1;function Wg(){if(R1)return Pu;R1=1,Object.defineProperty(Pu,"__esModule",{value:!0});const e=ho.__importDefault(RE()),n=new RegExp("[,()]");class i extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${f}fts${y}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Pu.default=i,Pu}var D1;function DE(){if(D1)return Lu;D1=1,Object.defineProperty(Lu,"__esModule",{value:!0});const e=ho.__importDefault(Wg());class n{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(a,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let f=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(f.length>0){const y=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var f;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(v.length>0){const b=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Lu.default=n,Lu}var N1;function tR(){if(N1)return Mu;N1=1,Object.defineProperty(Mu,"__esModule",{value:!0});const t=ho,e=t.__importDefault(DE()),n=t.__importDefault(Wg());class i{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:f}={}){var y;let v;const b=new URL(`${this.url}/rpc/${l}`);let S;d||h?(v=d?"HEAD":"GET",Object.entries(c).filter(([x,C])=>C!==void 0).map(([x,C])=>[x,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([x,C])=>{b.searchParams.append(x,C)})):(v="POST",S=c);const T=new Headers(this.headers);return f&&T.set("Prefer",`count=${f}`),new n.default({method:v,url:b,headers:T,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Mu.default=i,Mu}var I1;function nR(){if(I1)return Ht;I1=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const t=ho,e=t.__importDefault(tR());Ht.PostgrestClient=e.default;const n=t.__importDefault(DE());Ht.PostgrestQueryBuilder=n.default;const i=t.__importDefault(Wg());Ht.PostgrestFilterBuilder=i.default;const a=t.__importDefault(RE());Ht.PostgrestTransformBuilder=a.default;const l=t.__importDefault(OE());Ht.PostgrestBuilder=l.default;const c=t.__importDefault(jE());return Ht.PostgrestError=c.default,Ht.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ht}var NE=nR();const IE=qg(NE),sR=AO({__proto__:null,default:IE},[NE]),{PostgrestClient:iR,PostgrestQueryBuilder:cK,PostgrestFilterBuilder:uK,PostgrestTransformBuilder:dK,PostgrestBuilder:hK,PostgrestError:rR}=IE||sR;class ME{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const aR="2.87.3",oR=`realtime-js/${aR}`,LE="1.0.0",lR="2.0.0",M1=LE,Vp=1e4,cR=1e3,uR=100;var jr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jr||(jr={}));var Ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ct||(Ct={}));var ls;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ls||(ls={}));var $p;(function(t){t.websocket="websocket"})($p||($p={}));var Or;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Or||(Or={}));class dR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,i){var a,l;const c=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let T=new DataView(S),x=0;T.setUint8(x++,this.KINDS.userBroadcastPush),T.setUint8(x++,h.length),T.setUint8(x++,d.length),T.setUint8(x++,c.length),T.setUint8(x++,f.length),T.setUint8(x++,v.length),T.setUint8(x++,n),Array.from(h,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(d,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(c,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(f,k=>T.setUint8(x++,k.charCodeAt(0))),Array.from(v,k=>T.setUint8(x++,k.charCodeAt(0)));var C=new Uint8Array(S.byteLength+i.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(i),S.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,d,h]=i;return n({join_ref:a,ref:l,topic:c,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=i.decode(e.slice(h,h+a));h=h+a;const y=i.decode(e.slice(h,h+l));h=h+l;const v=i.decode(e.slice(h,h+c));h=h+c;const b=e.slice(h,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,T={type:this.BROADCAST_EVENT,event:y,payload:S};return c>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class PE{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const L1=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=hR(c,t,e,a),l),{}):{}},hR=(t,e,n,i)=>{const a=e.find(d=>d.name===t),l=a==null?void 0:a.type,c=n[t];return l&&!i.includes(l)?UE(l,c):Fp(c)},UE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return gR(e,n)}switch(t){case nt.bool:return fR(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return mR(e);case nt.json:case nt.jsonb:return pR(e);case nt.timestamp:return yR(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Fp(e);default:return Fp(e)}},Fp=t=>t,fR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>UE(e,d))}return t},yR=t=>typeof t=="string"?t.replace(" ","T"):t,BE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bm{constructor(e,n,i={},a=Vp){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qp||(qp={}));class Wa{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wa.syncState(this.state,a,l,c),this.pendingDiffs.forEach(h=>{this.state=Wa.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Wa.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const l=this.cloneDeep(e),c=this.transformState(n),d={},h={};return this.map(l,(f,y)=>{c[f]||(h[f]=y)}),this.map(c,(f,y)=>{const v=l[f];if(v){const b=y.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),T=y.filter(C=>S.indexOf(C.presence_ref)<0),x=v.filter(C=>b.indexOf(C.presence_ref)<0);T.length>0&&(d[f]=T),x.length>0&&(h[f]=x)}else d[f]=y}),this.syncDiff(l,{joins:d,leaves:h},i,a)}static syncDiff(e,n,i,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,h)=>{var f;const y=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(h),y.length>0){const v=e[d].map(S=>S.presence_ref),b=y.filter(S=>v.indexOf(S.presence_ref)<0);e[d].unshift(...b)}i(d,y,h)}),this.map(c,(d,h)=>{let f=e[d];if(!f)return;const y=h.map(v=>v.presence_ref);f=f.filter(v=>y.indexOf(v.presence_ref)<0),e[d]=f,a(d,f,h),f.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hp||(Hp={}));var Ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ya||(Ya={}));var Ss;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ss||(Ss={}));const vR=Ct;class Dr{constructor(e,n={config:{}},i){var a,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bm(this,ls.join,this.params,this.timeout),this.rejoinTimer=new PE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ls.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Wa(this),this.broadcastEndpointURL=BE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Ya.PRESENCE]&&this.bindings[Ya.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(Ss.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(Ss.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(Ss.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,C=(T=x==null?void 0:x.length)!==null&&T!==void 0?T:0,k=[];for(let O=0;O<C;O++){const j=x[O],{filter:{event:M,schema:V,table:$,filter:z}}=j,K=S&&S[O];if(K&&K.event===M&&Dr.isFilterValueEqual(K.schema,V)&&Dr.isFilterValueEqual(K.table,$)&&Dr.isFilterValueEqual(K.filter,z))k.push(Object.assign(Object.assign({},j),{id:K.id}));else{this.unsubscribe(),this.state=Ct.errored,e==null||e(Ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Ss.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ct.errored,e==null||e(Ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Ct.joined&&e===Ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const f=await d.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ls.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Bm(this,ls.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Bm(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:f,join:y}=ls;if(i&&[d,h,f,y].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var T,x,C;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(x=S.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(b,i)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var T,x,C,k,O,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const M=S.id,V=(T=S.filter)===null||T===void 0?void 0:T.event;return M&&((x=n.ids)===null||x===void 0?void 0:x.includes(M))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const M=(O=(k=S==null?void 0:S.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return M==="*"||M===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof b=="object"&&"ids"in b){const T=b.data,{schema:x,table:C,commit_timestamp:k,type:O,errors:j}=T;b=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:k,eventType:O,new:{},old:{},errors:j}),this._getPayloadRecords(T))}S.callback(b,i)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Dr.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ls.close,{},e)}_onError(e){this._on(ls.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=L1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=L1(e.columns,e.old_record)),n}}const zm=()=>{},Vu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bR=[1e3,2e3,5e3,1e4],_R=1e4,wR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zE{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vp,this.transport=null,this.heartbeatIntervalMs=Vu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zm,this.ref=0,this.reconnectTimer=null,this.vsn=M1,this.logger=zm,this.conn=null,this.sendBuffer=[],this.serializer=new dR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$p.websocket}`,this.httpEndpoint=BE(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ME.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case jr.connecting:return Or.Connecting;case jr.open:return Or.Open;case jr.closing:return Or.Closing;default:return Or.Closed}}isConnected(){return this.connectionState()===Or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Dr(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=n,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${a} ${d}`.trim(),l),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(a,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===jr.open||this.conn.readyState===jr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ls.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([wR],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:oR};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(ls.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new PE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,l,c,d,h,f,y,v,b,S;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Vp,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Vu.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:zm,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:M1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(T=>bR[T-1]||_R),this.vsn){case LE:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((T,x)=>x(JSON.stringify(T))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((T,x)=>x(JSON.parse(T)));break;case lR:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}function he(t,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(y){try{f(i.next(y))}catch(v){c(v)}}function h(y){try{f(i.throw(y))}catch(v){c(v)}}function f(y){y.done?l(y.value):a(y.value).then(d,h)}f((i=i.apply(t,e||[])).next())})}class Wd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class SR extends Wd{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gp extends Wd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Yg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TR=()=>Response,Kp=t=>{if(Array.isArray(t))return t.map(n=>Kp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Kp(i)}),e},ER=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Vm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},CR=(t,e,n)=>he(void 0,void 0,void 0,function*(){const i=yield TR();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{const l=t.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new SR(Vm(a),l,c))}).catch(a=>{e(new Gp(Vm(a),a))}):e(new Gp(Vm(t),t))}),AR=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(ER(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function rc(t,e,n,i,a,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,AR(e,i,a,l)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>CR(h,d,i))})})}function Ul(t,e,n,i){return he(this,void 0,void 0,function*(){return rc(t,"GET",e,n,i)})}function os(t,e,n,i,a){return he(this,void 0,void 0,function*(){return rc(t,"POST",e,i,a,n)})}function Wp(t,e,n,i,a){return he(this,void 0,void 0,function*(){return rc(t,"PUT",e,i,a,n)})}function kR(t,e,n,i){return he(this,void 0,void 0,function*(){return rc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Xg(t,e,n,i,a){return he(this,void 0,void 0,function*(){return rc(t,"DELETE",e,i,a,n)})}class jR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}var VE;class OR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[VE]="BlobDownloadBuilder",this.promise=null}asStream(){return new jR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}VE=Symbol.toStringTag;const RR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},P1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DR{constructor(e,n={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=Yg(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,a){return he(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},P1),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(d=Object.assign(Object.assign({},d),a.headers));const f=this._removeEmptyFolders(n),y=this._getFinalPath(f),v=yield(e=="PUT"?Wp:os)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ut(l))return{data:null,error:l};throw l}})}upload(e,n,i){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return he(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:P1.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl)):(h=i,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType);const v=yield Wp(this.fetch,d.toString(),h,{headers:y});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ut(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield os(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Wd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}update(e,n,i){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return he(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}copy(e,n,i){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return he(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield os(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return he(this,void 0,void 0,function*(){try{const a=yield os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Ul(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new OR(h,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Ul(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kp(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}exists(e){return he(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield kR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i)&&i instanceof Gp){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${f}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Xg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}list(e,n,i){return he(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},RR),n),{prefix:e||""});return{data:yield os(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}listV2(e,n){return he(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield os(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const $E="2.87.3",FE={"X-Client-Info":`storage-js/${$E}`};class NR{constructor(e,n={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FE),n),this.fetch=Yg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ul(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}createBucket(e){return he(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Xg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Bl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IR(t,e,n){const i=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function MR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function LR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:a,body:l,headers:c}){const d=IR(t.baseUrl,i,a),h=await MR(t.auth),f=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),y=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),b=v&&y?JSON.parse(y):y;if(!f.ok){const S=v?b:void 0,T=S==null?void 0:S.error;throw new Bl((T==null?void 0:T.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:f.status,headers:f.headers,data:b}}}}function $u(t){return t.join("")}var PR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:$u(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$u(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$u(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$u(t.namespace)}`}),!0}catch(e){if(e instanceof Bl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Bl&&n.status===409)return;throw n}}};function Da(t){return t.join("")}var UR=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Bl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Bl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},BR=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=LR({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new PR(this.client,e),this.tableOps=new UR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class zR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FE),n),this.fetch=Yg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const i=n.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ul(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Xg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}from(e){if(!xR(e))throw new Wd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new BR({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const d=l[c];return typeof d!="function"?d:(...h)=>he(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,h),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}})}})}}const Qg={"X-Client-Info":`storage-js/${$E}`,"Content-Type":"application/json"};class qE extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function An(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class $m extends qE{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VR extends qE{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var U1;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(U1||(U1={}));const Jg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$R=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},B1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FR=(t,e,n)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const a=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new $m(B1(c),a,d))}).catch(()=>{const c=a+"",d=l.statusText||`HTTP ${a} error`;e(new $m(d,a,c))});else{const c=a+"",d=l.statusText||`HTTP ${a} error`;e(new $m(d,a,c))}}else e(new VR(B1(t),t))}),qR=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?($R(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function HR(t,e,n,i,a,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,qR(e,i,a,l)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>FR(h,d,i))})})}function kn(t,e,n,i,a){return he(this,void 0,void 0,function*(){return HR(t,"POST",e,i,a,n)})}class GR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qg),n),this.fetch=Jg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getIndex(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return he(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}}class KR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qg),n),this.fetch=Jg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield kn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class WR{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qg),n),this.fetch=Jg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield kn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class YR extends WR{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new XR(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class XR extends GR{constructor(e,n,i,a){super(e,n,a),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new QR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class QR extends KR{constructor(e,n,i,a,l){super(e,n,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class JR extends NR{constructor(e,n={},i,a){super(e,n,i,a)}from(e){return new DR(this.url,this.headers,e,this.fetch)}get vectors(){return new YR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zR(this.url+"/iceberg",this.headers,this.fetch)}}const ZR="2.87.3";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const eD={"X-Client-Info":`supabase-js-${Tl}/${ZR}`},tD={headers:eD},nD={schema:"public"},sD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iD={},rD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aD=()=>Headers,oD=(t,e,n)=>{const i=rD(n),a=aD();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let f=new a(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},c),{headers:f}))}};function lD(t){return t.endsWith("/")?t:t+"/"}function cD(t,e){var n,i;const{db:a,auth:l,realtime:c,global:d}=t,{db:h,auth:f,realtime:y,global:v}=e,b={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},f),l),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function uD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}function Yd(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}const HE="2.87.3",Ba=30*1e3,Yp=3,Fm=Yp*Ba,dD="http://localhost:9999",hD="supabase.auth.token",fD={"X-Client-Info":`gotrue-js/${HE}`},Xp="X-Supabase-Api-Version",GE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pD=600*1e3;class ro extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KE extends ro{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function WE(t){return pe(t)&&t.name==="AuthApiError"}class Ui extends ro{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class js extends ro{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class mn extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YE(t){return pe(t)&&t.name==="AuthSessionMissingError"}class Er extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class El extends js{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xl extends js{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XE(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qp extends js{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class QE extends js{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function gD(t){return pe(t)&&t.name==="AuthPKCECodeVerifierMissingError"}class vd extends js{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function td(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class Jp extends js{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}function yD(t){return pe(t)&&t.name==="AuthWeakPasswordError"}class bd extends js{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z1=` 	
\r=`.split(""),vD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<z1.length;e+=1)t[z1[e].charCodeAt(0)]=-2;for(let e=0;e<_d.length;e+=1)t[_d[e].charCodeAt(0)]=e;return t})();function V1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(_d[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(_d[i]),e.queuedBits-=6}}function JE(t,e,n){const i=vD[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $1(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{wD(c,i,n)};for(let c=0;c<t.length;c+=1)JE(t.charCodeAt(c),a,l);return e.join("")}function bD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _D(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}bD(i,e)}}function wD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Xa(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)JE(t.charCodeAt(a),n,i);return new Uint8Array(e)}function SD(t){const e=[];return _D(t,n=>e.push(n)),new Uint8Array(e)}function Nr(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>V1(a,n,i)),V1(null,n,i),e.join("")}function TD(t){return Math.round(Date.now()/1e3)+t}function ED(){return Symbol("auth-callback")}const $t=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},ZE=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function xD(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const ex=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",za=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_r=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vt=async(t,e)=>{await t.removeItem(e)};let tx=class nx{constructor(){this.promise=new nx.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};tx.promiseConstructor=Promise;function qm(t){const e=t.split(".");if(e.length!==3)throw new bd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!mD.test(e[i]))throw new bd("JWT not in base64url format");return{header:JSON.parse($1(e[0])),payload:JSON.parse($1(e[1])),signature:Xa(e[2]),raw:{header:e[0],payload:e[1]}}}async function AD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kD(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function jD(t){return("0"+t.toString(16)).substr(-2)}function OD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,jD).join("")}async function RD(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function DD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await RD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Na(t,e,n=!1){const i=OD();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await za(t,`${e}-code-verifier`,a);const l=await DD(i);return[l,i===l?"plain":"s256"]}const ND=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ID(t){const e=t.headers.get(Xp);if(!e||!e.match(ND))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function LD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ia(t){if(!PD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UD(t,e){return new Proxy(t,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function F1(t){return JSON.parse(JSON.stringify(t))}const xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BD=[502,503,504];async function q1(t){var e;if(!CD(t))throw new vd(xr(t),0);if(BD.includes(t.status))throw new vd(xr(t),t.status);let n;try{n=await t.json()}catch(l){throw new Ui(xr(l),l)}let i;const a=ID(t);if(a&&a.getTime()>=GE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Jp(xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Jp(xr(n),t.status,n.weak_password.reasons);throw new KE(xr(n),t.status||500,i)}const zD=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function _e(t,e,n,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[Xp]||(l[Xp]=GE["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await VD(t,e,n+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function VD(t,e,n,i,a,l){const c=zD(e,i,a,l);let d;try{d=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new vd(xr(h),0)}if(d.ok||await q1(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await q1(h)}}function rs(t){var e;let n=null;qD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=TD(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function H1(t){const e=rs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $D(t){return{data:t,error:null}}function FD(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=t,c=Yd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function G1(t){return t}function qD(t){return t.access_token&&t.refresh_token&&t.expires_in}const nd=["global","local","others"];class Zg{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=ex(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=nd[0]){if(nd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nd.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Yd(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:FD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bi})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:G1});if(y.error)throw y.error;const v=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(T=>{const x=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=x}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ia(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bi})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ia(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Bi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Ia(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bi})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ia(e.userId);try{const{data:n,error:i}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ia(e.userId),Ia(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:G1});if(y.error)throw y.error;const v=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(T=>{const x=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=x}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(pe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function K1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Cr={debug:!!(globalThis&&ZE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ey extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sx extends ey{}class HD extends ey{}async function ix(t,e,n){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const W1={};async function GD(t,e,n){var i;const a=(i=W1[t])!==null&&i!==void 0?i:Promise.resolve(),l=Promise.race([a.catch(()=>null),e>=0?new Promise((c,d)=>{setTimeout(()=>{d(new HD(`Acquiring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await n());return W1[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await l}function KD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function WD(t){return parseInt(t,16)}function YD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function XD(t){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:y,uri:v,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=rx(t.address),T=y?`${y}://${i}`:i,x=t.statement?`${t.statement}
`:"",C=`${T} wants you to sign in with your Ethereum account:
${S}

${x}`;let k=`URI: ${v}
Version: ${b}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),f){let O=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);O+=`
- ${j}`}k+=O}return`${C}
${k}`}class At extends Error{constructor({message:e,code:n,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class wd extends At{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function QD({error:t,options:e}){var n,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new At({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ax(c)){if(l.rp.id!==c)return new At({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function JD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new At({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(ax(i)){if(n.rpId!==i)return new At({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ZD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eN=new ZD;function tN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,a=Yd(t,["challenge","user","excludeCredentials"]),l=Xa(e).buffer,c=Object.assign(Object.assign({},n),{id:Xa(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const f=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Xa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function nN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Yd(t,["challenge","allowCredentials"]),a=Xa(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Xa(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function sN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nr(new Uint8Array(a.authenticatorData)),clientDataJSON:Nr(new Uint8Array(a.clientDataJSON)),signature:Nr(new Uint8Array(a.signature)),userHandle:a.userHandle?Nr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ax(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Y1(){var t,e;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wd("Browser returned unexpected credential type",e)}:{data:null,error:new wd("Empty credential response",e)}}catch(e){return{data:null,error:QD({error:e,options:t})}}}async function aN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wd("Browser returned unexpected credential type",e)}:{data:null,error:new wd("Empty credential response",e)}}catch(e){return{data:null,error:JD({error:e,options:t})}}}const oN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sd(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(n(c))i[l]=c;else if(e(c)){const d=i[l];e(d)?i[l]=Sd(d,c):i[l]=Sd(c)}else i[l]=c}return i}function cN(t,e){return Sd(oN,t,e||{})}function uN(t,e){return Sd(lN,t,e||{})}class dN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const h=a??eN.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=cN(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:v}=await rN({publicKey:f,signal:h});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const f=uN(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:v}=await aN(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Ui("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new ro("rpId is required for WebAuthn authentication")};try{if(!Y1())return{data:null,error:new Ui("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Ui("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new ro("rpId is required for WebAuthn registration")};try{if(!Y1())return{data:null,error:new Ui("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Ui("Unexpected error in register",c)}}}}KD();const hN={url:dD,storageKey:hD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function X1(t,e,n){return await n()}const Ma={};class ao{get jwks(){var e,n;return(n=(e=Ma[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ma[this.storageKey]=Object.assign(Object.assign({},Ma[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ma[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ma[this.storageKey]=Object.assign(Object.assign({},Ma[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},hN),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ao.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ao.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&$t()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Zg({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ex(l.fetch),this.lock=l.lock||X1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&$t()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=ix:this.lock=X1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:ZE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=K1(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${HE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if($t()&&(n=xD(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),$t()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),XE(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new Ui("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:rs}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,a;try{let l;if("email"in e){const{email:y,password:v,options:b}=e;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await Na(this.storage,this.storageKey)),l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:S,code_challenge_method:T},xform:rs})}else if("phone"in e){const{phone:y,password:v,options:b}=e;l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:rs})}else throw new El("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Vt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:H1})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:H1})}else throw new El("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Er;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,l,c,d,h,f,y,v,b;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:x,wallet:C,statement:k,options:O}=e;let j;if($t())if(typeof C=="object")j=C;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")j=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=C}const M=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),V=await j.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=rx(V[0]);let z=(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const X=await j.request({method:"eth_chainId"});z=WD(X)}const K={domain:M.host,address:$,statement:k,uri:M.href,version:"1",chainId:z,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(y=O==null?void 0:O.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=XD(K),T=await j.request({method:"personal_sign",params:[YD(S),$]})}try{const{data:x,error:C}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:rs});if(C)throw C;if(!x||!x.session||!x.user){const k=new Er;return this._returnResult({data:{user:null,session:null},error:k})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:C})}catch(x){if(pe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,i,a,l,c,d,h,f,y,v,b,S;let T,x;if("message"in e)T=e.message,x=e.signature;else{const{chain:C,wallet:k,statement:O,options:j}=e;let M;if($t())if(typeof k=="object")M=k;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))M=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const V=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const $=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),O?{statement:O}:null));let z;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")z=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)z=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)T=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),x=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${V.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(a=(i=j==null?void 0:j.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(y=j==null?void 0:j.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const $=await M.signMessage(new TextEncoder().encode(T),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=$}}try{const{data:C,error:k}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Nr(x)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:rs});if(k)throw k;if(!C||!C.session||!C.user){const O=new Er;return this._returnResult({data:{user:null,session:null},error:O})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(pe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await _r(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new QE;const{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:rs});if(await Vt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new Er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:l,nonce:c}=e,d=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rs}),{data:h,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const y=new Er;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,l,c;try{if("email"in e){const{email:d,options:h}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await Na(this.storage,this.storageKey));const{error:v}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:f,error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:y})}throw new El("You must provide either an email or phone number.")}catch(d){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,i;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:rs});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Na(this.storage,this.storageKey));const f=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:$D});return!((l=f.data)===null||l===void 0)&&l.url&&$t()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new mn;const{error:a}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:d}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new El("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Fm:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await _r(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Hm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=UD(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bi}):await this._useSession(async n=>{var i,a,l;const{data:c,error:d}=n;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Bi})})}catch(n){if(pe(n))return YE(n)&&(await this._removeSession(),await Vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new mn;const c=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Na(this.storage,this.storageKey));const{data:f,error:y}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Bi});if(y)throw y;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:c}=qm(e.access_token);if(c.exp&&(i=c.exp,a=i<=n),a){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!$t())throw new xl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qp("No code detected.");const{data:O,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=e;if(!l||!d||!c||!f)throw new xl("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let b=y+v;h&&(b=parseInt(h));const S=b-y;S*1e3<=Ba&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const T=b-v;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,b,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,b,y);const{data:x,error:C}=await this._getUser(l);if(C)throw C;const k={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:b,refresh_token:c,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(WE(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=ED(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Na(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var c,d,h,f,y;const{data:v,error:b}=l;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return $t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(pe(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:c,provider:d,token:h,access_token:f,nonce:y}=e,v=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:f,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:rs}),{data:b,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Er}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(a){if(await Vt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:c}=n;if(c)throw c;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await kD(async a=>(a>0&&await AD(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rs})),(a,l)=>{const c=200*Math.pow(2,a);return l&&td(l)&&Date.now()+c-i<Ba})}catch(i){if(this._debug(n,"error",i),pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),$t()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await _r(this.storage,this.storageKey);if(a&&this.userStorage){let c=await _r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await za(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Hm()}else if(a&&!a.user&&!a.user){const c=await _r(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Vt(this.storage,this.storageKey+"-user"),await za(this.storage,this.storageKey,a)):a.user=Hm()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fm;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Fm}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),td(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new tx;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new mn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),pe(l)){const c={data:null,error:l};return td(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await za(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=F1(a);await za(this.storage,this.storageKey,l)}else{const a=F1(n);await za(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Vt(this.storage,this.storageKey),await Vt(this.storage,this.storageKey+"-code-verifier"),await Vt(this.storage,this.storageKey+"-user"),this.userStorage&&await Vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ba);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Ba);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ba}ms, refresh threshold is ${Yp} ticks`),a<=Yp&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ey)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Na(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sN(e.webauthn.credential_response):iN(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:tN(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:nN(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=qm(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new mn});const c=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&$t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new mn});const c=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&$t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new mn})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+pD>a)return i;const{data:l,error:c}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});i=S.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:h}}=qm(i);n!=null&&n.allowExpired||MD(l.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:a,signature:c},error:null}}const y=LD(a.alg),v=await crypto.subtle.importKey("jwk",f,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,c,SD(`${d}.${h}`)))throw new bd("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}}ao.nextInstanceID={};const fN=Zg,ox=ao;class mN extends ox{constructor(e){super(e)}}class lx{constructor(e,n,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=n;const d=uD(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:nD,realtime:iD,auth:Object.assign(Object.assign({},sD),{storageKey:h}),global:tD},y=cD(i??{},f);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=oD(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new iR(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new JR(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new XO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:d,lock:h,debug:f,throwOnError:y},v,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mN({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:h,debug:f,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pN=(t,e,n)=>new lx(t,e,n);function gN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yN=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:fN,AuthApiError:KE,AuthClient:ox,AuthError:ro,AuthImplicitGrantRedirectError:xl,AuthInvalidCredentialsError:El,AuthInvalidJwtError:bd,AuthInvalidTokenResponseError:Er,AuthPKCECodeVerifierMissingError:QE,AuthPKCEGrantCodeExchangeError:Qp,AuthRetryableFetchError:vd,AuthSessionMissingError:mn,AuthUnknownError:Ui,AuthWeakPasswordError:Jp,CustomAuthError:js,get FunctionRegion(){return pd},FunctionsError:Gd,FunctionsFetchError:tE,FunctionsHttpError:Up,FunctionsRelayError:Pp,GoTrueAdminApi:Zg,GoTrueClient:ao,NavigatorLockAcquireTimeoutError:sx,PostgrestError:rR,REALTIME_CHANNEL_STATES:vR,get REALTIME_LISTEN_TYPES(){return Ya},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Hp},get REALTIME_PRESENCE_LISTEN_EVENTS(){return qp},get REALTIME_SUBSCRIBE_STATES(){return Ss},RealtimeChannel:Dr,RealtimeClient:zE,RealtimePresence:Wa,SIGN_OUT_SCOPES:nd,SupabaseClient:lx,WebSocketFactory:ME,createClient:pN,isAuthApiError:WE,isAuthError:pe,isAuthImplicitGrantRedirectError:XE,isAuthPKCECodeVerifierMissingError:gD,isAuthRetryableFetchError:td,isAuthSessionMissingError:YE,isAuthWeakPasswordError:yD,lockInternals:Cr,navigatorLock:ix,processLock:GD},Symbol.toStringTag,{value:"Module"})),{createClient:vN}=yN,bN="https://afkfbhdcsqgzrqpixsaw.supabase.co",_N="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFma2ZiaGRjc3FnenJxcGl4c2F3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDYzNjksImV4cCI6MjA4MTQyMjM2OX0.53JAXiMZuBeAk1r5jiorOQOcCLOLHiZgGP7iI0BhGik",Va=vN(bN,_N),Td={maxVisible:1,defaultDuration:2200},Hn={context:null,effectsGain:null},Q1=()=>{if(typeof window<"u"&&!Hn.context)try{const t=window.AudioContext||window.webkitAudioContext;Hn.context=new t,Hn.effectsGain=Hn.context.createGain(),Hn.effectsGain.gain.value=.4,Hn.effectsGain.connect(Hn.context.destination),console.log("Audio Engine Initialized.")}catch(t){console.error("Failed to initialize AudioContext:",t)}},wN=t=>(e,n)=>{let i;switch(n.type){case"ADD_TO_VISIBLE":i={...e,visible:[...e.visible,n.payload]};break;case"ADD_TO_QUEUE":i={...e,queue:[...e.queue,n.payload]};break;case"REMOVE":i={...e,visible:e.visible.filter(l=>l.id!==n.payload.id)};break;case"PROMOTE":if(e.visible.length<t.maxVisible&&e.queue.length>0){const[l,...c]=e.queue;i={...e,visible:[...e.visible,l],queue:c}}else i=e;break;case"CLEAR_ALL":return{visible:[],queue:[],showClearAll:!1};default:return e}const a=i.visible.length+i.queue.length;return a>3?i.showClearAll=!0:a<2?i.showClearAll=!1:i.showClearAll=e.showClearAll,i},cx=A.createContext(void 0),vn=()=>{const t=A.useContext(cx);if(!t)throw new Error("useUI must be used within a UIProvider");return t},SN=({children:t})=>{A.useEffect(()=>Q1(),[]);const[e,n]=A.useState("dashboard"),[i,a]=A.useState(null),[l,c]=A.useState(null),[d,h]=A.useState(!1),[f,y]=A.useState(!1),[v,b]=A.useState(null),[S,T]=Wt("focusfrog_haptics_enabled",!0),[x,C]=Wt("focusfrog_sound_enabled",!0),[k,O]=Wt("focusfrog_fontsize","normal"),[j,M]=Wt("focusfrog_dev_mode",!1),V=wN(Td),[$,z]=A.useReducer(V,{visible:[],queue:[],showClearAll:!1}),K=A.useCallback(re=>{x&&Hn.context&&Hn.effectsGain?re.generator(Hn.context,Hn.effectsGain):x&&console.warn("PlayEffect called, but audio engine not ready.")},[x]),X=A.useCallback(()=>{Q1();const re=Hn.context;if(!re){console.error("Cannot toggle sound, AudioContext failed to initialize.");return}re.state==="suspended"?re.resume().then(()=>{console.log("AudioContext Resumed!"),C(we=>!we)}):C(we=>!we)},[C]),ee=A.useCallback((re,we,je="info",D)=>{const H={id:Date.now()+Math.random(),message:re,icon:we,category:je,action:D};$.visible.length<Td.maxVisible?z({type:"ADD_TO_VISIBLE",payload:H}):z({type:"ADD_TO_QUEUE",payload:H}),S&&navigator.vibrate&&navigator.vibrate(50)},[$.visible.length,S]),se=A.useCallback(re=>{z({type:"REMOVE",payload:{id:re}})},[]),J=A.useCallback(()=>{z({type:"PROMOTE"})},[]),ae=A.useCallback(()=>{z({type:"CLEAR_ALL"}),S&&navigator.vibrate&&navigator.vibrate(20)},[S]),ve=(re,we)=>{e==="focus"&&re!=="focus"&&h(!1),n(re),S&&navigator.vibrate&&navigator.vibrate(5)},fe=()=>y(!0),U=()=>y(!1),Y={activeScreen:e,handleNavigate:ve,taskInFocus:i,setTaskInFocus:a,subtaskInFocusId:l,setSubtaskInFocusId:c,quickTaskForCompletion:v,setQuickTaskForCompletion:b,notifications:$.visible,queueCount:$.queue.length,showClearAllButton:$.showClearAll,addNotification:ee,removeNotification:se,promoteNotification:J,clearAllNotifications:ae,soundEnabled:x,toggleSoundEnabled:X,playEffect:K,hapticsEnabled:S,setHapticsEnabled:T,isImmersiveMode:d,setIsImmersiveMode:h,isPWAInstallPopupVisible:f,showPWAInstallPopup:fe,hidePWAInstallPopup:U,fontSize:k,setFontSize:O,devModeEnabled:j,setDevModeEnabled:M};return g.jsx(cx.Provider,{value:Y,children:t})},Zp=[{id:"inbox",title:"Caixa de Entrada",subtitle:"Para organizar",icon:"inbox"},{id:"do",title:"Foco Imediato",subtitle:"Urgente & Importante",icon:"zap"},{id:"schedule",title:"Tarefas do Dia",subtitle:"Importante, no urgente",icon:"calendar"},{id:"someday",title:"Ideias & Projetos",subtitle:"No urgente & no importante",icon:"bookOpen"}],ux=[{id:1,name:"FocusFrog",color:"#5c8b57"},{id:2,name:"Pessoal",color:"#3B82F6"},{id:3,name:"Trabalho",color:"#4B5563"},{id:4,name:"Estudos",color:"#F97316"},{id:5,name:"Casa",color:"#14B8A6"},{id:6,name:"Sade",color:"#EC4899"}],TN=["Trabalho","Pessoal","Casa","Estudos","Sade"],EN=["sun","moon","zap","briefcase","home","bookOpen","coffee","award","target","listChecks","pawPrint","rocket","trash","sparkles"],dx=[{id:50,title:" Card Especial FocusFrog N.1",quadrant:"do",description:"O FocusFrog  a sua arquitetura mental, transformando o caos TDAH em rotinas visuais e gerenciveis. Ele ativa a Dopamina de micro-recompensa para te dar foco e paz",category:"FocusFrog",pomodoroEstimate:0,subtasks:[{text:"Siga nossa pgina "},{text:"Acesse o link da bio pelo navegador "},{text:"Baixe o FocusFrog no seu celular "},{text:"Crie rotinas e marque @focus.frog "},{text:"Inspire outras pessoas com suas rotinas e estratgias prprias  "}],isDefault:!0},{id:10,title:"Esvaziar a mente",quadrant:"do",description:"Use a tcnica de 'Brain Dump'. Tire tudo da cabea e ponha no app para reduzir a ansiedade.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:11,title:"Separar a roupa de amanh",quadrant:"do",description:"Elimine a fadiga de deciso da sua manh seguinte.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:12,title:"Preparar a mochila ou bolsa",quadrant:"do",description:"Verifique chaves, carteira, carregador. Deixe tudo pronto na porta.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:13,title:"Manter o celular longe da cama",quadrant:"do",description:"Use um despertador analgico se possvel. Evite o scroll antes de dormir.",category:"Sade",pomodoroEstimate:0,isDefault:!0},{id:20,title:"Calar sapatos para ativar",quadrant:"do",description:"Truque psicolgico poderoso: calar sapatos sinaliza para o crebro que  'hora de agir'.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:21,title:"Ligar uma playlist animada ou podcast",quadrant:"do",description:"O estmulo auditivo (Temptation Bundling) ajuda a tolerar tarefas tediantes e a manter o ritmo.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:22,title:"Corrida de Limpeza de 15 minutos",quadrant:"schedule",description:"Ative o modo turbo. O objetivo  progresso, no perfeio. Pare quando o tempo acabar. Vitria!",category:"Casa",pomodoroEstimate:1,customDuration:15,isDefault:!0},{id:23,title:"Caar e recolher o lixo da casa",quadrant:"do",description:"Misso de caa ao tesouro: andar pela casa com uma sacola e capturar apenas o lixo visvel.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:24,title:"Lavar loua at encher o escorredor",quadrant:"schedule",description:"Sua tarefa de manuteno diria. O objetivo no  zerar a pia,  apenas impedir que ela transborde. Isso j  uma vitria.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:25,title:"Resetar uma superfcie plana",quadrant:"do",description:"Misso de impacto visual: deixe UMA superfcie (mesa, balco) visivelmente limpa. A recompensa  imediata.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:26,title:"Varrer ou aspirar um cmodo",quadrant:"schedule",description:"Escolha UM cmodo e limpe apenas o caminho principal. O objetivo no  a perfeio,  um ambiente visivelmente melhor.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:28,title:"Executar o ciclo completo da loua",quadrant:"schedule",description:"Transforme a montanha de loua em um processo organizado.",category:"Casa",pomodoroEstimate:0,subtasks:[{text:"Organizar a loua por tipo"},{text:"Lavar pratos e copos"},{text:"Lavar talheres, potes e panelas"},{text:"Secar e guardar toda a loua"}],isDefault:!0},{id:29,title:"Executar o Ciclo Completo da Lavanderia",quadrant:"schedule",description:"Esta misso te guia at a roupa guardada.",category:"Casa",pomodoroEstimate:0,subtasks:[{text:"Juntar e separar a roupa suja"},{text:"Iniciar o ciclo de lavagem"},{text:"Transferir para secadora ou varal"},{text:"Dobrar e guardar a roupa limpa"}],isDefault:!0},{id:30,title:"Limpar e preparar a mesa de estudos",quadrant:"schedule",description:"Tire tudo da mesa que no pertence  matria atual.",category:"Estudos",isDefault:!0},{id:31,title:"Celular no silencioso / Ativar o 'No Perturbe'",quadrant:"schedule",description:"A fora de vontade  um recurso limitado. Use a tecnologia a seu favor.",category:"Estudos",isDefault:!0},{id:32,title:"Definir uma micro-meta de estudo",quadrant:"schedule",description:"Quebre a tarefa at ficar ridcula de to fcil. Ex: 'Ler 3 pginas' ou 'Resolver 1 exerccio'.",category:"Estudos",isDefault:!0},{id:33,title:"Iniciar sesso Pomodoro de 25 minutos",quadrant:"do",description:"Mergulhe na tarefa com foco total. Apenas por 25 minutos.",category:"Estudos",pomodoroEstimate:1,isDefault:!0},{id:34,title:"Explicar o estudo em voz alta",quadrant:"schedule",description:"Use a Tcnica Feynman: ao final da sesso, explique o que aprendeu.",category:"Estudos",isDefault:!0},{id:40,title:"Ritual de Ativao Fsica",quadrant:"do",description:"Os primeiros 10 minutos do seu dia para 'ligar' o crebro sem usar o celular.",category:"Sade",subtasks:[{text:"Beber um copo grande de gua"},{text:"Olhar a luz do dia na janela por 5 min"},{text:"Fazer 5 min de alongamento ou polichinelos"}],isDefault:!0},{id:41,title:"Arrumar a cama",quadrant:"do",description:"Vitria Visual Imediata: uma tarefa de 60 segundos que organiza seu quarto e te d a primeira sensao de dever cumprido.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:42,title:"Caf da Manh de Foco",quadrant:"do",description:"Abastea seu crebro com os ingredientes certos para um foco mais estvel.",category:"Sade",pomodoroEstimate:0,subtasks:[{text:"Ingerir fonte de protena (ovo, iogurte, etc)"},{text:"Tomar medicao/suplementos"}],isDefault:!0},{id:43,title:"Definir a Misso do Dia",quadrant:"do",description:"Tire o caos da sua cabea e defina UMA prioridade clara (O Sapo).",category:"Pessoal",pomodoroEstimate:0,subtasks:[{text:"Esvaziar a mente e listar pensamentos"},{text:"Revisar a agenda de hoje"},{text:'Escolher e marcar UMA tarefa como o "Sapo do Dia" '}],isDefault:!0}],hx=[{id:"routine-morning",name:"Manh de Dopamina",description:"Ative o crebro com sinais fsicos (luz, gua, movimento) e crie um plano claro para o dia.",icon:"sun",taskTemplateIds:[40,41,42,43],isDefault:!0},{id:"routine-daily-reset",name:"Reset Dirio",description:"Evite que o caos se acumule com um reset rpido de manuteno.",icon:"sparkles",taskTemplateIds:[20,21,22,23,24,25,26],isDefault:!0},{id:"routine-cleaning-day",name:"Dia de Faxina",description:"Um cardpio de misses para a limpeza pesada. Escolha 1 ou 2.",icon:"trash",taskTemplateIds:[28,29],isDefault:!0},{id:"routine-study",name:"Ritual de Hiperfoco",description:"Elimine distraes antes de comear e quebre a tarefa at ela parecer ridcula de to fcil.",icon:"bookOpen",taskTemplateIds:[30,31,32,33,34],isDefault:!0},{id:"routine-shutdown",name:"Desligamento Noturno",description:"Facilite a vida do seu 'Eu do Futuro'. Reduza a ansiedade da manh seguinte.",icon:"moon",taskTemplateIds:[10,11,12,13],isDefault:!0}],xN=[{id:"default-1",text:"Chaves",completed:!1,isDefault:!0},{id:"default-2",text:"Carteira",completed:!1,isDefault:!0},{id:"default-3",text:"Celular",completed:!1,isDefault:!0},{id:"default-4",text:"culos",completed:!1,isDefault:!0}],fx=["focusfrog_tasks","focusfrog_tags","focusfrog_frogTaskId","focusfrog_onboarding_completed","focusfrog_routines","focusfrog_taskTemplates","focusfrog_leavingHomeItems","focusfrog_userName","focusfrog_theme","focusfrog_sound","focusfrog_pontos_foco","focusfrog_unlocked_rewards","focusfrog_ui_settings"],CN="2.1.0",J1=()=>{const t={backupVersion:CN,exportedAt:new Date().toISOString()};return fx.forEach(e=>{const n=localStorage.getItem(e);if(n!==null)try{t[e]=JSON.parse(n)}catch(i){console.warn(`Could not parse localStorage item ${e}:`,n,i)}}),t},Z1=t=>{localStorage.clear();const e=t.focusfrog_routines||[];t.focusfrog_routines=[...hx,...e.filter(l=>!l.isDefault)];const n=t.focusfrog_taskTemplates||[];t.focusfrog_taskTemplates=[...dx,...n.filter(l=>!l.isDefault)],t.focusfrog_tags||(t.focusfrog_tags=ux);const a=(t.focusfrog_leavingHomeItems||[]).filter(l=>!l.isDefault);t.focusfrog_leavingHomeItems=[...xN,...a],Object.keys(t).forEach(l=>{fx.includes(l)&&localStorage.setItem(l,JSON.stringify(t[l]))})},mx=()=>{const{addNotification:t}=vn(),e=async c=>{if(c){t("Sincronizando com a nuvem...","","info");try{const d=J1(),h=JSON.parse(localStorage.getItem("focusfrog_userName")||'""'),{error:f}=await Va.from("profiles").upsert({id:c.id,updated_at:new Date().toISOString(),username:h,data:d});if(f)throw f;t("Backup salvo na nuvem!","","success")}catch(d){console.error("Falha ao sincronizar com a nuvem:",d),t(`Erro na nuvem: ${d.message}`,"","error")}}};return{exportData:()=>{try{const c=J1();c.focusfrog_routines=(c.focusfrog_routines||[]).filter(T=>!T.isDefault),c.focusfrog_taskTemplates=(c.focusfrog_taskTemplates||[]).filter(T=>!T.isDefault);const d=JSON.stringify(c,null,2),h=new Blob([d],{type:"application/json"}),f=URL.createObjectURL(h),y=document.createElement("a");y.href=f;const v=c.focusfrog_userName||"usuario",b=String(v).replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase(),S=new Date().toISOString().split("T")[0];y.download=`focusfrog_backup_${b}_${S}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(f),t("Backup local criado com sucesso","","success")}catch(c){console.error("Falha ao criar backup local:",c),t("Erro ao criar backup local.","","error")}},importDataFromFile:(c,d)=>{const h=new FileReader;h.onload=async f=>{var y;try{const v=JSON.parse((y=f.target)==null?void 0:y.result);if(typeof v!="object"||v===null||!v.backupVersion)throw new Error("Arquivo de backup invlido.");Z1(v),t("Dados importados com sucesso!","","success"),d&&await e(d),setTimeout(()=>window.location.reload(),d?2500:1500)}catch(v){console.error("Falha ao importar arquivo:",v),t(v.message,"","error")}},h.readAsText(c)},resetData:()=>{try{localStorage.clear(),t("Dados apagados. Reiniciando o aplicativo...","","info"),setTimeout(()=>window.location.reload(),1e3)}catch(c){console.error("Falha ao apagar os dados:",c),t("Ocorreu um erro ao apagar os dados","","error")}},downloadAndRestoreFromSupabase:async c=>{t("Buscando seu backup na nuvem...","","info");try{const{data:d,error:h}=await Va.from("profiles").select("data").eq("id",c.id).single();if(h)throw h;if(!d||!d.data){t("Nenhum backup encontrado na nuvem.","","info");return}Z1(d.data),t("Backup da nuvem restaurado! Reiniciando...","","success"),setTimeout(()=>window.location.reload(),1500)}catch(d){console.error("Falha ao restaurar da nuvem:",d),t(`Erro na nuvem: ${d.message}`,"","error")}},syncLocalToSupabase:e}},px=A.createContext(void 0),AN=({children:t})=>{const[e,n]=A.useState(null),[i,a]=A.useState(!0),{syncLocalToSupabase:l}=mx();A.useEffect(()=>{(async()=>{const{data:{session:v}}=await Va.auth.getSession();n((v==null?void 0:v.user)??null),a(!1)})();const{data:y}=Va.auth.onAuthStateChange(async(v,b)=>{const S=(b==null?void 0:b.user)??null;n(S),a(!1),v==="SIGNED_IN"&&S&&await l(S)});return()=>{y.subscription.unsubscribe()}},[l]);const h={user:e,isLoading:i,signInWithGoogle:async()=>{a(!0);const{error:f}=await Va.auth.signInWithOAuth({provider:"google"});f&&(console.error("Erro no login com Google:",f.message),a(!1))},signOut:async()=>{a(!0),await Va.auth.signOut(),n(null),a(!1)}};return g.jsx(px.Provider,{value:h,children:t})},Xd=()=>{const t=A.useContext(px);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gx=A.createContext(void 0),Qd=()=>{const t=A.useContext(gx);if(!t)throw new Error("useUser deve ser usado dentro de um UserProvider");return t},kN=({children:t})=>{const[e,n]=Wt("focusfrog_userName",null),[i,a]=Wt("focusfrog_onboardingCompleted",!1),{user:l}=Xd(),c=f=>{n(f)},d=()=>{a(!0)};A.useEffect(()=>{var f;if(l&&!i&&!e&&((f=l.user_metadata)!=null&&f.full_name)){const y=l.user_metadata.full_name.split(" ")[0];c(y)}},[l,i,e,c]);const h={userName:e,onboardingCompleted:i,setUserName:c,completeOnboarding:d};return g.jsx(gx.Provider,{value:h,children:t})},jN=()=>{};var ew={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},ON=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|f>>6,S=f&63;h||(S=64,c||(b=64)),i.push(n[y],n[v],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ON(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||f==null||v==null)throw new RN;const b=l<<2|d>>4;if(i.push(b),f!==64){const S=d<<4&240|f>>2;if(i.push(S),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DN=function(t){const e=yx(t);return vx.encodeByteArray(e,!0)},bx=function(t){return DN(t).replace(/\./g,"")},_x=function(t){try{return vx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=()=>NN().__FIREBASE_DEFAULTS__,MN=()=>{if(typeof process>"u"||typeof ew>"u")return;const t=ew.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_x(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return jN()||IN()||MN()||LN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PN=t=>{var e,n;return(n=(e=ty())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wx=()=>{var t;return(t=ty())==null?void 0:t.config},Sx=t=>{var e;return(e=ty())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BN(t){return(await fetch(t,{credentials:"include"})).ok}const kl={};function zN(){const t={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?t.emulator.push(e):t.prod.push(e);return t}function VN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tw=!1;function $N(t,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||kl[t]===e||kl[t]||tw)return;kl[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=zN().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tw=!0,c()},b}function y(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=VN(i),S=n("text"),T=document.getElementById(S)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),k=n("preprendIcon"),O=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;d(j),y(C,x);const M=f();h(O,k),j.append(O,T,C,M),document.body.appendChild(j)}l?(T.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ex(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function KN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="FirebaseError";class Os extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=WN,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xi.prototype.create)}}class Xi{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?YN(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Os(a,d,i)}}function YN(t,e){return t.replace(XN,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const XN=/\{\$([^}]+)}/g;function QN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(nw(l)&&nw(c)){if(!Vr(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function JN(t,e){const n=new ZN(t,e);return n.subscribe.bind(n)}class ZN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");eI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Gm),a.error===void 0&&(a.error=Gm),a.complete===void 0&&(a.complete=Gm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=1e3,nI=2,sI=14400*1e3,iI=.5;function sw(t,e=tI,n=nI){const i=e*Math.pow(n,t),a=Math.round(iI*i*(Math.random()-.5)*2);return Math.min(sI,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new UN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oI(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aI(t){return t===Ar?void 0:t}function oI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const cI={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},uI=tt.INFO,dI={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},hI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=dI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=uI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const fI=(t,e)=>e.some(n=>t instanceof n);let iw,rw;function mI(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pI(){return rw||(rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cx=new WeakMap,eg=new WeakMap,Ax=new WeakMap,Km=new WeakMap,sy=new WeakMap;function gI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(si(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Cx.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function yI(t){if(eg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});eg.set(t,e)}let tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ax.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vI(t){tg=t(tg)}function bI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Wm(this),e,...n);return Ax.set(i,e.sort?e.sort():[e]),si(i)}:pI().includes(t)?function(...e){return t.apply(Wm(this),e),si(Cx.get(this))}:function(...e){return si(t.apply(Wm(this),e))}}function _I(t){return typeof t=="function"?bI(t):(t instanceof IDBTransaction&&yI(t),fI(t,mI())?new Proxy(t,tg):t)}function si(t){if(t instanceof IDBRequest)return gI(t);if(Km.has(t))return Km.get(t);const e=_I(t);return e!==t&&(Km.set(t,e),sy.set(e,t)),e}const Wm=t=>sy.get(t);function Zd(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=si(c);return i&&c.addEventListener("upgradeneeded",h=>{i(si(c.result),h.oldVersion,h.newVersion,si(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}function Ym(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),si(n).then(()=>{})}const wI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],Xm=new Map;function aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=SI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||wI.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return Xm.set(e,l),l}vI(t=>({...t,get:(e,n,i)=>aw(e,n)||t.get(e,n,i),has:(e,n)=>!!aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function EI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ng="@firebase/app",ow="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new ny("@firebase/app"),xI="@firebase/app-compat",CI="@firebase/analytics-compat",AI="@firebase/analytics",kI="@firebase/app-check-compat",jI="@firebase/app-check",OI="@firebase/auth",RI="@firebase/auth-compat",DI="@firebase/database",NI="@firebase/data-connect",II="@firebase/database-compat",MI="@firebase/functions",LI="@firebase/functions-compat",PI="@firebase/installations",UI="@firebase/installations-compat",BI="@firebase/messaging",zI="@firebase/messaging-compat",VI="@firebase/performance",$I="@firebase/performance-compat",FI="@firebase/remote-config",qI="@firebase/remote-config-compat",HI="@firebase/storage",GI="@firebase/storage-compat",KI="@firebase/firestore",WI="@firebase/ai",YI="@firebase/firestore-compat",XI="firebase",QI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",JI={[ng]:"fire-core",[xI]:"fire-core-compat",[AI]:"fire-analytics",[CI]:"fire-analytics-compat",[jI]:"fire-app-check",[kI]:"fire-app-check-compat",[OI]:"fire-auth",[RI]:"fire-auth-compat",[DI]:"fire-rtdb",[NI]:"fire-data-connect",[II]:"fire-rtdb-compat",[MI]:"fire-fn",[LI]:"fire-fn-compat",[PI]:"fire-iid",[UI]:"fire-iid-compat",[BI]:"fire-fcm",[zI]:"fire-fcm-compat",[VI]:"fire-perf",[$I]:"fire-perf-compat",[FI]:"fire-rc",[qI]:"fire-rc-compat",[HI]:"fire-gcs",[GI]:"fire-gcs-compat",[KI]:"fire-fst",[YI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[XI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,ZI=new Map,ig=new Map;function lw(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){const e=t.name;if(ig.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;ig.set(e,t);for(const n of Ed.values())lw(n,t);for(const n of ZI.values())lw(n,t);return!0}function fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Xi("app","Firebase",e3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=QI;function kx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:sg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Gi.create("bad-app-name",{appName:String(a)});if(n||(n=wx()),!n)throw Gi.create("no-options");const l=Ed.get(a);if(l){if(Vr(n,l.options)&&Vr(i,l.config))return l;throw Gi.create("duplicate-app",{appName:a})}const c=new lI(a);for(const h of ig.values())c.addComponent(h);const d=new t3(n,i,c);return Ed.set(a,d),d}function jx(t=sg){const e=Ed.get(t);if(!e&&t===sg&&wx())return kx();if(!e)throw Gi.create("no-app",{appName:t});return e}function Xn(t,e,n){let i=JI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(c.join(" "));return}fs(new Jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-heartbeat-database",s3=1,zl="firebase-heartbeat-store";let Qm=null;function Ox(){return Qm||(Qm=Zd(n3,s3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),Qm}async function i3(t){try{const n=(await Ox()).transaction(zl),i=await n.objectStore(zl).get(Rx(t));return await n.done,i}catch(e){if(e instanceof Os)ii.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function cw(t,e){try{const i=(await Ox()).transaction(zl,"readwrite");await i.objectStore(zl).put(e,Rx(t)),await i.done}catch(n){if(n instanceof Os)ii.warn(n.message);else{const i=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(i.message)}}}function Rx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=1024,a3=30;class o3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=uw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>a3){const c=u3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uw(),{heartbeatsToSend:i,unsentEntries:a}=l3(this._heartbeatsCache.heartbeats),l=bx(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ii.warn(n),""}}}function uw(){return new Date().toISOString().substring(0,10)}function l3(t,e=r3){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),dw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),dw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class c3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ex()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dw(t){return bx(JSON.stringify({version:2,heartbeats:t})).length}function u3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){fs(new Jn("platform-logger",e=>new TI(e),"PRIVATE")),fs(new Jn("heartbeat",e=>new o3(e),"PRIVATE")),Xn(ng,ow,t),Xn(ng,ow,"esm2020"),Xn("fire-js","")}d3("");var h3="firebase",f3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(h3,f3,"app");const Dx="@firebase/installations",iy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=1e4,Ix=`w:${iy}`,Mx="FIS_v2",m3="https://firebaseinstallations.googleapis.com/v1",p3=3600*1e3,g3="installations",y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$r=new Xi(g3,y3,v3);function Lx(t){return t instanceof Os&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px({projectId:t}){return`${m3}/projects/${t}/installations`}function Ux(t){return{token:t.token,requestStatus:2,expiresIn:_3(t.expiresIn),creationTime:Date.now()}}async function Bx(t,e){const i=(await e.json()).error;return $r.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function zx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function b3(t,{refreshToken:e}){const n=zx(t);return n.append("Authorization",w3(e)),n}async function Vx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _3(t){return Number(t.replace("s","000"))}function w3(t){return`${Mx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Px(t),a=zx(t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={fid:n,authVersion:Mx,appId:t.appId,sdkVersion:Ix},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await Vx(()=>fetch(i,d));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Ux(f.authToken)}}else throw await Bx("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=/^[cdef][\w-]{21}$/,rg="";function x3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=C3(t);return E3.test(n)?n:rg}catch{return rg}}function C3(t){return T3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;function qx(t,e){const n=eh(t);Hx(n,e),A3(n,e)}function Hx(t,e){const n=Fx.get(t);if(n)for(const i of n)i(e)}function A3(t,e){const n=k3();n&&n.postMessage({key:t,fid:e}),j3()}let Ir=null;function k3(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=t=>{Hx(t.data.key,t.data.fid)}),Ir}function j3(){Fx.size===0&&Ir&&(Ir.close(),Ir=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="firebase-installations-database",R3=1,Fr="firebase-installations-store";let Jm=null;function ry(){return Jm||(Jm=Zd(O3,R3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fr)}}})),Jm}async function xd(t,e){const n=eh(t),a=(await ry()).transaction(Fr,"readwrite"),l=a.objectStore(Fr),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&qx(t,e.fid),e}async function Gx(t){const e=eh(t),i=(await ry()).transaction(Fr,"readwrite");await i.objectStore(Fr).delete(e),await i.done}async function th(t,e){const n=eh(t),a=(await ry()).transaction(Fr,"readwrite"),l=a.objectStore(Fr),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&qx(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(t){let e;const n=await th(t.appConfig,i=>{const a=D3(i),l=N3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===rg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function D3(t){const e=t||{fid:x3(),registrationStatus:0};return Kx(e)}function N3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject($r.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=I3(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:M3(t)}:{installationEntry:e}}async function I3(t,e){try{const n=await S3(t,e);return xd(t.appConfig,n)}catch(n){throw Lx(n)&&n.customData.serverCode===409?await Gx(t.appConfig):await xd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function M3(t){let e=await hw(t.appConfig);for(;e.registrationStatus===1;)await $x(100),e=await hw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await ay(t);return i||n}return e}function hw(t){return th(t,e=>{if(!e)throw $r.create("installation-not-found");return Kx(e)})}function Kx(t){return L3(t)?{fid:t.fid,registrationStatus:0}:t}function L3(t){return t.registrationStatus===1&&t.registrationTime+Nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3({appConfig:t,heartbeatServiceProvider:e},n){const i=U3(t,n),a=b3(t,n),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={installation:{sdkVersion:Ix,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await Vx(()=>fetch(i,d));if(h.ok){const f=await h.json();return Ux(f)}else throw await Bx("Generate Auth Token",h)}function U3(t,{fid:e}){return`${Px(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(t,e=!1){let n;const i=await th(t.appConfig,l=>{if(!Wx(l))throw $r.create("not-registered");const c=l.authToken;if(!e&&V3(c))return l;if(c.requestStatus===1)return n=B3(t,e),l;{if(!navigator.onLine)throw $r.create("app-offline");const d=F3(l);return n=z3(t,d),d}});return n?await n:i.authToken}async function B3(t,e){let n=await fw(t.appConfig);for(;n.authToken.requestStatus===1;)await $x(100),n=await fw(t.appConfig);const i=n.authToken;return i.requestStatus===0?oy(t,e):i}function fw(t){return th(t,e=>{if(!Wx(e))throw $r.create("not-registered");const n=e.authToken;return q3(n)?{...e,authToken:{requestStatus:0}}:e})}async function z3(t,e){try{const n=await P3(t,e),i={...e,authToken:n};return await xd(t.appConfig,i),n}catch(n){if(Lx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Gx(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await xd(t.appConfig,i)}throw n}}function Wx(t){return t!==void 0&&t.registrationStatus===2}function V3(t){return t.requestStatus===2&&!$3(t)}function $3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+p3}function F3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function q3(t){return t.requestStatus===1&&t.requestTime+Nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t){const e=t,{installationEntry:n,registrationPromise:i}=await ay(e);return i?i.catch(console.error):oy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e=!1){const n=t;return await K3(n),(await oy(n,e)).token}async function K3(t){const{registrationPromise:e}=await ay(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){if(!t||!t.options)throw Zm("App Configuration");if(!t.name)throw Zm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Zm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Zm(t){return $r.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="installations",Y3="installations-internal",X3=t=>{const e=t.getProvider("app").getImmediate(),n=W3(e),i=fo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Q3=t=>{const e=t.getProvider("app").getImmediate(),n=fo(e,Yx).getImmediate();return{getId:()=>H3(n),getToken:a=>G3(n,a)}};function J3(){fs(new Jn(Yx,X3,"PUBLIC")),fs(new Jn(Y3,Q3,"PRIVATE"))}J3();Xn(Dx,iy);Xn(Dx,iy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="analytics",Z3="firebase_id",e5="origin",t5=60*1e3,n5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new ny("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new Xi("analytics","Analytics",s5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){if(!t.startsWith(ly)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return Qt.warn(e.message),""}return t}function Xx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function r5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function a5(t,e){const n=r5("firebase-js-sdk-policy",{createScriptURL:i5}),i=document.createElement("script"),a=`${ly}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function o5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function l5(t,e,n,i,a,l){const c=i[a];try{if(c)await e[c];else{const h=(await Xx(n)).find(f=>f.measurementId===a);h&&await e[h.appId]}}catch(d){Qt.error(d)}t("config",a,l)}async function c5(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await Xx(n);for(const h of c){const f=d.find(v=>v.measurementId===h),y=f&&e[f.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){Qt.error(l)}}function u5(t,e,n,i){async function a(l,...c){try{if(l==="event"){const[d,h]=c;await c5(t,e,n,d,h)}else if(l==="config"){const[d,h]=c;await l5(t,e,n,i,d,h)}else if(l==="consent"){const[d,h]=c;t("consent",d,h)}else if(l==="get"){const[d,h,f]=c;t("get",d,h,f)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Qt.error(d)}}return a}function d5(t,e,n,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=u5(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function h5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ly)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=30,m5=1e3;class p5{constructor(e={},n=m5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Qx=new p5;function g5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function y5(t){var c;const{appId:e,apiKey:n}=t,i={method:"GET",headers:g5(n)},a=n5.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let d="";try{const h=await l.json();(c=h.error)!=null&&c.message&&(d=h.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function v5(t,e=Qx,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw On.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw On.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new w5;return setTimeout(async()=>{d.abort()},t5),Jx({appId:i,apiKey:a,measurementId:l},c,d,e)}async function Jx(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=Qx){var d;const{appId:l,measurementId:c}=t;try{await b5(i,e)}catch(h){if(c)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await y5(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!_5(f)){if(a.deleteThrottleMetadata(l),c)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const y=Number((d=f==null?void 0:f.customData)==null?void 0:d.httpStatus)===503?sw(n,a.intervalMillis,f5):sw(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return a.setThrottleMetadata(l,v),Qt.debug(`Calling attemptFetch again in ${y} millis`),Jx(t,v,i,a)}}function b5(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _5(t){if(!(t instanceof Os)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class w5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S5(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,c={...i,send_to:l};t("event",n,c)}}async function T5(t,e,n,i){{const a=await e;t("config",a,{update:!0,user_id:n})}}async function E5(t,e,n,i){if(i&&i.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(){if(Ex())try{await xx()}catch(t){return Qt.warn(On.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qt.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function C5(t,e,n,i,a,l,c){const d=v5(t);d.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Qt.error(b)),e.push(d);const h=x5().then(b=>{if(b)return i.getId()}),[f,y]=await Promise.all([d,h]);h5(l)||a5(l,f.measurementId),a("js",new Date);const v=(c==null?void 0:c.config)??{};return v[e5]="firebase",v.update=!0,y!=null&&(v[Z3]=y),a("config",f.measurementId,v),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.app=e}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},mw=[];const pw={};let ep="dataLayer",k5="gtag",gw,nh,yw=!1;function j5(){const t=[];if(Tx()&&t.push("This is a browser extension environment."),KN()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});Qt.warn(n.message)}}function O5(t,e,n){j5();const i=t.options.appId;if(!i)throw On.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(Pr[i]!=null)throw On.create("already-exists",{id:i});if(!yw){o5(ep);const{wrappedGtag:l,gtagCore:c}=d5(Pr,mw,pw,ep,k5);nh=l,gw=c,yw=!0}return Pr[i]=C5(t,mw,pw,e,gw,ep,n),new A5(t)}function R5(t=jx()){t=ps(t);const e=fo(t,Cd);return e.isInitialized()?e.getImmediate():D5(t)}function D5(t,e={}){const n=fo(t,Cd);if(n.isInitialized()){const a=n.getImmediate();if(Vr(e,n.getOptions()))return a;throw On.create("already-initialized")}return n.initialize({options:e})}function N5(t,e,n){t=ps(t),T5(nh,Pr[t.app.options.appId],e).catch(i=>Qt.error(i))}function I5(t,e,n){t=ps(t),E5(nh,Pr[t.app.options.appId],e,n).catch(i=>Qt.error(i))}function cy(t,e,n,i){t=ps(t),S5(nh,Pr[t.app.options.appId],e,n,i).catch(a=>Qt.error(a))}const vw="@firebase/analytics",bw="0.10.19";function M5(){fs(new Jn(Cd,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return O5(i,a,n)},"PUBLIC")),fs(new Jn("analytics-internal",t,"PRIVATE")),Xn(vw,bw),Xn(vw,bw,"esm2020");function t(e){try{const n=e.getProvider(Cd).getImmediate();return{logEvent:(i,a,l)=>cy(n,i,a,l),setUserProperties:(i,a)=>I5(n,i,a)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}M5();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="/firebase-messaging-sw.js",P5="/firebase-cloud-messaging-push-scope",Zx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",U5="https://fcmregistrations.googleapis.com/v1",eC="google.c.a.c_id",B5="google.c.a.c_l",z5="google.c.a.ts",V5="google.c.a.e",_w=1e4;var ww;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ww||(ww={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Vl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Vl||(Vl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $5(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),a=new Uint8Array(i.length);for(let l=0;l<i.length;++l)a[l]=i.charCodeAt(l);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="fcm_token_details_db",F5=5,Sw="fcm_token_object_Store";async function q5(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(tp))return null;let e=null;return(await Zd(tp,F5,{upgrade:async(i,a,l,c)=>{if(a<2||!i.objectStoreNames.contains(Sw))return;const d=c.objectStore(Sw),h=await d.index("fcmSenderId").get(t);if(await d.clear(),!!h){if(a===2){const f=h;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Js(f.vapidKey)}}}else if(a===3){const f=h;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Js(f.auth),p256dh:Js(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Js(f.vapidKey)}}}else if(a===4){const f=h;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Js(f.auth),p256dh:Js(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Js(f.vapidKey)}}}}}})).close(),await Ym(tp),await Ym("fcm_vapid_details_db"),await Ym("undefined"),H5(e)?e:null}function H5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="firebase-messaging-database",K5=1,$l="firebase-messaging-store";let np=null;function tC(){return np||(np=Zd(G5,K5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($l)}}})),np}async function W5(t){const e=nC(t),i=await(await tC()).transaction($l).objectStore($l).get(e);if(i)return i;{const a=await q5(t.appConfig.senderId);if(a)return await uy(t,a),a}}async function uy(t,e){const n=nC(t),a=(await tC()).transaction($l,"readwrite");return await a.objectStore($l).put(e,n),await a.done,e}function nC({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Rn=new Xi("messaging","Messaging",Y5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){const n=await hy(t),i=sC(e),a={method:"POST",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(dy(t.appConfig),a)).json()}catch(c){throw Rn.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw Rn.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw Rn.create("token-subscribe-no-token");return l.token}async function Q5(t,e){const n=await hy(t),i=sC(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(`${dy(t.appConfig)}/${e.token}`,a)).json()}catch(c){throw Rn.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw Rn.create("token-update-failed",{errorInfo:c})}if(!l.token)throw Rn.create("token-update-no-token");return l.token}async function J5(t,e){const i={method:"DELETE",headers:await hy(t)};try{const l=await(await fetch(`${dy(t.appConfig)}/${e}`,i)).json();if(l.error){const c=l.error.message;throw Rn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(a){throw Rn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function dy({projectId:t}){return`${U5}/projects/${t}/registrations`}async function hy({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function sC({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:e,p256dh:t}};return i!==Zx&&(a.web.applicationPubKey=i),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=10080*60*1e3;async function e4(t){const e=await n4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Js(e.getKey("auth")),p256dh:Js(e.getKey("p256dh"))},i=await W5(t.firebaseDependencies);if(i){if(s4(i.subscriptionOptions,n))return Date.now()>=i.createTime+Z5?t4(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await J5(t.firebaseDependencies,i.token)}catch(a){console.warn(a)}return Tw(t.firebaseDependencies,n)}else return Tw(t.firebaseDependencies,n)}async function t4(t,e){try{const n=await Q5(t.firebaseDependencies,e),i={...e,token:n,createTime:Date.now()};return await uy(t.firebaseDependencies,i),n}catch(n){throw n}}async function Tw(t,e){const i={token:await X5(t,e),createTime:Date.now(),subscriptionOptions:e};return await uy(t,i),i.token}async function n4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$5(e)})}function s4(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,a=e.auth===t.auth,l=e.p256dh===t.p256dh;return n&&i&&a&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return i4(e,t),r4(e,t),a4(e,t),e}function i4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const a=e.notification.image;a&&(t.notification.image=a);const l=e.notification.icon;l&&(t.notification.icon=l)}function r4(t,e){e.data&&(t.data=e.data)}function a4(t,e){var a,l,c,d;if(!e.fcmOptions&&!((a=e.notification)!=null&&a.click_action))return;t.fcmOptions={};const n=((l=e.fcmOptions)==null?void 0:l.link)??((c=e.notification)==null?void 0:c.click_action);n&&(t.fcmOptions.link=n);const i=(d=e.fcmOptions)==null?void 0:d.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){return typeof t=="object"&&!!t&&eC in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){if(!t||!t.options)throw sp("App Configuration Object");if(!t.name)throw sp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw sp(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function sp(t){return Rn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=l4(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t){try{t.swRegistration=await navigator.serviceWorker.register(L5,{scope:P5}),t.swRegistration.update().catch(()=>{}),await d4(t.swRegistration)}catch(e){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function d4(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${_w} ms`)),_w),a=t.installing||t.waiting;t.active?(clearTimeout(i),e()):a?a.onstatechange=l=>{var c;((c=l.target)==null?void 0:c.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e){if(!e&&!t.swRegistration&&await u4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Zx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e){if(!navigator)throw Rn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Rn.create("permission-blocked");return await f4(t,e==null?void 0:e.vapidKey),await h4(t,e==null?void 0:e.serviceWorkerRegistration),e4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e,n){const i=g4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[eC],message_name:n[B5],message_time:n[z5],message_device_time:Math.floor(Date.now()/1e3)})}function g4(t){switch(t){case Vl.NOTIFICATION_CLICKED:return"notification_open";case Vl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Vl.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Ew(n)):t.onMessageHandler.next(Ew(n)));const i=n.data;o4(i)&&i[V5]==="1"&&await p4(t,n.messageType,i)}const xw="@firebase/messaging",Cw="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=t=>{const e=new c4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>y4(e,n)),e},b4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>m4(e,i)}};function _4(){fs(new Jn("messaging",v4,"PUBLIC")),fs(new Jn("messaging-internal",b4,"PRIVATE")),Xn(xw,Cw),Xn(xw,Cw,"esm2020")}_4();function iC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w4=iC,rC=new Xi("auth","Firebase",iC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new ny("@firebase/auth");function S4(t,...e){Ad.logLevel<=tt.WARN&&Ad.warn(`Auth (${oc}): ${t}`,...e)}function sd(t,...e){Ad.logLevel<=tt.ERROR&&Ad.error(`Auth (${oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,...e){throw fy(t,...e)}function Es(t,...e){return fy(t,...e)}function aC(t,e,n){const i={...w4(),[e]:n};return new Xi("auth","Firebase",i).create(e,{appName:t.name})}function Ur(t){return aC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return rC.create(t,...e)}function Ce(t,e,...n){if(!t)throw fy(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function ai(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function T4(){return Aw()==="http:"||Aw()==="https:"}function Aw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T4()||Tx()||"connection"in navigator)?navigator.onLine:!0}function x4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=FN()||HN()}get(){return E4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k4=new lc(3e4,6e4);function py(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mo(t,e,n,i,a={}){return lC(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ac({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...l};return qN()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Jd(t.emulatorConfig.host)&&(f.credentials="include"),oC.fetch()(await cC(t,t.config.apiHost,n,d),f)})}async function lC(t,e,n){t._canInitEmulator=!1;const i={...C4,...e};try{const a=new O4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fu(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Fu(t,"user-disabled",c);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw aC(t,y,f);ri(t,y)}}catch(a){if(a instanceof Os)throw a;ri(t,"network-request-failed",{message:String(a)})}}async function j4(t,e,n,i,a={}){const l=await mo(t,e,n,i,a);return"mfaPendingCredential"in l&&ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function cC(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?my(t.config,a):`${t.config.apiScheme}://${a}`;return A4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class O4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Es(this.auth,"network-request-failed")),k4.get())})}}function Fu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Es(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){return mo(t,"POST","/v1/accounts:delete",e)}async function kd(t,e){return mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D4(t,e=!1){const n=ps(t),i=await n.getIdToken(e),a=gy(i);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:jl(ip(a.auth_time)),issuedAtTime:jl(ip(a.iat)),expirationTime:jl(ip(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function gy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=_x(n);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function kw(t){const e=gy(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Os&&N4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function N4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){var v;const e=t.auth,n=await t.getIdToken(),i=await Fl(t,kd(e,{idToken:n}));Ce(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?uC(a.providerUserInfo):[],c=L4(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),f=d?h:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new og(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,y)}async function M4(t){const e=ps(t);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function uC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){const n=await lC(t,{},async()=>{const i=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await cC(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return t.emulatorConfig&&Jd(t.emulatorConfig.host)&&(h.credentials="include"),oC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U4(t,e){return mo(t,"POST","/v2/accounts:revokeToken",py(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=kw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await P4(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Qa;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new I4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new og(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D4(this,e)}reload(){return M4(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await Fl(this,R4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:S,providerData:T,stsTokenManager:x}=n;Ce(v&&x,e,"internal-error");const C=Qa.fromJSON(this.name,x);Ce(typeof v=="string",e,"internal-error"),Ni(i,e.name),Ni(a,e.name),Ce(typeof b=="boolean",e,"internal-error"),Ce(typeof S=="boolean",e,"internal-error"),Ni(l,e.name),Ni(c,e.name),Ni(d,e.name),Ni(h,e.name),Ni(f,e.name),Ni(y,e.name);const k=new us({uid:v,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:C,createdAt:f,lastLoginAt:y});return T&&Array.isArray(T)&&(k.providerData=T.map(O=>({...O}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,n,i=!1){const a=new Qa;a.updateFromServerResponse(n);const l=new us({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await jd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?uC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Qa;d.updateFromIdToken(i);const h=new us({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new og(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;function ni(t){ai(t instanceof Function,"Expected a class definition");let e=jw.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const Ow=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=id(this.userKey,a.apiKey,l),this.fullPersistenceKey=id("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kd(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ja(ni(Ow),e,i);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||ni(Ow);const c=id(i,e.config.apiKey,e.name);let d=null;for(const f of n)try{const y=await f._get(c);if(y){let v;if(typeof y=="string"){const b=await kd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await us._fromGetAccountInfoResponse(e,b,y)}else v=us._fromJSON(e,y);f!==l&&(d=v),l=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Ja(l,e,i):(l=h[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(c)}catch{}})),new Ja(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yC(e))return"Blackberry";if(vC(e))return"Webos";if(fC(e))return"Safari";if((e.includes("chrome/")||mC(e))&&!e.includes("edge/"))return"Chrome";if(gC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hC(t=sn()){return/firefox\//i.test(t)}function fC(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mC(t=sn()){return/crios\//i.test(t)}function pC(t=sn()){return/iemobile/i.test(t)}function gC(t=sn()){return/android/i.test(t)}function yC(t=sn()){return/blackberry/i.test(t)}function vC(t=sn()){return/webos/i.test(t)}function yy(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B4(t=sn()){var e;return yy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function z4(){return GN()&&document.documentMode===10}function bC(t=sn()){return yy(t)||gC(t)||vC(t)||yC(t)||/windows phone/i.test(t)||pC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e=[]){let n;switch(t){case"Browser":n=Rw(sn());break;case"Worker":n=`${Rw(sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const h=e(l);c(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e={}){return mo(t,"GET","/v2/passwordPolicy",py(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=6;class q4{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new V4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kd(this,{idToken:e}),i=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Ur(this));const n=e?ps(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $4(this),n=new q4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await U4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_C(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vy(t){return ps(t)}class Dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=JN(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G4(t){by=t}function K4(t){return by.loadJS(t)}function W4(){return by.gapiScript}function Y4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){const n=fo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Vr(l,e??{}))return a;ri(a,"already-initialized")}return n.initialize({options:e})}function Q4(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function J4(t,e,n){const i=vy(t);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=wC(e),{host:c,port:d}=Z4(e),h=d===null?"":`:${d}`,f={url:`${l}//${c}${h}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Vr(f,i.config.emulator)&&Vr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Jd(c)?(BN(`${l}//${c}${h}`),$N("Auth",!0)):eM()}function wC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z4(t){const e=wC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Nw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Nw(c)}}}function Nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return j4(t,"POST","/v1/accounts:signInWithIdp",py(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="http://localhost";class qr extends SC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new qr(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Za(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:tM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends TC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends cc{constructor(){super("facebook.com")}static credential(e){return qr._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qr._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends cc{constructor(){super("github.com")}static credential(e){return qr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends cc{constructor(){super("twitter.com")}static credential(e,n){return qr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await us._fromIdTokenResponse(e,i,a),c=Iw(i);return new oo({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Iw(i);return new oo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends Os{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Od(e,n,i,a)}}function EC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Od._fromErrorAndOperation(t,l,e,i):l})}async function nM(t,e,n=!1){const i=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e,n=!1){const{auth:i}=t;if(ei(i.app))return Promise.reject(Ur(i));const a="reauthenticate";try{const l=await Fl(t,EC(i,a,e,t),n);Ce(l.idToken,i,"internal-error");const c=gy(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(t.uid===d,i,"user-mismatch"),oo._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ri(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e,n=!1){if(ei(t.app))return Promise.reject(Ur(t));const i="signIn",a=await EC(t,i,e),l=await oo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function rM(t,e,n,i){return ps(t).onIdTokenChanged(e,n,i)}function aM(t,e,n){return ps(t).beforeAuthStateChanged(e,n)}function oM(t,e,n,i){return ps(t).onAuthStateChanged(e,n,i)}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=1e3,cM=10;class CC extends xC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);z4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cM):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const uM=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends xC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AC.type="SESSION";const kC=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new sh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async f=>f(n.origin,l)),h=await dM(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,h)=>{const f=_y("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function fM(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function mM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gM(){return jC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firebaseLocalStorageDb",yM=1,Dd="firebaseLocalStorage",RC="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(t,e){return t.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function vM(){const t=indexedDB.deleteDatabase(OC);return new uc(t).toPromise()}function lg(){const t=indexedDB.open(OC,yM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Dd,{keyPath:RC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Dd)?e(i):(i.close(),await vM(),e(await lg()))})})}async function Mw(t,e,n){const i=ih(t,!0).put({[RC]:e,value:n});return new uc(i).toPromise()}async function bM(t,e){const n=ih(t,!1).get(e),i=await new uc(n).toPromise();return i===void 0?null:i.value}function Lw(t,e){const n=ih(t,!0).delete(e);return new uc(n).toPromise()}const _M=800,wM=3;class DC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>wM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(gM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await mM(),!this.activeServiceWorker)return;this.sender=new hM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await Mw(e,Rd,"1"),await Lw(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ih(a,!1).getAll();return new uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DC.type="LOCAL";const SM=DC;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t,e){return e?ni(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends SC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EM(t){return iM(t.auth,new wy(t),t.bypassAuthState)}function xM(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),sM(n,new wy(t),t.bypassAuthState)}async function CM(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),nM(n,new wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EM;case"linkViaPopup":case"linkViaRedirect":return CM;case"reauthViaPopup":case"reauthViaRedirect":return xM;default:ri(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new lc(2e3,1e4);class $a extends NC{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AM.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="pendingRedirect",rd=new Map;class jM extends NC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const i=await OM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OM(t,e){const n=NM(e),i=DM(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function RM(t,e){rd.set(t._key(),e)}function DM(t){return ni(t._redirectPersistence)}function NM(t){return id(kM,t.config.apiKey,t.name)}async function IM(t,e,n=!1){if(ei(t.app))return Promise.reject(Ur(t));const i=vy(t),a=TM(i,e),c=await new jM(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=600*1e3;class LM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!IC(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Es(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e={}){return mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zM=/^https?/;async function VM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UM(t);for(const n of e)try{if($M(n))return}catch{}ri(t,"unauthorized-domain")}function $M(t){const e=ag(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!zM.test(n))return!1;if(BM.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new lc(3e4,6e4);function Uw(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qM(t){return new Promise((e,n)=>{var a,l,c;function i(){Uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uw(),n(Es(t,"network-request-failed"))},timeout:FM.get()})}if((l=(a=xs().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=xs().gapi)!=null&&c.load)i();else{const d=Y4("iframefcb");return xs()[d]=()=>{gapi.load?i():n(Es(t,"network-request-failed"))},K4(`${W4()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw ad=null,e})}let ad=null;function HM(t){return ad=ad||qM(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new lc(5e3,15e3),KM="__/auth/iframe",WM="emulator/auth/iframe",YM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QM(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?my(e,WM):`https://${t.config.authDomain}/${KM}`,i={apiKey:e.apiKey,appName:t.name,v:oc},a=XM.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ac(i).slice(1)}`}async function JM(t){const e=await HM(t),n=xs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:QM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Es(t,"network-request-failed"),d=xs().setTimeout(()=>{l(c)},GM.get());function h(){xs().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e6=500,t6=600,n6="_blank",s6="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i6(t,e,n,i=e6,a=t6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h={...ZM,width:i.toString(),height:a.toString(),top:l,left:c},f=sn().toLowerCase();n&&(d=mC(f)?n6:n),hC(f)&&(e=e||s6,h.scrollbars="yes");const y=Object.entries(h).reduce((b,[S,T])=>`${b}${S}=${T},`,"");if(B4(f)&&d!=="_self")return r6(e||"",d),new Bw(null);const v=window.open(e||"",d,y);Ce(v,t,"popup-blocked");try{v.focus()}catch{}return new Bw(v)}function r6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="__/auth/handler",o6="emulator/auth/handler",l6=encodeURIComponent("fac");async function zw(t,e,n,i,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:oc,eventId:a};if(e instanceof TC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",QN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof cc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await t._getAppCheckToken(),f=h?`#${l6}=${encodeURIComponent(h)}`:"";return`${c6(t)}?${ac(d).slice(1)}${f}`}function c6({config:t}){return t.emulator?my(t,o6):`https://${t.authDomain}/${a6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class u6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kC,this._completeRedirectFn=IM,this._overrideRedirectResult=RM}async _openPopup(e,n,i,a){var c;ai((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await zw(e,n,i,ag(),a);return i6(e,l,_y())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await zw(e,n,i,ag(),a);return fM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ai(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await JM(e),i=new LM(e);return n.register("authEvent",a=>(Ce(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rp,{type:rp},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[rp];l!==void 0&&n(!!l),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bC()||fC()||yy()}}const d6=u6;var Vw="@firebase/auth",$w="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m6(t){fs(new Jn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_C(t)},f=new H4(i,a,l,h);return Q4(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fs(new Jn("auth-internal",e=>{const n=vy(e.getProvider("auth").getImmediate());return(i=>new h6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(Vw,$w,f6(t)),Xn(Vw,$w,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=300,g6=Sx("authIdTokenMaxAge")||p6;let Fw=null;const y6=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>g6)return;const a=n==null?void 0:n.token;Fw!==a&&(Fw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function v6(t=jx()){const e=fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X4(t,{popupRedirectResolver:d6,persistence:[SM,uM,kC]}),i=Sx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=y6(l.toString());aM(n,c,()=>c(n.currentUser)),rM(n,d=>c(d))}}const a=PN("auth");return a&&J4(n,`http://${a}`),n}function b6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}G4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Es("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",b6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m6("Browser");const _6={apiKey:"AIzaSyC4iDYWSOU9Naqp9O29f1pvzXfS8v6K5fU",authDomain:"focusfroggit-81838821-bbab8.firebaseapp.com",projectId:"focusfroggit-81838821-bbab8",storageBucket:"focusfroggit-81838821-bbab8.firebasestorage.app",messagingSenderId:"878346894346",appId:"1:878346894346:web:c0517918bd73569e1f73f3",measurementId:"G-REN0MZQYW6"},MC=kx(_6);let ap=null,op=null;const w6=()=>(ap||(ap=v6(MC)),ap),Sy=()=>(op||(op=R5(MC)),op);oM(w6(),t=>{if(t){const e=Sy();e&&N5(e,t.uid)}});const S6=t=>{const e=Sy();e&&cy(e,"pwa_installed",{source:t})},T6=()=>{const t=Sy();t&&cy(t,"new_routine_created")},LC=A.createContext({canInstall:!1,triggerInstall:()=>console.warn("triggerInstall chamado fora de um PWAInstallProvider")}),E6=()=>A.useContext(LC),x6=({children:t})=>{const e=A.useRef(null),[n,i]=A.useState(!1);A.useEffect(()=>{const c=h=>{h.preventDefault(),e.current=h,i(!0),console.log("Evento beforeinstallprompt capturado com sucesso!")};window.addEventListener("beforeinstallprompt",c);const d=()=>{console.log("PWA instalado com sucesso!"),i(!1),e.current=null};return window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const l={canInstall:n,triggerInstall:async()=>{if(e.current){console.log("A acionar o prompt de instalao..."),await e.current.prompt();const{outcome:c}=await e.current.userChoice;console.log(`Escolha do utilizador: ${c}`),c==="accepted"&&(console.log("O utilizador aceitou a instalao. A rastrear o evento..."),S6("install_button"),i(!1),e.current=null)}else console.warn("O evento de instalao no est disponvel.")}};return g.jsx(LC.Provider,{value:l,children:t})},qw={"light-theme":{colors:{"--primary-color":"#2563eb","--primary-color-hover":"#1d4ed8","--secondary-color":"#dbeafe","--accent-color":"#f59e0b","--accent-color-hover":"#d97706","--success-color":"#10b981","--danger-color":"#ef4444","--background-color":"#f3f4f6","--surface-color":"#ffffff","--surface-secondary-color":"#f9fafb","--text-color":"#1f2937","--text-secondary-color":"#6b7280","--text-light-color":"#ffffff","--text-on-primary":"#ffffff","--text-on-accent":"#ffffff","--border-color":"#e5e7eb","--border-subtle-color":"#f3f4f6","--quadrant-do-bg":"#fee2e2","--quadrant-schedule-bg":"#dbeafe","--quadrant-delegate-bg":"#fef3c7","--quadrant-eliminate-bg":"#e5e7eb"},preview:"linear-gradient(to bottom right, #f3f4f6, #ffffff)"},"dark-theme":{colors:{"--primary-color":"#3B82F6","--primary-color-hover":"#2563EB","--secondary-color":"#374151","--accent-color":"#FBBF24","--accent-color-hover":"#F59E0B","--accent-color-light":"#FCD34D","--accent-color-glow":"rgba(251, 191, 36, 0.4)","--accent-color-dark":"#B45309","--success-color":"#10B981","--danger-color":"#EF4444","--background-color":"#111827","--surface-color":"#1F2937","--surface-secondary-color":"#374151","--text-color":"#F3F4F6","--text-secondary-color":"#9CA3AF","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#111827","--border-color":"#374151","--border-subtle-color":"#1F2937","--quadrant-do-bg":"rgba(239, 68, 68, 0.1)","--quadrant-schedule-bg":"rgba(59, 130, 246, 0.1)","--quadrant-delegate-bg":"rgba(245, 158, 11, 0.1)","--quadrant-eliminate-bg":"rgba(107, 114, 128, 0.1)"},preview:"linear-gradient(to bottom right, #1F2937, #111827)"},"forest-theme":{colors:{"--primary-color":"#2F855A","--primary-color-hover":"#276749","--secondary-color":"#C6F6D5","--accent-color":"#DD6B20","--accent-color-hover":"#C05621","--success-color":"#38A169","--danger-color":"#E53E3E","--background-color":"#F0FFF4","--surface-color":"#FFFFFF","--surface-secondary-color":"#EDF2F7","--text-color":"#2D3748","--text-secondary-color":"#4A5568","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#FFFFFF","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#C6F6D5","--quadrant-delegate-bg":"#FEEBC8","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #F0FFF4, #C6F6D5)"},"ocean-theme":{colors:{"--primary-color":"#3182CE","--primary-color-hover":"#2B6CB0","--secondary-color":"#BEE3F8","--accent-color":"#F6E05E","--accent-color-hover":"#D69E2E","--success-color":"#38B2AC","--danger-color":"#E53E3E","--background-color":"#EBF8FF","--surface-color":"#FFFFFF","--surface-secondary-color":"#F7FAFC","--text-color":"#2A4365","--text-secondary-color":"#4A5568","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#2A4365","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#BEE3F8","--quadrant-delegate-bg":"#FEFCBF","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #EBF8FF, #BEE3F8)"},"sunset-theme":{colors:{"--primary-color":"#D53F8C","--primary-color-hover":"#B83280","--secondary-color":"#FED7E2","--accent-color":"#ED8936","--accent-color-hover":"#DD6B20","--success-color":"#38A169","--danger-color":"#C53030","--background-color":"#FFF5F7","--surface-color":"#FFFFFF","--surface-secondary-color":"#F7FAFC","--text-color":"#4A5568","--text-secondary-color":"#718096","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#FFFFFF","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#FBB6CE","--quadrant-delegate-bg":"#FEEBC8","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #FFF5F7, #FED7E2)"}},C6={"--safe-top":"env(safe-area-inset-top, 0px)","--safe-bottom":"env(safe-area-inset-bottom, 0px)","--safe-left":"env(safe-area-inset-left, 0px)","--safe-right":"env(safe-area-inset-right, 0px)","--font-inter":`'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif`,"--font-poppins":`'Poppins', "Helvetica Neue", Arial, sans-serif`,"--font-scale":"1.0","--sp-xs":"4px","--sp-sm":"8px","--sp-md":"12px","--sp-lg":"16px","--sp-xl":"24px","--sp-xxl":"32px","--border-radius-md":"8px","--border-radius-lg":"12px","--transition-fast":"200ms ease","--transition-slow":"400ms ease"},Hw="focusfrog_theme_data_v2",PC=A.createContext(void 0),Ty=()=>{const t=A.useContext(PC);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},A6={activeThemeId:"dark-theme",activeSoundId:"none",pontosFoco:0,unlockedRewards:["dark-theme","none"]},k6=({children:t})=>{const[e,n]=A.useState(A6),[i,a]=A.useState(!0);A.useEffect(()=>{try{const v=localStorage.getItem(Hw);v&&n(b=>({...b,...JSON.parse(v)}))}catch(v){console.error("Failed to load theme data from localStorage",v)}a(!1)},[]),A.useEffect(()=>{const v=qw[e.activeThemeId]||qw["dark-theme"],b=document.documentElement;Object.entries(C6).forEach(([S,T])=>{b.style.setProperty(S,T)}),Object.entries(v.colors).forEach(([S,T])=>{b.style.setProperty(S,T)})},[e.activeThemeId]);const l=A.useCallback((v,b)=>{n(S=>{const T=S[v],x=typeof b=="function"?b(T):b,C={...S,[v]:x};try{localStorage.setItem(Hw,JSON.stringify(C))}catch(k){console.error("Failed to save theme data",k)}return C})},[]),c=A.useCallback(v=>{l("activeThemeId",v)},[l]),d=A.useCallback(v=>{l("activeSoundId",v)},[l]),h=A.useCallback(v=>{l("pontosFoco",v)},[l]),f=A.useCallback(v=>{l("unlockedRewards",v)},[l]),y={...e,setActiveThemeId:c,setActiveSoundId:d,setPontosFoco:h,setUnlockedRewards:f,loadingTheme:i};return g.jsx(PC.Provider,{value:y,children:t})},j6=(t,e)=>{const n=t.createOscillator(),i=t.createGain();n.type="sine",n.frequency.setValueAtTime(440,t.currentTime),n.frequency.linearRampToValueAtTime(880,t.currentTime+.1),i.gain.setValueAtTime(.5,t.currentTime),i.gain.exponentialRampToValueAtTime(.001,t.currentTime+.2),n.connect(i),i.connect(e),n.start(t.currentTime),n.stop(t.currentTime+.2)},O6=(t,e)=>{const n=t.createOscillator(),i=t.createGain();n.type="triangle",n.frequency.setValueAtTime(523.25,t.currentTime),i.gain.setValueAtTime(.4,t.currentTime),i.gain.exponentialRampToValueAtTime(.001,t.currentTime+.8),n.connect(i),i.connect(e),n.start(t.currentTime),n.stop(t.currentTime+1)},Gw={timerStart:{id:"timerStart",generator:j6},timerEnd:{id:"timerEnd",generator:O6}};function qu(t){"serviceWorker"in navigator&&navigator.serviceWorker.controller?(navigator.serviceWorker.controller.postMessage(t),console.log("Mensagem enviada para o SW:",t.type)):console.warn("No foi possvel enviar a mensagem para o Service Worker. Controller no encontrado.")}const R6=1500,UC=A.createContext(void 0),po=()=>{const t=A.useContext(UC);if(!t)throw new Error("usePomodoro must be used within a PomodoroProvider");return t},D6=({children:t})=>{const{playEffect:e}=vn(),{setPontosFoco:n}=Ty(),[i,a]=Wt("focusfrog_pomodorosCompleted",0),[l,c]=A.useState(R6),[d]=A.useState("focus"),[h,f]=A.useState("idle"),[y,v]=A.useState(l),[b,S]=A.useState(""),[T,x]=Wt("focusfrog_activeTaskId",null),[C,k]=Wt("focusfrog_activeTaskTitle",null),[O,j]=A.useState(null),M=A.useRef(null),V=h==="running",$=A.useCallback(()=>{M.current&&clearInterval(M.current),f("idle"),v(l),x(null),k(null),qu({type:"CANCEL_NOTIFICATION"})},[l,x,k]);A.useEffect(()=>{if(h==="running")return M.current=setInterval(()=>{v(fe=>fe<=1?(clearInterval(M.current),setTimeout(()=>{e(Gw.timerEnd),a(U=>U+1),n(U=>U+25),T?j({taskId:T}):$()},0),0):fe-1)},1e3),()=>{M.current&&clearInterval(M.current)}},[h,e,n,T,a,$,j]);const z=A.useCallback((fe,U,Y)=>{e(Gw.timerStart),v(fe),f("running"),qu({type:"SCHEDULE_NOTIFICATION",payload:{title:U,body:Y,timestamp:Date.now()+fe*1e3}})},[e]),K=A.useCallback(()=>{T&&$(),z(l,"Sesso de Foco Concluda!","Hora de fazer uma pausa.")},[T,l,z,$]),X=A.useCallback((fe,U,Y)=>{const re=Y?Y*60:l;x(fe),k(U),z(re,"Sesso de Foco Concluda!",`A tarefa "${U}" terminou. Bom trabalho!`)},[l,z,x,k]),ee=A.useCallback(()=>{f("paused"),qu({type:"CANCEL_NOTIFICATION"})},[]),se=A.useCallback(()=>{f("running");const fe=C?`A tarefa "${C}" terminou. Bom trabalho!`:"Hora de fazer uma pausa.";qu({type:"SCHEDULE_NOTIFICATION",payload:{title:"Sesso de Foco Concluda!",body:fe,timestamp:Date.now()+y*1e3}})},[C,y]),J=A.useCallback(fe=>{const U=fe*60;c(U),h==="idle"&&v(U)},[h]),ae=A.useCallback(()=>j(null),[]),ve={pomodorosCompleted:i,timerMode:d,status:h,isActive:V,timeRemaining:y,sessionDuration:l,distractionNotes:b,setDistractionNotes:S,activeTaskId:T,activeTaskTitle:C,lastCompletedFocus:O,clearLastCompletedFocus:ae,startFocusOnTask:X,startCycle:K,pauseCycle:ee,resumeCycle:se,stopCycle:$,setFocusDuration:J};return g.jsx(UC.Provider,{value:ve,children:t})},BC=A.createContext(void 0),bn=()=>{const t=A.useContext(BC);if(!t)throw new Error("useTasks must be used within a TasksProvider");return t},N6=[{id:"item-1",text:"Chaves",completed:!1,isDefault:!0},{id:"item-2",text:"Carteira",completed:!1,isDefault:!0},{id:"item-3",text:"Celular",completed:!1,isDefault:!0}],I6=({children:t})=>{const{addNotification:e}=vn(),{setPontosFoco:n}=Ty(),{activeTaskId:i,stopCycle:a,lastCompletedFocus:l,clearLastCompletedFocus:c}=po(),[d,h]=Wt("focusfrog_tasks",[]),[f,y]=Wt("focusfrog_tags",ux),[v,b]=Wt("focusfrog_frogTaskId",null),[S,T]=Wt("focusfrog_onboarding_completed",!1),[x,C]=Wt("focusfrog_routines",hx),[k,O]=Wt("focusfrog_taskTemplates",dx),[j,M]=Wt("focusfrog_leavingHomeItems",N6),[V,$]=A.useState(null),[z,K]=A.useState([]),X=A.useMemo(()=>z.length>0,[z]);A.useEffect(()=>{var le;const Q=k.find(de=>de.id===50);if(!S&&Q){const de=`task-${Date.now()}`,ce={id:de,title:Q.title,description:Q.description,quadrant:Q.quadrant||"inbox",pomodoroEstimate:Q.pomodoroEstimate!==void 0?Q.pomodoroEstimate:1,customDuration:Q.customDuration,subtasks:(le=Q.subtasks)==null?void 0:le.map((We,yt)=>({id:`sub-${Date.now()}-${yt}`,text:We.text,completed:!1})),tagId:Q.category==="FocusFrog"?1:void 0,status:"todo",displayOrder:0,templateId:Q.id};h([ce]),b(de),T(!0)}},[S,T,h,b,k]);const ee=A.useCallback(()=>{const Q=new Date,le=Q.getFullYear(),de=String(Q.getMonth()+1).padStart(2,"0"),ce=String(Q.getDate()).padStart(2,"0");return`${le}-${de}-${ce}`},[]),se=A.useMemo(()=>ee(),[ee]),J=A.useMemo(()=>!d.find(le=>le.id===v&&le.dueDate===se),[d,v,se]),ae=A.useCallback(Q=>{U([Q]),Q.quadrant==="inbox"?e("Nova tarefa capturada na Caixa de Entrada","","info"):e("Nova tarefa adicionada  sua lista","","success")},[e]),ve=A.useCallback(Q=>{h(le=>{const de=le.find(De=>De.id===Q.id);if(!de)return le;if(de.quadrant===Q.quadrant)return le.map(De=>De.id===Q.id?Q:De);const ce=le.filter(De=>De.id!==Q.id),We=ce.filter(De=>De.quadrant===de.quadrant).sort((De,rn)=>(De.displayOrder||0)-(rn.displayOrder||0)).map((De,rn)=>({...De,displayOrder:rn})),yt={...Q,displayOrder:ce.filter(De=>De.quadrant===Q.quadrant).length},_t=[...ce.filter(De=>De.quadrant===Q.quadrant),yt].sort((De,rn)=>(De.displayOrder||0)-(rn.displayOrder||0)).map((De,rn)=>({...De,displayOrder:rn}));return[...ce.filter(De=>De.quadrant!==de.quadrant&&De.quadrant!==Q.quadrant),...We,..._t]}),e("Tarefa atualizada com sucesso","","success")},[h,e]),fe=A.useCallback((Q,le)=>{const de=d.find(ce=>ce.id===Q);!de||de.status==="done"||(Q===i&&a(),h(ce=>ce.map(We=>{var yt;if(We.id!==Q)return We;if(le){const _t=((yt=We.subtasks)==null?void 0:yt.map(De=>De.id===le?{...De,completed:!0}:De))||[];return _t.every(De=>De.completed)?(n(De=>De+10),Q===v?(e("Sapo do dia engolido!","","victory"),n(De=>De+40)):e("Tarefa concluda por subtarefas!","","success"),{...We,subtasks:_t,status:"done",completedAt:new Date().toISOString()}):{...We,subtasks:_t}}else return n(_t=>_t+10),Q===v?(e("Sapo do dia engolido!","","victory"),n(_t=>_t+40)):e("Tarefa concluda!","","success"),{...We,status:"done",completedAt:new Date().toISOString()}})))},[d,h,e,n,i,a,v]);A.useEffect(()=>{l!=null&&l.taskId&&setTimeout(()=>{fe(l.taskId),c(),a()},0)},[l,fe,c,a]);const U=A.useCallback(Q=>{h(le=>{const de=Q.map((ce,We)=>({...ce,id:`task-${Date.now()}-${We}`,status:"todo",displayOrder:le.filter(yt=>yt.quadrant===ce.quadrant).length+We}));return[...le,...de]})},[h]),Y=A.useCallback((Q,le,de)=>{h(ce=>{const We=ce.find(Ze=>Ze.id===Q);if(!We)return ce;const yt=We.quadrant;if(yt===le){const Ze=ce.filter(ft=>ft.quadrant===yt&&ft.id!==Q).sort((ft,To)=>(ft.displayOrder||0)-(To.displayOrder||0));Ze.splice(de,0,We);const ct=Ze.map((ft,To)=>({...ft,displayOrder:To}));return[...ce.filter(ft=>ft.quadrant!==yt),...ct]}const _t=ce.filter(Ze=>Ze.id!==Q),Mt=_t.filter(Ze=>Ze.quadrant===yt).sort((Ze,ct)=>(Ze.displayOrder||0)-(ct.displayOrder||0)).map((Ze,ct)=>({...Ze,displayOrder:ct})),De=_t.filter(Ze=>Ze.quadrant===le).sort((Ze,ct)=>(Ze.displayOrder||0)-(ct.displayOrder||0)),rn={...We,quadrant:le};De.splice(de,0,rn);const So=De.map((Ze,ct)=>({...Ze,displayOrder:ct}));return[..._t.filter(Ze=>Ze.quadrant!==yt&&Ze.quadrant!==le),...Mt,...So]})},[h]),re=A.useCallback(()=>{V&&(h(Q=>{const le=[...Q];return le.splice(V.index,0,V.task),le}),$(null),e("Tarefa restaurada","","info"))},[V,h,e]),we=A.useCallback(Q=>{Q===i&&a();const le=d.findIndex(ce=>ce.id===Q);if(le===-1)return;const de=d[le];$({task:de,index:le}),h(ce=>ce.filter(We=>We.id!==Q)),e("Tarefa excluda","","info",{label:"Desfazer",onAction:re}),setTimeout(()=>{$(null)},5e3)},[d,h,e,re,i,a]),je=A.useCallback((Q,le)=>{fe(Q,le)},[fe]),D=A.useCallback(Q=>{v===i&&v!==Q&&a(),b(Q)},[v,i,a,b]),H=A.useCallback(()=>{v===i&&a(),b(null)},[v,i,a,b]),oe=A.useCallback(Q=>{y(le=>{if(Q.id)return e("Tag atualizada com sucesso","","success"),le.map(ce=>ce.id===Q.id?{...ce,...Q}:ce);e("Nova tag criada","","success");const de={id:Date.now(),name:Q.name,color:Q.color};return[...le,de]})},[y,e]),ne=A.useCallback(Q=>{y(le=>le.filter(de=>de.id!==Q)),h(le=>le.map(de=>de.tagId===Q?{...de,tagId:void 0}:de)),e("Tag excluda","","info")},[y,h,e]),Te=A.useCallback(Q=>{const le=d.find(de=>de.id===Q);if(le){const de={...le,title:`${le.title} (Cpia)`};ae(de)}},[d,ae]),Re=A.useCallback((Q,le)=>{h(de=>de.map(ce=>{if(ce.id===Q){const We=ce.dueDate?new Date(ce.dueDate+"T00:00:00"):new Date;We.setDate(We.getDate()+le);const yt=We.toISOString().split("T")[0];return{...ce,dueDate:yt}}return ce})),e(`Tarefa adiada por ${le} dia(s)`,"","info")},[h,e]),Ve=A.useCallback(Q=>{var de;const le={id:Date.now(),title:Q.title,description:Q.description,quadrant:Q.quadrant,pomodoroEstimate:Q.pomodoroEstimate,customDuration:Q.customDuration,category:"Personalizado",subtasks:(de=Q.subtasks)==null?void 0:de.map(ce=>({text:ce.text})),isDefault:!1};O(ce=>[...ce,le]),e("Novo modelo salvo na sua biblioteca","","success")},[O,e]),jt=A.useCallback(Q=>{const le=k.find(de=>de.id===Q);if(le){if(le.isDefault){e("Modelos padro no podem ser excludos.","","error");return}O(de=>de.filter(ce=>ce.id!==Q)),e("Modelo excludo com sucesso.","","info")}},[k,O,e]),ge=A.useCallback(Q=>{const le=new Date,de=le.getFullYear(),ce=String(le.getMonth()+1).padStart(2,"0"),We=String(le.getDate()).padStart(2,"0"),yt=`${de}-${ce}-${We}`,_t=Q.map(Mt=>{var De;return{title:Mt.title,description:Mt.description,quadrant:Mt.quadrant||"inbox",pomodoroEstimate:Mt.pomodoroEstimate!==void 0?Mt.pomodoroEstimate:1,customDuration:Mt.customDuration,subtasks:(De=Mt.subtasks)==null?void 0:De.map((rn,So)=>({id:`sub-${Date.now()}-${So}`,text:rn.text,completed:!1})),dueDate:yt,templateId:Mt.id}});_t.length>0&&(U(_t),e(`${_t.length} tarefa(s) adicionada(s)  sua lista`,"","success"))},[U,e]),Jt=A.useCallback(Q=>{const le=k.filter(de=>Q.taskTemplateIds.includes(de.id));le.length>0&&(ge(le),e(`Rotina '${Q.name}' adicionada`,"","success"))},[k,ge,e]),gs=A.useCallback(Q=>{C(le=>{const de=le.findIndex(ce=>ce.id===Q.id);if(de>-1){const ce=[...le];return ce[de]=Q,e(`Rotina '${Q.name}' atualizada!`,"","success"),ce}else{const ce={...Q,id:`routine-${Date.now()}`,isDefault:!1};return e(`Nova rotina '${ce.name}' criada!`,"","success"),[...le,ce]}})},[C,e]),Ji=A.useCallback(Q=>{const le=x.find(de=>de.id===Q);if(le){if(le.isDefault){e("Rotinas padro no podem ser excludas.","","error");return}C(de=>de.filter(ce=>ce.id!==Q)),e("Rotina excluda com sucesso.","","info")}},[x,C,e]),Zi=Q=>{M(le=>le.map(de=>de.id===Q?{...de,completed:!de.completed}:de))},es=Q=>{M(le=>[...le,{id:`item-${Date.now()}`,text:Q,completed:!1}])},er=Q=>{M(le=>le.filter(de=>de.id!==Q))},Rs=()=>{M(Q=>Q.map(le=>({...le,completed:!1})))},vh=A.useCallback(()=>{const Q=d.filter(le=>le.quadrant==="inbox");K(Q),Q.length===0&&e("Sua caixa de entrada est limpa!","","success")},[d,e]),Kr=A.useCallback(()=>{K([])},[]),_o=A.useCallback(Q=>{if(z.length===0)return;const le=z[0],de=d.filter(ce=>ce.quadrant===Q).length;Y(le.id,Q,de),K(ce=>ce.slice(1)),z.length===1&&(e("Triagem concluda!","","success"),Kr())},[z,d,Y,Kr,e]),wo={tasks:d,tags:f,frogTaskId:v,routines:x,taskTemplates:k,handleAddTask:ae,handleAddTasks:U,handleUpdateTask:ve,handleUpdateTaskQuadrant:Y,handleDeleteTask:we,handleCompleteTask:fe,handleToggleSubtask:je,handleSetFrog:D,handleUnsetFrog:H,handleSaveTag:oe,handleDeleteTag:ne,handleDuplicateTask:Te,handlePostponeTask:Re,needsMorningPlan:J,handleCreateTemplateFromTask:Ve,handleDeleteTemplate:jt,handleAddRoutine:Jt,handleSaveRoutine:gs,handleDeleteRoutine:Ji,handleAddTemplates:ge,leavingHomeItems:j,handleToggleLeavingHomeItem:Zi,handleAddLeavingHomeItem:es,handleRemoveLeavingHomeItem:er,handleResetLeavingHomeItems:Rs,triageQueue:z,isTriageActive:X,startTriage:vh,processTriage:_o,endTriage:Kr};return g.jsx(BC.Provider,{value:wo,children:t})};var Gr=ZT();const te=({path:t,size:e=24,className:n="",style:i,title:a})=>g.jsxs("svg",{className:n,style:i,width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[a&&g.jsx("title",{children:a}),g.jsx("path",{d:t,fillRule:"evenodd",clipRule:"evenodd"})]}),Z={layoutGrid:"M3 3h8v8H3V3zm0 10h8v8H3v-8zM13 3h8v8h-8V3zm0 10h8v8h-8v-8z",checkSquare:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",timer:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.25 12.15L11 12.5V7h1.5v4.5l4.08 2.14l-.83 1.51z",star:"M12 17.27l6.18 3.73-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21l6.18-3.73z",barChart:"M4 9h4v11H4zm6-5h4v16h-4zm6 8h4v8h-4z",plus:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",pencil:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",trash:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",ellipsis:"M6 12c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2zm6 0c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2zm6 0c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2z",chevronDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",chevronUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41-1.41z",play:"M8 5v14l11-7L8 5z",pause:"M6 19h4V5H6v14zm8-14v14h4V5h-4z",rotateCw:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",copy:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",filter:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z",list:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z",arrowDownUp:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",download:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z",pomodoro:"M18.5 6.5C18.5 5.2 17.4 4 16 4h-2c-.8 0-1.6.4-2 1C11.6 4.4 10.8 4 10 4H8C6.6 4 5.5 5.2 5.5 6.5c0 .3.1.6.2.9C3.9 8.2 3 10 3 12c0 2.2 1.8 4 4 4h1v2.5c0 .8.7 1.5 1.5 1.5h1c.8 0 1.5-.7 1.5-1.5V16h1c2.2 0 4-1.8 4-4c0-2-1-3.8-2.8-4.6.1-.3.2-.6.2-.9z",frog:"M20 10.5c0-1.87-.92-3.63-2.5-4.75-.5-.35-1.15-.3-1.6.15l-.2.2c-.75.75-1.85.95-2.8.5-2.2-1.05-4.8-.9-6.85.45-.6.4-1.25.35-1.8-.1l-.15-.15C2.62 5.42 1 7.22 1 9.5c0 1.48.68 2.88 1.88 3.88.55.45 1.25.5 1.8.1.1-.05.15-.1.25-.15 1.9-1.25 4.35-1.35 6.45-.35 1.1.55 2.35.45 3.35-.25.1-.05.15-.1.25-.15 1.35-.6 2.65-.1 3.5.85.35.35.8.5 1.25.5.4 0 .75-.1.9-.3.8-.8.97-1.93.52-2.93zM8.5 13a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm7-3a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",target:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2V7zm0 4h2v6h-2v-6z",zap:"M7 2v11h3v9l7-12h-4l4-8z",listChecks:"M15.5 2H8.5C7.67 2 7 2.67 7 3.5v17c0 .83.67 1.5 1.5 1.5h11c.83 0 1.5-.67 1.5-1.5V7.5L15.5 2zM15 8V4l4 4h-4zm-2.5 9H10v-2h2.5v2zm2.5-4H10v-2h5v2zm0-4H10V7h5v2z",coffee:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2a2 2 0 002-2V5c0-1.1-.9-2-2-2zm-2 5h-2V5h2v3z",bookOpen:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-4zm-2 10l-2.5 1.5L7 12V4h5v8z",pawPrint:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.5 11.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-7 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm1.5-5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z",briefcase:"M20 7h-4V5c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5z",sun:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",moon:"M10 2c-1.71 0-3.32.42-4.75 1.19-1.42.77-2.63 1.98-3.4 3.4-.77 1.42-1.19 3.04-1.19 4.75 0 3.73 2.14 7.02 5.25 8.56.28.14.6-.06.6-.37v-1.6c0-.44-.24-.84-.62-1.04-1.1-.6-1.88-1.75-1.88-3.05 0-1.93 1.57-3.5 3.5-3.5.95 0 1.82.38 2.45.99.3.29.7.43 1.12.37.7-.1 1.25-.66 1.35-1.35.06-.42.2-.82.47-1.13.61-.72 1.5-1.14 2.45-1.14 1.93 0 3.5 1.57 3.5 3.5 0 1.3-.78 2.45-1.88 3.05-.38.2-.62.6-.62 1.04v1.6c0 .31.32.51.6.37 3.11-1.54 5.25-4.83 5.25-8.56 0-4.97-4.03-9-9-9z",award:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-3 14H9V8l3-3 3 3v7z",battery:"M17 5v14c0 1.1-.9 2-2 2H9c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h1.5V2h3v1H15c1.1 0 2 .9 2 2zm-4 3h-2v4h2V8zm0 6h-2v2h2v-2z",batteryLow:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 9h4v1H10V9z",batteryMedium:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 13h4v-5H10v5z",batteryFull:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 7h4v10H10V7z",alertTriangle:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",checkCircle:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",circle:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",clock:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.25 12.15L11 12.5V7h1.5v4.5l4.08 2.14l-.83 1.51z",calendar:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V8h10v11z",trophy:"M20.2,2H3.8C3.3,2 3,2.3,3,2.8V3c0,0.1,0,0.2,0.1,0.3L6,6.2V11c0,1.3,0.6,2.5,1.6,3.3L12,17.4l4.4-3.1c1-0.8,1.6-2,1.6-3.3V6.2l2.9-2.9C21,3.2,21,3.1,21,3v-0.2C21,2.3,20.7,2,20.2,2z M10,12v-2h4v2H10z M21,19c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2v-1h18V19z",palette:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5C21 7.03 16.97 3 12 3zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9s1.5.67 1.5 1.5S7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5S18.33 12 17.5 12z",music:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-4z",volumeX:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z",sparkles:"M19 10h-2.1l-1.9-4-1.9 4H11l1.6 3.2L11 16.4h2.1l1.9-4 1.9 4H19l-1.6-3.2L19 10zm-8-4H9V4H7v2H5c-1.1 0-2 .9-2 2v2h2v-1.5h1.5V11h-2v2h2v-1.5h1.5V15h-2v2h2v-1.5h1.5V19h-2v2h2v-1.5h1.5V23h2v-2h-1.5v-1.5H11v-2h1.5v-1.5H11v-2h1.5V11H11V9h1.5V7.5H11V6z",lock:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z",check:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z",rocket:"M14 2L11.5 9h5L14 2zm1.25 10a.75.75 0 01.75-.75h2a.75.75 0 01.75.75v5.336c0 .85-.36 1.63-.95 2.18L18 20.334V22h-4v-1.666l-1.05-1.052a2.75 2.75 0 01-.95-2.18V12a.75.75 0 01.75-.75h2a.75.75 0 01.75.75v.25h1.5V12z",gem:"M12.83 2.12a2 2 0 00-1.66 0L2.6 8.3c-.63.53-.78 1.45-.36 2.12l8 11.2a2 2 0 003.52 0l8-11.2c.42-.67.27-1.59-.36-2.12L12.83 2.12z",crown:"M5 16L3 5l5.5 4.5L12 4l3.5 5.5L21 5l-2 11H5zm14 2H5v2h14v-2z",flame:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67z",sliders:"M4 21h4v-4H4v4zm0-10h4V7H4v4zm0-4h4V3H4v4zm6 10h4v-8H10v8zm0-12h4V3h-4v6zm6 4h4V7h-4v4zm0-4h4V3h-4v4zm0 12h4v-4h-4v4z"},M6="_modalOverlay_g91xn_5",L6="_fadeIn_g91xn_1",P6="_modal_g91xn_5",U6="_slideUp_g91xn_1",B6="_modalHeader_g91xn_11",z6="_modalBody_g91xn_14",V6="_titleInput_g91xn_16",$6="_descriptionTextarea_g91xn_19",F6="_addDetailsButton_g91xn_22",q6="_detailedFields_g91xn_25",H6="_formGroup_g91xn_27",G6="_grid_g91xn_30",K6="_buttonSelector_g91xn_32",W6="_selected_g91xn_34",Y6="_matrixSelectorContainer_g91xn_36",X6="_matrixRow_g91xn_37",Q6="_matrixLabel_g91xn_38",J6="_matrixToggleGroup_g91xn_39",Z6="_matrixToggleBtn_g91xn_40",eL="_active_g91xn_42",tL="_matrixResult_g91xn_44",nL="_resultIcon_g91xn_45",sL="_resultText_g91xn_47",iL="_resultTitle_g91xn_48",rL="_resultSubtitle_g91xn_49",aL="_subtaskList_g91xn_60",oL="_subtaskItem_g91xn_61",lL="_subtaskInput_g91xn_62",cL="_subtaskAddGroup_g91xn_65",uL="_modalFooter_g91xn_69",dL="_footerActions_g91xn_70",xe={modalOverlay:M6,fadeIn:L6,modal:P6,slideUp:U6,modalHeader:B6,modalBody:z6,titleInput:V6,descriptionTextarea:$6,addDetailsButton:F6,detailedFields:q6,formGroup:H6,grid:G6,buttonSelector:K6,selected:W6,matrixSelectorContainer:Y6,matrixRow:X6,matrixLabel:Q6,matrixToggleGroup:J6,matrixToggleBtn:Z6,active:eL,matrixResult:tL,resultIcon:nL,resultText:sL,resultTitle:iL,resultSubtitle:rL,"quadrant-inbox":"_quadrant-inbox_g91xn_52","quadrant-do":"_quadrant-do_g91xn_53","quadrant-schedule":"_quadrant-schedule_g91xn_54","quadrant-delegate":"_quadrant-delegate_g91xn_55","quadrant-eliminate":"_quadrant-eliminate_g91xn_56",subtaskList:aL,subtaskItem:oL,subtaskInput:lL,subtaskAddGroup:cL,modalFooter:uL,footerActions:dL},Zn=t=>{const e=A.useRef(null);return A.useEffect(()=>{const n=i=>{e.current&&!e.current.contains(i.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),e},hL="_selectorContainer_1vmeg_2",fL="_selectorButton_1vmeg_7",mL="_open_1vmeg_22",pL="_selectorValue_1vmeg_27",gL="_tagColorDot_1vmeg_33",yL="_placeholder_1vmeg_39",vL="_chevron_1vmeg_43",bL="_popover_1vmeg_52",_L="_popoverItem_1vmeg_68",wL="_selected_1vmeg_82",SL="_manageButton_1vmeg_88",Gt={selectorContainer:hL,selectorButton:fL,open:mL,selectorValue:pL,tagColorDot:gL,placeholder:yL,chevron:vL,popover:bL,popoverItem:_L,selected:wL,manageButton:SL},TL=({tags:t,selectedTagId:e,onChange:n,onManageTags:i,label:a})=>{const[l,c]=A.useState(!1),d=A.useRef(null);Zn(d);const h=t.find(y=>y.id===e),f=y=>{n(y),c(!1)};return g.jsxs("div",{className:Gt.selectorContainer,ref:d,children:[g.jsxs("label",{className:"form-label",children:[g.jsx(te,{path:Z.tag})," ",a]}),g.jsxs("button",{className:`${Gt.selectorButton} ${l?Gt.open:""}`,onClick:()=>c(!l),children:[g.jsx("div",{className:Gt.selectorValue,children:h?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:Gt.tagColorDot,style:{backgroundColor:h.color}}),g.jsx("span",{children:h.name})]}):g.jsx("span",{className:Gt.placeholder,children:"Nenhuma etiqueta"})}),g.jsx(te,{path:Z.chevronDown,className:`${Gt.chevron} ${l?Gt.open:""}`})]}),l&&g.jsxs("div",{className:Gt.popover,children:[g.jsxs("div",{className:`${Gt.popoverItem} ${e?"":Gt.selected}`,onClick:()=>f(null),children:[g.jsx("span",{className:Gt.tagColorDot,style:{backgroundColor:"var(--border-color)"}}),"Nenhuma etiqueta"]}),t.map(y=>g.jsxs("div",{className:`${Gt.popoverItem} ${e===y.id?Gt.selected:""}`,onClick:()=>f(y.id),children:[g.jsx("span",{className:Gt.tagColorDot,style:{backgroundColor:y.color}}),y.name]},y.id)),g.jsxs("div",{className:Gt.manageButton,onClick:i,children:[g.jsx(te,{path:Z.settings}),"Gerenciar Etiquetas"]})]})]})},EL="_editorContainer_jc5hz_2",xL="_header_jc5hz_9",CL="_editorBody_jc5hz_22",AL="_form_jc5hz_29",kL="_formActions_jc5hz_35",jL="_colorPalette_jc5hz_41",OL="_colorSwatch_jc5hz_47",RL="_selected_jc5hz_56",DL="_listSection_jc5hz_61",NL="_list_jc5hz_61",IL="_listItem_jc5hz_82",ML="_listItemInfo_jc5hz_91",LL="_tagColorDot_jc5hz_98",PL="_listItemActions_jc5hz_104",fn={editorContainer:EL,header:xL,editorBody:CL,form:AL,formActions:kL,colorPalette:jL,colorSwatch:OL,selected:RL,listSection:DL,list:NL,listItem:IL,listItemInfo:ML,tagColorDot:LL,listItemActions:PL},lp=["#EF4444","#F97316","#FBBF24","#10B981","#3B82F6","#8B5CF6","#EC4899"],UL=({onBack:t})=>{const{tags:e,handleSaveTag:n,handleDeleteTag:i}=bn(),[a,l]=A.useState({name:"",color:lp[0]}),c=y=>{l(y)},d=()=>{l({name:"",color:lp[0]})},h=y=>{var v;y.preventDefault(),(v=a.name)!=null&&v.trim()&&(n(a),d())},f=y=>{window.confirm("Tem certeza que deseja excluir esta etiqueta? Ela ser removida de todas as tarefas.")&&(i(y),d())};return g.jsxs("div",{className:fn.editorContainer,children:[g.jsxs("div",{className:fn.header,children:[g.jsx("button",{onClick:t,className:"btn btn-secondary btn-icon",children:g.jsx(te,{path:Z.arrowLeft})}),g.jsx("h4",{children:"Gerenciar Etiquetas"})]}),g.jsxs("div",{className:fn.editorBody,children:[g.jsxs("form",{onSubmit:h,className:fn.form,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:a.id?"Editando Etiqueta":"Nova Etiqueta"}),g.jsx("input",{type:"text",className:"g-input",placeholder:"Nome da etiqueta",value:a.name||"",onChange:y=>l(v=>({...v,name:y.target.value}))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Cor"}),g.jsx("div",{className:fn.colorPalette,children:lp.map(y=>g.jsx("div",{className:`${fn.colorSwatch} ${a.color===y?fn.selected:""}`,style:{backgroundColor:y},onClick:()=>l(v=>({...v,color:y}))},y))})]}),g.jsxs("div",{className:fn.formActions,children:[a.id&&g.jsx("button",{type:"button",className:"btn btn-secondary",onClick:d,children:"Cancelar Edio"}),g.jsx("button",{type:"submit",className:"btn btn-primary",children:a.id?"Salvar Alteraes":"Criar Etiqueta"})]})]}),g.jsxs("div",{className:fn.listSection,children:[g.jsx("h5",{children:"Etiquetas Existentes"}),g.jsx("ul",{className:fn.list,children:e.map(y=>g.jsxs("li",{className:fn.listItem,children:[g.jsxs("div",{className:fn.listItemInfo,children:[g.jsx("div",{className:fn.tagColorDot,style:{backgroundColor:y.color}}),g.jsx("span",{children:y.name})]}),g.jsxs("div",{className:fn.listItemActions,children:[g.jsx("button",{onClick:()=>c(y),className:"btn btn-tertiary btn-icon btn-sm",children:g.jsx(te,{path:Z.pencil})}),g.jsx("button",{onClick:()=>f(y.id),className:"btn btn-tertiary btn-icon btn-sm btn-danger",children:g.jsx(te,{path:Z.trash})})]})]},y.id))})]})]})]})},zC=({taskToEdit:t,onClose:e,tags:n})=>{const{handleAddTask:i,handleUpdateTask:a,handleDeleteTask:l,handleCreateTemplateFromTask:c}=bn(),{startFocusOnTask:d}=po(),{handleNavigate:h}=vn(),[f,y]=A.useState({}),[v,b]=A.useState(""),[S,T]=A.useState("task"),[x,C]=A.useState(null),k=Zn(e),O=f.pomodoroEstimate===0;A.useEffect(()=>{const ae=(ve=>{if(ve&&Object.keys(ve).length>0)return{...ve,subtasks:ve.subtasks?[...ve.subtasks]:[],pomodoroEstimate:ve.pomodoroEstimate!==void 0?ve.pomodoroEstimate:1};const fe=new Date,U=fe.getFullYear(),Y=String(fe.getMonth()+1).padStart(2,"0"),re=String(fe.getDate()).padStart(2,"0");return{title:"",description:"",quadrant:"inbox",subtasks:[],status:"todo",pomodoroEstimate:1,dueDate:`${U}-${Y}-${re}`}})(t);y(ae),T("task"),C(document.getElementById("modal-root"))},[t]);const j=(J,ae)=>y(ve=>({...ve,[J]:ae})),M=J=>{j("pomodoroEstimate",J==="quick"?0:1),J==="quick"&&j("customDuration",void 0)},V=()=>{if(v.trim()){const J={id:`sub-${Date.now()}`,text:v,completed:!1};j("subtasks",[...f.subtasks||[],J]),b("")}},$=J=>{var ae;return j("subtasks",(ae=f.subtasks)==null?void 0:ae.filter(ve=>ve.id!==J))},z=()=>{var ae;if(!((ae=f.title)!=null&&ae.trim()))return alert("O ttulo da tarefa  obrigatrio.");const{...J}=f;J.id?a(J):i(J),e()},K=()=>{var J;if(!((J=f.title)!=null&&J.trim()))return alert("O ttulo do modelo  obrigatrio.");c(f),e()},X=()=>{f.id&&window.confirm("Tem certeza que deseja excluir esta tarefa?")&&(l(f.id),e())};if(!t||!x)return null;const ee=[{id:"morning",label:"Manh"},{id:"afternoon",label:"Tarde"},{id:"night",label:"Noite"},{id:"",label:"Nenhum"}],se=()=>{var J;return g.jsxs(g.Fragment,{children:[g.jsxs("header",{className:"g-modal-header",children:[g.jsx("div",{className:xe.headerTitleGroup,children:g.jsxs("h3",{children:[g.jsx(te,{path:Z.pencil})," ",f.id?"Editar Tarefa":"Nova Tarefa"]})}),g.jsx("button",{onClick:e,className:"btn btn-secondary btn-icon",children:g.jsx(te,{path:Z.close})})]}),g.jsxs("main",{className:"g-modal-body",children:[g.jsx("input",{type:"text",className:xe.titleInput,placeholder:"O que precisa ser feito?",value:f.title||"",onChange:ae=>j("title",ae.target.value),autoFocus:!0}),g.jsxs("div",{className:xe.detailedFields,children:[g.jsx("textarea",{className:xe.descriptionTextarea,placeholder:"Descrio, links, notas...",value:f.description||"",onChange:ae=>j("description",ae.target.value)}),g.jsx(BL,{task:f,setTask:y}),g.jsxs("div",{className:xe.grid,children:[g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.calendar})," Data"]}),g.jsx("input",{type:"date",className:"g-input",value:f.dueDate||"",onChange:ae=>j("dueDate",ae.target.value)})]}),g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.sun})," Perodo"]}),g.jsx("div",{className:xe.buttonSelector,children:ee.map(ae=>g.jsx("button",{className:f.timeOfDay===ae.id?xe.selected:"",onClick:()=>j("timeOfDay",ae.id),children:ae.label},ae.id))})]})]}),g.jsx(TL,{label:"Etiqueta",tags:n,selectedTagId:f.tagId||null,onChange:ae=>j("tagId",ae),onManageTags:()=>T("tags")}),g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.target})," Tipo de Tarefa"]}),g.jsxs("div",{className:xe.buttonSelector,children:[g.jsx("button",{className:O?"":xe.selected,onClick:()=>M("focus"),children:"Foco (Timer)"}),g.jsx("button",{className:O?xe.selected:"",onClick:()=>M("quick"),children:"Rpida (Check)"})]})]}),!O&&g.jsxs("div",{className:xe.grid,children:[g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.timer})," Pomodoros (25min)"]}),g.jsx("input",{type:"number",className:"g-input",value:f.pomodoroEstimate||"",onChange:ae=>j("pomodoroEstimate",parseInt(ae.target.value)||1),min:"1",placeholder:"1"})]}),g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.clock})," Durao Custom. (min)"]}),g.jsx("input",{type:"number",className:"g-input",value:f.customDuration||"",onChange:ae=>j("customDuration",ae.target.value?parseInt(ae.target.value):void 0),min:"1",placeholder:"25"})]})]}),g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.checkSquare})," Subtarefas"]}),g.jsx("ul",{className:xe.subtaskList,children:(J=f.subtasks)==null?void 0:J.map(ae=>g.jsxs("li",{className:xe.subtaskItem,children:[g.jsx("input",{type:"checkbox",checked:ae.completed,readOnly:!0,className:"task-complete-button"}),g.jsx("input",{type:"text",value:ae.text,onChange:ve=>{var fe;return j("subtasks",(fe=f.subtasks)==null?void 0:fe.map(U=>U.id===ae.id?{...U,text:ve.target.value}:U))},className:xe.subtaskInput}),g.jsx("button",{onClick:()=>$(ae.id),className:"btn btn-tertiary btn-icon btn-sm",children:g.jsx(te,{path:Z.trash})})]},ae.id))}),g.jsxs("div",{className:xe.subtaskAddGroup,children:[g.jsx("input",{type:"text",placeholder:"Adicionar subtarefa...",value:v,onChange:ae=>b(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&V()}),g.jsx("button",{onClick:V,className:"btn btn-primary btn-icon btn-sm",children:g.jsx(te,{path:Z.plus})})]})]})]})]}),g.jsxs("footer",{className:"g-modal-footer",children:[g.jsxs("div",{className:xe.footerActions,children:[f.id&&g.jsxs("button",{className:"btn btn-tertiary btn-danger",onClick:X,children:[g.jsx(te,{path:Z.trash})," Excluir"]}),g.jsxs("button",{className:"btn btn-tertiary",onClick:K,children:[g.jsx(te,{path:Z.bookOpen})," Salvar como Modelo"]})]}),g.jsx("div",{className:xe.footerActions,children:g.jsxs("button",{className:"btn btn-primary",onClick:z,children:[g.jsx(te,{path:Z.check})," ",f.id?"Salvar Alteraes":"Adicionar Tarefa"]})})]})]})};return Gr.createPortal(g.jsx("div",{className:"g-modal-overlay",children:g.jsx("div",{className:"g-modal",ref:k,children:S==="task"?se():g.jsx(UL,{onBack:()=>T("task")})})}),x)},BL=({task:t,setTask:e})=>{const[n,i]=A.useState(null),[a,l]=A.useState(null),c=Zp.find(h=>h.id===t.quadrant)||Zp.find(h=>h.id==="inbox");A.useEffect(()=>{const h=t.quadrant;h==="do"?(i("urgent"),l("important")):h==="schedule"?(i("not-urgent"),l("important")):h==="someday"?(i("not-urgent"),l("not-important")):(i(null),l(null))},[t.quadrant]);const d=(h,f)=>{if(i(h),l(f),h&&f){let y="inbox";h==="urgent"&&f==="important"?y="do":h==="not-urgent"&&f==="important"?y="schedule":h==="not-urgent"&&f==="not-important"?y="someday":h==="urgent"&&f==="not-important"&&(y="do"),e(v=>({...v,quadrant:y}))}};return g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.layoutGrid})," Matriz de Prioridade"]}),g.jsxs("div",{className:xe.matrixSelectorContainer,children:[g.jsxs("div",{className:xe.matrixRow,children:[g.jsx("span",{className:xe.matrixLabel,children:" urgente?"}),g.jsxs("div",{className:xe.matrixToggleGroup,children:[g.jsx("button",{className:`${xe.matrixToggleBtn} ${n==="not-urgent"?xe.active:""}`,onClick:()=>d("not-urgent",a),children:"Pode esperar"}),g.jsx("button",{className:`${xe.matrixToggleBtn} ${n==="urgent"?xe.active:""}`,onClick:()=>d("urgent",a),children:" pra j!"})]})]}),g.jsxs("div",{className:xe.matrixRow,children:[g.jsx("span",{className:xe.matrixLabel,children:" importante?"}),g.jsxs("div",{className:xe.matrixToggleGroup,children:[g.jsx("button",{className:`${xe.matrixToggleBtn} ${a==="not-important"?xe.active:""}`,onClick:()=>d(n,"not-important"),children:"Baixo impacto"}),g.jsx("button",{className:`${xe.matrixToggleBtn} ${a==="important"?xe.active:""}`,onClick:()=>d(n,"important"),children:"Alto impacto"})]})]}),c&&g.jsxs("div",{className:`${xe.matrixResult} ${xe[`quadrant-${c.id}`]}`,children:[g.jsx("div",{className:xe.resultIcon,children:g.jsx(te,{path:Z[c.icon]})}),g.jsxs("div",{className:xe.resultText,children:[g.jsx("span",{className:xe.resultTitle,children:c.title}),g.jsx("span",{className:xe.resultSubtitle,children:c.subtitle})]})]})]})]})},zL="_centeredHeader_pryjy_6",VL="_subtitle_pryjy_18",$L="_taskList_pryjy_27",FL="_taskButton_pryjy_38",qL="_selected_pryjy_65",HL="_emptyState_pryjy_75",GL="_controlButton_pryjy_83",KL="_secondary_pryjy_98",WL="_primary_pryjy_110",$n={centeredHeader:zL,subtitle:VL,taskList:$L,taskButton:FL,selected:qL,emptyState:HL,controlButton:GL,secondary:KL,primary:WL},VC=({isOpen:t,tasks:e=[],selectedTask:n,onSelectTask:i,onConfirm:a,onClose:l,onNavigateToTasks:c})=>{const d=Zn(l),[h,f]=A.useState(null);if(A.useEffect(()=>{f(document.getElementById("modal-root"))},[]),!t||!h)return null;const y=e.length>0,v=g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:"g-modal",ref:d,children:[g.jsxs("header",{className:`g-modal-header ${$n.centeredHeader}`,children:[g.jsx("h3",{children:" Qual sapo voc vai engolir hoje?"}),g.jsx("p",{className:$n.subtitle,children:"Escolha a tarefa mais importante para focar primeiro."})]}),g.jsx("main",{className:"g-modal-body",children:y?g.jsx("ul",{className:$n.taskList,children:e.map(b=>g.jsx("li",{children:g.jsx("button",{className:`${$n.taskButton} ${n===b.id?$n.selected:""}`,onClick:()=>i(b.id),children:b.title})},b.id))}):g.jsx("div",{className:$n.emptyState,children:g.jsx("p",{children:"Nenhuma tarefa elegvel na sua lista! Adicione algumas para comear."})})}),g.jsxs("footer",{className:"g-modal-footer g-modal-footer--space-between",children:[g.jsx("button",{className:`${$n.controlButton} ${$n.secondary}`,onClick:l,children:"Decidir depois"}),y?g.jsx("button",{className:`${$n.controlButton} ${$n.primary}`,onClick:a,disabled:!n,children:"Engolir este sapo"}):g.jsx("button",{className:`${$n.controlButton} ${$n.primary}`,onClick:c,children:"Ir para Tarefas"})]})]})});return Gr.createPortal(v,h)},YL="_modalSmall_1uz35_6",XL="_content_1uz35_10",QL="_iconContainer_1uz35_15",JL="_promptText_1uz35_20",ZL="_taskHighlightBox_1uz35_29",eP="_controlButton_1uz35_49",tP="_secondary_1uz35_63",nP="_primary_1uz35_74",Qs={modalSmall:YL,content:XL,iconContainer:QL,promptText:JL,taskHighlightBox:ZL,controlButton:eP,secondary:tP,primary:nP},sP=()=>{const{quickTaskForCompletion:t,setQuickTaskForCompletion:e}=vn(),{handleCompleteTask:n,frogTaskId:i,handleUnsetFrog:a}=bn(),[l,c]=A.useState(null);A.useEffect(()=>{c(document.getElementById("modal-root"))},[]);const d=()=>{e(null)},h=Zn(d),f=()=>{t&&(n(t.id),i===t.id&&a(),e(null))};return!t||!l?null:Gr.createPortal(g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:`g-modal ${Qs.modalSmall}`,ref:h,children:[g.jsxs("header",{className:"g-modal-header",children:[g.jsxs("h3",{children:[g.jsx(te,{path:Z.frog})," Sapo Comido!"]}),g.jsx("button",{onClick:d,className:"btn btn-secondary btn-icon",children:g.jsx(te,{path:Z.close})})]}),g.jsx("main",{className:"g-modal-body",children:g.jsxs("div",{className:Qs.content,children:[g.jsx("div",{className:Qs.iconContainer,children:g.jsx(te,{path:Z.checkCircle,size:48})}),g.jsx("p",{className:Qs.promptText,children:"Voc finalizou a tarefa e deu um passo importante no seu dia."}),g.jsx("div",{className:Qs.taskHighlightBox,children:t.title})]})}),g.jsxs("footer",{className:"g-modal-footer",children:[g.jsx("button",{className:`${Qs.controlButton} ${Qs.secondary}`,onClick:d,children:"Ops, ainda no"}),g.jsxs("button",{className:`${Qs.controlButton} ${Qs.primary}`,onClick:f,children:[g.jsx(te,{path:Z.check})," Confirmar"]})]})]})}),l)},iP="_modalHeader_ekv6i_5",rP="_modalBody_ekv6i_16",aP="_itemList_ekv6i_20",oP="_item_ekv6i_20",lP="_formGroup_ekv6i_41",cP="_inputGroup_ekv6i_53",uP="_modalFooter_ekv6i_68",wr={modalHeader:iP,modalBody:rP,itemList:aP,item:oP,formGroup:lP,inputGroup:cP,modalFooter:uP},dP=({items:t,onAddItem:e,onRemoveItem:n,onClose:i})=>{const[a,l]=A.useState(""),c=Zn(i),d=()=>{a.trim()&&(e(a),l(""))};return g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:"g-modal",ref:c,children:[g.jsxs("div",{className:wr.modalHeader,children:[g.jsx("h3",{children:"Gerenciar Itens de Sada"}),g.jsx("p",{children:"Adicione ou remova itens da sua lista pessoal."})]}),g.jsxs("div",{className:wr.modalBody,children:[g.jsx("ul",{className:wr.itemList,children:t.map(h=>g.jsxs("li",{className:wr.item,children:[g.jsx("span",{children:h.text}),!h.isDefault&&g.jsx("button",{onClick:()=>n(h.id),className:"btn btn-icon btn-small","aria-label":`Remover ${h.text}`,children:g.jsx(te,{path:Z.trash})})]},h.id))}),g.jsxs("div",{className:wr.formGroup,children:[g.jsx("label",{children:"Adicionar novo item"}),g.jsxs("div",{className:wr.inputGroup,children:[g.jsx("input",{type:"text",placeholder:"Ex: Fone de ouvido",value:a,onChange:h=>l(h.target.value),onKeyPress:h=>h.key==="Enter"&&d()}),g.jsx("button",{onClick:d,className:"btn btn-primary btn-small",children:g.jsx(te,{path:Z.plus})})]})]})]}),g.jsx("div",{className:wr.modalFooter,children:g.jsx("button",{className:"btn btn-secondary",onClick:i,children:"Fechar"})})]})})},hP="_card_13t4e_3",fP="_header_13t4e_13",mP="_buttonGroup_13t4e_28",pP="_checklist_13t4e_33",gP="_checklistItem_13t4e_42",yP="_itemContent_13t4e_56",vP="_editing_13t4e_64",bP="_checkbox_13t4e_72",_P="_text_13t4e_81",wP="_completed_13t4e_86",ws={card:hP,header:fP,buttonGroup:mP,checklist:pP,checklistItem:gP,itemContent:yP,editing:vP,checkbox:bP,text:_P,completed:wP},SP=({items:t,onToggleItem:e,onAddItem:n,onRemoveItem:i,onResetItems:a})=>{const[l,c]=A.useState(!1),[d,h]=A.useState(!1);if(!t||t.length===0)return null;const f=y=>{d||e(y)};return g.jsxs(g.Fragment,{children:[l&&g.jsx(dP,{items:t,onAddItem:n,onRemoveItem:i,onClose:()=>c(!1)}),g.jsxs("div",{className:ws.card,children:[g.jsxs("div",{className:ws.header,children:[g.jsxs("h3",{children:[g.jsx(te,{path:Z.briefcase})," J pegou?"]}),g.jsxs("div",{className:ws.buttonGroup,children:[d?g.jsx("button",{className:"btn btn-icon btn-primary btn-small",onClick:()=>c(!0),title:"Adicionar Item",children:g.jsx(te,{path:Z.plus})}):g.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:a,title:"Desmarcar Todos",children:g.jsx(te,{path:Z.rotateCw})}),g.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:()=>h(!d),title:d?"Concluir Edio":"Editar Checklist",children:d?g.jsx(te,{path:Z.check}):g.jsx(te,{path:Z.pencil})})]})]}),g.jsx("ul",{className:ws.checklist,children:t.map(y=>g.jsxs("li",{className:`${ws.checklistItem} ${y.completed?ws.completed:""} ${d?ws.editing:""}`,onClick:()=>f(y.id),children:[g.jsxs("div",{className:ws.itemContent,children:[g.jsx("span",{className:ws.checkbox}),g.jsx("span",{className:ws.text,children:y.text})]}),d&&!y.isDefault&&g.jsx("button",{className:"btn btn-icon btn-small",onClick:()=>i(y.id),title:"Remover Item",children:g.jsx(te,{path:Z.trash})})]},y.id))})]})]})},TP="_cardWrapper_1ge8q_5",EP="_swipeBackground_1ge8q_7",xP="_completeBackground_1ge8q_8",CP="_deleteBackground_1ge8q_9",AP="_swipeIcon_1ge8q_10",kP="_taskCard_1ge8q_12",jP="_statusDone_1ge8q_24",OP="_taskCardTitleGroup_1ge8q_25",RP="_dragging_1ge8q_27",DP="_inboxCard_1ge8q_28",NP="_taskCardContent_1ge8q_30",IP="_taskCardHeader_1ge8q_31",MP="_checkbox_1ge8q_45",LP="_disabled_1ge8q_46",PP="_taskCardActions_1ge8q_49",UP="_headerPlayButton_1ge8q_51",BP="_activeFocus_1ge8q_51",zP="_frogIconActive_1ge8q_52",VP="_taskCardDescription_1ge8q_54",$P="_isFrog_1ge8q_62",FP="_subtasksSection_1ge8q_64",qP="_subtasksHeader_1ge8q_65",HP="_collapsibleChevron_1ge8q_78",GP="_collapsed_1ge8q_79",KP="_subtasksContent_1ge8q_80",WP="_subtaskItem_1ge8q_82",YP="_clickable_1ge8q_93",XP="_completed_1ge8q_94",QP="_subtaskCheckbox_1ge8q_96",JP="_footerTags_1ge8q_107",ZP="_footerTag_1ge8q_107",e8="_energyTag_1ge8q_121",Ue={cardWrapper:TP,swipeBackground:EP,completeBackground:xP,deleteBackground:CP,swipeIcon:AP,taskCard:kP,statusDone:jP,taskCardTitleGroup:OP,dragging:RP,inboxCard:DP,taskCardContent:NP,taskCardHeader:IP,checkbox:MP,disabled:LP,taskCardActions:PP,headerPlayButton:UP,activeFocus:BP,frogIconActive:zP,taskCardDescription:VP,isFrog:$P,subtasksSection:FP,subtasksHeader:qP,collapsibleChevron:HP,collapsed:GP,subtasksContent:KP,subtaskItem:WP,clickable:YP,completed:XP,subtaskCheckbox:QP,footerTags:JP,footerTag:ZP,energyTag:e8};var Ey=hc(),ke=t=>dc(t,Ey),xy=hc();ke.write=t=>dc(t,xy);var rh=hc();ke.onStart=t=>dc(t,rh);var Cy=hc();ke.onFrame=t=>dc(t,Cy);var Ay=hc();ke.onFinish=t=>dc(t,Ay);var eo=[];ke.setTimeout=(t,e)=>{const n=ke.now()+e,i=()=>{const l=eo.findIndex(c=>c.cancel==i);~l&&eo.splice(l,1),Hi-=~l?1:0},a={time:n,handler:t,cancel:i};return eo.splice($C(n),0,a),Hi+=1,FC(),a};var $C=t=>~(~eo.findIndex(e=>e.time>t)||~eo.length);ke.cancel=t=>{rh.delete(t),Cy.delete(t),Ay.delete(t),Ey.delete(t),xy.delete(t)};ke.sync=t=>{cg=!0,ke.batchedUpdates(t),cg=!1};ke.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function i(...a){e=a,ke.onStart(n)}return i.handler=t,i.cancel=()=>{rh.delete(n),e=null},i};var ky=typeof window<"u"?window.requestAnimationFrame:(()=>{});ke.use=t=>ky=t;ke.now=typeof performance<"u"?()=>performance.now():Date.now;ke.batchedUpdates=t=>t();ke.catch=console.error;ke.frameLoop="always";ke.advance=()=>{ke.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):HC()};var qi=-1,Hi=0,cg=!1;function dc(t,e){cg?(e.delete(t),t(0)):(e.add(t),FC())}function FC(){qi<0&&(qi=0,ke.frameLoop!=="demand"&&ky(qC))}function t8(){qi=-1}function qC(){~qi&&(ky(qC),ke.batchedUpdates(HC))}function HC(){const t=qi;qi=ke.now();const e=$C(qi);if(e&&(GC(eo.splice(0,e),n=>n.handler()),Hi-=e),!Hi){t8();return}rh.flush(),Ey.flush(t?Math.min(64,qi-t):16.667),Cy.flush(),xy.flush(),Ay.flush()}function hc(){let t=new Set,e=t;return{add(n){Hi+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Hi-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Hi-=e.size,GC(e,i=>i(n)&&t.add(i)),Hi+=t.size,e=t)}}}function GC(t,e){t.forEach(n=>{try{e(n)}catch(i){ke.catch(i)}})}var n8=Object.defineProperty,s8=(t,e)=>{for(var n in e)n8(t,n,{get:e[n],enumerable:!0})},ms={};s8(ms,{assign:()=>r8,colors:()=>Ki,createStringInterpolator:()=>Oy,skipAnimation:()=>WC,to:()=>KC,willAdvance:()=>Ry});function ug(){}var i8=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ie={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Zs(t,e){if(ie.arr(t)){if(!ie.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var ze=(t,e)=>t.forEach(e);function ks(t,e,n){if(ie.arr(t)){for(let i=0;i<t.length;i++)e.call(n,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i)}var jn=t=>ie.und(t)?[]:ie.arr(t)?t:[t];function Ol(t,e){if(t.size){const n=Array.from(t);t.clear(),ze(n,e)}}var Cl=(t,...e)=>Ol(t,n=>n(...e)),jy=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Oy,KC,Ki=null,WC=!1,Ry=ug,r8=t=>{t.to&&(KC=t.to),t.now&&(ke.now=t.now),t.colors!==void 0&&(Ki=t.colors),t.skipAnimation!=null&&(WC=t.skipAnimation),t.createStringInterpolator&&(Oy=t.createStringInterpolator),t.requestAnimationFrame&&ke.use(t.requestAnimationFrame),t.batchedUpdates&&(ke.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Ry=t.willAdvance),t.frameLoop&&(ke.frameLoop=t.frameLoop)},Rl=new Set,Wn=[],cp=[],Nd=0,ah={get idle(){return!Rl.size&&!Wn.length},start(t){Nd>t.priority?(Rl.add(t),ke.onStart(a8)):(YC(t),ke(dg))},advance:dg,sort(t){if(Nd)ke.onFrame(()=>ah.sort(t));else{const e=Wn.indexOf(t);~e&&(Wn.splice(e,1),XC(t))}},clear(){Wn=[],Rl.clear()}};function a8(){Rl.forEach(YC),Rl.clear(),ke(dg)}function YC(t){Wn.includes(t)||XC(t)}function XC(t){Wn.splice(o8(Wn,e=>e.priority>t.priority),0,t)}function dg(t){const e=cp;for(let n=0;n<Wn.length;n++){const i=Wn[n];Nd=i.priority,i.idle||(Ry(i),i.advance(t),i.idle||e.push(i))}return Nd=0,cp=Wn,cp.length=0,Wn=e,Wn.length>0}function o8(t,e){const n=t.findIndex(e);return n<0?t.length:n}var l8={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ds="[-+]?\\d*\\.?\\d+",Id=ds+"%";function oh(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var c8=new RegExp("rgb"+oh(ds,ds,ds)),u8=new RegExp("rgba"+oh(ds,ds,ds,ds)),d8=new RegExp("hsl"+oh(ds,Id,Id)),h8=new RegExp("hsla"+oh(ds,Id,Id,ds)),f8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,m8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p8=/^#([0-9a-fA-F]{6})$/,g8=/^#([0-9a-fA-F]{8})$/;function y8(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=p8.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ki&&Ki[t]!==void 0?Ki[t]:(e=c8.exec(t))?(La(e[1])<<24|La(e[2])<<16|La(e[3])<<8|255)>>>0:(e=u8.exec(t))?(La(e[1])<<24|La(e[2])<<16|La(e[3])<<8|Yw(e[4]))>>>0:(e=f8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=g8.exec(t))?parseInt(e[1],16)>>>0:(e=m8.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=d8.exec(t))?(Kw(Ww(e[1]),Hu(e[2]),Hu(e[3]))|255)>>>0:(e=h8.exec(t))?(Kw(Ww(e[1]),Hu(e[2]),Hu(e[3]))|Yw(e[4]))>>>0:null}function up(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Kw(t,e,n){const i=n<.5?n*(1+e):n+e-n*e,a=2*n-i,l=up(a,i,t+1/3),c=up(a,i,t),d=up(a,i,t-1/3);return Math.round(l*255)<<24|Math.round(c*255)<<16|Math.round(d*255)<<8}function La(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Ww(t){return(parseFloat(t)%360+360)%360/360}function Yw(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Hu(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Xw(t){let e=y8(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,i=(e&16711680)>>>16,a=(e&65280)>>>8,l=(e&255)/255;return`rgba(${n}, ${i}, ${a}, ${l})`}var ql=(t,e,n)=>{if(ie.fun(t))return t;if(ie.arr(t))return ql({range:t,output:e,extrapolate:n});if(ie.str(t.output[0]))return Oy(t);const i=t,a=i.output,l=i.range||[0,1],c=i.extrapolateLeft||i.extrapolate||"extend",d=i.extrapolateRight||i.extrapolate||"extend",h=i.easing||(f=>f);return f=>{const y=b8(f,l);return v8(f,l[y],l[y+1],a[y],a[y+1],h,c,d,i.map)}};function v8(t,e,n,i,a,l,c,d,h){let f=h?h(t):t;if(f<e){if(c==="identity")return f;c==="clamp"&&(f=e)}if(f>n){if(d==="identity")return f;d==="clamp"&&(f=n)}return i===a?i:e===n?t<=e?i:a:(e===-1/0?f=-f:n===1/0?f=f-e:f=(f-e)/(n-e),f=l(f),i===-1/0?f=-f:a===1/0?f=f+i:f=f*(a-i)+i,f)}function b8(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var _8={linear:t=>t},Hl=Symbol.for("FluidValue.get"),lo=Symbol.for("FluidValue.observers"),Gn=t=>!!(t&&t[Hl]),gn=t=>t&&t[Hl]?t[Hl]():t,Qw=t=>t[lo]||null;function w8(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Gl(t,e){const n=t[lo];n&&n.forEach(i=>{w8(i,e)})}var QC=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");S8(this,t)}},S8=(t,e)=>JC(t,Hl,e);function go(t,e){if(t[Hl]){let n=t[lo];n||JC(t,lo,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Kl(t,e){const n=t[lo];if(n&&n.has(e)){const i=n.size-1;i?n.delete(e):t[lo]=null,t.observerRemoved&&t.observerRemoved(i,e)}}var JC=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),od=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,T8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Jw=new RegExp(`(${od.source})(%|[a-z]+)`,"i"),E8=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,lh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ZC=t=>{const[e,n]=x8(t);if(!e||jy())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(n&&n.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(n);return a||t}else{if(n&&lh.test(n))return ZC(n);if(n)return n}return t},x8=t=>{const e=lh.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]},dp,C8=(t,e,n,i,a)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(i)}, ${a})`,e2=t=>{dp||(dp=Ki?new RegExp(`(${Object.keys(Ki).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(l=>gn(l).replace(lh,ZC).replace(T8,Xw).replace(dp,Xw)),n=e.map(l=>l.match(od).map(Number)),a=n[0].map((l,c)=>n.map(d=>{if(!(c in d))throw Error('The arity of each "output" value must be equal');return d[c]})).map(l=>ql({...t,output:l}));return l=>{var h;const c=!Jw.test(e[0])&&((h=e.find(f=>Jw.test(f)))==null?void 0:h.replace(od,""));let d=0;return e[0].replace(od,()=>`${a[d++](l)}${c||""}`).replace(E8,C8)}},Dy="react-spring: ",t2=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${Dy}once requires a function parameter`);return(...i)=>{n||(e(...i),n=!0)}},A8=t2(console.warn);function k8(){A8(`${Dy}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var j8=t2(console.warn);function O8(){j8(`${Dy}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ch(t){return ie.str(t)&&(t[0]=="#"||/\d/.test(t)||!jy()&&lh.test(t)||t in(Ki||{}))}var Ny=jy()?A.useEffect:A.useLayoutEffect,R8=()=>{const t=A.useRef(!1);return Ny(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function n2(){const t=A.useState()[1],e=R8();return()=>{e.current&&t(Math.random())}}var s2=t=>A.useEffect(t,D8),D8=[];function Zw(t){const e=A.useRef(void 0);return A.useEffect(()=>{e.current=t}),e.current}var Wl=Symbol.for("Animated:node"),N8=t=>!!t&&t[Wl]===t,Ts=t=>t&&t[Wl],Iy=(t,e)=>i8(t,Wl,e),uh=t=>t&&t[Wl]&&t[Wl].getPayload(),i2=class{constructor(){Iy(this,this)}getPayload(){return this.payload||[]}},dh=class r2 extends i2{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,ie.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new r2(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return ie.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ie.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Md=class a2 extends dh{constructor(e){super(0),this._string=null,this._toString=ql({output:[e,e]})}static create(e){return new a2(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ie.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=ql({output:[this.getValue(),e]})),this._value=0,super.reset()}},Ld={dependencies:null},hh=class extends i2{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return ks(this.source,(n,i)=>{N8(n)?e[i]=n.getValue(t):Gn(n)?e[i]=gn(n):t||(e[i]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&ze(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return ks(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Ld.dependencies&&Gn(t)&&Ld.dependencies.add(t);const e=uh(t);e&&ze(e,n=>this.add(n))}},I8=class o2 extends hh{constructor(e){super(e)}static create(e){return new o2(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((i,a)=>i.setValue(e[a])).some(Boolean):(super.setValue(e.map(M8)),!0)}};function M8(t){return(ch(t)?Md:dh).create(t)}function hg(t){const e=Ts(t);return e?e.constructor:ie.arr(t)?I8:ch(t)?Md:dh}var eS=(t,e)=>{const n=!ie.fun(t)||t.prototype&&t.prototype.isReactComponent;return A.forwardRef((i,a)=>{const l=A.useRef(null),c=n&&A.useCallback(T=>{l.current=U8(a,T)},[a]),[d,h]=P8(i,e),f=n2(),y=()=>{const T=l.current;if(n&&!T)return;(T?e.applyAnimatedValues(T,d.getValue(!0)):!1)===!1&&f()},v=new L8(y,h),b=A.useRef(void 0);Ny(()=>(b.current=v,ze(h,T=>go(T,v)),()=>{b.current&&(ze(b.current.deps,T=>Kl(T,b.current)),ke.cancel(b.current.update))})),A.useEffect(y,[]),s2(()=>()=>{const T=b.current;ze(T.deps,x=>Kl(x,T))});const S=e.getComponentProps(d.getValue());return A.createElement(t,{...S,ref:c})})},L8=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&ke.write(this.update)}};function P8(t,e){const n=new Set;return Ld.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new hh(t),Ld.dependencies=null,[t,n]}function U8(t,e){return t&&(ie.fun(t)?t(e):t.current=e),e}var tS=Symbol.for("AnimatedComponent"),B8=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=a=>new hh(a),getComponentProps:i=a=>a}={})=>{const a={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:i},l=c=>{const d=nS(c)||"Anonymous";return ie.str(c)?c=l[c]||(l[c]=eS(c,a)):c=c[tS]||(c[tS]=eS(c,a)),c.displayName=`Animated(${d})`,c};return ks(t,(c,d)=>{ie.arr(t)&&(d=nS(c)),l[d]=l(c)}),{animated:l}},nS=t=>ie.str(t)?t:t&&ie.str(t.displayName)?t.displayName:ie.fun(t)&&t.name||null;function Rr(t,...e){return ie.fun(t)?t(...e):t}var Dl=(t,e)=>t===!0||!!(e&&t&&(ie.fun(t)?t(e):jn(t).includes(e))),l2=(t,e)=>ie.obj(t)?e&&t[e]:t,c2=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,z8=t=>t,My=(t,e=z8)=>{let n=V8;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const i={};for(const a of n){const l=e(t[a],a);ie.und(l)||(i[a]=l)}return i},V8=["config","onProps","onStart","onChange","onPause","onResume","onRest"],$8={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function F8(t){const e={};let n=0;if(ks(t,(i,a)=>{$8[a]||(e[a]=i,n++)}),n)return e}function u2(t){const e=F8(t);if(e){const n={to:e};return ks(t,(i,a)=>a in e||(n[a]=i)),n}return{...t}}function Yl(t){return t=gn(t),ie.arr(t)?t.map(Yl):ch(t)?ms.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function q8(t){for(const e in t)return!0;return!1}function fg(t){return ie.fun(t)||ie.arr(t)&&ie.obj(t[0])}function H8(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function G8(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var K8={default:{tension:170,friction:26}},mg={...K8.default,mass:1,damping:1,easing:_8.linear,clamp:!1},W8=class{constructor(){this.velocity=0,Object.assign(this,mg)}};function Y8(t,e,n){n&&(n={...n},sS(n,e),e={...n,...e}),sS(t,e),Object.assign(t,e);for(const c in mg)t[c]==null&&(t[c]=mg[c]);let{frequency:i,damping:a}=t;const{mass:l}=t;return ie.und(i)||(i<.01&&(i=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/i,2)*l,t.friction=4*Math.PI*a*l/i),t}function sS(t,e){if(!ie.und(e.decay))t.duration=void 0;else{const n=!ie.und(e.tension)||!ie.und(e.friction);(n||!ie.und(e.frequency)||!ie.und(e.damping)||!ie.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var iS=[],X8=class{constructor(){this.changed=!1,this.values=iS,this.toValues=null,this.fromValues=iS,this.config=new W8,this.immediate=!1}};function d2(t,{key:e,props:n,defaultProps:i,state:a,actions:l}){return new Promise((c,d)=>{let h,f,y=Dl(n.cancel??(i==null?void 0:i.cancel),e);if(y)S();else{ie.und(n.pause)||(a.paused=Dl(n.pause,e));let T=i==null?void 0:i.pause;T!==!0&&(T=a.paused||Dl(T,e)),h=Rr(n.delay||0,e),T?(a.resumeQueue.add(b),l.pause()):(l.resume(),b())}function v(){a.resumeQueue.add(b),a.timeouts.delete(f),f.cancel(),h=f.time-ke.now()}function b(){h>0&&!ms.skipAnimation?(a.delayed=!0,f=ke.setTimeout(S,h),a.pauseQueue.add(v),a.timeouts.add(f)):S()}function S(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(v),a.timeouts.delete(f),t<=(a.cancelId||0)&&(y=!0);try{l.start({...n,callId:t,cancel:y},c)}catch(T){d(T)}}})}var Ly=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?to(t.get()):e.every(n=>n.noop)?h2(t.get()):cs(t.get(),e.every(n=>n.finished)),h2=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),cs=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),to=t=>({value:t,cancelled:!0,finished:!1});function f2(t,e,n,i){const{callId:a,parentId:l,onRest:c}=e,{asyncTo:d,promise:h}=n;return!l&&t===d&&!e.reset?h:n.promise=(async()=>{n.asyncId=a,n.asyncTo=t;const f=My(e,(C,k)=>k==="onRest"?void 0:C);let y,v;const b=new Promise((C,k)=>(y=C,v=k)),S=C=>{const k=a<=(n.cancelId||0)&&to(i)||a!==n.asyncId&&cs(i,!1);if(k)throw C.result=k,v(C),C},T=(C,k)=>{const O=new rS,j=new aS;return(async()=>{if(ms.skipAnimation)throw Xl(n),j.result=cs(i,!1),v(j),j;S(O);const M=ie.obj(C)?{...C}:{...k,to:C};M.parentId=a,ks(f,($,z)=>{ie.und(M[z])&&(M[z]=$)});const V=await i.start(M);return S(O),n.paused&&await new Promise($=>{n.resumeQueue.add($)}),V})()};let x;if(ms.skipAnimation)return Xl(n),cs(i,!1);try{let C;ie.arr(t)?C=(async k=>{for(const O of k)await T(O)})(t):C=Promise.resolve(t(T,i.stop.bind(i))),await Promise.all([C.then(y),b]),x=cs(i.get(),!0,!1)}catch(C){if(C instanceof rS)x=C.result;else if(C instanceof aS)x=C.result;else throw C}finally{a==n.asyncId&&(n.asyncId=l,n.asyncTo=l?d:void 0,n.promise=l?h:void 0)}return ie.fun(c)&&ke.batchedUpdates(()=>{c(x,i,i.item)}),x})()}function Xl(t,e){Ol(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var rS=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},aS=class extends Error{constructor(){super("SkipAnimationSignal")}},pg=t=>t instanceof Py,Q8=1,Py=class extends QC{constructor(){super(...arguments),this.id=Q8++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Ts(this);return t&&t.getValue()}to(...t){return ms.to(this,t)}interpolate(...t){return k8(),ms.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Gl(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||ah.sort(this),Gl(this,{type:"priority",parent:this,priority:t})}},Hr=Symbol.for("SpringPhase"),m2=1,gg=2,yg=4,hp=t=>(t[Hr]&m2)>0,Ii=t=>(t[Hr]&gg)>0,yl=t=>(t[Hr]&yg)>0,oS=(t,e)=>e?t[Hr]|=gg|m2:t[Hr]&=~gg,lS=(t,e)=>e?t[Hr]|=yg:t[Hr]&=~yg,J8=class extends Py{constructor(t,e){if(super(),this.animation=new X8,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ie.und(t)||!ie.und(e)){const n=ie.obj(t)?{...t}:{...e,from:t};ie.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ii(this)||this._state.asyncTo)||yl(this)}get goal(){return gn(this.animation.to)}get velocity(){const t=Ts(this);return t instanceof dh?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return hp(this)}get isAnimating(){return Ii(this)}get isPaused(){return yl(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const i=this.animation;let{toValues:a}=i;const{config:l}=i,c=uh(i.to);!c&&Gn(i.to)&&(a=jn(gn(i.to))),i.values.forEach((f,y)=>{if(f.done)return;const v=f.constructor==Md?1:c?c[y].lastPosition:a[y];let b=i.immediate,S=v;if(!b){if(S=f.lastPosition,l.tension<=0){f.done=!0;return}let T=f.elapsedTime+=t;const x=i.fromValues[y],C=f.v0!=null?f.v0:f.v0=ie.arr(l.velocity)?l.velocity[y]:l.velocity;let k;const O=l.precision||(x==v?.005:Math.min(1,Math.abs(v-x)*.001));if(ie.und(l.duration))if(l.decay){const j=l.decay===!0?.998:l.decay,M=Math.exp(-(1-j)*T);S=x+C/(1-j)*(1-M),b=Math.abs(f.lastPosition-S)<=O,k=C*M}else{k=f.lastVelocity==null?C:f.lastVelocity;const j=l.restVelocity||O/10,M=l.clamp?0:l.bounce,V=!ie.und(M),$=x==v?f.v0>0:x<v;let z,K=!1;const X=1,ee=Math.ceil(t/X);for(let se=0;se<ee&&(z=Math.abs(k)>j,!(!z&&(b=Math.abs(v-S)<=O,b)));++se){V&&(K=S==v||S>v==$,K&&(k=-k*M,S=v));const J=-l.tension*1e-6*(S-v),ae=-l.friction*.001*k,ve=(J+ae)/l.mass;k=k+ve*X,S=S+k*X}}else{let j=1;l.duration>0&&(this._memoizedDuration!==l.duration&&(this._memoizedDuration=l.duration,f.durationProgress>0&&(f.elapsedTime=l.duration*f.durationProgress,T=f.elapsedTime+=t)),j=(l.progress||0)+T/this._memoizedDuration,j=j>1?1:j<0?0:j,f.durationProgress=j),S=x+l.easing(j)*(v-x),k=(S-f.lastPosition)/t,b=j==1}f.lastVelocity=k,Number.isNaN(S)&&(console.warn("Got NaN while animating:",this),b=!0)}c&&!c[y].done&&(b=!1),b?f.done=!0:e=!1,f.setValue(S,l.round)&&(n=!0)});const d=Ts(this),h=d.getValue();if(e){const f=gn(i.to);(h!==f||n)&&!l.decay?(d.setValue(f),this._onChange(f)):n&&l.decay&&this._onChange(h),this._stop()}else n&&this._onChange(h)}set(t){return ke.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ii(this)){const{to:t,config:e}=this.animation;ke.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return ie.und(t)?(n=this.queue||[],this.queue=[]):n=[ie.obj(t)?t:{...e,to:t}],Promise.all(n.map(i=>this._update(i))).then(i=>Ly(this,i))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Xl(this._state,t&&this._lastCallId),ke.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:i}=t;n=ie.obj(n)?n[e]:n,(n==null||fg(n))&&(n=void 0),i=ie.obj(i)?i[e]:i,i==null&&(i=void 0);const a={to:n,from:i};return hp(this)||(t.reverse&&([n,i]=[i,n]),i=gn(i),ie.und(i)?Ts(this)||this._set(n):this._set(i)),a}_update({...t},e){const{key:n,defaultProps:i}=this;t.default&&Object.assign(i,My(t,(c,d)=>/^on/.test(d)?l2(c,n):c)),uS(this,t,"onProps"),bl(this,"onProps",t,this);const a=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const l=this._state;return d2(++this._lastCallId,{key:n,props:t,defaultProps:i,state:l,actions:{pause:()=>{yl(this)||(lS(this,!0),Cl(l.pauseQueue),bl(this,"onPause",cs(this,vl(this,this.animation.to)),this))},resume:()=>{yl(this)&&(lS(this,!1),Ii(this)&&this._resume(),Cl(l.resumeQueue),bl(this,"onResume",cs(this,vl(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(c=>{if(t.loop&&c.finished&&!(e&&c.noop)){const d=p2(t);if(d)return this._update(d,!0)}return c})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(to(this));const i=!ie.und(t.to),a=!ie.und(t.from);if(i||a)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(to(this));const{key:l,defaultProps:c,animation:d}=this,{to:h,from:f}=d;let{to:y=h,from:v=f}=t;a&&!i&&(!e.default||ie.und(y))&&(y=v),e.reverse&&([y,v]=[v,y]);const b=!Zs(v,f);b&&(d.from=v),v=gn(v);const S=!Zs(y,h);S&&this._focus(y);const T=fg(e.to),{config:x}=d,{decay:C,velocity:k}=x;(i||a)&&(x.velocity=0),e.config&&!T&&Y8(x,Rr(e.config,l),e.config!==c.config?Rr(c.config,l):void 0);let O=Ts(this);if(!O||ie.und(y))return n(cs(this,!0));const j=ie.und(e.reset)?a&&!e.default:!ie.und(v)&&Dl(e.reset,l),M=j?v:this.get(),V=Yl(y),$=ie.num(V)||ie.arr(V)||ch(V),z=!T&&(!$||Dl(c.immediate||e.immediate,l));if(S){const se=hg(y);if(se!==O.constructor)if(z)O=this._set(V);else throw Error(`Cannot animate between ${O.constructor.name} and ${se.name}, as the "to" prop suggests`)}const K=O.constructor;let X=Gn(y),ee=!1;if(!X){const se=j||!hp(this)&&b;(S||se)&&(ee=Zs(Yl(M),V),X=!ee),(!Zs(d.immediate,z)&&!z||!Zs(x.decay,C)||!Zs(x.velocity,k))&&(X=!0)}if(ee&&Ii(this)&&(d.changed&&!j?X=!0:X||this._stop(h)),!T&&((X||Gn(h))&&(d.values=O.getPayload(),d.toValues=Gn(y)?null:K==Md?[1]:jn(V)),d.immediate!=z&&(d.immediate=z,!z&&!j&&this._set(h)),X)){const{onRest:se}=d;ze(eU,ae=>uS(this,e,ae));const J=cs(this,vl(this,h));Cl(this._pendingCalls,J),this._pendingCalls.add(n),d.changed&&ke.batchedUpdates(()=>{var ae;d.changed=!j,se==null||se(J,this),j?Rr(c.onRest,J):(ae=d.onStart)==null||ae.call(d,J,this)})}j&&this._set(M),T?n(f2(e.to,e,this._state,this)):X?this._start():Ii(this)&&!S?this._pendingCalls.add(n):n(h2(M))}_focus(t){const e=this.animation;t!==e.to&&(Qw(this)&&this._detach(),e.to=t,Qw(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Gn(e)&&(go(e,this),pg(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Gn(t)&&Kl(t,this)}_set(t,e=!0){const n=gn(t);if(!ie.und(n)){const i=Ts(this);if(!i||!Zs(n,i.getValue())){const a=hg(n);!i||i.constructor!=a?Iy(this,a.create(n)):i.setValue(n),i&&ke.batchedUpdates(()=>{this._onChange(n,e)})}}return Ts(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,bl(this,"onStart",cs(this,vl(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Rr(this.animation.onChange,t,this)),Rr(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Ts(this).reset(gn(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Ii(this)||(oS(this,!0),yl(this)||this._resume())}_resume(){ms.skipAnimation?this.finish():ah.start(this)}_stop(t,e){if(Ii(this)){oS(this,!1);const n=this.animation;ze(n.values,a=>{a.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Gl(this,{type:"idle",parent:this});const i=e?to(this.get()):cs(this.get(),vl(this,t??n.to));Cl(this._pendingCalls,i),n.changed&&(n.changed=!1,bl(this,"onRest",i,this))}}};function vl(t,e){const n=Yl(e),i=Yl(t.get());return Zs(i,n)}function p2(t,e=t.loop,n=t.to){const i=Rr(e);if(i){const a=i!==!0&&u2(i),l=(a||t).reverse,c=!a||a.reset;return Ql({...t,loop:e,default:!1,pause:void 0,to:!l||fg(n)?n:void 0,from:c?t.from:void 0,reset:c,...a})}}function Ql(t){const{to:e,from:n}=t=u2(t),i=new Set;return ie.obj(e)&&cS(e,i),ie.obj(n)&&cS(n,i),t.keys=i.size?Array.from(i):null,t}function Z8(t){const e=Ql(t);return ie.und(e.default)&&(e.default=My(e)),e}function cS(t,e){ks(t,(n,i)=>n!=null&&e.add(i))}var eU=["onStart","onRest","onChange","onPause","onResume"];function uS(t,e,n){t.animation[n]=e[n]!==c2(e,n)?l2(e[n],t.key):void 0}function bl(t,e,...n){var i,a,l,c;(a=(i=t.animation)[e])==null||a.call(i,...n),(c=(l=t.defaultProps)[e])==null||c.call(l,...n)}var tU=["onStart","onChange","onRest"],nU=1,sU=class{constructor(e,n){this.id=nU++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,i)=>e[i]=n.get()),e}set(e){for(const n in e){const i=e[n];ie.und(i)||this.springs[n].set(i)}}update(e){return e&&this.queue.push(Ql(e)),this}start(e){let{queue:n}=this;return e?n=jn(e).map(Ql):this.queue=[],this._flush?this._flush(this,n):(_2(this,n),vg(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const i=this.springs;ze(jn(n),a=>i[a].stop(!!e))}else Xl(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(ie.und(e))this.start({pause:!0});else{const n=this.springs;ze(jn(e),i=>n[i].pause())}return this}resume(e){if(ie.und(e))this.start({pause:!1});else{const n=this.springs;ze(jn(e),i=>n[i].resume())}return this}each(e){ks(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:i}=this._events,a=this._active.size>0,l=this._changed.size>0;(a&&!this._started||l&&!this._started)&&(this._started=!0,Ol(e,([h,f])=>{f.value=this.get(),h(f,this,this._item)}));const c=!a&&this._started,d=l||c&&i.size?this.get():null;l&&n.size&&Ol(n,([h,f])=>{f.value=d,h(f,this,this._item)}),c&&(this._started=!1,Ol(i,([h,f])=>{f.value=d,h(f,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;ke.onFrame(this._onFrame)}};function vg(t,e){return Promise.all(e.map(n=>g2(t,n))).then(n=>Ly(t,n))}async function g2(t,e,n){const{keys:i,to:a,from:l,loop:c,onRest:d,onResolve:h}=e,f=ie.obj(e.default)&&e.default;c&&(e.loop=!1),a===!1&&(e.to=null),l===!1&&(e.from=null);const y=ie.arr(a)||ie.fun(a)?a:void 0;y?(e.to=void 0,e.onRest=void 0,f&&(f.onRest=void 0)):ze(tU,x=>{const C=e[x];if(ie.fun(C)){const k=t._events[x];e[x]=({finished:O,cancelled:j})=>{const M=k.get(C);M?(O||(M.finished=!1),j&&(M.cancelled=!0)):k.set(C,{value:null,finished:O||!1,cancelled:j||!1})},f&&(f[x]=e[x])}});const v=t._state;e.pause===!v.paused?(v.paused=e.pause,Cl(e.pause?v.pauseQueue:v.resumeQueue)):v.paused&&(e.pause=!0);const b=(i||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),S=e.cancel===!0||c2(e,"cancel")===!0;(y||S&&v.asyncId)&&b.push(d2(++t._lastAsyncId,{props:e,state:v,actions:{pause:ug,resume:ug,start(x,C){S?(Xl(v,t._lastAsyncId),C(to(t))):(x.onRest=d,C(f2(y,x,v,t)))}}})),v.paused&&await new Promise(x=>{v.resumeQueue.add(x)});const T=Ly(t,await Promise.all(b));if(c&&T.finished&&!(n&&T.noop)){const x=p2(e,c,a);if(x)return _2(t,[x]),g2(t,x,!0)}return h&&ke.batchedUpdates(()=>h(T,t,t.item)),T}function dS(t,e){const n={...t.springs};return e&&ze(jn(e),i=>{ie.und(i.keys)&&(i=Ql(i)),ie.obj(i.to)||(i={...i,to:void 0}),b2(n,i,a=>v2(a))}),y2(t,n),n}function y2(t,e){ks(e,(n,i)=>{t.springs[i]||(t.springs[i]=n,go(n,t))})}function v2(t,e){const n=new J8;return n.key=t,e&&go(n,e),n}function b2(t,e,n){e.keys&&ze(e.keys,i=>{(t[i]||(t[i]=n(i)))._prepareNode(e)})}function _2(t,e){ze(e,n=>{b2(t.springs,n,i=>v2(i,t))})}var iU=A.createContext({pause:!1,immediate:!1}),rU=()=>{const t=[],e=function(i){O8();const a=[];return ze(t,(l,c)=>{if(ie.und(i))a.push(l.start());else{const d=n(i,l,c);d&&a.push(l.start(d))}}),a};e.current=t,e.add=function(i){t.includes(i)||t.push(i)},e.delete=function(i){const a=t.indexOf(i);~a&&t.splice(a,1)},e.pause=function(){return ze(t,i=>i.pause(...arguments)),this},e.resume=function(){return ze(t,i=>i.resume(...arguments)),this},e.set=function(i){ze(t,(a,l)=>{const c=ie.fun(i)?i(l,a):i;c&&a.set(c)})},e.start=function(i){const a=[];return ze(t,(l,c)=>{if(ie.und(i))a.push(l.start());else{const d=this._getProps(i,l,c);d&&a.push(l.start(d))}}),a},e.stop=function(){return ze(t,i=>i.stop(...arguments)),this},e.update=function(i){return ze(t,(a,l)=>a.update(this._getProps(i,a,l))),this};const n=function(i,a,l){return ie.fun(i)?i(l,a):i};return e._getProps=n,e};function aU(t,e,n){const i=ie.fun(e)&&e;i&&!n&&(n=[]);const a=A.useMemo(()=>i||arguments.length==3?rU():void 0,[]),l=A.useRef(0),c=n2(),d=A.useMemo(()=>({ctrls:[],queue:[],flush(k,O){const j=dS(k,O);return l.current>0&&!d.queue.length&&!Object.keys(j).some(V=>!k.springs[V])?vg(k,O):new Promise(V=>{y2(k,j),d.queue.push(()=>{V(vg(k,O))}),c()})}}),[]),h=A.useRef([...d.ctrls]),f=A.useRef([]),y=Zw(t)||0;A.useMemo(()=>{ze(h.current.slice(t,y),k=>{H8(k,a),k.stop(!0)}),h.current.length=t,v(y,t)},[t]),A.useMemo(()=>{v(0,Math.min(y,t))},n);function v(k,O){for(let j=k;j<O;j++){const M=h.current[j]||(h.current[j]=new sU(null,d.flush)),V=i?i(j,M):e[j];V&&(f.current[j]=Z8(V))}}const b=h.current.map((k,O)=>dS(k,f.current[O])),S=A.useContext(iU),T=Zw(S),x=S!==T&&q8(S);Ny(()=>{l.current++,d.ctrls=h.current;const{queue:k}=d;k.length&&(d.queue=[],ze(k,O=>O())),ze(h.current,(O,j)=>{a==null||a.add(O),x&&O.start({default:S});const M=f.current[j];M&&(G8(O,M.ref),O.ref?O.queue.push(M):O.start(M))})}),s2(()=>()=>{ze(d.ctrls,k=>k.stop(!0))});const C=b.map(k=>({...k}));return a?[C,a]:C}function oU(t,e){const n=ie.fun(t),[[i],a]=aU(1,n?t:[t],n?[]:e);return n||arguments.length==2?[i,a]:i}var lU=class extends Py{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=ql(...e);const n=this._get(),i=hg(n);Iy(this,i.create(n))}advance(t){const e=this._get(),n=this.get();Zs(e,n)||(Ts(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&hS(this._active)&&fp(this)}_get(){const t=ie.arr(this.source)?this.source.map(gn):jn(gn(this.source));return this.calc(...t)}_start(){this.idle&&!hS(this._active)&&(this.idle=!1,ze(uh(this),t=>{t.done=!1}),ms.skipAnimation?(ke.batchedUpdates(()=>this.advance()),fp(this)):ah.start(this))}_attach(){let t=1;ze(jn(this.source),e=>{Gn(e)&&go(e,this),pg(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){ze(jn(this.source),t=>{Gn(t)&&Kl(t,this)}),this._active.clear(),fp(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=jn(this.source).reduce((e,n)=>Math.max(e,(pg(n)?n.priority:0)+1),0))}};function cU(t){return t.idle!==!1}function hS(t){return!t.size||Array.from(t).every(cU)}function fp(t){t.idle||(t.idle=!0,ze(uh(t),e=>{e.done=!0}),Gl(t,{type:"idle",parent:t}))}ms.assign({createStringInterpolator:e2,to:(t,e)=>new lU(t,e)});var w2=/^--/;function uU(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!w2.test(t)&&!(Nl.hasOwnProperty(t)&&Nl[t])?e+"px":(""+e).trim()}var fS={};function dU(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:a,children:l,scrollTop:c,scrollLeft:d,viewBox:h,...f}=e,y=Object.values(f),v=Object.keys(f).map(b=>n||t.hasAttribute(b)?b:fS[b]||(fS[b]=b.replace(/([A-Z])/g,S=>"-"+S.toLowerCase())));l!==void 0&&(t.textContent=l);for(const b in a)if(a.hasOwnProperty(b)){const S=uU(b,a[b]);w2.test(b)?t.style.setProperty(b,S):t.style[b]=S}v.forEach((b,S)=>{t.setAttribute(b,y[S])}),i!==void 0&&(t.className=i),c!==void 0&&(t.scrollTop=c),d!==void 0&&(t.scrollLeft=d),h!==void 0&&t.setAttribute("viewBox",h)}var Nl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hU=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),fU=["Webkit","Ms","Moz","O"];Nl=Object.keys(Nl).reduce((t,e)=>(fU.forEach(n=>t[hU(n,e)]=t[e]),t),Nl);var mU=/^(matrix|translate|scale|rotate|skew)/,pU=/^(translate)/,gU=/^(rotate|skew)/,mp=(t,e)=>ie.num(t)&&t!==0?t+e:t,ld=(t,e)=>ie.arr(t)?t.every(n=>ld(n,e)):ie.num(t)?t===e:parseFloat(t)===e,yU=class extends hh{constructor({x:t,y:e,z:n,...i}){const a=[],l=[];(t||e||n)&&(a.push([t||0,e||0,n||0]),l.push(c=>[`translate3d(${c.map(d=>mp(d,"px")).join(",")})`,ld(c,0)])),ks(i,(c,d)=>{if(d==="transform")a.push([c||""]),l.push(h=>[h,h===""]);else if(mU.test(d)){if(delete i[d],ie.und(c))return;const h=pU.test(d)?"px":gU.test(d)?"deg":"";a.push(jn(c)),l.push(d==="rotate3d"?([f,y,v,b])=>[`rotate3d(${f},${y},${v},${mp(b,h)})`,ld(b,0)]:f=>[`${d}(${f.map(y=>mp(y,h)).join(",")})`,ld(f,d.startsWith("scale")?1:0)])}}),a.length&&(i.transform=new vU(a,l)),super(i)}},vU=class extends QC{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return ze(this.inputs,(n,i)=>{const a=gn(n[0]),[l,c]=this.transforms[i](ie.arr(a)?a:n.map(gn));t+=" "+l,e=e&&c}),e?"none":t}observerAdded(t){t==1&&ze(this.inputs,e=>ze(e,n=>Gn(n)&&go(n,this)))}observerRemoved(t){t==0&&ze(this.inputs,e=>ze(e,n=>Gn(n)&&Kl(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Gl(this,t)}},bU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ms.assign({batchedUpdates:Gr.unstable_batchedUpdates,createStringInterpolator:e2,colors:l8});var _U=B8(bU,{applyAnimatedValues:dU,createAnimatedStyle:t=>new yU(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),pp=_U.animated;function wU(t,e,n){return Math.max(e,Math.min(t,n))}const Yt={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function mS(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function pS(t,e,n,i=.15){return i===0?wU(t,e,n):t<e?-mS(e-t,n-e,i)+e:t>n?+mS(t-n,n-e,i)+n:t}function SU(t,[e,n],[i,a]){const[[l,c],[d,h]]=t;return[pS(e,l,c,i),pS(n,d,h,a)]}function TU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EU(t){var e=TU(t,"string");return typeof e=="symbol"?e:String(e)}function pn(t,e,n){return e=EU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(i){pn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const S2={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function yS(t){return t?t[0].toUpperCase()+t.slice(1):""}const xU=["enter","leave"];function CU(t=!1,e){return t&&!xU.includes(e)}function AU(t,e="",n=!1){const i=S2[t],a=i&&i[e]||e;return"on"+yS(t)+yS(a)+(CU(n,a)?"Capture":"")}const kU=["gotpointercapture","lostpointercapture"];function jU(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const i=kU.includes(e)?"capturecapture":"capture",a=!!~e.indexOf(i);return a&&(e=e.replace("capture","")),{device:e,capture:a,passive:n}}function OU(t,e=""){const n=S2[t],i=n&&n[e]||e;return t+i}function fh(t){return"touches"in t}function T2(t){return fh(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function RU(t){return Array.from(t.touches).filter(e=>{var n,i;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(i=n.contains)===null||i===void 0?void 0:i.call(n,e.target))})}function DU(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function E2(t){return fh(t)?DU(t)[0]:t}function NU(t){return RU(t).map(e=>e.identifier)}function gp(t){const e=E2(t);return fh(t)?e.identifier:e.pointerId}function vS(t){const e=E2(t);return[e.clientX,e.clientY]}function IU(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:i,metaKey:a,ctrlKey:l}=t;Object.assign(e,{shiftKey:n,altKey:i,metaKey:a,ctrlKey:l})}return e}function Pd(t,...e){return typeof t=="function"?t(...e):t}function MU(){}function LU(...t){return t.length===0?MU:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function bS(t,e){return Object.assign({},e,t||{})}const PU=32;class UU{constructor(e,n,i){this.ctrl=e,this.args=n,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:i,args:a}=this;n[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=a,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,i=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=i.from?Pd(i.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:i,shared:a}=this;n.args=this.args;let l=0;if(e&&(n.event=e,i.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,a.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,a.locked=!!document.pointerLockElement,Object.assign(a,IU(e)),a.down=a.pressed=a.buttons%2===1||a.touches>0,l=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const $=n._delta.map(Math.abs);Yt.addTo(n._distance,$)}this.axisIntent&&this.axisIntent(e);const[c,d]=n._movement,[h,f]=i.threshold,{_step:y,values:v}=n;if(i.hasCustomTransform?(y[0]===!1&&(y[0]=Math.abs(c)>=h&&v[0]),y[1]===!1&&(y[1]=Math.abs(d)>=f&&v[1])):(y[0]===!1&&(y[0]=Math.abs(c)>=h&&Math.sign(c)*h),y[1]===!1&&(y[1]=Math.abs(d)>=f&&Math.sign(d)*f)),n.intentional=y[0]!==!1||y[1]!==!1,!n.intentional)return;const b=[0,0];if(i.hasCustomTransform){const[$,z]=v;b[0]=y[0]!==!1?$-y[0]:0,b[1]=y[1]!==!1?z-y[1]:0}else b[0]=y[0]!==!1?c-y[0]:0,b[1]=y[1]!==!1?d-y[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(b);const S=n.offset,T=n._active&&!n._blocked||n.active;T&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=a[this.ingKey]=n._active,e&&(n.first&&("bounds"in i&&(n._bounds=Pd(i.bounds,n)),this.setup&&this.setup()),n.movement=b,this.computeOffset()));const[x,C]=n.offset,[[k,O],[j,M]]=n._bounds;n.overflow=[x<k?-1:x>O?1:0,C<j?-1:C>M?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const V=n._active?i.rubberband||[0,0]:[0,0];if(n.offset=SU(n._bounds,n.offset,V),n.delta=Yt.sub(n.offset,S),this.computeMovement(),T&&(!n.last||l>PU)){n.delta=Yt.sub(n.offset,S);const $=n.delta.map(Math.abs);Yt.addTo(n.distance,$),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&l>0&&(n.velocity=[$[0]/l,$[1]/l],n.timeDelta=l)}}emit(){const e=this.state,n=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const a=this.handler(ht(ht(ht({},n),e),{},{[this.aliasKey]:e.values}));a!==void 0&&(e.memo=a)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function BU([t,e],n){const i=Math.abs(t),a=Math.abs(e);if(i>a&&i>n)return"x";if(a>i&&a>n)return"y"}class zU extends UU{constructor(...e){super(...e),pn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Yt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Yt.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,i=this.config;if(!n.axis&&e){const a=typeof i.axisThreshold=="object"?i.axisThreshold[T2(e)]:i.axisThreshold;n.axis=BU(n._movement,a)}n._blocked=(i.lockDirection||!!i.axis)&&!n.axis||!!i.axis&&i.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const VU=t=>t,_S=.15,x2={enabled(t=!0){return t},eventOptions(t,e,n){return ht(ht({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[_S,_S];case!1:return[0,0];default:return Yt.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Yt.toVector(t)},transform(t,e,n){const i=t||n.shared.transform;return this.hasCustomTransform=!!i,i||VU},threshold(t){return Yt.toVector(t,0)}},$U=0,fc=ht(ht({},x2),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=$U){return t},bounds(t={}){if(typeof t=="function")return l=>fc.bounds(t(l));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:i=-1/0,bottom:a=1/0}=t;return[[e,n],[i,a]]}}),wS={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class FU extends zU{constructor(...e){super(...e),pn(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),a={left:n.left-i.left+e.offset[0],right:n.right-i.right+e.offset[0],top:n.top-i.top+e.offset[1],bottom:n.bottom-i.bottom+e.offset[1]};e._bounds=fc.bounds(a)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const a=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(a&&a.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=gp(e),i._pointerActive=!0,this.computeValues(vS(e)),this.computeInitial(),n.preventScrollAxis&&T2(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,i=this.config;if(!n._pointerActive)return;const a=gp(e);if(n._pointerId!==void 0&&a!==n._pointerId)return;const l=vS(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Yt.sub(l,n._values),this.computeValues(l)),Yt.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,i=this.config;if(!n._active||!n._pointerActive)return;const a=gp(e);if(n._pointerId!==void 0&&a!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[l,c]=n._distance;if(n.tap=l<=i.tapsThreshold&&c<=i.tapsThreshold,n.tap&&i.filterTaps)n._force=!0;else{const[d,h]=n._delta,[f,y]=n._movement,[v,b]=i.swipe.velocity,[S,T]=i.swipe.distance,x=i.swipe.duration;if(n.elapsedTime<x){const C=Math.abs(d/n.timeDelta),k=Math.abs(h/n.timeDelta);C>v&&Math.abs(f)>S&&(n.swipe[0]=Math.sign(d)),k>b&&Math.abs(y)>T&&(n.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,i=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,qU(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=wS[e.key];if(n){const i=this.state,a=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=n(this.config.keyboardDisplacement,a),i._keyboardActive=!0,Yt.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in wS&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function qU(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const mc=typeof window<"u"&&window.document&&window.document.createElement;function C2(){return mc&&"ontouchstart"in window}function HU(){return C2()||mc&&window.navigator.maxTouchPoints>1}function GU(){return mc&&"onpointerdown"in window}function KU(){return mc&&"exitPointerLock"in window.document}function WU(){try{return"constructor"in GestureEvent}catch{return!1}}const Kn={isBrowser:mc,gesture:WU(),touch:C2(),touchscreen:HU(),pointer:GU(),pointerLock:KU()},YU=250,XU=180,QU=.5,JU=50,ZU=250,eB=10,SS={mouse:0,touch:0,pen:8},tB=ht(ht({},fc),{},{device(t,e,{pointer:{touch:n=!1,lock:i=!1,mouse:a=!1}={}}){return this.pointerLock=i&&Kn.pointerLock,Kn.touch&&n?"touch":this.pointerLock?"mouse":Kn.pointer&&!a?"pointer":Kn.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?YU:void 0,!(!Kn.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:i=1,keys:a=!0}={}}){return this.pointerButtons=i,this.keys=a,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:i=3,axis:a=void 0}){const l=Yt.toVector(t,n?i:a?1:0);return this.filterTaps=n,this.tapsThreshold=i,l},swipe({velocity:t=QU,distance:e=JU,duration:n=ZU}={}){return{velocity:this.transform(Yt.toVector(t)),distance:this.transform(Yt.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return XU;case!1:return 0;default:return t}},axisThreshold(t){return t?ht(ht({},SS),t):SS},keyboardDisplacement(t=eB){return t}});ht(ht({},x2),{},{device(t,e,{shared:n,pointer:{touch:i=!1}={}}){if(n.target&&!Kn.touch&&Kn.gesture)return"gesture";if(Kn.touch&&i)return"touch";if(Kn.touchscreen){if(Kn.pointer)return"pointer";if(Kn.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:i={}}){const a=c=>{const d=bS(Pd(n,c),{min:-1/0,max:1/0});return[d.min,d.max]},l=c=>{const d=bS(Pd(i,c),{min:-1/0,max:1/0});return[d.min,d.max]};return typeof n!="function"&&typeof i!="function"?[a(),l()]:c=>[a(c),l(c)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Yt.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});ht(ht({},fc),{},{mouseOnly:(t=!0)=>t});ht(ht({},fc),{},{mouseOnly:(t=!0)=>t});const A2=new Map,bg=new Map;function nB(t){A2.set(t.key,t.engine),bg.set(t.key,t.resolver)}const sB={key:"drag",engine:FU,resolver:tB};function iB(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function rB(t,e){if(t==null)return{};var n=iB(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}const aB={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Kn.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},oB=["target","eventOptions","window","enabled","transform"];function cd(t={},e){const n={};for(const[i,a]of Object.entries(e))switch(typeof a){case"function":n[i]=a.call(n,t[i],i,t);break;case"object":n[i]=cd(t[i],a);break;case"boolean":a&&(n[i]=t[i]);break}return n}function lB(t,e,n={}){const i=t,{target:a,eventOptions:l,window:c,enabled:d,transform:h}=i,f=rB(i,oB);if(n.shared=cd({target:a,eventOptions:l,window:c,enabled:d,transform:h},aB),e){const y=bg.get(e);n[e]=cd(ht({shared:n.shared},f),y)}else for(const y in f){const v=bg.get(y);v&&(n[y]=cd(ht({shared:n.shared},f[y]),v))}return n}class k2{constructor(e,n){pn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,i,a,l){const c=this._listeners,d=OU(n,i),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},f=ht(ht({},h),l);e.addEventListener(d,a,f);const y=()=>{e.removeEventListener(d,a,f),c.delete(y)};return c.add(y),y}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class cB{constructor(){pn(this,"_timeouts",new Map)}add(e,n,i=140,...a){this.remove(e),this._timeouts.set(e,window.setTimeout(n,i,...a))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class uB{constructor(e){pn(this,"gestures",new Set),pn(this,"_targetEventStore",new k2(this)),pn(this,"gestureEventStores",{}),pn(this,"gestureTimeoutStores",{}),pn(this,"handlers",{}),pn(this,"config",{}),pn(this,"pointerIds",new Set),pn(this,"touchIds",new Set),pn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),dB(this,e)}setEventIds(e){if(fh(e))return this.touchIds=new Set(NU(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=lB(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,i={};let a;if(!(n.target&&(a=n.target(),!a))){if(n.enabled){for(const c of this.gestures){const d=this.config[c],h=TS(i,d.eventOptions,!!a);if(d.enabled){const f=A2.get(c);new f(this,e,c).bind(h)}}const l=TS(i,n.eventOptions,!!a);for(const c in this.nativeHandlers)l(c,"",d=>this.nativeHandlers[c](ht(ht({},this.state.shared),{},{event:d,args:e})),void 0,!0)}for(const l in i)i[l]=LU(...i[l]);if(!a)return i;for(const l in i){const{device:c,capture:d,passive:h}=jU(l);this._targetEventStore.add(a,c,"",i[l],{capture:d,passive:h})}}}}function Pa(t,e){t.gestures.add(e),t.gestureEventStores[e]=new k2(t,e),t.gestureTimeoutStores[e]=new cB}function dB(t,e){e.drag&&Pa(t,"drag"),e.wheel&&Pa(t,"wheel"),e.scroll&&Pa(t,"scroll"),e.move&&Pa(t,"move"),e.pinch&&Pa(t,"pinch"),e.hover&&Pa(t,"hover")}const TS=(t,e,n)=>(i,a,l,c={},d=!1)=>{var h,f;const y=(h=c.capture)!==null&&h!==void 0?h:e.capture,v=(f=c.passive)!==null&&f!==void 0?f:e.passive;let b=d?i:AU(i,a,y);n&&v&&(b+="Passive"),t[b]=t[b]||[],t[b].push(l)};function hB(t,e={},n,i){const a=hs.useMemo(()=>new uB(t),[]);if(a.applyHandlers(t,i),a.applyConfig(e,n),hs.useEffect(a.effect.bind(a)),hs.useEffect(()=>a.clean.bind(a),[]),e.target===void 0)return a.bind.bind(a)}function fB(t,e){return nB(sB),hB({drag:t},e||{},"drag")}const mB=({subtask:t,onToggle:e})=>g.jsxs("div",{className:`${Ue.subtaskItem} ${t.completed?Ue.completed:""} ${Ue.clickable}`,onClick:n=>{n.stopPropagation(),e()},children:[g.jsx("div",{className:Ue.subtaskCheckbox}),g.jsx("span",{children:t.text})]}),pB={low:{label:"Baixa",icon:"batteryLow"},medium:{label:"Mdia",icon:"batteryMedium"},high:{label:"Alta",icon:"batteryFull"}},Uy=({task:t,tags:e,onEdit:n,onDragStart:i,onDragEnd:a,isDragging:l,quadrant:c,onTriage:d})=>{const{handleCompleteTask:h,handleSetFrog:f,frogTaskId:y,handleDeleteTask:v,handleToggleSubtask:b}=bn(),{startFocusOnTask:S,activeTaskId:T,status:x}=po(),{addNotification:C,handleNavigate:k}=vn(),[O,j]=A.useState(!0),M=A.useRef(),V=80,$=c==="inbox",z=A.useMemo(()=>{var ge;return((ge=t.subtasks)==null?void 0:ge.some(Jt=>!Jt.completed))??!1},[t.subtasks]),K=x!=="idle",[X,ee]=A.useState(!1),se=y===t.id,J=A.useMemo(()=>$?"check":t.pomodoroEstimate>0?"focus":"check",[t.pomodoroEstimate,$]),[{x:ae,scale:ve},fe]=oU(()=>({x:0,scale:1})),U=()=>{C("Finalize as subtarefas antes de concluir a tarefa principal.","","info")},Y=()=>{se&&C("Sapo do Dia Concludo! VITRIA!","","success"),h(t.id)},re=fB(({down:ge,movement:[Jt],axis:gs,first:Ji,last:Zi,event:es,cancel:er})=>{if(!X){if(Ji&&(M.current=setTimeout(()=>{if(i){ee(!0);const Rs=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});es.target.dispatchEvent(Rs),er()}},400)),gs&&clearTimeout(M.current),Jt>0&&z&&!$){if(ge){const Rs=Math.min(Jt,V/2);fe.start({x:Rs,scale:1.05,immediate:!0})}Zi&&(U(),fe.start({x:0,scale:1}));return}if(gs==="x"&&ge&&fe.start({x:Jt,scale:1.05,immediate:!0}),Zi){if(clearTimeout(M.current),gs==="x"){if(Jt>V){fe.start({x:window.innerWidth,onRest:Y});return}else if(Jt<-V){fe.start({x:-window.innerWidth,onRest:()=>v(t.id)});return}}fe.start({x:0,scale:1})}}},{axis:"lock",filterTaps:!0,rubberband:!0,from:()=>[ae.get(),0],eventOptions:{passive:!1},threshold:10});A.useEffect(()=>{l||ee(!1)},[l]);const we=ge=>{if(ge.stopPropagation(),z&&!$){U();return}Y()},je=ge=>{ge.stopPropagation(),!K&&(S(t.id,t.title,t.customDuration),k("focus"))},D=t.tagId?e.find(ge=>ge.id===t.tagId):null,H=t.energyNeeded?pB[t.energyNeeded]:null,oe=T===t.id,ne=!z||$,Te=$?"Vitria Rpida":"Concluir",Re=ae.to(ge=>ne?Math.max(0,ge/V)*.7:0),Ve=ae.to(ge=>Math.max(0,-ge/V)*.7),jt=`
        ${Ue.taskCard}
        ${t.status==="done"?Ue.statusDone:""}
        ${l?Ue.dragging:""}
        ${$?Ue.inboxCard:""}
        ${se?Ue.isFrog:""}
    `;return g.jsxs("div",{className:Ue.cardWrapper,children:[g.jsx(pp.div,{className:`${Ue.swipeBackground} ${Ue.completeBackground}`,style:{opacity:Re},children:g.jsxs("div",{className:Ue.swipeIcon,children:[g.jsx(te,{path:Z.check}),g.jsx("span",{children:Te})]})}),g.jsx(pp.div,{className:`${Ue.swipeBackground} ${Ue.deleteBackground}`,style:{opacity:Ve},children:g.jsxs("div",{className:Ue.swipeIcon,children:[g.jsx(te,{path:Z.trash}),g.jsx("span",{children:"Excluir"})]})}),g.jsx(pp.div,{...re(),draggable:X,onDragStart:X?i:void 0,onDragEnd:X?ge=>{a&&a(ge),ee(!1)}:void 0,className:jt,style:{x:ae,scale:ve,touchAction:"pan-y"},children:g.jsxs("div",{className:Ue.taskCardContent,children:[g.jsxs("div",{className:Ue.taskCardHeader,children:[g.jsxs("div",{className:Ue.taskCardTitleGroup,children:[J==="check"&&g.jsx("div",{className:`${Ue.checkbox} ${ne?"":Ue.disabled}`,onClick:we}),J==="focus"&&g.jsx("button",{title:oe&&K?"Focando":"Iniciar Foco",onClick:je,className:`icon-button ${Ue.headerPlayButton} ${oe&&K?Ue.activeFocus:""}`,disabled:K,children:g.jsx(te,{path:oe&&K?Z.zap:Z.play})}),g.jsx("h4",{children:t.title})]}),g.jsxs("div",{className:Ue.taskCardActions,children:[$&&d?g.jsx("button",{title:"Organizar Tarefa",onClick:ge=>{ge.stopPropagation(),d(t)},className:"icon-button",children:g.jsx(te,{path:Z.layoutGrid})}):g.jsx(g.Fragment,{children:g.jsx("button",{title:se?"Este  o Sapo do Dia":"Marcar como Sapo do Dia",onClick:ge=>{ge.stopPropagation(),f(t.id)},disabled:se,className:`icon-button ${se?Ue.frogIconActive:""}`,children:g.jsx(te,{path:Z.frog})})}),n&&t.templateId!==50&&g.jsx("button",{title:"Editar Tarefa",onClick:ge=>{ge.stopPropagation(),n(t)},className:"icon-button",children:g.jsx(te,{path:Z.pencil})})]})]}),t.description&&!$&&g.jsx("p",{className:Ue.taskCardDescription,children:t.description}),t.subtasks&&t.subtasks.length>0&&!$&&g.jsxs("div",{className:`${Ue.subtasksSection} ${O?"":Ue.collapsed}`,children:[g.jsxs("div",{className:Ue.subtasksHeader,onClick:()=>j(!O),children:[g.jsxs("div",{children:["Subtarefas (",t.subtasks.filter(ge=>ge.completed).length,"/",t.subtasks.length,")"]}),g.jsx(te,{path:Z.chevronDown,className:Ue.collapsibleChevron})]}),O&&g.jsx("div",{className:Ue.subtasksContent,children:t.subtasks.map(ge=>g.jsx(mB,{subtask:ge,onToggle:()=>b(t.id,ge.id)},ge.id))})]}),(D||H)&&!$&&g.jsxs("div",{className:Ue.taskCardFooter,children:[g.jsx("div",{className:Ue.footerTags,children:D&&g.jsx("div",{className:Ue.footerTag,style:{backgroundColor:D.color},children:D.name})}),H&&g.jsx("div",{title:`Energia: ${H.label}`,className:`${Ue.footerTag} ${Ue.energyTag}`,children:g.jsx(te,{path:Z[H.icon]})})]})]})})]})},gB="_card_1xn00_3",yB="_header_1xn00_13",vB="_taskList_1xn00_27",bB="_emptyState_1xn00_33",Gu={card:gB,header:yB,taskList:vB,emptyState:bB},_B=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${i}`},wB=()=>{const{tasks:t,tags:e}=bn(),n=_B(),i=A.useMemo(()=>t.filter(a=>a.dueDate===n&&a.status!=="done"),[t,n]);return g.jsxs("div",{className:Gu.card,children:[g.jsx("div",{className:Gu.header,children:g.jsxs("h3",{children:[g.jsx(te,{path:Z.calendar})," Agenda de Hoje"]})}),i.length>0?g.jsx("div",{className:Gu.taskList,children:i.map(a=>g.jsx(Uy,{task:a,tags:e,quadrant:a.quadrant},a.id))}):g.jsx("div",{className:Gu.emptyState,children:g.jsx("p",{children:"Nenhuma tarefa agendada para hoje. Aproveite o dia ou adicione novas tarefas!"})})]})},SB="_container_1p4hs_3",TB="_contentWrapper_1p4hs_7",EB="_dashboardHeader_1p4hs_13",xB="_greetingContent_1p4hs_19",CB="_headerIcon_1p4hs_39",AB="_brainDumpForm_1p4hs_46",kB="_frogCard_1p4hs_71",jB="_hasFrog_1p4hs_81",OB="_frogCardHeader_1p4hs_86",RB="_frogCardHeaderActions_1p4hs_93",DB="_iconButton_1p4hs_99",NB="_frogTitleCard_1p4hs_117",IB="_frogTaskTitle_1p4hs_125",MB="_frogCardContentEmpty_1p4hs_132",LB="_frogSubtasks_1p4hs_153",PB="_frogSubtaskItem_1p4hs_162",UB="_completed_1p4hs_187",BB="_frogSubtaskCheckbox_1p4hs_192",xt={container:SB,contentWrapper:TB,dashboardHeader:EB,greetingContent:xB,headerIcon:CB,brainDumpForm:AB,frogCard:kB,hasFrog:jB,frogCardHeader:OB,frogCardHeaderActions:RB,iconButton:DB,frogTitleCard:NB,frogTaskTitle:IB,frogCardContentEmpty:MB,frogSubtasks:LB,frogSubtaskItem:PB,completed:UB,frogSubtaskCheckbox:BB};var j2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ES=hs.createContext&&hs.createContext(j2),zB=["attr","size","title"];function VB(t,e){if(t==null)return{};var n=$B(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function $B(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ud.apply(this,arguments)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(i){FB(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function FB(t,e,n){return e=qB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t){var e=HB(t,"string");return typeof e=="symbol"?e:e+""}function HB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O2(t){return t&&t.map((e,n)=>hs.createElement(e.tag,Bd({key:n},e.attr),O2(e.child)))}function at(t){return e=>hs.createElement(GB,Ud({attr:Bd({},t.attr)},e),O2(t.child))}function GB(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=VB(t,zB),d=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),hs.createElement("svg",Ud({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:h,style:Bd(Bd({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&hs.createElement("title",null,l),t.children)};return ES!==void 0?hs.createElement(ES.Consumer,null,n=>e(n)):e(j2)}function KB(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function WB(t){return at({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const CS=["Vamos fazer acontecer hoje?","Que a fora do sapo esteja com voc.","O dia s comea depois de um bom planejamento.","Defina suas intenes e v com tudo!","Um pequeno passo hoje, um grande salto para seus objetivos."],AS=["Mantenha o foco, voc est quase l!","A tarde  perfeita para concluir tarefas importantes.","No desista agora, o sapo est esperando!","Uma pausa para o caf e de volta  produtividade!","Continue o bom trabalho, seu futuro agradece."],kS=["A noite  uma criana, planeje seu prximo dia.","Descanse e recarregue, amanh tem mais.","Reflita sobre suas vitrias de hoje.","Ainda d tempo de planejar um amanh incrvel.","Bom descanso, guerreiro do foco!"],jS=()=>{const t=new Date().getHours();return t<12?{text:"Bom dia",icon:Z.sun,gradient:"linear-gradient(140deg, #5D9CEC 0%, #3C6DB9 100%)",phrase:CS[Math.floor(Math.random()*CS.length)]}:t<18?{text:"Boa tarde",icon:Z.sun,gradient:"linear-gradient(140deg, #FFC837 0%, #FF8C00 100%)",phrase:AS[Math.floor(Math.random()*AS.length)]}:{text:"Boa noite",icon:Z.moon,gradient:"linear-gradient(140deg, #8A79F7 0%, #624EC2 100%)",phrase:kS[Math.floor(Math.random()*kS.length)]}},R2=()=>{const{tasks:t,frogTaskId:e,handleSetFrog:n,handleAddTask:i,handleUnsetFrog:a,handleToggleSubtask:l,leavingHomeItems:c,handleToggleLeavingHomeItem:d,handleAddLeavingHomeItem:h,handleRemoveLeavingHomeItem:f,handleResetLeavingHomeItems:y}=bn(),{handleNavigate:v,addNotification:b,setQuickTaskForCompletion:S}=vn(),{activeTaskId:T,status:x,startFocusOnTask:C}=po(),{userName:k}=Qd(),[O,j]=A.useState(null),[M,V]=A.useState(""),[$,z]=A.useState(!1),[K,X]=A.useState(null),[ee,se]=A.useState(()=>jS());A.useEffect(()=>{const ne=()=>{document.visibilityState==="visible"&&se(jS())};return document.addEventListener("visibilitychange",ne),()=>{document.removeEventListener("visibilitychange",ne)}},[]);const J=A.useMemo(()=>t.find(ne=>ne.id===e&&ne.status!=="done"),[t,e]),ae=A.useMemo(()=>t.filter(ne=>ne.status!=="done"),[t]),ve=A.useMemo(()=>{var ne;return((ne=J==null?void 0:J.subtasks)==null?void 0:ne.filter(Te=>!Te.completed).length)??0},[J]),fe=A.useMemo(()=>{var ne;return(((ne=J==null?void 0:J.subtasks)==null?void 0:ne.length)??0)>0},[J]),U=A.useMemo(()=>(J==null?void 0:J.title)===" Card Especial FocusFrog N.1",[J]),Y=A.useMemo(()=>J?J.id===T&&x!=="idle":!1,[J,T,x]),re=ne=>{ne.preventDefault(),M.trim()&&(i({title:M,quadrant:"inbox",pomodoroEstimate:1,energyNeeded:"medium"}),V(""))},we=()=>{K&&(n(K),b("Sapo do Dia definido","","success"),z(!1),X(null))},je=()=>{z(!1),v("tasks")},D=()=>{if(U){window.open("https://www.instagram.com/focus.frog/","_blank");return}!J||fe||(J.pomodoroEstimate>0?(C(J.id,J.title,J.customDuration),v("focus")):S(J))},H=ne=>g.jsxs("div",{className:`${xt.frogSubtaskItem} ${ne.completed?xt.completed:""}`,onClick:()=>J&&l(J.id,ne.id),children:[g.jsx("div",{className:xt.frogSubtaskCheckbox}),g.jsx("span",{children:ne.text})]},ne.id),oe=()=>U?"Visitar o Instagram ":Y?g.jsxs(g.Fragment,{children:[g.jsx(te,{path:Z.zap})," Focando no Sapo"]}):fe?ve>1?`Faltam ${ve} subtarefas`:ve===1?"Falta 1 subtarefa":"Sapo comido! ":"Comer o Sapo";return g.jsxs("div",{className:xt.container,children:[O&&g.jsx(zC,{taskToEdit:O,onClose:()=>j(null)}),g.jsx(sP,{}),g.jsx(VC,{isOpen:$,onClose:()=>z(!1),tasks:ae,selectedTask:K,onSelectTask:X,onConfirm:we,onNavigateToTasks:je}),g.jsx("div",{className:xt.dashboardHeader,style:{background:ee.gradient},children:g.jsxs("div",{className:xt.greetingContent,children:[g.jsx("img",{src:"/icon-192.png",alt:"FocusFrog App Icon",className:xt.headerIcon}),g.jsxs("div",{children:[g.jsxs("h2",{children:[ee.text,", ",k||"Usurio","!"]}),g.jsx("p",{children:ee.phrase})]})]})}),g.jsxs("div",{className:xt.contentWrapper,children:[g.jsxs("form",{id:"tutorial-step1-form",onSubmit:re,className:xt.brainDumpForm,children:[g.jsx("input",{type:"text",placeholder:"O que est na sua mente? (Despejo Mental)",value:M,onChange:ne=>V(ne.target.value)}),g.jsx("button",{type:"submit",disabled:!M.trim(),children:g.jsx(te,{path:Z.plus})})]}),g.jsxs("div",{className:`${xt.frogCard} ${J?xt.hasFrog:""} ${Y?xt.frogFocused:""}`,children:[g.jsxs("div",{className:xt.frogCardHeader,children:[g.jsxs("h3",{children:[g.jsx(te,{path:Z.frog})," Sapo do Dia"]}),J&&g.jsxs("div",{className:xt.frogCardHeaderActions,children:[g.jsx("button",{className:`btn btn-secondary btn-small ${xt.iconButton}`,onClick:()=>z(!0),children:g.jsx(KB,{})}),g.jsx("button",{className:`btn btn-secondary btn-icon btn-small ${xt.iconButton}`,onClick:a,title:"Remover Sapo",children:g.jsx(WB,{})})]})]}),J?g.jsxs("div",{children:[g.jsx("div",{className:xt.frogTitleCard,children:g.jsx("p",{className:xt.frogTaskTitle,children:J.title})}),fe&&g.jsx("div",{className:xt.frogSubtasks,children:J.subtasks.map(H)}),g.jsx("button",{id:"eat-the-frog-button",className:"btn btn-primary",style:{width:"100%"},onClick:D,disabled:Y||fe&&!U,children:oe()})]}):g.jsxs("div",{id:"frog-card-empty-state",className:xt.frogCardContentEmpty,onClick:()=>z(!0),children:[g.jsx(te,{path:Z.target,size:24}),g.jsx("strong",{children:"Escolha seu Sapo"}),g.jsx("p",{children:"Selecione a tarefa que vai destravar seu dia"})]})]}),g.jsx(SP,{items:c,onToggleItem:d,onAddItem:h,onRemoveItem:f,onResetItems:y}),g.jsx(wB,{onEditTask:j})]})]})},YB="_focusScreen_oaf86_3",XB="_screenContent_oaf86_11",QB="_titleContainer_oaf86_27",JB="_subtaskTitle_oaf86_50",ZB="_zenSanctuary_oaf86_58",e9="_zenElements_oaf86_68",t9="_characterContainer_oaf86_75",n9="_timerTime_oaf86_79",s9="_controlsContainer_oaf86_86",i9="_mainActionButton_oaf86_100",r9="_footerActionLeft_oaf86_110",a9="_footerActionRight_oaf86_110",o9="_secondaryActionButton_oaf86_118",l9="_timerCycle_oaf86_138",It={focusScreen:YB,screenContent:XB,"cycle-focus":"_cycle-focus_oaf86_22","cycle-shortBreak":"_cycle-shortBreak_oaf86_23","cycle-longBreak":"_cycle-longBreak_oaf86_24",titleContainer:QB,subtaskTitle:JB,zenSanctuary:ZB,zenElements:e9,characterContainer:t9,timerTime:n9,controlsContainer:s9,mainActionButton:i9,footerActionLeft:r9,footerActionRight:a9,secondaryActionButton:o9,timerCycle:l9},c9=t=>{const[e,n]=A.useState(window.matchMedia(t).matches);return A.useEffect(()=>{const i=window.matchMedia(t),a=l=>{n(l.matches)};return i.addEventListener("change",a),()=>{i.removeEventListener("change",a)}},[t]),e},u9="_auraContainer_3ebzk_3",d9="_auraSvg_3ebzk_7",h9="_tick_3ebzk_14",f9="_tickInactive_3ebzk_21",m9="_tickActive_3ebzk_27",Ua={auraContainer:u9,auraSvg:d9,tick:h9,tickInactive:f9,tickActive:m9,"aura--focus":"_aura--focus_3ebzk_32","aura--shortBreak":"_aura--shortBreak_3ebzk_36","aura--longBreak":"_aura--longBreak_3ebzk_40"},yp=60,Ku=150,Wu=135,OS=10,p9=({progress:t,size:e=300,mode:n})=>{const i=A.useMemo(()=>{const c=[];for(let d=0;d<yp;d++){const f=(d/yp*360-90)*Math.PI/180,y=Ku+(Wu-OS)*Math.cos(f),v=Ku+(Wu-OS)*Math.sin(f),b=Ku+Wu*Math.cos(f),S=Ku+Wu*Math.sin(f);c.push({x1:y,y1:v,x2:b,y2:S})}return c},[]),a=Math.ceil(t/100*yp),l=Ua[`aura--${n}`];return g.jsx("div",{className:Ua.auraContainer,style:{width:e,height:e},children:g.jsx("svg",{viewBox:"0 0 300 300",className:Ua.auraSvg,children:g.jsx("g",{children:i.map((c,d)=>g.jsx("line",{className:`
                                ${Ua.tick} 
                                ${d<a?Ua.tickActive:Ua.tickInactive}
                                ${l}
                            `,x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2},d))})})})},g9="_frogContainer_1l3ep_3",y9="_frogSvg_1l3ep_7",v9="_frogBody_1l3ep_13",b9="_frogEyes_1l3ep_19",_9="_visible_1l3ep_25",w9="_frogMouth_1l3ep_30",S9="_eyesMeditating_1l3ep_59",T9="_awaken_1l3ep_1",E9="_eyesIdle_1l3ep_84",Fn={frogContainer:g9,frogSvg:y9,frogBody:v9,frogEyes:b9,visible:_9,frogMouth:w9,"status--meditating":"_status--meditating_1l3ep_59",eyesMeditating:S9,awaken:T9,"status--idle":"_status--idle_1l3ep_70","idle-bob":"_idle-bob_1l3ep_1","status--happy":"_status--happy_1l3ep_80","happy-bounce":"_happy-bounce_1l3ep_1",eyesIdle:E9},x9=({status:t,size:e=150})=>{const n=`${Fn.frogEyes} ${Fn.eyesIdle} ${t==="idle"||t==="happy"?Fn.visible:""}`,i=`${Fn.frogEyes} ${Fn.eyesMeditating} ${t==="meditating"?Fn.visible:""}`,a=`${Fn.frogMouth} ${t==="happy"?Fn.visible:""}`;return g.jsx("div",{className:`${Fn.frogContainer} ${Fn["status--"+t]}`,style:{width:e,height:e},children:g.jsxs("svg",{viewBox:"0 0 100 100",className:Fn.frogSvg,children:[g.jsxs("g",{className:Fn.frogBody,children:[g.jsx("path",{d:"M50,95 C25,95 20,70 20,50 C20,25 30,20 50,20 C70,20 80,25 80,50 C80,70 75,95 50,95 Z",fill:"#5c8b57"}),g.jsx("path",{d:"M50,90 C35,90 30,70 30,55 C30,40 40,35 50,35 C60,35 70,40 70,55 C70,70 65,90 50,90 Z",fill:"#84b87c"})]}),g.jsxs("g",{className:n,children:[g.jsx("circle",{cx:"38",cy:"42",r:"6",fill:"#fff"}),g.jsx("circle",{cx:"62",cy:"42",r:"6",fill:"#fff"}),g.jsx("circle",{cx:"39",cy:"43",r:"3",fill:"#000"}),g.jsx("circle",{cx:"61",cy:"43",r:"3",fill:"#000"})]}),g.jsxs("g",{className:i,children:[g.jsx("path",{d:"M34,45 C38,42 42,42 46,45",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),g.jsx("path",{d:"M54,45 C58,42 62,42 66,45",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),g.jsx("g",{className:a,children:g.jsx("path",{d:"M40,58 C45,65 55,65 60,58",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"})})]})})},C9=t=>{const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},A9={focus:"Foco",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"},k9=()=>{const{setShowFocusScreen:t}=vn(),{tasks:e,handleCompleteTask:n}=bn(),{timerMode:i,status:a,timeRemaining:l,sessionDuration:c,activeTaskId:d,activeTaskTitle:h,activeSubtaskTitle:f,resumeCycle:y,pauseCycle:v,stopCycle:b}=po(),S=c9("(max-width: 768px)"),T=S?280:320,x=S?100:120,C=A.useMemo(()=>e.find(V=>V.id===d),[e,d]),k=()=>{d&&(n(d),b(),t(!1))},O=c>0?l/c*100:0,[j,M]=A.useState("idle");return A.useEffect(()=>{if(a==="running")M("meditating");else if(a==="finished"){M("happy");const V=setTimeout(()=>M("idle"),2500);return()=>clearTimeout(V)}else M("idle")},[a]),g.jsx("main",{className:`${It.focusScreen} ${It["cycle-"+i]}`,children:g.jsxs("div",{className:It.screenContent,children:[g.jsxs("div",{className:It.titleContainer,children:[g.jsx("p",{children:"Focando em:"}),g.jsx("h2",{children:h||"Foco Geral"}),f&&g.jsx("p",{className:It.subtaskTitle,children:f})]}),g.jsxs("div",{className:It.zenSanctuary,children:[g.jsx(p9,{progress:O,size:T,mode:i}),g.jsxs("div",{className:It.zenElements,children:[g.jsx("div",{className:It.characterContainer,children:g.jsx(x9,{status:j,size:x})}),g.jsx("div",{className:It.timerTime,children:C9(l)})]})]}),g.jsxs("div",{className:It.controlsContainer,children:[g.jsx("div",{className:It.footerActionLeft,children:(a==="running"||a==="paused")&&g.jsx("button",{className:`btn ${It.secondaryActionButton}`,onClick:b,"aria-label":"Parar ciclo",children:g.jsx(te,{path:Z.square})})}),g.jsx("div",{className:It.mainActions,children:a==="running"?g.jsx("button",{className:`btn btn-primary ${It.mainActionButton}`,onClick:v,"aria-label":"Pausar ciclo",children:g.jsx(te,{path:Z.pause})}):g.jsx("button",{className:`btn btn-primary ${It.mainActionButton}`,onClick:y,"aria-label":a==="paused"?"Continuar ciclo":"Iniciar ciclo",children:g.jsx(te,{path:Z.play})})}),g.jsx("div",{className:It.footerActionRight,children:C&&i==="focus"&&a!=="finished"?g.jsx("button",{className:`btn ${It.secondaryActionButton}`,onClick:k,"aria-label":"Concluir tarefa",children:g.jsx(te,{path:Z.checkCircle})}):g.jsx("div",{className:It.timerCycle,children:A9[i]})})]})]})})},j9="_centeredHeader_98xbw_5",O9="_subtitle_98xbw_13",R9="_optionsGrid_98xbw_22",D9="_optionButton_98xbw_30",N9="_optionTitle_98xbw_57",I9="_optionSubtitle_98xbw_63",M9="_schedule_98xbw_70",L9="_someday_98xbw_71",P9="_footerButton_98xbw_73",Mi={centeredHeader:j9,subtitle:O9,optionsGrid:R9,optionButton:D9,optionTitle:N9,optionSubtitle:I9,do:"_do_98xbw_69",schedule:M9,someday:L9,footerButton:P9},U9=({task:t,onClose:e,onTriage:n})=>{const i=Zn(e),[a,l]=A.useState(null);if(A.useEffect(()=>{l(document.getElementById("modal-root"))},[]),!a)return null;const c=[{id:"do",title:"Foco Imediato",subtitle:"Urgente & Importante",icon:"zap"},{id:"schedule",title:"Tarefas do Dia",subtitle:"Importante, no urgente",icon:"calendar"},{id:"someday",title:"Ideias & Projetos",subtitle:"No urgente & no importante",icon:"bookOpen"}];return Gr.createPortal(g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:"g-modal",ref:i,style:{maxWidth:"550px"},children:[g.jsxs("header",{className:`g-modal-header ${Mi.centeredHeader}`,children:[g.jsx("h3",{children:`Para onde vai a tarefa "${t.title}"?`}),g.jsx("p",{className:Mi.subtitle,children:"Escolha o quadrante de destino para organizar sua tarefa."})]}),g.jsx("main",{className:"g-modal-body",children:g.jsx("div",{className:Mi.optionsGrid,children:c.map(d=>g.jsxs("button",{className:`${Mi.optionButton} ${Mi[d.id]}`,onClick:()=>n(d.id),children:[g.jsx(te,{path:Z[d.icon]}),g.jsx("span",{className:Mi.optionTitle,children:d.title}),g.jsx("span",{className:Mi.optionSubtitle,children:d.subtitle})]},d.id))})}),g.jsx("footer",{className:"g-modal-footer",children:g.jsx("button",{className:`${Mi.footerButton}`,onClick:e,children:"Decidir Depois"})})]})}),a)},B9="_filterPanel_1gow1_3",z9="_panelHeader_1gow1_15",V9="_closeButton_1gow1_32",$9="_panelBody_1gow1_44",F9="_filterSection_1gow1_51",q9="_filterOptions_1gow1_60",H9="_filterChip_1gow1_66",G9="_active_1gow1_88",K9="_overdueActive_1gow1_99",W9="_tagColorDot_1gow1_108",Y9="_panelFooter_1gow1_115",en={filterPanel:B9,panelHeader:z9,closeButton:V9,panelBody:$9,filterSection:F9,filterOptions:q9,filterChip:H9,active:G9,overdueActive:K9,tagColorDot:W9,panelFooter:Y9},X9=[{id:"overdue",label:"Atrasada"},{id:"frog",label:"Sapo do Dia"}],Q9=({isOpen:t,onClose:e,filters:n,onFilterChange:i})=>{const{tags:a}=bn(),l=Zn(e),c=(f,y)=>{const v={...n};let b=v[f];b.includes(y)?b=b.filter(S=>S!==y):b=[...b,y],i({...v,[f]:b})},d=()=>{i({tags:[],status:[]})};if(!t)return null;const h=f=>{const y=n.status.includes(f);return`${en.filterChip} ${y?en.active:""} ${y&&f==="overdue"?en.overdueActive:""}`};return g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:en.filterPanel,ref:l,onClick:f=>f.stopPropagation(),children:[g.jsxs("header",{className:en.panelHeader,children:[g.jsxs("h3",{children:[g.jsx(te,{path:Z.sliders})," Filtros"]}),g.jsx("button",{onClick:e,className:en.closeButton,"aria-label":"Fechar filtros",children:g.jsx(te,{path:Z.x})})]}),g.jsxs("main",{className:en.panelBody,children:[g.jsxs("div",{className:en.filterSection,children:[g.jsx("h4",{children:"STATUS"}),g.jsx("div",{className:en.filterOptions,children:X9.map(f=>g.jsx("button",{className:h(f.id),onClick:()=>c("status",f.id),children:f.label},f.id))})]}),g.jsxs("div",{className:en.filterSection,children:[g.jsx("h4",{children:"TAGS"}),g.jsx("div",{className:en.filterOptions,children:a.map(f=>g.jsxs("button",{className:`${en.filterChip} ${n.tags.includes(f.id)?en.active:""}`,onClick:()=>c("tags",f.id),children:[g.jsx("span",{className:en.tagColorDot,style:{backgroundColor:f.color}}),f.name]},f.id))})]})]}),g.jsxs("footer",{className:en.panelFooter,children:[g.jsx("button",{className:"btn btn-secondary",onClick:d,children:"Limpar Filtros"}),g.jsx("button",{className:"btn btn-primary",onClick:e,children:"Aplicar"})]})]})})},J9="_subtitle_1ughe_3",Z9="_libraryTabs_1ughe_10",ez="_active_1ughe_31",tz="_routinesList_1ughe_36",nz="_routineCard_1ughe_43",sz="_routineActions_1ughe_60",iz="_routineCardHeader_1ughe_88",rz="_taskLibraryAccordion_1ughe_111",az="_accordionItem_1ughe_118",oz="_open_1ughe_125",lz="_accordionHeader_1ughe_129",cz="_accordionContent_1ughe_151",uz="_templateItem_1ughe_165",dz="_checkboxVisual_1ughe_187",hz="_deleteTemplateButton_1ughe_216",Kt={subtitle:J9,libraryTabs:Z9,active:ez,routinesList:tz,routineCard:nz,routineActions:sz,routineCardHeader:iz,taskLibraryAccordion:rz,accordionItem:az,open:oz,accordionHeader:lz,accordionContent:cz,templateItem:uz,checkboxVisual:dz,deleteTemplateButton:hz},fz="_routineEditorModal_fgm9m_3",mz="_formSection_fgm9m_13",pz="_tasksSection_fgm9m_22",gz="_sectionHeader_fgm9m_31",yz="_defaultRoutineInfo_fgm9m_41",vz="_defaultRoutineIconContainer_fgm9m_50",bz="_defaultRoutineTextContainer_fgm9m_67",_z="_iconSelector_fgm9m_83",wz="_active_fgm9m_107",Sz="_taskSearchInput_fgm9m_112",Tz="_taskListContainer_fgm9m_116",Ez="_templateSelectionList_fgm9m_122",xz="_templateItemContainer_fgm9m_135",Cz="_checkboxLabel_fgm9m_137",Az="_templateItem_fgm9m_135",kz="_selected_fgm9m_160",jz="_templateTitle_fgm9m_165",Oz="_checkboxVisual_fgm9m_167",Rz="_removeButton_fgm9m_196",Dz="_noResults_fgm9m_220",rt={routineEditorModal:fz,formSection:mz,tasksSection:pz,sectionHeader:gz,defaultRoutineInfo:yz,defaultRoutineIconContainer:vz,defaultRoutineTextContainer:bz,iconSelector:_z,active:wz,taskSearchInput:Sz,taskListContainer:Tz,templateSelectionList:Ez,templateItemContainer:xz,checkboxLabel:Cz,templateItem:Az,selected:kz,templateTitle:jz,checkboxVisual:Oz,removeButton:Rz,noResults:Dz},_g=({availableTemplates:t,selectedIds:e,onToggle:n,searchTerm:i,isRemovable:a=!1,routineIsDefault:l=!1,noResultsMessage:c="Nenhuma tarefa encontrada."})=>{const d=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase()));return g.jsxs("ul",{className:rt.templateSelectionList,children:[d.length===0&&g.jsx("p",{className:rt.noResults,children:c}),d.map(h=>{const f=e.includes(h.id),y=l&&h.isDefault;return g.jsx("li",{className:rt.templateItemContainer,children:a?g.jsxs("div",{className:rt.templateItem,children:[g.jsx("span",{className:rt.templateTitle,children:h.title}),!y&&g.jsx("button",{className:rt.removeButton,onClick:()=>n(h.id),title:"Remover Tarefa",children:g.jsx(te,{path:Z.trash})})]}):g.jsxs("label",{className:`${rt.templateItem} ${rt.checkboxLabel} ${f?rt.selected:""}`,children:[g.jsx("input",{type:"checkbox",checked:f,onChange:()=>n(h.id)}),g.jsx("span",{className:rt.checkboxVisual,children:g.jsx(te,{path:Z.check})}),g.jsx("span",{className:rt.templateTitle,children:h.title})]})},h.id)})]})},Nz=({onToggleTask:t,tasksNotInRoutine:e,onClose:n,searchTerm:i,setSearchTerm:a,routineTaskIds:l,isDefaultRoutine:c})=>{const d=Zn(n),h=c?e.filter(y=>!y.isDefault):e,f=c?"Nenhuma tarefa personalizada disponvel para adicionar.":"Nenhuma tarefa encontrada.";return g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:`g-modal ${rt.addTaskModal}`,ref:d,children:[g.jsxs("header",{className:"g-modal-header",children:[g.jsx("h3",{children:"Adicionar Tarefas  Rotina"}),g.jsx("button",{onClick:n,className:rt.closePaneButton,children:g.jsx(te,{path:Z.x})})]}),g.jsxs("main",{className:"g-modal-body",style:{flexDirection:"column"},children:[g.jsx("input",{type:"text",placeholder:"Buscar tarefas personalizadas...",value:i,onChange:y=>a(y.target.value),className:"g-input"}),g.jsx(_g,{availableTemplates:h,selectedIds:l,onToggle:t,searchTerm:i,noResultsMessage:f})]}),g.jsx("footer",{className:"g-modal-footer",children:g.jsx("button",{className:"btn btn-primary",onClick:n,children:"Concludo"})})]})})},Iz=({routineToEdit:t,onSave:e,onClose:n})=>{const{taskTemplates:i}=bn(),[a,l]=A.useState(t||{id:"",name:"",description:"",icon:"zap",taskTemplateIds:[],isDefault:!1}),[c,d]=A.useState(""),[h,f]=A.useState(!1),y=!!t,v=a.isDefault,b=Zn(()=>{h||n()}),S=(O,j)=>{l(M=>({...M,[O]:j}))},T=O=>{l(j=>{const M=j.taskTemplateIds,V=M.includes(O)?M.filter($=>$!==O):[...M,O];return{...j,taskTemplateIds:V}})},x=()=>{a.name.trim()&&(y||T6(),e(a))},C=A.useMemo(()=>i.filter(O=>a.taskTemplateIds.includes(O.id)),[i,a.taskTemplateIds]),k=A.useMemo(()=>i.filter(O=>!a.taskTemplateIds.includes(O.id)),[i,a.taskTemplateIds]);return g.jsxs("div",{className:"g-modal-overlay",children:[g.jsxs("div",{className:`g-modal ${rt.routineEditorModal}`,ref:b,children:[g.jsx("header",{className:"g-modal-header",children:g.jsx("h3",{children:y?"Editar Rotina":"Criar Nova Rotina"})}),g.jsxs("main",{className:"g-modal-body",children:[g.jsx("div",{className:rt.formSection,children:v?g.jsxs("div",{className:rt.defaultRoutineInfo,children:[g.jsx("div",{className:rt.defaultRoutineIconContainer,children:g.jsx(te,{path:Z[a.icon]})}),g.jsxs("div",{className:rt.defaultRoutineTextContainer,children:[g.jsx("h5",{children:a.name}),g.jsx("p",{children:a.description})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Nome da Rotina"}),g.jsx("input",{type:"text",className:"g-input",value:a.name,onChange:O=>S("name",O.target.value),placeholder:"Ex: Preparao para a Semana"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Descrio"}),g.jsx("input",{type:"text",className:"g-input",value:a.description,onChange:O=>S("description",O.target.value),placeholder:"Ex: Organizar agenda e metas..."})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"cone"}),g.jsx("div",{className:rt.iconSelector,children:EN.map(O=>g.jsx("button",{className:a.icon===O?rt.active:"",onClick:()=>S("icon",O),children:g.jsx(te,{path:Z[O]})},O))})]})]})}),g.jsxs("div",{className:rt.tasksSection,children:[g.jsx("h4",{className:rt.sectionHeader,children:y?"Tarefas na Rotina":"Selecione as Tarefas"}),g.jsx("input",{type:"text",placeholder:"Buscar tarefas...",value:c,onChange:O=>d(O.target.value),className:`${rt.taskSearchInput} g-input`}),y?g.jsxs("div",{className:rt.taskListContainer,children:[g.jsx(_g,{availableTemplates:C,selectedIds:a.taskTemplateIds,onToggle:T,searchTerm:c,isRemovable:!0,routineIsDefault:a.isDefault}),g.jsxs("button",{className:"btn btn-primary",onClick:()=>f(!0),style:{width:"100%",marginTop:"var(--sp-md)"},children:[g.jsx(te,{path:Z.plus})," Adicionar Tarefa"]})]}):g.jsx("div",{className:rt.taskListContainer,children:g.jsx(_g,{availableTemplates:i,selectedIds:a.taskTemplateIds,onToggle:T,searchTerm:c})})]})]}),g.jsxs("footer",{className:"g-modal-footer",children:[g.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Cancelar"}),g.jsx("button",{className:"btn btn-primary",onClick:x,disabled:!a.name.trim(),children:y?"Salvar Alteraes":"Criar Rotina"})]})]}),y&&h&&g.jsx(Nz,{onClose:()=>f(!1),tasksNotInRoutine:k,onToggleTask:T,searchTerm:c,setSearchTerm:d,routineTaskIds:a.taskTemplateIds,isDefaultRoutine:v})]})},Mz=({onAddRoutine:t,onAddTemplates:e,onClose:n})=>{const{routines:i,taskTemplates:a,handleDeleteTemplate:l,handleSaveRoutine:c,handleDeleteRoutine:d}=bn(),[h,f]=A.useState([]),[y,v]=A.useState(null),[b,S]=A.useState("routines"),[T,x]=A.useState(null),[C,k]=A.useState(!1),O=Zn(()=>{!C&&!T&&n()}),j=A.useMemo(()=>{const ee=Array.from(new Set(a.map(J=>J.category))),se=new Set([...ee,...TN]);return Array.from(se)},[a]),M=ee=>{f(se=>se.includes(ee)?se.filter(J=>J!==ee):[...se,ee])},V=ee=>{v(se=>se===ee?null:ee)},$=()=>{const ee=a.filter(se=>h.includes(se.id));ee.length>0&&e(ee),n()},z=ee=>{t(ee),n()},K=(ee,se)=>{ee.stopPropagation(),l(se)},X=ee=>{c(ee),k(!1),x(null)};return g.jsxs("div",{className:"g-modal-overlay",children:[g.jsxs("div",{className:"g-modal",ref:O,children:[g.jsxs("header",{className:"g-modal-header",children:[g.jsxs("div",{children:[g.jsxs("h3",{children:[g.jsx(te,{path:Z.bookOpen})," Biblioteca"]}),g.jsx("p",{className:Kt.subtitle,children:"Adicione rotinas e tarefas para agilizar seu dia."})]}),b==="routines"&&g.jsxs("button",{className:"btn btn-primary",onClick:()=>k(!0),children:[g.jsx(te,{path:Z.plus})," Criar Rotina"]})]}),g.jsxs("div",{className:Kt.libraryTabs,children:[g.jsxs("button",{className:b==="routines"?Kt.active:"",onClick:()=>S("routines"),children:[g.jsx(te,{path:Z.rotateCw})," Rotinas"]}),g.jsxs("button",{className:b==="templates"?Kt.active:"",onClick:()=>S("templates"),children:[g.jsx(te,{path:Z.zap})," Tarefas Rpidas"]})]}),g.jsxs("main",{className:"g-modal-body",children:[b==="routines"&&g.jsx("div",{className:Kt.routinesList,children:i.map(ee=>g.jsxs("div",{className:`card ${Kt.routineCard}`,children:[g.jsxs("div",{className:Kt.routineActions,children:[g.jsx("button",{onClick:()=>x(ee),title:"Editar Rotina",children:g.jsx(te,{path:Z.edit})}),!ee.isDefault&&g.jsx("button",{onClick:()=>d(ee.id),title:"Excluir Rotina",children:g.jsx(te,{path:Z.trash})})]}),g.jsxs("div",{className:Kt.routineCardHeader,children:[g.jsx(te,{path:Z[ee.icon]}),g.jsx("h5",{children:ee.name})]}),g.jsx("p",{children:ee.description}),g.jsxs("button",{className:"btn btn-secondary",onClick:()=>z(ee),children:[g.jsx(te,{path:Z.plus})," Adicionar (",ee.taskTemplateIds.length,") Tarefas"]})]},ee.id))}),b==="templates"&&g.jsx("div",{className:Kt.taskLibraryAccordion,children:j.map(ee=>g.jsxs("div",{className:`${Kt.accordionItem} ${y===ee?Kt.open:""}`,children:[g.jsxs("div",{className:Kt.accordionHeader,onClick:()=>V(ee),children:[g.jsx("span",{children:ee}),g.jsx(te,{path:Z.chevronDown})]}),g.jsx("div",{className:Kt.accordionContent,children:a.filter(se=>se.category===ee).map(se=>g.jsxs("div",{className:Kt.templateItem,onClick:()=>M(se.id),children:[g.jsx("input",{type:"checkbox",checked:h.includes(se.id),readOnly:!0}),g.jsx("span",{className:Kt.checkboxVisual,children:g.jsx(te,{path:Z.check})}),g.jsx("label",{children:se.title}),!se.isDefault&&g.jsx("button",{className:Kt.deleteTemplateButton,onClick:J=>K(J,se.id),title:"Excluir este modelo",children:g.jsx(te,{path:Z.trash})})]},se.id))})]},ee))})]}),g.jsxs("footer",{className:"g-modal-footer",children:[g.jsx("button",{className:"btn btn-secondary",onClick:n,style:{marginLeft:b==="templates"?"0":"auto"},children:"Fechar"}),b==="templates"&&g.jsxs("button",{className:"btn btn-primary",onClick:$,disabled:h.length===0,style:{marginLeft:"auto"},children:["Adicionar Tarefas (",h.length,")"]})]})]}),(C||T)&&g.jsx(Iz,{routineToEdit:C?null:T,onSave:X,onClose:()=>{k(!1),x(null)}})]})},Lz=({onClose:t,tags:e})=>{const{handleAddTasks:n}=bn(),[i,a]=A.useState([{title:""}]),[l,c]=A.useState("inbox"),[d,h]=A.useState(null),f=Zn(t);A.useEffect(()=>{h(document.getElementById("modal-root"))},[]);const y=(T,x)=>{const C=[...i];C[T].title=x,a(C)},v=()=>{a([...i,{title:""}])},b=T=>{const x=i.filter((C,k)=>k!==T);a(x)},S=()=>{const T=i.filter(x=>x.title&&x.title.trim()!=="").map(x=>({...x,quadrant:l,status:"todo"}));T.length>0&&n(T),t()};return d?Gr.createPortal(g.jsx("div",{className:"g-modal-overlay",children:g.jsxs("div",{className:"g-modal",ref:f,children:[g.jsxs("header",{className:"g-modal-header",children:[g.jsxs("h3",{children:[g.jsx(te,{path:Z.zap})," Adicionar Tarefas em Lote"]}),g.jsx("button",{onClick:t,className:"btn btn-secondary btn-icon",children:g.jsx(te,{path:Z.close})})]}),g.jsxs("main",{className:"g-modal-body",children:[g.jsxs("div",{className:xe.formGroup,children:[g.jsxs("label",{children:[g.jsx(te,{path:Z.layoutGrid})," Quadrante para todas as tarefas"]}),g.jsxs("select",{className:"g-input",value:l,onChange:T=>c(T.target.value),children:[g.jsx("option",{value:"inbox",children:"Caixa de Entrada"}),g.jsx("option",{value:"do",children:"Fazer Agora"}),g.jsx("option",{value:"schedule",children:"Agendar"}),g.jsx("option",{value:"someday",children:"Algum dia"})]})]}),i.map((T,x)=>g.jsxs("div",{className:xe.subtaskAddGroup,children:[g.jsx("input",{type:"text",placeholder:"Nova tarefa...",value:T.title||"",onChange:C=>y(x,C.target.value),autoFocus:x===i.length-1}),g.jsx("button",{onClick:()=>b(x),className:"btn btn-tertiary btn-icon btn-sm",children:g.jsx(te,{path:Z.trash})})]},x)),g.jsxs("button",{onClick:v,className:"btn btn-secondary btn-sm",children:[g.jsx(te,{path:Z.plus})," Adicionar outra tarefa"]})]}),g.jsx("footer",{className:"g-modal-footer",children:g.jsxs("button",{className:"btn btn-primary",onClick:S,children:[g.jsx(te,{path:Z.check})," Salvar Tarefas"]})})]})}),d):null},Pz="_tasksHeader_1puwp_1",Uz="_tasksTitle_1puwp_8",Bz="_tasksActions_1puwp_12",zz="_tasksBoard_1puwp_17",Vz="_quadrantColumn_1puwp_32",$z="_quadrantHeader_1puwp_43",Fz="_taskList_1puwp_51",qz="_collapsedHorizontalList_1puwp_61",Hz="_expandedHorizontalList_1puwp_69",Gz="_inboxShowMore_1puwp_76",tn={tasksHeader:Pz,tasksTitle:Uz,tasksActions:Bz,tasksBoard:zz,"quadrant-inbox":"_quadrant-inbox_1puwp_27","quadrant-do":"_quadrant-do_1puwp_28","quadrant-schedule":"_quadrant-schedule_1puwp_29","quadrant-someday":"_quadrant-someday_1puwp_30",quadrantColumn:Vz,quadrantHeader:$z,taskList:Fz,collapsedHorizontalList:qz,expandedHorizontalList:Hz,inboxShowMore:Gz},RS=({title:t,quadrant:e,tasks:n,tags:i,onEdit:a,onStartTriage:l})=>{const[c,d]=A.useState(!1),h=c?n:n.slice(0,2),f=e==="inbox"||e==="someday",y=e==="inbox",v=()=>f?c?tn.expandedHorizontalList:tn.collapsedHorizontalList:tn.taskList;return g.jsxs("div",{className:`${tn.quadrantColumn} ${tn["quadrant-"+e]}`,children:[g.jsxs("header",{className:tn.quadrantHeader,children:[g.jsxs("span",{children:[t," (",n.length,")"]}),y&&n.length>0&&g.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:l,children:[g.jsx(te,{path:Z.clipboardList})," Organizar Caixa de Entrada"]})]}),g.jsx("div",{className:v(),children:h.map(b=>g.jsx(Uy,{task:b,tags:i,onEdit:a,quadrant:e},b.id))}),f&&n.length>2&&g.jsx("button",{className:`btn btn-tertiary ${tn.inboxShowMore}`,onClick:()=>d(!c),children:c?"Mostrar menos":`Mostrar mais ${n.length-2} tarefa(s)`})]})},DS=({title:t,quadrant:e,tasks:n,onEdit:i,tags:a})=>g.jsxs("div",{className:`${tn.quadrantColumn} ${tn["quadrant-"+e]}`,children:[g.jsx("header",{className:tn.quadrantHeader,children:g.jsxs("span",{children:[t," (",n.length,")"]})}),g.jsx("div",{className:tn.taskList,children:n.map(l=>g.jsx(Uy,{task:l,tags:a,onEdit:i,quadrant:e},l.id))})]}),Kz=()=>{const{tasks:t,tags:e,routines:n,handleAddRoutine:i,handleAddTemplates:a,isTriageActive:l,triageQueue:c,startTriage:d,endTriage:h,processTriage:f}=bn(),[y,v]=A.useState(null),[b,S]=A.useState(!1),[T,x]=A.useState(!1),[C,k]=A.useState(!1),[O,j]=A.useState({tags:[],status:[]}),M=A.useMemo(()=>t.filter(X=>X.status==="done"?!1:O.tags.length===0||X.tagId&&O.tags.includes(X.tagId)),[t,O]),V=A.useMemo(()=>{const X={inbox:[],do:[],schedule:[],someday:[]};return M.forEach(ee=>{const se=ee.quadrant;X[se]?X[se].push(ee):X.inbox.push(ee)}),X},[M]),$=X=>v(X||{quadrant:"inbox"}),z=()=>v(null),K=[{id:"inbox",component:RS,props:{onStartTriage:d}},{id:"do",component:DS,props:{}},{id:"schedule",component:DS,props:{}},{id:"someday",component:RS,props:{}}];return g.jsxs("main",{children:[y&&g.jsx(zC,{taskToEdit:y,onClose:z,tags:e}),C&&g.jsx(Lz,{onClose:()=>k(!1),tags:e}),l&&c.length>0&&g.jsx(U9,{task:c[0],onClose:h,onTriage:f}),T&&g.jsx(Mz,{routines:n,onAddRoutine:i,onAddTemplates:a,onClose:()=>x(!1)}),g.jsx(Q9,{isOpen:b,onClose:()=>S(!1),filters:O,onFilterChange:j}),g.jsxs("div",{className:"screen-content",children:[g.jsxs("div",{className:tn.tasksHeader,children:[g.jsx("div",{className:tn.tasksTitle,children:g.jsx("h2",{children:"Matriz de Eisenhower"})}),g.jsxs("div",{className:tn.tasksActions,children:[g.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>x(!0),title:"Biblioteca",children:g.jsx(te,{path:Z.bookOpen})}),g.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>S(!0),title:"Filtros",children:g.jsx(te,{path:Z.filter})}),g.jsxs("button",{className:"btn btn-secondary",onClick:()=>k(!0),children:[g.jsx(te,{path:Z.zap})," Adicionar em Lote"]}),g.jsxs("button",{className:"btn btn-primary",onClick:()=>$(),children:[g.jsx(te,{path:Z.plus})," Nova Tarefa"]})]})]}),g.jsx("div",{className:tn.tasksBoard,children:K.map(X=>{const ee=X.component,se=Zp.find(J=>J.id===X.id);return se?g.jsx(ee,{quadrant:X.id,title:se.title,tasks:V[X.id]||[],tags:e,onEdit:$,...X.props},X.id):null})})]})]})},Wz="_statsContainer_1smwq_3",Yz="_statsHeader_1smwq_9",Xz="_statsTitle_1smwq_13",Qz="_streakHeroCard_1smwq_19",Jz="_streakContent_1smwq_28",Zz="_streakSubContent_1smwq_35",eV="_streakIcon_1smwq_41",tV="_streakLevel0_1smwq_48",nV="_burning_1smwq_52",sV="_streakInfo_1smwq_63",iV="_streakCount_1smwq_68",rV="_streakLabel_1smwq_75",aV="_keyMetricsGrid_1smwq_82",oV="_metricCard_1smwq_102",lV="_metricHeader_1smwq_107",cV="_value_1smwq_117",uV="_consistencyCard_1smwq_124",dV="_sectionTitle_1smwq_126",hV="_heatmapWrapper_1smwq_135",fV="_heatmapGrid_1smwq_143",mV="_heatmapCell_1smwq_152",pV="_footnote_1smwq_163",gV="_statsFooterActions_1smwq_171",yV="_btn_1smwq_175",Ke={statsContainer:Wz,statsHeader:Yz,statsTitle:Xz,streakHeroCard:Qz,streakContent:Jz,streakSubContent:Zz,streakIcon:eV,streakLevel0:tV,burning:nV,"flame-flicker":"_flame-flicker_1smwq_1",streakInfo:sV,streakCount:iV,streakLabel:rV,keyMetricsGrid:aV,metricCard:oV,metricHeader:lV,value:cV,consistencyCard:uV,sectionTitle:dV,heatmapWrapper:hV,heatmapGrid:fV,heatmapCell:mV,"level-1":"_level-1_1smwq_159","level-2":"_level-2_1smwq_160","level-3":"_level-3_1smwq_161",footnote:pV,statsFooterActions:gV,btn:yV},vV=t=>t===0?{background:"linear-gradient(145deg, var(--surface-secondary-color), var(--border-color))",color:"var(--text-color)"}:t===1?{background:"linear-gradient(145deg, #3C6DB9, #5D9CEC)"}:t>=2&&t<30?{background:`linear-gradient(270deg, #FF8C00 0%, #FFD700 50%, #3A7BD5 ${100-(t-2)/27*100}%)`}:{background:"linear-gradient(145deg, #FF8C00, #E65C00)"},bV=()=>{const{handleNavigate:t}=vn(),{tasks:e}=bn(),{pomodorosCompleted:n}=po(),{pontosFoco:i}=Ty(),a=A.useMemo(()=>{const d=e.filter(v=>v.status==="done"),h=n*25/60,f=[...new Set(d.map(v=>new Date(v.completedAt).toDateString()))];f.sort((v,b)=>new Date(b).getTime()-new Date(v).getTime());let y=0;if(f.length>0){let v=new Date;const b=new Date(f[0]);if((v.setHours(0,0,0,0)-b.setHours(0,0,0,0))/(1e3*60*60*24)>1)y=0;else{y=1;for(let T=0;T<f.length-1;T++){const x=new Date(f[T]),C=new Date(f[T+1]),k=x.getTime()-C.getTime();if(Math.ceil(k/(1e3*60*60*24))===1)y++;else break}}}return{tasksCompletedCount:d.length,focusHours:Math.round(h*10)/10,pointsEarned:i,streakDays:y}},[e,n,i]),l=A.useMemo(()=>{const d={};e.filter(y=>y.status==="done"&&y.completedAt).forEach(y=>{const v=new Date(y.completedAt).toISOString().split("T")[0];d[v]=(d[v]||0)+1});const h=[],f=new Date;for(let y=90;y>=0;y--){const v=new Date(f);v.setDate(f.getDate()-y);const b=v.toISOString().split("T")[0],S=d[b]||0;let T=0;S>0&&S<=2?T=1:S>2&&S<=5?T=2:S>5&&(T=3),h.push({date:b,count:S,level:T})}return h},[e]),c=vV(a.streakDays);return g.jsxs("main",{className:"screen-content",children:[g.jsx("div",{className:Ke.statsHeader,children:g.jsx("div",{className:Ke.statsTitle,children:g.jsx("h2",{children:"Seu Progresso"})})}),g.jsxs("div",{className:Ke.statsContainer,children:[g.jsx("div",{className:Ke.streakHeroCard,style:c,children:g.jsxs("div",{className:Ke.streakContent,children:[g.jsx("div",{className:Ke.streakInfo,children:g.jsx("span",{className:Ke.streakCount,children:a.streakDays})}),g.jsxs("div",{className:Ke.streakSubContent,children:[g.jsx("div",{className:`${Ke.streakIcon} ${a.streakDays>0?Ke.burning:""}`,children:g.jsx(te,{path:Z.flame})}),g.jsx("span",{className:Ke.streakLabel,children:"Dias seguidos de foco"})]})]})}),g.jsxs("div",{className:Ke.keyMetricsGrid,children:[g.jsxs("div",{className:`card ${Ke.metricCard}`,children:[g.jsxs("div",{className:Ke.metricHeader,children:[g.jsx(te,{path:Z.checkSquare}),g.jsx("span",{children:"Tarefas"})]}),g.jsx("div",{className:Ke.value,children:a.tasksCompletedCount})]}),g.jsxs("div",{className:`card ${Ke.metricCard}`,children:[g.jsxs("div",{className:Ke.metricHeader,children:[g.jsx(te,{path:Z.timer}),g.jsx("span",{children:"Horas Focadas"})]}),g.jsxs("div",{className:Ke.value,children:[a.focusHours,"h"]})]}),g.jsxs("div",{className:`card ${Ke.metricCard}`,children:[g.jsxs("div",{className:Ke.metricHeader,children:[g.jsx(te,{path:Z.trophy}),g.jsx("span",{children:"Pontos"})]}),g.jsx("div",{className:Ke.value,children:a.pointsEarned})]})]}),g.jsxs("div",{className:`card ${Ke.consistencyCard}`,children:[g.jsxs("h4",{className:Ke.sectionTitle,children:[g.jsx(te,{path:Z.calendar})," Consistncia"]}),g.jsx("div",{className:Ke.heatmapWrapper,children:g.jsx("div",{className:Ke.heatmapGrid,children:l.map(d=>g.jsx("div",{className:`${Ke.heatmapCell} ${Ke["level-"+d.level]}`,title:`${d.date}: ${d.count} tarefas`},d.date))})}),g.jsx("p",{className:Ke.footnote,children:"ltimos 3 meses"})]}),g.jsx("div",{className:Ke.statsFooterActions,children:g.jsxs("button",{className:"btn btn-secondary",onClick:()=>t("rewards"),children:[g.jsx(te,{path:Z.trophy})," Ir para Loja de Recompensas"]})})]})]})},_V="_header_eadj9_3",wV="_tabContent_eadj9_5",SV="_settingsGroup_eadj9_6",TV="_navRow_eadj9_8",EV="_navRowIconWrapper_eadj9_9",xV="_navRowText_eadj9_10",CV="_navRowChevron_eadj9_12",AV="_subScreenHeader_eadj9_16",kV="_backButton_eadj9_19",jV="_profileScreen_eadj9_22",OV="_authCard_eadj9_23",RV="_authIcon_eadj9_24",DV="_authIconSuccess_eadj9_25",NV="_dataActions_eadj9_32",IV="_buttonDanger_eadj9_34",MV="_settingRow_eadj9_38",LV="_switchSlider_eadj9_42",PV="_segmentedControl_eadj9_46",UV="_active_eadj9_48",BV="_aboutScreen_eadj9_51",zV="_aboutContentWrapper_eadj9_52",VV="_aboutAppIcon_eadj9_53",$V="_founderCard_eadj9_63",FV="_founderHeader_eadj9_64",qV="_founderIcon_eadj9_65",HV="_founderGreeting_eadj9_66",GV="_founderBody_eadj9_69",KV="_supportCard_eadj9_75",WV="_missionStatement_eadj9_76",YV="_missionIcon_eadj9_77",XV="_socialActions_eadj9_84",QV="_coffeeButton_eadj9_85",JV="_instagramButton_eadj9_85",ZV="_appVersion_eadj9_92",Se={header:_V,tabContent:wV,settingsGroup:SV,navRow:TV,navRowIconWrapper:EV,navRowText:xV,navRowChevron:CV,subScreenHeader:AV,backButton:kV,profileScreen:jV,authCard:OV,authIcon:RV,authIconSuccess:DV,dataActions:NV,buttonDanger:IV,settingRow:MV,switch:"_switch_eadj9_40",switchSlider:LV,segmentedControl:PV,active:UV,aboutScreen:BV,aboutContentWrapper:zV,aboutAppIcon:VV,founderCard:$V,founderHeader:FV,founderIcon:qV,founderGreeting:HV,founderBody:GV,supportCard:KV,missionStatement:WV,missionIcon:YV,socialActions:XV,coffeeButton:QV,instagramButton:JV,appVersion:ZV},e7="_modalOverlay_sbist_3",t7="_modal_sbist_3",n7="_iconWrapper_sbist_31",s7="_buttonGroup_sbist_51",i7="_confirmButton_sbist_57",r7="_cancelButton_sbist_58",a7="_danger_sbist_63",Sr={modalOverlay:e7,modal:t7,iconWrapper:n7,buttonGroup:s7,confirmButton:i7,cancelButton:r7,danger:a7},o7=({title:t,message:e,confirmText:n,cancelText:i,onConfirm:a,onCancel:l,icon:c="alertTriangle",variant:d="default"})=>{const h=Zn(l),f=`btn ${Sr.confirmButton} ${d==="danger"?Sr.danger:"btn-primary"}`;return g.jsx("div",{className:Sr.modalOverlay,children:g.jsxs("div",{className:Sr.modal,ref:h,children:[g.jsx("div",{className:Sr.iconWrapper,children:g.jsx(te,{path:Z[c]})}),g.jsx("h3",{children:t}),g.jsx("p",{children:e}),g.jsxs("div",{className:Sr.buttonGroup,children:[g.jsx("button",{className:f,onClick:a,children:n}),g.jsx("button",{className:`btn btn-secondary ${Sr.cancelButton}`,onClick:l,children:i})]})]})})};function l7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function c7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function u7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function d7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(t)}function h7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function f7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"},child:[]},{tag:"polyline",attr:{points:"13 11 9 17 15 17 11 23"},child:[]}]})(t)}function m7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function p7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function g7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function NS(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function y7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function v7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function b7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function _7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(t)}function w7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function S7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function T7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function E7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function x7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(t)}function C7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function wg(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function A7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(t)}function k7(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const D2=""+new URL("focusfrog-coffee-95FMuiuU.png",import.meta.url).href,Yu=({icon:t,title:e,description:n,onClick:i})=>g.jsx("div",{className:Se.settingsGroup,onClick:i,children:g.jsxs("div",{className:Se.navRow,children:[g.jsx("div",{className:Se.navRowIconWrapper,children:g.jsx(t,{})}),g.jsxs("div",{className:Se.navRowText,children:[g.jsx("h4",{children:e}),g.jsx("p",{children:n})]}),i&&g.jsx("span",{className:Se.navRowChevron,children:g.jsx(h7,{})})]})}),Jl=({title:t,onBack:e})=>g.jsxs("div",{className:Se.subScreenHeader,children:[g.jsx("button",{onClick:e,className:Se.backButton,children:g.jsx(l7,{})}),g.jsx("h3",{children:t})]}),j7=({options:t,value:e,onChange:n})=>g.jsx("div",{className:Se.segmentedControl,children:t.map(i=>g.jsx("button",{className:i.value===e?Se.active:"",onClick:()=>n(i.value),children:i.label},i.value))}),O7=({user:t,signIn:e,signOut:n,onBack:i})=>{var a;return t?g.jsxs("div",{className:`${Se.tabContent} ${Se.profileScreen}`,children:[g.jsx(Jl,{title:"Perfil e Sincronizao",onBack:i}),g.jsxs("div",{className:Se.authCard,children:[g.jsx("span",{className:Se.authIconSuccess,children:g.jsx(u7,{size:40})}),g.jsx("h3",{children:"Tudo Sincronizado!"}),g.jsx("p",{children:"Voc est logado como:"}),g.jsx("strong",{children:((a=t.user_metadata)==null?void 0:a.full_name)||"Usurio"}),g.jsx("small",{children:t.email}),g.jsxs("button",{onClick:n,className:`btn ${Se.buttonDanger} ${Se.signOutButton}`,children:[g.jsx(S7,{})," Sair"]})]})]}):g.jsxs("div",{className:`${Se.tabContent} ${Se.profileScreen}`,children:[g.jsx(Jl,{title:"Perfil e Sincronizao",onBack:i}),g.jsxs("div",{className:Se.authCard,children:[g.jsx("span",{className:Se.authIcon,children:g.jsx(w7,{size:40})}),g.jsx("h3",{children:"Salve seu Progresso"}),g.jsx("p",{children:"Crie uma conta gratuita para fazer backup na nuvem e sincronizar suas tarefas entre dispositivos."}),g.jsxs("button",{onClick:e,className:"g-button",children:[g.jsx("img",{src:"/google-logo.svg",alt:"Google",style:{width:20,height:20,marginRight:10}}),"Continuar com Google"]})]})]})},R7=({user:t,onBack:e,exportData:n,importDataFromFile:i,downloadAndRestoreFromSupabase:a,showResetModal:l})=>{const c=A.useRef(null),d=()=>{var f;t?a(t):(f=c.current)==null||f.click()},h=f=>{var v;const y=(v=f.target.files)==null?void 0:v[0];y&&i(y,t)};return g.jsxs("div",{className:Se.tabContent,children:[g.jsx(Jl,{title:"Dados do Aplicativo",onBack:e}),g.jsxs("div",{className:Se.dataActions,children:[g.jsx("p",{className:Se.dataDescription,children:t?"Seu backup na nuvem  atualizado ao fazer login. Restaure a partir dele ou exporte um arquivo local a qualquer momento.":"Crie uma conta para habilitar o backup na nuvem. Por enquanto, voc s pode gerenciar backups locais."}),g.jsxs("button",{className:"btn btn-secondary",onClick:n,children:[g.jsx(g7,{})," Exportar para Arquivo"]}),g.jsxs("button",{className:"btn btn-secondary",onClick:d,children:[t?g.jsx(f7,{}):g.jsx(C7,{}),t?"Restaurar da Nuvem":"Importar de Arquivo"]}),g.jsxs("button",{className:`btn ${Se.buttonDanger}`,onClick:l,children:[g.jsx(E7,{})," Resetar Dados Locais"]})]}),g.jsx("input",{type:"file",ref:c,style:{display:"none"},accept:".json",onChange:h})]})},D7=()=>{const{addNotification:t,soundEnabled:e,toggleSoundEnabled:n,hapticsEnabled:i,setHapticsEnabled:a,setDevModeEnabled:l,fontSize:c,setFontSize:d}=vn(),{exportData:h,importDataFromFile:f,resetData:y,downloadAndRestoreFromSupabase:v}=mx(),{user:b,isLoading:S,signInWithGoogle:T,signOut:x}=Xd(),[C,k]=A.useState("main"),[O,j]=A.useState(!1),[M,V]=A.useState(0),$=A.useRef(null),z=()=>{$.current&&clearTimeout($.current);const ve=M+1;V(ve),ve>=7?(l(!0),t("Modo de Desenvolvedor Ativado","","info"),V(0)):$.current=setTimeout(()=>V(0),1500)},K=()=>j(!0),X=()=>j(!1),ee=()=>{y(),X()},se=ve=>{a(ve),ve&&navigator.vibrate&&navigator.vibrate(50)},J=()=>{window.open("https://shop.beacons.ai/focus.frog/667fee49-a713-4a08-b541-e40ae2321696?pageViewSource=lib_view&referrer=https%3A%2F%2Fbeacons.ai%2Ffocus.frog&show_back_button=true","_blank")},ae=()=>{var ve;switch(C){case"profile":return g.jsx(O7,{user:b,signIn:T,signOut:x,onBack:()=>k("main")});case"appearance":return g.jsxs("div",{className:Se.tabContent,children:[g.jsx(Jl,{title:"Aparncia",onBack:()=>k("main")}),g.jsxs("div",{className:Se.settingRow,children:[g.jsxs("label",{children:[g.jsx(A7,{})," Efeitos sonoros"]}),g.jsxs("label",{className:Se.switch,children:[g.jsx("input",{type:"checkbox",checked:e,onChange:n}),g.jsx("span",{className:Se.switchSlider})]})]}),g.jsxs("div",{className:Se.settingRow,children:[g.jsxs("label",{children:[g.jsx(k7,{})," Vibrao (Haptics)"]}),g.jsxs("label",{className:Se.switch,children:[g.jsx("input",{type:"checkbox",checked:i,onChange:fe=>se(fe.target.checked)}),g.jsx("span",{className:Se.switchSlider})]})]}),g.jsxs("div",{className:Se.settingRow,children:[g.jsxs("label",{children:[g.jsx(x7,{})," Tamanho do Texto"]}),g.jsx(j7,{options:[{label:"P",value:"small"},{label:"N",value:"normal"},{label:"G",value:"large"}],value:c,onChange:fe=>d(fe)})]})]});case"data":return g.jsx(R7,{user:b,onBack:()=>k("main"),exportData:h,importDataFromFile:f,downloadAndRestoreFromSupabase:v,showResetModal:K});case"about":return g.jsxs("div",{className:`${Se.tabContent} ${Se.aboutScreen}`,children:[g.jsx(Jl,{title:"De Usurio para Usurio ",onBack:()=>k("main")}),g.jsxs("div",{className:Se.aboutContentWrapper,children:[g.jsx("img",{src:D2,alt:"Mascote FocusFrog com caf",style:{borderRadius:"50%",objectFit:"cover"},className:Se.aboutAppIcon}),g.jsxs("div",{className:Se.founderCard,children:[g.jsxs("div",{className:Se.founderHeader,children:[g.jsx(wg,{className:Se.founderIcon}),g.jsxs("p",{className:Se.founderGreeting,children:["Ol! Eu sou o Igor, e antes de ser o fundador, eu sou o",g.jsx("br",{}),g.jsx("strong",{children:"usurio #1"})," do FocusFrog."]})]}),g.jsxs("div",{className:Se.founderBody,children:[g.jsxs("p",{children:["Esta ferramenta no nasceu de um plano de negcios, mas da ",g.jsx("strong",{children:"necessidade real"}),". Eu luto diariamente contra a paralisia da escolha, o caos nas rotinas e o esquecimento constante, ",g.jsx("strong",{children:"assim como voc"}),"."]}),g.jsxs("p",{children:["Entendi que o crebro com TDAH e criatividade precisa de ",g.jsx("strong",{children:"apoio"}),", no de cobrana. Por isso, constru o FocusFrog: um sistema que realmente funciona para mim."]})]})]}),g.jsxs("div",{className:Se.supportCard,children:[g.jsxs("div",{className:Se.missionStatement,children:[g.jsx(y7,{className:Se.missionIcon}),g.jsx("h3",{children:"Nossa Misso"}),g.jsxs("p",{children:["Levar ",g.jsx("strong",{children:"PRODUTIVIDADE CALMA"})," e clareza para todos que se sentem sobrecarregados."]})]}),g.jsxs("p",{children:["Ao apoiar esta misso, voc garante que o FocusFrog permanea ",g.jsx("strong",{children:"livre de anncios"})," e continue a evoluir para a nossa comunidade."]})]}),g.jsxs("div",{className:Se.socialActions,children:[g.jsxs("button",{className:Se.coffeeButton,onClick:J,children:[g.jsx(m7,{})," Apoie com um caf"]}),g.jsxs("a",{href:"https://www.instagram.com/focus.frog",target:"_blank",rel:"noopener noreferrer",className:Se.instagramButton,children:[g.jsx(b7,{})," Siga-nos"]})]}),g.jsx("div",{className:Se.appVersion,onClick:z,children:"FocusFrog v2.0.0  Feito com "})]})]});case"main":default:return g.jsxs("div",{className:Se.tabContent,children:[g.jsx("div",{className:Se.header,children:g.jsx("h2",{children:"Configuraes"})}),g.jsx(Yu,{icon:wg,title:"Perfil e Sincronizao",description:b?`Logado como ${(ve=b.user_metadata)==null?void 0:ve.full_name}`:"Backup na nuvem e multi-dispositivo",onClick:()=>k("profile")}),g.jsx(Yu,{icon:_7,title:"Aparncia",description:"Ajuste tema, sons e outros.",onClick:()=>k("appearance")}),g.jsx(Yu,{icon:p7,title:"Gerenciar Dados",description:"Backup, restaurao e reset.",onClick:()=>k("data")}),g.jsx(Yu,{icon:v7,title:"Sobre",description:"Nossa histria e misso.",onClick:()=>k("about")})]})}};return g.jsxs("main",{className:"screen-content",children:[O&&g.jsx(o7,{title:"Resetar Todos os Dados",message:"Tem a certeza? Esta ao  irreversvel e ir apagar todas as suas tarefas, pontos e personalizaes.",confirmText:"Sim, Resetar Tudo",cancelText:"Cancelar",onConfirm:ee,onCancel:X,variant:"danger",icon:"trash"}),S?g.jsx("p",{children:"Carregando..."}):ae()]})},N7="_subtitle_rs6lb_61",Je={subtitle:N7},I7=()=>g.jsxs("div",{className:Je.moodboardContainer,children:[g.jsxs("header",{className:Je.moodboardHeader,children:[g.jsxs("div",{className:Je.logoConcept,children:[g.jsx(te,{path:Z.frog,className:Je.logoIcon}),g.jsx("h1",{children:"FocusFrog"})]}),g.jsx("h2",{children:"Guia de Estilo & Arquitetura"}),g.jsx("p",{className:Je.subtitle,children:"Um guia vivo para a identidade visual, filosofia e arquitetura tcnica do projeto."})]}),g.jsxs("main",{className:Je.moodboardContent,children:[g.jsxs("section",{className:Je.moodboardSection,children:[g.jsx("h3",{children:"Filosofia & Arquitetura"}),g.jsxs("div",{className:Je.philosophyGrid,children:[g.jsxs("div",{className:Je.philosophyCard,children:[g.jsxs("h4",{children:[g.jsx(te,{path:Z.eye})," Foco Direcionado"]}),g.jsx("p",{children:"O fundo escuro elimina distraes. O brilho das cores primrias guia o olho para aes importantes."})]}),g.jsxs("div",{className:Je.philosophyCard,children:[g.jsxs("h4",{children:[g.jsx(te,{path:Z.gift})," Recompensa Imediata"]}),g.jsx("p",{children:"Cores quentes e vibrantes so usadas para recompensas e celebraes, criando um feedback visual positivo."})]}),g.jsxs("div",{className:Je.philosophyCard,children:[g.jsxs("h4",{children:[g.jsx(te,{path:Z.home})," Arquitetura da Casa"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Fundao:"})," `App.css` e `ThemeContext` (regras globais). ",g.jsx("strong",{children:"Cmodos:"})," As Telas (`/screens`), que usam a classe `.screen-content`. ",g.jsx("strong",{children:"Mveis:"})," Os Componentes (`/components`), padronizados para qualquer cmodo."]})]}),g.jsxs("div",{className:Je.philosophyCard,children:[g.jsxs("h4",{children:[g.jsx(te,{path:Z.fileCode})," CSS Modules so Lei"]}),g.jsx("p",{children:"Cada tela ou componente tem seu prprio arquivo `.module.css` para estilos. No polumos mais o escopo global com estilos especficos de componentes."})]})]})]}),g.jsxs("section",{className:Je.moodboardSection,children:[g.jsx("h3",{children:'Componentes Reais (Nossos "Mveis")'}),g.jsxs("div",{className:Je.gridComponents,children:[g.jsxs("div",{className:"card",children:[g.jsx("h4",{className:Je.componentTitle,children:"Botes Padro (`.btn`)"}),g.jsxs("div",{className:Je.componentExample,children:[g.jsxs("button",{className:"btn btn-primary",children:[g.jsx(te,{path:Z.plus})," Primrio"]}),g.jsxs("button",{className:"btn btn-secondary",children:[g.jsx(te,{path:Z.settings})," Secundrio"]}),g.jsxs("button",{className:"btn btn-danger",children:[g.jsx(te,{path:Z.trash})," Perigo"]})]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h4",{className:Je.componentTitle,children:"Carto Base (`.card`)"}),g.jsxs("div",{className:`${Je.componentExample} ${Je.cardExampleContent}`,children:[g.jsxs("span",{children:["Este  um ",g.jsx("strong",{children:".card"}),"."]}),g.jsx("p",{children:"Ele  a base para a maioria dos nossos contineres de contedo, como este."})]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h4",{className:Je.componentTitle,children:"Carto de Tarefa (`TaskCard`)"}),g.jsx("div",{className:Je.componentExample,children:g.jsxs("div",{className:Je.mockTaskCard,children:[g.jsxs("div",{children:[g.jsx("p",{className:Je.mockTaskTitle,children:"Reformar o Moodboard"}),g.jsx("span",{className:Je.mockTaskTag,children:"#dev"})]}),g.jsx(te,{path:Z.chevronRight})]})})]})]})]}),g.jsxs("section",{className:Je.moodboardSection,children:[g.jsx("h3",{children:"Paleta de Cores"}),g.jsx("div",{className:Je.gridColors})]}),g.jsxs("section",{className:Je.moodboardSection,children:[g.jsx("h3",{children:"Tipografia"}),g.jsx("div",{className:Je.gridTypography})]})]})]}),M7="_bottomNav_131p4_3",L7="_navItem_131p4_24",P7="_active_131p4_41",U7="_navIcon_131p4_46",Xu={bottomNav:M7,navItem:L7,active:P7,navIcon:U7},B7={dashboard:NS,tasks:d7,focus:T7,stats:c7,rewards:wg,moodboard:NS},z7=["focus","tasks","dashboard","stats","rewards"],V7=()=>{const{activeScreen:t,handleNavigate:e}=vn(),n=z7,i={dashboard:"Home",tasks:"Tarefas",focus:"Foco",stats:"Estatsticas",rewards:"Configuraes",moodboard:"Dev"};return g.jsx("nav",{className:Xu.bottomNav,children:n.map(a=>{const l=B7[a],c=t===a,d=`${Xu.navItem} ${c?Xu.active:""}`;return g.jsxs("button",{className:d,onClick:()=>e(a),children:[g.jsx(l,{className:Xu.navIcon}),g.jsx("span",{children:i[a]})]},a)})})},$7="_dashboardLayout_100ix_2",F7="_mainContent_100ix_11",q7="_footerNav_100ix_18",vp={dashboardLayout:$7,mainContent:F7,footerNav:q7},H7={dashboard:R2,focus:k9,tasks:Kz,stats:bV,rewards:D7,moodboard:I7},G7=()=>{const{activeScreen:t,addNotification:e}=vn(),{tasks:n,frogTaskId:i,setFrogTaskId:a}=bn(),[l,c]=A.useState(!1),[d,h]=A.useState(i),f=n.filter(T=>T.status!=="done"),y=()=>{d&&(a(d),e("Sapo do Dia definido!","","success")),c(!1)},v=()=>{h(i),c(!0)},b=H7[t]||R2,S={};return t==="dashboard"&&(S.openMorningReview=v),g.jsxs("div",{className:vp.dashboardLayout,children:[g.jsx(VC,{isOpen:l,tasks:f,selectedTask:d,onSelectTask:h,onConfirm:y,onClose:()=>c(!1)}),g.jsx("main",{className:vp.mainContent,children:g.jsx(b,{...S})}),g.jsx("footer",{className:vp.footerNav,children:g.jsx(V7,{})})]})},K7="/icon-512.png",W7=()=>{const[t,e]=A.useState(""),{setUserName:n}=Qd(),{signInWithGoogle:i}=Xd(),a=()=>{t.trim()&&n(t.trim())};return g.jsx("div",{className:"onboarding-container",children:g.jsxs("div",{className:"onboarding-card",children:[g.jsx("img",{src:K7,alt:"FocusFrog Logo",className:"onboarding-logo"}),g.jsx("h1",{className:"onboarding-title",children:"Bem-vindo(a) ao Focus Frog!"}),g.jsx("p",{className:"onboarding-subtitle",children:"Seu osis de produtividade para transformar o caos em clareza."}),g.jsx("div",{className:"onboarding-actions",children:g.jsxs("div",{className:"onboarding-input-group",children:[g.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),placeholder:"Digite seu nome aqui",className:"g-input",onKeyPress:l=>l.key==="Enter"&&a()}),g.jsx("button",{onClick:a,className:"btn btn-accent",children:"Continuar"})]})})]})})},Y7=()=>{const{userName:t,completeOnboarding:e}=Qd();return g.jsx("div",{className:"onboarding-container",children:g.jsxs("div",{className:"onboarding-card welcome-screen-typography",children:[g.jsxs("h1",{className:"onboarding-title",children:["Bem-vindo, ",t,"!"]}),g.jsx("p",{className:"onboarding-subtitle",children:"O FocusFrog  uma caixa de ferramentas para acalmar a mente e te ajudar a focar no que realmente importa. Veja como:"}),g.jsxs("div",{className:"features-grid",children:[g.jsxs("div",{className:"feature-item",children:[g.jsx("h3",{children:" Engula um Sapo por Dia"}),g.jsx("p",{children:'Para vencer a paralisia de deciso, escolheremos UMA tarefa principal por dia: o seu "Sapo". Complet-la j torna o dia uma vitria.'})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("h3",{children:' Adeus, "No sei por onde comear"'}),g.jsx("p",{children:"Use a Matriz de Prioridades para organizar suas ideias. Ela te ajuda a separar o que  para FAZER AGORA do que pode ser AGENDADO, dando clareza."})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("h3",{children:" Rotinas que Pensam por Voc"}),g.jsx("p",{children:'Use rotinas prontas (como "limpar em 5 min" ou "preparar para dormir") que quebram tarefas assustadoras em passos rpidos para voc apenas seguir.'})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("h3",{children:" Chega de Voltar para Casa"}),g.jsx("p",{children:'Antes de sair, use nosso checklist "J pegou?" para verificar itens como chaves e carteira. Uma pequena ajuda para sua memria de trabalho.'})]})]}),g.jsx("button",{onClick:e,className:"g-button g-button--primary",children:"Estou pronto para focar!"})]})})},X7="/icon-512.png",Q7=({isFadingOut:t})=>g.jsx("div",{className:`splash-container ${t?"fade-out":""}`,children:g.jsxs("div",{className:"splash-content",children:[g.jsx("img",{src:X7,alt:"FocusFrog Logo",className:"splash-logo"}),g.jsx("h1",{className:"splash-title",children:"FocusFrog"})]})}),J7="_container_btmmw_3",Z7={container:J7},e$="_toast_1o0bn_3",t$="_success_1o0bn_25",n$="_info_1o0bn_28",s$="_error_1o0bn_31",i$="_victory_1o0bn_34",r$="_special_1o0bn_37",a$="_toastIcon_1o0bn_42",o$="_toastContent_1o0bn_47",l$="_dismissing_1o0bn_58",c$="_actionButton_1o0bn_63",_l={toast:e$,success:t$,info:n$,error:s$,victory:i$,special:r$,toastIcon:a$,toastContent:o$,dismissing:l$,actionButton:c$},u$=({notification:t,onDismiss:e})=>{A.useEffect(()=>{if(!(!t.action||Td.dismissActionable))return;const l=setTimeout(()=>{e(t.id)},Td.defaultDuration);return()=>clearTimeout(l)},[t,e]);const n=_l[t.category]||"",i=a=>{a.stopPropagation(),t.action&&t.action.onAction(),e(t.id)};return g.jsxs("div",{className:`${_l.toast} ${n}`,onClick:()=>e(t.id),children:[g.jsx("span",{className:_l.toastIcon,children:t.icon}),g.jsx("div",{className:_l.toastContent,children:g.jsx("p",{children:t.message})}),t.action&&g.jsx("button",{className:_l.actionButton,onClick:i,children:t.action.label})]})},d$="_notificationContainer_1kqp2_5",h$="_toastListContainer_1kqp2_21",f$="_clearButton_1kqp2_32",bp={notificationContainer:d$,toastListContainer:h$,clearButton:f$},By=A.createContext({});function zy(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vy=typeof window<"u",N2=Vy?A.useLayoutEffect:A.useEffect,mh=A.createContext(null);function $y(t,e){t.indexOf(e)===-1&&t.push(e)}function Fy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oi=(t,e,n)=>n>e?e:n<t?t:n;let qy=()=>{};const li={},I2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function M2(t){return typeof t=="object"&&t!==null}const L2=t=>/^0[^.\s]+$/u.test(t);function Hy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qn=t=>t,m$=(t,e)=>n=>e(t(n)),pc=(...t)=>t.reduce(m$),Zl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Gy{constructor(){this.subscriptions=[]}add(e){return $y(this.subscriptions,e),()=>Fy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cs=t=>t*1e3,Yn=t=>t/1e3;function P2(t,e){return e?t*(1e3/e):0}const U2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p$=1e-7,g$=12;function y$(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=U2(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>p$&&++d<g$);return c}function gc(t,e,n,i){if(t===e&&n===i)return Qn;const a=l=>y$(l,0,1,t,n);return l=>l===0||l===1?l:U2(a(l),e,i)}const B2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,z2=t=>e=>1-t(1-e),V2=gc(.33,1.53,.69,.99),Ky=z2(V2),$2=B2(Ky),F2=t=>(t*=2)<1?.5*Ky(t):.5*(2-Math.pow(2,-10*(t-1))),Wy=t=>1-Math.sin(Math.acos(t)),q2=z2(Wy),H2=B2(Wy),v$=gc(.42,0,1,1),b$=gc(0,0,.58,1),G2=gc(.42,0,.58,1),_$=t=>Array.isArray(t)&&typeof t[0]!="number",K2=t=>Array.isArray(t)&&typeof t[0]=="number",w$={linear:Qn,easeIn:v$,easeInOut:G2,easeOut:b$,circIn:Wy,circInOut:H2,circOut:q2,backIn:Ky,backInOut:$2,backOut:V2,anticipate:F2},S$=t=>typeof t=="string",IS=t=>{if(K2(t)){qy(t.length===4);const[e,n,i,a]=t;return gc(e,n,i,a)}else if(S$(t))return w$[t];return t},Qu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function T$(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(y){c.has(y)&&(f.schedule(y),t()),y(d)}const f={schedule:(y,v=!1,b=!1)=>{const T=b&&a?n:i;return v&&c.add(y),T.has(y)||T.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(h),n.clear(),a=!1,l&&(l=!1,f.process(y))}};return f}const E$=40;function W2(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Qu.reduce((j,M)=>(j[M]=T$(l),j),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:y,update:v,preRender:b,render:S,postRender:T}=c,x=()=>{const j=li.useManualTiming?a.timestamp:performance.now();n=!1,li.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,E$),1)),a.timestamp=j,a.isProcessing=!0,d.process(a),h.process(a),f.process(a),y.process(a),v.process(a),b.process(a),S.process(a),T.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(x))},C=()=>{n=!0,i=!0,a.isProcessing||t(x)};return{schedule:Qu.reduce((j,M)=>{const V=c[M];return j[M]=($,z=!1,K=!1)=>(n||C(),V.schedule($,z,K)),j},{}),cancel:j=>{for(let M=0;M<Qu.length;M++)c[Qu[M]].cancel(j)},state:a,steps:c}}const{schedule:lt,cancel:Wi,state:Ft,steps:_p}=W2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let ud;function x$(){ud=void 0}const yn={now:()=>(ud===void 0&&yn.set(Ft.isProcessing||li.useManualTiming?Ft.timestamp:performance.now()),ud),set:t=>{ud=t,queueMicrotask(x$)}},Y2=t=>e=>typeof e=="string"&&e.startsWith(t),Yy=Y2("--"),C$=Y2("var(--"),Xy=t=>C$(t)?A$.test(t.split("/*")[0].trim()):!1,A$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ec={...yo,transform:t=>oi(0,1,t)},Ju={...yo,default:1},Il=t=>Math.round(t*1e5)/1e5,Qy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k$(t){return t==null}const j$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jy=(t,e)=>n=>!!(typeof n=="string"&&j$.test(n)&&n.startsWith(t)||e&&!k$(n)&&Object.prototype.hasOwnProperty.call(n,e)),X2=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(Qy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},O$=t=>oi(0,255,t),wp={...yo,transform:t=>Math.round(O$(t))},Mr={test:Jy("rgb","red"),parse:X2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+wp.transform(t)+", "+wp.transform(e)+", "+wp.transform(n)+", "+Il(ec.transform(i))+")"};function R$(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Sg={test:Jy("#"),parse:R$,transform:Mr.transform},yc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pi=yc("deg"),As=yc("%"),Ee=yc("px"),D$=yc("vh"),N$=yc("vw"),MS={...As,parse:t=>As.parse(t)/100,transform:t=>As.transform(t*100)},Fa={test:Jy("hsl","hue"),parse:X2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+As.transform(Il(e))+", "+As.transform(Il(n))+", "+Il(ec.transform(i))+")"},kt={test:t=>Mr.test(t)||Sg.test(t)||Fa.test(t),parse:t=>Mr.test(t)?Mr.parse(t):Fa.test(t)?Fa.parse(t):Sg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mr.transform(t):Fa.transform(t),getAnimatableNone:t=>{const e=kt.parse(t);return e.alpha=0,kt.transform(e)}},I$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Qy))==null?void 0:e.length)||0)+(((n=t.match(I$))==null?void 0:n.length)||0)>0}const Q2="number",J2="color",L$="var",P$="var(",LS="${}",U$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(U$,h=>(kt.test(h)?(i.color.push(l),a.push(J2),n.push(kt.parse(h))):h.startsWith(P$)?(i.var.push(l),a.push(L$),n.push(h)):(i.number.push(l),a.push(Q2),n.push(parseFloat(h))),++l,LS)).split(LS);return{values:n,split:d,indexes:i,types:a}}function Z2(t){return tc(t).values}function eA(t){const{split:e,types:n}=tc(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===Q2?l+=Il(a[c]):d===J2?l+=kt.transform(a[c]):l+=a[c]}return l}}const B$=t=>typeof t=="number"?0:kt.test(t)?kt.getAnimatableNone(t):t;function z$(t){const e=Z2(t);return eA(t)(e.map(B$))}const Yi={test:M$,parse:Z2,createTransformer:eA,getAnimatableNone:z$};function Sp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V$({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;a=Sp(h,d,t+1/3),l=Sp(h,d,t),c=Sp(h,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function zd(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,Tp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},$$=[Sg,Mr,Fa],F$=t=>$$.find(e=>e.test(t));function PS(t){const e=F$(t);if(!e)return!1;let n=e.parse(t);return e===Fa&&(n=V$(n)),n}const US=(t,e)=>{const n=PS(t),i=PS(e);if(!n||!i)return zd(t,e);const a={...n};return l=>(a.red=Tp(n.red,i.red,l),a.green=Tp(n.green,i.green,l),a.blue=Tp(n.blue,i.blue,l),a.alpha=dt(n.alpha,i.alpha,l),Mr.transform(a))},Tg=new Set(["none","hidden"]);function q$(t,e){return Tg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function H$(t,e){return n=>dt(t,e,n)}function Zy(t){return typeof t=="number"?H$:typeof t=="string"?Xy(t)?zd:kt.test(t)?US:W$:Array.isArray(t)?tA:typeof t=="object"?kt.test(t)?US:G$:zd}function tA(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Zy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function G$(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Zy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function K$(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const W$=(t,e)=>{const n=Yi.createTransformer(e),i=tc(t),a=tc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Tg.has(t)&&!a.values.length||Tg.has(e)&&!i.values.length?q$(t,e):pc(tA(K$(i,a),a.values),n):zd(t,e)};function nA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Zy(t)(t,e)}const Y$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Wi(e),now:()=>Ft.isProcessing?Ft.timestamp:yn.now()}},sA=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Vd=2e4;function ev(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Vd;)e+=n,i=t.next(e);return e>=Vd?1/0:e}function X$(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(ev(i),Vd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Yn(a)}}const Q$=5;function iA(t,e,n){const i=Math.max(e-Q$,0);return P2(n-t(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ep=.001;function J$({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:i=gt.mass}){let a,l,c=1-e;c=oi(gt.minDamping,gt.maxDamping,c),t=oi(gt.minDuration,gt.maxDuration,Yn(t)),c<1?(a=f=>{const y=f*c,v=y*t,b=y-n,S=Eg(f,c),T=Math.exp(-v);return Ep-b/S*T},l=f=>{const v=f*c*t,b=v*n+n,S=Math.pow(c,2)*Math.pow(f,2)*t,T=Math.exp(-v),x=Eg(Math.pow(f,2),c);return(-a(f)+Ep>0?-1:1)*((b-S)*T)/x}):(a=f=>{const y=Math.exp(-f*t),v=(f-n)*t+1;return-Ep+y*v},l=f=>{const y=Math.exp(-f*t),v=(n-f)*(t*t);return y*v});const d=5/t,h=eF(a,l,d);if(t=Cs(t),isNaN(h))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:t}}}const Z$=12;function eF(t,e,n){let i=n;for(let a=1;a<Z$;a++)i=i-t(i)/e(i);return i}function Eg(t,e){return t*Math.sqrt(1-e*e)}const tF=["duration","bounce"],nF=["stiffness","damping","mass"];function BS(t,e){return e.some(n=>t[n]!==void 0)}function sF(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!BS(t,nF)&&BS(t,tF))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*oi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:gt.mass,stiffness:a,damping:l}}else{const n=J$(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function $d(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:y,duration:v,velocity:b,isResolvedFromDuration:S}=sF({...n,velocity:-Yn(n.velocity||0)}),T=b||0,x=f/(2*Math.sqrt(h*y)),C=c-l,k=Yn(Math.sqrt(h/y)),O=Math.abs(C)<5;i||(i=O?gt.restSpeed.granular:gt.restSpeed.default),a||(a=O?gt.restDelta.granular:gt.restDelta.default);let j;if(x<1){const V=Eg(k,x);j=$=>{const z=Math.exp(-x*k*$);return c-z*((T+x*k*C)/V*Math.sin(V*$)+C*Math.cos(V*$))}}else if(x===1)j=V=>c-Math.exp(-k*V)*(C+(T+k*C)*V);else{const V=k*Math.sqrt(x*x-1);j=$=>{const z=Math.exp(-x*k*$),K=Math.min(V*$,300);return c-z*((T+x*k*C)*Math.sinh(K)+V*C*Math.cosh(K))/V}}const M={calculatedDuration:S&&v||null,next:V=>{const $=j(V);if(S)d.done=V>=v;else{let z=V===0?T:0;x<1&&(z=V===0?Cs(T):iA(j,V,$));const K=Math.abs(z)<=i,X=Math.abs(c-$)<=a;d.done=K&&X}return d.value=d.done?c:$,d},toString:()=>{const V=Math.min(ev(M),Vd),$=sA(z=>M.next(V*z).value,V,30);return V+"ms "+$},toTransition:()=>{}};return M}$d.applyToOptions=t=>{const e=X$(t,100,$d);return t.ease=e.ease,t.duration=Cs(e.duration),t.type="keyframes",t};function xg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},S=K=>d!==void 0&&K<d||h!==void 0&&K>h,T=K=>d===void 0?h:h===void 0||Math.abs(d-K)<Math.abs(h-K)?d:h;let x=n*e;const C=v+x,k=c===void 0?C:c(C);k!==C&&(x=k-v);const O=K=>-x*Math.exp(-K/i),j=K=>k+O(K),M=K=>{const X=O(K),ee=j(K);b.done=Math.abs(X)<=f,b.value=b.done?k:ee};let V,$;const z=K=>{S(b.value)&&(V=K,$=$d({keyframes:[b.value,T(b.value)],velocity:iA(j,K,b.value),damping:a,stiffness:l,restDelta:f,restSpeed:y}))};return z(0),{calculatedDuration:null,next:K=>{let X=!1;return!$&&V===void 0&&(X=!0,M(K),z(K)),V!==void 0&&K>=V?$.next(K-V):(!X&&M(K),b)}}}function iF(t,e,n){const i=[],a=n||li.mix||nA,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Qn:e;d=pc(h,d)}i.push(d)}return i}function rF(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(qy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=iF(e,i,a),h=d.length,f=y=>{if(c&&y<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=Zl(t[v],t[v+1],y);return d[v](b)};return n?y=>f(oi(t[0],t[l-1],y)):f}function aF(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Zl(0,e,i);t.push(dt(n,1,a))}}function oF(t){const e=[0];return aF(e,t.length-1),e}function lF(t,e){return t.map(n=>n*e)}function cF(t,e){return t.map(()=>e||G2).splice(0,t.length-1)}function Ml({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=_$(i)?i.map(IS):IS(i),l={done:!1,value:e[0]},c=lF(n&&n.length===e.length?n:oF(e),t),d=rF(c,e,{ease:Array.isArray(a)?a:cF(e,a)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const uF=t=>t!==null;function tv(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(uF),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const dF={decay:xg,inertia:xg,tween:Ml,keyframes:Ml,spring:$d};function rA(t){typeof t.type=="string"&&(t.type=dF[t.type])}class nv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hF=t=>t/100;class sv extends nv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rA(e);const{type:n=Ml,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const h=n||Ml;h!==Ml&&typeof d[0]!="number"&&(this.mixKeyframes=pc(hF,nA(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=ev(f));const{calculatedDuration:y}=f;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:S,type:T,onUpdate:x,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,M=i;if(v){const K=Math.min(this.currentTime,a)/d;let X=Math.floor(K),ee=K%1;!ee&&K>=1&&(ee=1),ee===1&&X--,X=Math.min(X,v+1),!!(X%2)&&(b==="reverse"?(ee=1-ee,S&&(ee-=S/d)):b==="mirror"&&(M=c)),j=oi(0,1,ee)*d}const V=O?{done:!1,value:y[0]}:M.next(j);l&&(V.value=l(V.value));let{done:$}=V;!O&&h!==null&&($=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return z&&T!==xg&&(V.value=tv(y,this.options,C,this.speed)),x&&x(V.value),z&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yn(e)}get time(){return Yn(this.currentTime)}set time(e){var n;e=Cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yn(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=Y$,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Lr=t=>t*180/Math.PI,Cg=t=>{const e=Lr(Math.atan2(t[1],t[0]));return Ag(e)},mF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cg,rotateZ:Cg,skewX:t=>Lr(Math.atan(t[1])),skewY:t=>Lr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ag=t=>(t=t%360,t<0&&(t+=360),t),zS=Cg,VS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$S=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VS,scaleY:$S,scale:t=>(VS(t)+$S(t))/2,rotateX:t=>Ag(Lr(Math.atan2(t[6],t[5]))),rotateY:t=>Ag(Lr(Math.atan2(-t[2],t[0]))),rotateZ:zS,rotate:zS,skewX:t=>Lr(Math.atan(t[4])),skewY:t=>Lr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function kg(t){return t.includes("scale")?1:0}function jg(t,e){if(!t||t==="none")return kg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=pF,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mF,a=d}if(!a)return kg(e);const l=i[e],c=a[1].split(",").map(yF);return typeof l=="function"?l(c):c[l]}const gF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jg(n,e)};function yF(t){return parseFloat(t.trim())}const vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bo=new Set(vo),FS=t=>t===yo||t===Ee,vF=new Set(["x","y","z"]),bF=vo.filter(t=>!vF.has(t));function _F(t){const e=[];return bF.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Br={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jg(e,"x"),y:(t,{transform:e})=>jg(e,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const zr=new Set;let Og=!1,Rg=!1,Dg=!1;function aA(){if(Rg){const t=Array.from(zr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=_F(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Rg=!1,Og=!1,zr.forEach(t=>t.complete(Dg)),zr.clear()}function oA(){zr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rg=!0)})}function wF(){Dg=!0,oA(),aA(),Dg=!1}class iv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(zr.add(this),Og||(Og=!0,lt.read(oA),lt.resolveKeyframes(aA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}fF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zr.delete(this)}cancel(){this.state==="scheduled"&&(zr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SF=t=>t.startsWith("--");function TF(t,e,n){SF(e)?t.style.setProperty(e,n):t.style[e]=n}const EF=Hy(()=>window.ScrollTimeline!==void 0),xF={};function CF(t,e){const n=Hy(t);return()=>xF[e]??n()}const lA=CF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Al=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,qS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function cA(t,e){if(t)return typeof t=="function"?lA()?sA(t,e):"ease-out":K2(t)?Al(t):Array.isArray(t)?t.map(n=>cA(n,e)||qS.easeOut):qS[t]}function AF(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},f=void 0){const y={[e]:n};h&&(y.offset=h);const v=cA(d,a);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),t.animate(y,b)}function uA(t){return typeof t=="function"&&"applyToOptions"in t}function kF({type:t,...e}){return uA(t)&&lA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jF extends nv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,qy(typeof e.type!="string");const f=kF(e);this.animation=AF(n,i,a,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=tv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):TF(n,i,y),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Yn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yn(e)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&EF()?(this.animation.timeline=e,Qn):n(this)}}const dA={anticipate:F2,backInOut:$2,circInOut:H2};function OF(t){return t in dA}function RF(t){typeof t.ease=="string"&&OF(t.ease)&&(t.ease=dA[t.ease])}const HS=10;class DF extends jF{constructor(e){RF(e),rA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new sv({...c,autoplay:!1}),h=Cs(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-HS).value,d.sample(h).value,HS),d.stop()}}const GS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yi.test(t)||t==="0")&&!t.startsWith("url("));function NF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IF(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=GS(a,e),d=GS(l,e);return!c||!d?!1:NF(t)||(n==="spring"||uA(n))&&i}function Ng(t){t.duration=0,t.type="keyframes"}const MF=new Set(["opacity","clipPath","filter","transform"]),LF=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PF(t){var y;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return LF()&&n&&MF.has(n)&&(n!=="transform"||!f)&&!h&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const UF=40;class BF extends nv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:f,element:y,...v}){var T;super(),this.stop=()=>{var x,C;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=yn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:h,motionValue:f,element:y,...v},S=(y==null?void 0:y.KeyframeResolver)||iv;this.keyframeResolver=new S(d,(x,C,k)=>this.onKeyframesResolved(x,C,b,!k),h,f,y),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:f,onUpdate:y}=i;this.resolvedAt=yn.now(),IF(e,l,c,d)||((li.instantAnimations||!h)&&(y==null||y(tv(e,i,n))),e[0]=e[e.length-1],Ng(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>UF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!f&&PF(b)?new DF({...b,element:b.motionValue.owner.current}):new sv(b);S.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VF(t){const e=zF.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function hA(t,e,n=1){const[i,a]=VF(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return I2(c)?parseFloat(c):c}return Xy(a)?hA(a,e,n+1):a}function rv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const fA=new Set(["width","height","top","left","right","bottom",...vo]),$F={test:t=>t==="auto",parse:t=>t},mA=t=>e=>e.test(t),pA=[yo,Ee,As,Pi,N$,D$,$F],KS=t=>pA.find(mA(t));function FF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||L2(t):!0}const qF=new Set(["brightness","contrast","saturate","opacity"]);function HF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Qy)||[];if(!i)return t;const a=n.replace(i,"");let l=qF.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const GF=/\b([a-z-]*)\(.*?\)/gu,Ig={...Yi,getAnimatableNone:t=>{const e=t.match(GF);return e?e.map(HF).join(" "):t}},WS={...yo,transform:Math.round},KF={rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:Ju,scaleX:Ju,scaleY:Ju,scaleZ:Ju,skew:Pi,skewX:Pi,skewY:Pi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ec,originX:MS,originY:MS,originZ:Ee},av={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...KF,zIndex:WS,fillOpacity:ec,strokeOpacity:ec,numOctaves:WS},WF={...av,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Ig,WebkitFilter:Ig},gA=t=>WF[t];function yA(t,e){let n=gA(t);return n!==Ig&&(n=Yi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const YF=new Set(["auto","none","0"]);function XF(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!YF.has(l)&&tc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=yA(n,a)}class QF extends iv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Xy(f))){const y=hA(f,n.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!fA.has(i)||e.length!==2)return;const[a,l]=e,c=KS(a),d=KS(l);if(c!==d)if(FS(c)&&FS(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Br[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||FF(e[a]))&&i.push(a);i.length&&XF(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Br[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function JF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const vA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bA(t){return M2(t)&&"offsetHeight"in t}const YS=30,ZF=t=>!isNaN(parseFloat(t));class eq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gy);const i=this.events[e].add(n);return e==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YS);return P2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function co(t,e){return new eq(t,e)}const{schedule:ov}=W2(queueMicrotask,!1),as={x:!1,y:!1};function _A(){return as.x||as.y}function tq(t){return t==="x"||t==="y"?as[t]?null:(as[t]=!0,()=>{as[t]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}function wA(t,e){const n=JF(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function XS(t){return!(t.pointerType==="touch"||_A())}function nq(t,e,n={}){const[i,a,l]=wA(t,n),c=d=>{if(!XS(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const y=v=>{XS(v)&&(f(v),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const SA=(t,e)=>e?t===e?!0:SA(t,e.parentElement):!1,lv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iq(t){return sq.has(t.tagName)||t.tabIndex!==-1}const dd=new WeakSet;function QS(t){return e=>{e.key==="Enter"&&t(e)}}function xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rq=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=QS(()=>{if(dd.has(n))return;xp(n,"down");const a=QS(()=>{xp(n,"up")}),l=()=>xp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function JS(t){return lv(t)&&!_A()}function aq(t,e,n={}){const[i,a,l]=wA(t,n),c=d=>{const h=d.currentTarget;if(!JS(d))return;dd.add(h);const f=e(h,d),y=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),dd.has(h)&&dd.delete(h),JS(S)&&typeof f=="function"&&f(S,{success:T})},v=S=>{y(S,h===window||h===document||n.useGlobalTarget||SA(h,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),bA(d)&&(d.addEventListener("focus",f=>rq(f,a)),!iq(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function TA(t){return M2(t)&&"ownerSVGElement"in t}function oq(t){return TA(t)&&t.tagName==="svg"}const Xt=t=>!!(t&&t.getVelocity),lq=[...pA,kt,Yi],cq=t=>lq.find(mA(t)),cv=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ZS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function uq(...t){return e=>{let n=!1;const i=t.map(a=>{const l=ZS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():ZS(t[a],null)}}}}function dq(...t){return A.useCallback(uq(...t),t)}class hq extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=bA(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fq({children:t,isPresent:e,anchorX:n,root:i}){const a=A.useId(),l=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=A.useContext(cv),h=dq(l,t==null?void 0:t.ref);return A.useInsertionEffect(()=>{const{width:f,height:y,top:v,left:b,right:S}=c.current;if(e||!l.current||!f||!y)return;const T=n==="left"?`left: ${b}`:`right: ${S}`;l.current.dataset.motionPopId=a;const x=document.createElement("style");d&&(x.nonce=d);const C=i??document.head;return C.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(x)&&C.removeChild(x)}},[e]),g.jsx(hq,{isPresent:e,childRef:l,sizeRef:c,children:A.cloneElement(t,{ref:h})})}const mq=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const f=zy(pq),y=A.useId();let v=!0,b=A.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{f.set(S,!0);for(const T of f.values())if(!T)return;i&&i()},register:S=>(f.set(S,!1),()=>f.delete(S))}),[n,f,i]);return l&&v&&(b={...b}),A.useMemo(()=>{f.forEach((S,T)=>f.set(T,!1))},[n]),A.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=g.jsx(fq,{isPresent:n,anchorX:d,root:h,children:t})),g.jsx(mh.Provider,{value:b,children:t})};function pq(){return new Map}function EA(t=!0){const e=A.useContext(mh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=A.useId();A.useEffect(()=>{if(t)return a(l)},[t]);const c=A.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Zu=t=>t.key||"";function eT(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const tT=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[f,y]=EA(c),v=A.useMemo(()=>eT(t),[t]),b=c&&!f?[]:v.map(Zu),S=A.useRef(!0),T=A.useRef(v),x=zy(()=>new Map),[C,k]=A.useState(v),[O,j]=A.useState(v);N2(()=>{S.current=!1,T.current=v;for(let $=0;$<O.length;$++){const z=Zu(O[$]);b.includes(z)?x.delete(z):x.get(z)!==!0&&x.set(z,!1)}},[O,b.length,b.join("-")]);const M=[];if(v!==C){let $=[...v];for(let z=0;z<O.length;z++){const K=O[z],X=Zu(K);b.includes(X)||($.splice(z,0,K),M.push(K))}return l==="wait"&&M.length&&($=M),j(eT($)),k(v),null}const{forceRender:V}=A.useContext(By);return g.jsx(g.Fragment,{children:O.map($=>{const z=Zu($),K=c&&!f?!1:v===O||b.includes(z),X=()=>{if(x.has(z))x.set(z,!0);else return;let ee=!0;x.forEach(se=>{se||(ee=!1)}),ee&&(V==null||V(),j(T.current),c&&(y==null||y()),i&&i())};return g.jsx(mq,{isPresent:K,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:h,onExitComplete:K?void 0:X,anchorX:d,children:$},z)})})},xA=A.createContext({strict:!1}),nT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uo={};for(const t in nT)uo[t]={isEnabled:e=>nT[t].some(n=>!!e[n])};function gq(t){for(const e in t)uo[e]={...uo[e],...t[e]}}const yq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yq.has(t)}let CA=t=>!Fd(t);function vq(t){typeof t=="function"&&(CA=e=>e.startsWith("on")?!Fd(e):t(e))}try{vq(require("@emotion/is-prop-valid").default)}catch{}function bq(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(CA(a)||n===!0&&Fd(a)||!e&&!Fd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const ph=A.createContext({});function gh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nc(t){return typeof t=="string"||Array.isArray(t)}const uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...uv];function yh(t){return gh(t.animate)||dv.some(e=>nc(t[e]))}function AA(t){return!!(yh(t)||t.variants)}function _q(t,e){if(yh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||nc(n)?n:void 0,animate:nc(i)?i:void 0}}return t.inherit!==!1?e:{}}function wq(t){const{initial:e,animate:n}=_q(t,A.useContext(ph));return A.useMemo(()=>({initial:e,animate:n}),[sT(e),sT(n)])}function sT(t){return Array.isArray(t)?t.join(" "):t}const sc={};function Sq(t){for(const e in t)sc[e]=t[e],Yy(e)&&(sc[e].isCSSVariable=!0)}function kA(t,{layout:e,layoutId:n}){return bo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sc[t]||t==="opacity")}const Tq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eq=vo.length;function xq(t,e,n){let i="",a=!0;for(let l=0;l<Eq;l++){const c=vo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=vA(d,av[c]);if(!h){a=!1;const y=Tq[c]||c;i+=`${y}(${f}) `}n&&(e[c]=f)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function hv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(bo.has(h)){c=!0;continue}else if(Yy(h)){a[h]=f;continue}else{const y=vA(f,av[h]);h.startsWith("origin")?(d=!0,l[h]=y):i[h]=y}}if(e.transform||(c||n?i.transform=xq(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:y=0}=l;i.transformOrigin=`${h} ${f} ${y}`}}const fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jA(t,e,n){for(const i in e)!Xt(e[i])&&!kA(i,n)&&(t[i]=e[i])}function Cq({transformTemplate:t},e){return A.useMemo(()=>{const n=fv();return hv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Aq(t,e){const n=t.style||{},i={};return jA(i,n,t),Object.assign(i,Cq(t,e)),i}function kq(t,e){const n={},i=Aq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const jq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oq={offset:"strokeDashoffset",array:"strokeDasharray"};function Rq(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?jq:Oq;t[l.offset]=Ee.transform(-i);const c=Ee.transform(e),d=Ee.transform(n);t[l.array]=`${c} ${d}`}function OA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},h,f,y){if(hv(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&Rq(v,a,l,c,!1)}const RA=()=>({...fv(),attrs:{}}),DA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dq(t,e,n,i){const a=A.useMemo(()=>{const l=RA();return OA(l,e,DA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};jA(l,t.style,t),a.style={...l,...a.style}}return a}const Nq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mv(t){return typeof t!="string"||t.includes("-")?!1:!!(Nq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Iq(t,e,n,{latestValues:i},a,l=!1){const d=(mv(t)?Dq:kq)(e,i,a,t),h=bq(e,typeof t=="string",l),f=t!==A.Fragment?{...h,...d,ref:n}:{},{children:y}=e,v=A.useMemo(()=>Xt(y)?y.get():y,[y]);return A.createElement(t,{...f,children:v})}function iT(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function pv(t,e,n,i){if(typeof e=="function"){const[a,l]=iT(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=iT(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function hd(t){return Xt(t)?t.get():t}function Mq({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:Lq(n,i,a,t),renderState:e()}}function Lq(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=hd(l[b]);let{initial:c,animate:d}=t;const h=yh(t),f=AA(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!gh(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const T=pv(t,b[S]);if(T){const{transitionEnd:x,transition:C,...k}=T;for(const O in k){let j=k[O];if(Array.isArray(j)){const M=y?j.length-1:0;j=j[M]}j!==null&&(a[O]=j)}for(const O in x)a[O]=x[O]}}}return a}const NA=t=>(e,n)=>{const i=A.useContext(ph),a=A.useContext(mh),l=()=>Mq(t,e,i,a);return n?l():zy(l)};function gv(t,e,n){var l;const{style:i}=t,a={};for(const c in i)(Xt(i[c])||e.style&&Xt(e.style[c])||kA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const Pq=NA({scrapeMotionValuesFromProps:gv,createRenderState:fv});function IA(t,e,n){const i=gv(t,e,n);for(const a in t)if(Xt(t[a])||Xt(e[a])){const l=vo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const Uq=NA({scrapeMotionValuesFromProps:IA,createRenderState:RA}),Bq=Symbol.for("motionComponentSymbol");function qa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zq(t,e,n){return A.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):qa(n)&&(n.current=i))},[e])}const yv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Vq="framerAppearId",MA="data-"+yv(Vq),LA=A.createContext({});function $q(t,e,n,i,a){var x,C;const{visualElement:l}=A.useContext(ph),c=A.useContext(xA),d=A.useContext(mh),h=A.useContext(cv).reducedMotion,f=A.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const y=f.current,v=A.useContext(LA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Fq(f.current,n,a,v);const b=A.useRef(!1);A.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const S=n[MA],T=A.useRef(!!S&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,S))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,S)));return N2(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),A.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,S)}),T.current=!1),y.enteringChildren=void 0)}),y}function Fq(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&qa(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:h,layoutRoot:f})}function PA(t){if(t)return t.options.allowProjection!==!1?t.projection:PA(t.parent)}function Cp(t,{forwardMotionProps:e=!1}={},n,i){n&&gq(n);const a=mv(t)?Uq:Pq;function l(d,h){let f;const y={...A.useContext(cv),...d,layoutId:qq(d)},{isStatic:v}=y,b=wq(d),S=a(d,v);if(!v&&Vy){Hq();const T=Gq(y);f=T.MeasureLayout,b.visualElement=$q(t,S,y,i,T.ProjectionNode)}return g.jsxs(ph.Provider,{value:b,children:[f&&b.visualElement?g.jsx(f,{visualElement:b.visualElement,...y}):null,Iq(t,d,zq(S,b.visualElement,h),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(l);return c[Bq]=t,c}function qq({layoutId:t}){const e=A.useContext(By).id;return e&&t!==void 0?e+"-"+t:t}function Hq(t,e){A.useContext(xA).strict}function Gq(t){const{drag:e,layout:n}=uo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Kq(t,e){if(typeof Proxy>"u")return Cp;const n=new Map,i=(l,c)=>Cp(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Cp(c,void 0,t,e)),n.get(c))})}function UA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Wq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ap(t){return t===void 0||t===1}function Mg({scale:t,scaleX:e,scaleY:n}){return!Ap(t)||!Ap(e)||!Ap(n)}function kr(t){return Mg(t)||BA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BA(t){return rT(t.x)||rT(t.y)}function rT(t){return t&&t!=="0%"}function qd(t,e,n){const i=t-n,a=e*i;return n+a}function aT(t,e,n,i,a){return a!==void 0&&(t=qd(t,a,i)),qd(t,n,i)+e}function Lg(t,e=0,n=1,i,a){t.min=aT(t.min,e,n,i,a),t.max=aT(t.max,e,n,i,a)}function zA(t,{x:e,y:n}){Lg(t.x,e.translate,e.scale,e.originPoint),Lg(t.y,n.translate,n.scale,n.originPoint)}const oT=.999999999999,lT=1.0000000000001;function Xq(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ga(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,zA(t,c)),i&&kr(l.latestValues)&&Ga(t,l.latestValues))}e.x<lT&&e.x>oT&&(e.x=1),e.y<lT&&e.y>oT&&(e.y=1)}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function cT(t,e,n,i,a=.5){const l=dt(t.min,t.max,a);Lg(t,e,n,l,i)}function Ga(t,e){cT(t.x,e.x,e.scaleX,e.scale,e.originX),cT(t.y,e.y,e.scaleY,e.scale,e.originY)}function VA(t,e){return UA(Yq(t.getBoundingClientRect(),e))}function Qq(t,e,n){const i=VA(t,n),{scroll:a}=e;return a&&(Ha(i.x,a.offset.x),Ha(i.y,a.offset.y)),i}const uT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ka=()=>({x:uT(),y:uT()}),dT=()=>({min:0,max:0}),Rt=()=>({x:dT(),y:dT()}),Pg={current:null},$A={current:!1};function Jq(){if($A.current=!0,!!Vy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pg.current=t.matches;t.addEventListener("change",e),e()}else Pg.current=!1}const Zq=new WeakMap;function eH(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Xt(a))t.addValue(i,a);else if(Xt(l))t.addValue(i,co(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,co(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const hT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tH{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=yn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,lt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=yh(n),this.isVariantNode=AA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const S=v[b];h[b]!==void 0&&Xt(S)&&S.set(h[b])}}mount(e){var n;this.current=e,Zq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),$A.current||Jq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=bo.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uo){const n=uo[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<hT.length;i++){const a=hT[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=eH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=co(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(I2(i)||L2(i))?i=parseFloat(i):!cq(i)&&Yi.test(n)&&(i=yA(e,n)),this.setBaseTarget(e,Xt(i)?i.get():i)),Xt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=pv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ov.render(this.render)}}class FA extends tH{constructor(){super(...arguments),this.KeyframeResolver=QF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function nH(t){return window.getComputedStyle(t)}class sH extends FA{constructor(){super(...arguments),this.type="html",this.renderInstance=qA}readValueFromInstance(e,n){var i;if(bo.has(n))return(i=this.projection)!=null&&i.isProjecting?kg(n):gF(e,n);{const a=nH(e),l=(Yy(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return VA(e,n)}build(e,n,i){hv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return gv(e,n,i)}}const HA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iH(t,e,n,i){qA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(HA.has(a)?a:yv(a),e.attrs[a])}class rH extends FA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bo.has(n)){const i=gA(n);return i&&i.default||0}return n=HA.has(n)?n:yv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return IA(e,n,i)}build(e,n,i){OA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){iH(e,n,i,a)}mount(e){this.isSVGTag=DA(e.tagName),super.mount(e)}}const aH=(t,e)=>mv(t)?new rH(e):new sH(e,{allowProjection:t!==A.Fragment});function no(t,e,n){const i=t.getProps();return pv(i,e,n!==void 0?n:i.custom,t)}const Ug=t=>Array.isArray(t);function oH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,co(n))}function lH(t){return Ug(t)?t[t.length-1]||0:t}function cH(t,e){const n=no(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=lH(l[c]);oH(t,c,d)}}function uH(t){return!!(Xt(t)&&t.add)}function Bg(t,e){const n=t.getValue("willChange");if(uH(n))return n.add(e);if(!n&&li.WillChange){const i=new li.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function GA(t){return t.props[MA]}const dH=t=>t!==null;function hH(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(dH),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const fH={type:"spring",stiffness:500,damping:25,restSpeed:10},mH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pH={type:"keyframes",duration:.8},gH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yH=(t,{keyframes:e})=>e.length>2?pH:bo.has(t)?t.startsWith("scale")?mH(e[1]):fH:gH;function vH({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:f,...y}){return!!Object.keys(y).length}const vv=(t,e,n,i={},a,l)=>c=>{const d=rv(i,t)||{},h=d.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Cs(h);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};vH(d)||Object.assign(y,yH(t,y)),y.duration&&(y.duration=Cs(y.duration)),y.repeatDelay&&(y.repeatDelay=Cs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ng(y),y.delay===0&&(v=!0)),(li.instantAnimations||li.skipAnimations)&&(v=!0,Ng(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const b=hH(y.keyframes,d);if(b!==void 0){lt.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new sv(y):new BF(y)};function bH({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function KA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const h=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const v=t.getValue(y,t.latestValues[y]??null),b=d[y];if(b===void 0||f&&bH(f,y))continue;const S={delay:n,...rv(l||{},y)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===T&&!S.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const k=GA(t);if(k){const O=window.MotionHandoffAnimation(k,y,lt);O!==null&&(S.startTime=O,x=!0)}}Bg(t,y),v.start(vv(y,v,b,t.shouldReduceMotion&&fA.has(y)?{type:!1}:S,t,x));const C=v.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{lt.update(()=>{c&&cH(t,c)})}),h}function WA(t,e,n,i=0,a=1){const l=Array.from(t).sort((f,y)=>f.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}function zg(t,e,n={}){var h;const i=no(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(KA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=a;return _H(t,e,f,y,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,y]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function _H(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(zg(h,e,{...c,delay:n+(typeof i=="function"?0:i)+WA(t.variantChildren,h,i,a,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function wH(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>zg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=zg(t,e,n);else{const a=typeof e=="function"?no(t,e,n.custom):e;i=Promise.all(KA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function YA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const SH=dv.length;function XA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?XA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SH;n++){const i=dv[n],a=t.props[i];(nc(a)||a===!1)&&(e[i]=a)}return e}const TH=[...uv].reverse(),EH=uv.length;function xH(t){return e=>Promise.all(e.map(({animation:n,options:i})=>wH(t,n,i)))}function CH(t){let e=xH(t),n=fT(),i=!0;const a=h=>(f,y)=>{var b;const v=no(t,y,h==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:S,transitionEnd:T,...x}=v;f={...f,...x,...T}}return f};function l(h){e=h(t)}function c(h){const{props:f}=t,y=XA(t.parent)||{},v=[],b=new Set;let S={},T=1/0;for(let C=0;C<EH;C++){const k=TH[C],O=n[k],j=f[k]!==void 0?f[k]:y[k],M=nc(j),V=k===h?O.isActive:null;V===!1&&(T=C);let $=j===y[k]&&j!==f[k]&&M;if($&&i&&t.manuallyAnimateOnMount&&($=!1),O.protectedKeys={...S},!O.isActive&&V===null||!j&&!O.prevProp||gh(j)||typeof j=="boolean")continue;const z=AH(O.prevProp,j);let K=z||k===h&&O.isActive&&!$&&M||C>T&&M,X=!1;const ee=Array.isArray(j)?j:[j];let se=ee.reduce(a(k),{});V===!1&&(se={});const{prevResolvedValues:J={}}=O,ae={...J,...se},ve=Y=>{K=!0,b.has(Y)&&(X=!0,b.delete(Y)),O.needsAnimating[Y]=!0;const re=t.getValue(Y);re&&(re.liveStyle=!1)};for(const Y in ae){const re=se[Y],we=J[Y];if(S.hasOwnProperty(Y))continue;let je=!1;Ug(re)&&Ug(we)?je=!YA(re,we):je=re!==we,je?re!=null?ve(Y):b.add(Y):re!==void 0&&b.has(Y)?ve(Y):O.protectedKeys[Y]=!0}O.prevProp=j,O.prevResolvedValues=se,O.isActive&&(S={...S,...se}),i&&t.blockInitialAnimation&&(K=!1);const fe=$&&z;K&&(!fe||X)&&v.push(...ee.map(Y=>{const re={type:k};if(typeof Y=="string"&&i&&!fe&&t.manuallyAnimateOnMount&&t.parent){const{parent:we}=t,je=no(we,Y);if(we.enteringChildren&&je){const{delayChildren:D}=je.transition||{};re.delay=WA(we.enteringChildren,t,D)}}return{animation:Y,options:re}}))}if(b.size){const C={};if(typeof f.initial!="boolean"){const k=no(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(C.transition=k.transition)}b.forEach(k=>{const O=t.getBaseTarget(k),j=t.getValue(k);j&&(j.liveStyle=!0),C[k]=O??null}),v.push({animation:C})}let x=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(v):Promise.resolve()}function d(h,f){var v;if(n[h].isActive===f)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var S;return(S=b.animationState)==null?void 0:S.setActive(h,f)}),n[h].isActive=f;const y=c(h);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=fT()}}}function AH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YA(e,t):!1}function Tr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fT(){return{animate:Tr(!0),whileInView:Tr(),whileHover:Tr(),whileTap:Tr(),whileDrag:Tr(),whileFocus:Tr(),exit:Tr()}}class Qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kH extends Qi{constructor(e){super(e),e.animationState||(e.animationState=CH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let jH=0;class OH extends Qi{constructor(){super(...arguments),this.id=jH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RH={animation:{Feature:kH},exit:{Feature:OH}};function ic(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function vc(t){return{point:{x:t.pageX,y:t.pageY}}}const DH=t=>e=>lv(e)&&t(e,vc(e));function Ll(t,e,n,i){return ic(t,e,DH(n),i)}const QA=1e-4,NH=1-QA,IH=1+QA,JA=.01,MH=0-JA,LH=0+JA;function nn(t){return t.max-t.min}function PH(t,e,n){return Math.abs(t-e)<=n}function mT(t,e,n,i=.5){t.origin=i,t.originPoint=dt(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=NH&&t.scale<=IH||isNaN(t.scale))&&(t.scale=1),(t.translate>=MH&&t.translate<=LH||isNaN(t.translate))&&(t.translate=0)}function Pl(t,e,n,i){mT(t.x,e.x,n.x,i?i.originX:void 0),mT(t.y,e.y,n.y,i?i.originY:void 0)}function pT(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function UH(t,e,n){pT(t.x,e.x,n.x),pT(t.y,e.y,n.y)}function gT(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function Hd(t,e,n){gT(t.x,e.x,n.x),gT(t.y,e.y,n.y)}function qn(t){return[t("x"),t("y")]}const ZA=({current:t})=>t?t.ownerDocument.defaultView:null,yT=(t,e)=>Math.abs(t-e);function BH(t,e){const n=yT(t.x,e.x),i=yT(t.y,e.y);return Math.sqrt(n**2+i**2)}class ek{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=jp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=BH(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:x}=b,{timestamp:C}=Ft;this.history.push({...x,timestamp:C});const{onStart:k,onMove:O}=this.handlers;S||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=kp(S,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:T,onSessionEnd:x,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=jp(b.type==="pointercancel"?this.lastMoveEventInfo:kp(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,k),x&&x(b,k)},!lv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=vc(e),h=kp(d,this.transformPagePoint),{point:f}=h,{timestamp:y}=Ft;this.history=[{...f,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,jp(h,this.history)),this.removeListeners=pc(Ll(this.contextWindow,"pointermove",this.handlePointerMove),Ll(this.contextWindow,"pointerup",this.handlePointerUp),Ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wi(this.updatePoint)}}function kp(t,e){return e?{point:e(t.point)}:t}function vT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jp({point:t},e){return{point:t,delta:vT(t,tk(e)),offset:vT(t,zH(e)),velocity:VH(e,.1)}}function zH(t){return t[0]}function tk(t){return t[t.length-1]}function VH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=tk(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Cs(e)));)n--;if(!i)return{x:0,y:0};const l=Yn(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $H(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?dt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?dt(n,t,i.max):Math.min(t,n)),t}function bT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FH(t,{top:e,left:n,bottom:i,right:a}){return{x:bT(t.x,n,a),y:bT(t.y,e,i)}}function _T(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function qH(t,e){return{x:_T(t.x,e.x),y:_T(t.y,e.y)}}function HH(t,e){let n=.5;const i=nn(t),a=nn(e);return a>i?n=Zl(e.min,e.max-i,t.min):i>a&&(n=Zl(t.min,t.max-a,e.min)),oi(0,1,n)}function GH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vg=.35;function KH(t=Vg){return t===!1?t=0:t===!0&&(t=Vg),{x:wT(t,"left","right"),y:wT(t,"top","bottom")}}function wT(t,e,n){return{min:ST(t,e),max:ST(t,n)}}function ST(t,e){return typeof t=="number"?t:t[e]||0}const WH=new WeakMap;class YH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(v).point)},c=(v,b)=>{const{drag:S,dragPropagation:T,onDragStart:x}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tq(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(k=>{let O=this.getAxisMotionValue(k).get()||0;if(As.test(O)){const{projection:j}=this.visualElement;if(j&&j.layout){const M=j.layout.layoutBox[k];M&&(O=nn(M)*(parseFloat(O)/100))}}this.originPoint[k]=O}),x&&lt.postRender(()=>x(v,b)),Bg(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:x,onDrag:C}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=b;if(T&&this.currentDirection===null){this.currentDirection=XH(k),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),C&&C(v,b)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>qn(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)==null?void 0:b.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new ek(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:ZA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&lt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!ed(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=$H(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&qa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=FH(i.layoutBox,e):this.constraints=!1,this.elastic=KH(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=GH(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qa(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Qq(i,a.root,this.visualElement.getTransformPagePoint());let c=qH(a.layout.layoutBox,l);if(n){const d=n(Wq(c));this.hasMutatedConstraints=!!d,d&&(c=UA(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=qn(y=>{if(!ed(y,n,this.currentDirection))return;let v=h&&h[y]||{};c&&(v={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,T={type:"inertia",velocity:i?e[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Bg(this.visualElement,e),i.start(vv(e,i,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:i}=this.getProps();if(!ed(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-dt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!qa(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=HH({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qn(c=>{if(!ed(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(dt(h,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;WH.set(this.visualElement,this);const e=this.visualElement.current,n=Ll(e,"pointerdown",h=>{const{drag:f,dragListener:y=!0}=this.getProps();f&&y&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();qa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),lt.read(i);const c=ic(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(qn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=h[y].translate,v.set(v.get()+h[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Vg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function ed(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QH extends Qi{constructor(e){super(e),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new YH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const TT=t=>(e,n)=>{t&&lt.postRender(()=>t(e,n))};class JH extends Qi{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(e){this.session=new ek(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:TT(e),onStart:TT(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&lt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ll(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ET(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=ET(t,e.target.x),i=ET(t,e.target.y);return`${n}% ${i}%`}},ZH={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Yi.parse(t);if(a.length>5)return i;const l=Yi.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=h;const f=dt(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),l(a)}};let Op=!1;class eG extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;Sq(tG),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Op&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Op=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||lt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ov.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Op=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nk(t){const[e,n]=EA(),i=A.useContext(By);return g.jsx(eG,{...t,layoutGroup:i,switchLayoutGroup:A.useContext(LA),isPresent:e,safeToRemove:n})}const tG={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:ZH};function nG(t,e,n){const i=Xt(t)?t:co(t);return i.start(vv("",i,e,n)),i.animation}const sG=(t,e)=>t.depth-e.depth;class iG{constructor(){this.children=[],this.isDirty=!1}add(e){$y(this.children,e),this.isDirty=!0}remove(e){Fy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sG),this.isDirty=!1,this.children.forEach(e)}}function rG(t,e){const n=yn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Wi(i),t(l-e))};return lt.setup(i,!0),()=>Wi(i)}const sk=["TopLeft","TopRight","BottomLeft","BottomRight"],aG=sk.length,xT=t=>typeof t=="string"?parseFloat(t):t,CT=t=>typeof t=="number"||Ee.test(t);function oG(t,e,n,i,a,l){a?(t.opacity=dt(0,n.opacity??1,lG(i)),t.opacityExit=dt(e.opacity??1,0,cG(i))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,i));for(let c=0;c<aG;c++){const d=`border${sk[c]}Radius`;let h=AT(e,d),f=AT(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||CT(h)===CT(f)?(t[d]=Math.max(dt(xT(h),xT(f),i),0),(As.test(f)||As.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,i))}function AT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lG=ik(0,.5,q2),cG=ik(.5,.95,Qn);function ik(t,e,n){return i=>i<t?0:i>e?1:n(Zl(t,e,i))}function kT(t,e){t.min=e.min,t.max=e.max}function is(t,e){kT(t.x,e.x),kT(t.y,e.y)}function jT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OT(t,e,n,i,a){return t-=e,t=qd(t,1/n,i),a!==void 0&&(t=qd(t,1/a,i)),t}function uG(t,e=0,n=1,i=.5,a,l=t,c=t){if(As.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=dt(l.min,l.max,i);t===l&&(d-=e),t.min=OT(t.min,e,n,d,a),t.max=OT(t.max,e,n,d,a)}function RT(t,e,[n,i,a],l,c){uG(t,e[n],e[i],e[a],e.scale,l,c)}const dG=["x","scaleX","originX"],hG=["y","scaleY","originY"];function DT(t,e,n,i){RT(t.x,e,dG,n?n.x:void 0,i?i.x:void 0),RT(t.y,e,hG,n?n.y:void 0,i?i.y:void 0)}function NT(t){return t.translate===0&&t.scale===1}function rk(t){return NT(t.x)&&NT(t.y)}function IT(t,e){return t.min===e.min&&t.max===e.max}function fG(t,e){return IT(t.x,e.x)&&IT(t.y,e.y)}function MT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ak(t,e){return MT(t.x,e.x)&&MT(t.y,e.y)}function LT(t){return nn(t.x)/nn(t.y)}function PT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mG{constructor(){this.members=[]}add(e){$y(this.members,e),e.scheduleRender()}remove(e){if(Fy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pG(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:y,rotateX:v,rotateY:b,skewX:S,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),T&&(i+=`skewY(${T}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const Rp=["","X","Y","Z"],gG=1e3;let yG=0;function Dp(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function ok(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=GA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&ok(i)}function lk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=yG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_G),this.nodes.forEach(EG),this.nodes.forEach(xG),this.nodes.forEach(wG)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new iG)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=TA(c)&&!oq(c),this.instance=c;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{v=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=rG(b,250),fd.hasAnimatedSinceResize&&(fd.hasAnimatedSinceResize=!1,this.nodes.forEach(zT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||OG,{onLayoutAnimationStart:x,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!ak(this.targetLayout,S),O=!v&&b;if(this.options.layoutRoot||this.resumeFrom||O||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...rv(T,"layout"),onPlay:x,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,O)}else v||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CG),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ok(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TG),this.nodes.forEach(vG),this.nodes.forEach(bG)):this.nodes.forEach(BT),this.clearAllSnapshots();const d=yn.now();Ft.delta=oi(0,1e3/60,d-Ft.timestamp),Ft.timestamp=d,Ft.isProcessing=!0,_p.update.process(Ft),_p.preRender.process(Ft),_p.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SG),this.sharedNodes.forEach(AG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!rk(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,y=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||kr(this.latestValues)||y)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),RG(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Rt();const d=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(DG))){const{scroll:y}=this.root;y&&(Ha(d.x,y.offset.x),Ha(d.y,y.offset.y))}return d}removeElementScroll(c){var h;const d=Rt();if(is(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let f=0;f<this.path.length;f++){const y=this.path[f],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&is(d,c),Ha(d.x,v.offset.x),Ha(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const h=Rt();is(h,c);for(let f=0;f<this.path.length;f++){const y=this.path[f];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ga(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),kr(y.latestValues)&&Ga(h,y.latestValues)}return kr(this.latestValues)&&Ga(h,this.latestValues),h}removeTransform(c){const d=Rt();is(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!kr(f.latestValues))continue;Mg(f.latestValues)&&f.updateSnapshot();const y=Rt(),v=f.measurePageBox();is(y,v),DT(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,y)}return kr(this.latestValues)&&DT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Ft.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),zA(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Mg(this.parent.latestValues)||BA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Hd(this.relativeTargetOrigin,d,h),is(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(h=!1),h)return;const{layout:f,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||y))return;is(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;Xq(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Rt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jT(this.prevProjectionDelta.x,this.projectionDelta.x),jT(this.prevProjectionDelta.y,this.projectionDelta.y)),Pl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!PT(this.projectionDelta.x,this.prevProjectionDelta.x)||!PT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ka(),this.projectionDelta=Ka(),this.projectionDeltaWithTransform=Ka()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},y={...this.latestValues},v=Ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Rt(),S=h?h.source:void 0,T=this.layout?this.layout.source:void 0,x=S!==T,C=this.getStack(),k=!C||C.members.length<=1,O=!!(x&&!k&&this.options.crossfade===!0&&!this.path.some(jG));this.animationProgress=0;let j;this.mixTargetDelta=M=>{const V=M/1e3;VT(v.x,c.x,V),VT(v.y,c.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kG(this.relativeTarget,this.relativeTargetOrigin,b,V),j&&fG(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Rt()),is(j,this.relativeTarget)),x&&(this.animationValues=y,oG(y,f,this.latestValues,V,O,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,f;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{fd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=co(0)),this.currentAnimation=nG(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:y}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&ck(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Rt();const v=nn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=nn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}is(d,h),Ga(d,y),Pl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new mG),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Dp("z",c,f,this.animationValues);for(let y=0;y<Rp.length;y++)Dp(`rotate${Rp[y]}`,c,f,this.animationValues),Dp(`skew${Rp[y]}`,c,f,this.animationValues);c.render();for(const y in f)c.setStaticValue(y,f[y]),this.animationValues&&(this.animationValues[y]=f[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hd(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=pG(this.projectionDeltaWithTransform,this.treeScale,y);h&&(v=h(y,v)),c.transform=v;const{x:b,y:S}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,f.animationValues?c.opacity=f===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=f===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in sc){if(y[T]===void 0)continue;const{correct:x,applyTo:C,isCSSVariable:k}=sc[T],O=v==="none"?y[T]:x(y[T],f);if(C){const j=C.length;for(let M=0;M<j;M++)c[C[M]]=O}else k?this.options.visualElement.renderState.vars[T]=O:c[T]=O}this.options.layoutId&&(c.pointerEvents=f===this?hd(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(UT),this.root.sharedNodes.clear()}}}function vG(t){t.updateLayout()}function bG(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?qn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],S=nn(b);b.min=i[v].min,b.max=b.min+S}):ck(l,e.layoutBox,i)&&qn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],S=nn(i[v]);b.max=b.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const d=Ka();Pl(d,i,e.layoutBox);const h=Ka();c?Pl(h,t.applyTransform(a,!0),e.measuredBox):Pl(h,i,e.layoutBox);const f=!rk(d);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const T=Rt();Hd(T,e.layoutBox,b.layoutBox);const x=Rt();Hd(x,i,S.layoutBox),ak(T,x)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function _G(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SG(t){t.clearSnapshot()}function UT(t){t.clearMeasurements()}function BT(t){t.isLayoutDirty=!1}function TG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EG(t){t.resolveTargetDelta()}function xG(t){t.calcProjection()}function CG(t){t.resetSkewAndRotation()}function AG(t){t.removeLeadSnapshot()}function VT(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $T(t,e,n,i){t.min=dt(e.min,n.min,i),t.max=dt(e.max,n.max,i)}function kG(t,e,n,i){$T(t.x,e.x,n.x,i),$T(t.y,e.y,n.y,i)}function jG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OG={duration:.45,ease:[.4,0,.1,1]},FT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qT=FT("applewebkit/")&&!FT("chrome/")?Math.round:Qn;function HT(t){t.min=qT(t.min),t.max=qT(t.max)}function RG(t){HT(t.x),HT(t.y)}function ck(t,e,n){return t==="position"||t==="preserve-aspect"&&!PH(LT(e),LT(n),.2)}function DG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const NG=lk({attachResizeListener:(t,e)=>ic(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Np={current:void 0},uk=lk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Np.current){const t=new NG({});t.mount(window),t.setOptions({layoutScroll:!0}),Np.current=t}return Np.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IG={pan:{Feature:JH},drag:{Feature:QH,ProjectionNode:uk,MeasureLayout:nk}};function GT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&lt.postRender(()=>l(e,vc(e)))}class MG extends Qi{mount(){const{current:e}=this.node;e&&(this.unmount=nq(e,(n,i)=>(GT(this.node,i,"Start"),a=>GT(this.node,a,"End"))))}unmount(){}}class LG extends Qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pc(ic(this.node.current,"focus",()=>this.onFocus()),ic(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&lt.postRender(()=>l(e,vc(e)))}class PG extends Qi{mount(){const{current:e}=this.node;e&&(this.unmount=aq(e,(n,i)=>(KT(this.node,i,"Start"),(a,{success:l})=>KT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $g=new WeakMap,Ip=new WeakMap,UG=t=>{const e=$g.get(t.target);e&&e(t)},BG=t=>{t.forEach(UG)};function zG({root:t,...e}){const n=t||document;Ip.has(n)||Ip.set(n,{});const i=Ip.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(BG,{root:t,...e})),i[a]}function VG(t,e,n){const i=zG(e);return $g.set(t,n),i.observe(t),()=>{$g.delete(t),i.unobserve(t)}}const $G={some:0,all:1};class FG extends Qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:$G[a]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=f?y:v;b&&b(h)};return VG(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qG(e,n))&&this.startObserver()}unmount(){}}function qG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HG={inView:{Feature:FG},tap:{Feature:PG},focus:{Feature:LG},hover:{Feature:MG}},GG={layout:{ProjectionNode:uk,MeasureLayout:nk}},KG={...RH,...HG,...IG,...GG},WT=Kq(KG,aH),WG=()=>{const{notifications:t,removeNotification:e,promoteNotification:n,showClearAllButton:i,clearAllNotifications:a,queueCount:l}=vn(),c=h=>{e(h),setTimeout(()=>{n()},300)},d=A.useMemo(()=>document.getElementById("notification-root"),[]);return d?Gr.createPortal(g.jsx("div",{className:bp.notificationContainer,children:g.jsxs("div",{className:bp.toastListContainer,children:[g.jsx(tT,{children:i&&g.jsxs(WT.button,{className:bp.clearButton,onClick:a,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:.2}},layout:!0,children:["Limpar Notificaes (",l+t.length,")"]})}),g.jsx(tT,{initial:!1,children:t.map(h=>g.jsx(WT.div,{layout:!0,initial:{opacity:0,y:-50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:g.jsx(u$,{notification:h,onDismiss:c})},h.id))})]})}),d):(console.warn("Notification root element not found."),null)},YG=({children:t})=>g.jsxs("main",{className:Z7.container,children:[t,g.jsx(WG,{})]}),XG="modulepreload",QG=function(t,e){return new URL(t,e).href},YT={},JG=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let c=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(y=>{if(y=QG(y,i),y in YT)return;YT[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(!!i)for(let x=d.length-1;x>=0;x--){const C=d[x];if(C.href===y&&(!v||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${b}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":XG,v||(T.as="script"),T.crossOrigin="",T.href=y,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((x,C)=>{T.addEventListener("load",x),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},ZG=Gg("SplashScreen",{web:()=>JG(()=>import("./web-Bhd4n9Uq.js"),[],import.meta.url).then(t=>new t.SplashScreenWeb)}),eK=({show:t,onInstall:e,onDismiss:n})=>t?g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:g.jsxs("div",{style:{backgroundColor:"rgba(44, 62, 80, 0.75)",color:"white",padding:"30px",borderRadius:"20px",textAlign:"center",maxWidth:"340px",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[g.jsx("img",{src:D2,alt:"Mascote FocusFrog com uma chvena de caf",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px",border:"2px solid rgba(255, 255, 255, 0.2)"}}),g.jsx("h3",{style:{marginTop:0,fontSize:"1.5rem",fontWeight:600},children:"Instale o FocusFrog"}),g.jsx("p",{style:{opacity:.9,lineHeight:1.6},children:"Leve seus focos para qualquer lugar. Instale o app em seu dispositivo para uma experincia mais rpida e integrada."}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"30px"},children:[g.jsx("button",{onClick:n,style:{padding:"12px 24px",border:"1px solid rgba(255, 255, 255, 0.5)",backgroundColor:"transparent",color:"#ecf0f1",borderRadius:"10px",cursor:"pointer",fontSize:"1rem"},children:"Agora no"}),g.jsx("button",{onClick:e,style:{padding:"12px 24px",border:"none",backgroundColor:"#f1c40f",color:"#2c3e50",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",fontSize:"1.1rem"},children:"Instalar"})]})]})}):null;function tK(){const{userName:t,onboardingCompleted:e}=Qd(),{isLoading:n}=Xd(),{fontSize:i}=vn(),{canInstall:a,triggerInstall:l}=E6(),[c,d]=A.useState(!1),[h,f]=A.useState(!0),[y,v]=A.useState(!1),[b,S]=A.useState(!1),[T,x]=A.useState(!1);A.useEffect(()=>{document.body.className=`font-size-${i}`},[i]),A.useEffect(()=>{n||S(!0)},[n]),A.useEffect(()=>{const j=setTimeout(()=>{x(!0)},2500);return()=>clearTimeout(j)},[]),A.useEffect(()=>{if(b&&T){const j=setTimeout(()=>v(!0),50),M=setTimeout(()=>{md.isNativePlatform()&&ZG.hide({fadeOutDuration:300}),f(!1)},800);return()=>{clearTimeout(j),clearTimeout(M)}}},[b,T]),A.useEffect(()=>{if(a){const j=setTimeout(()=>d(!0),3500);return()=>clearTimeout(j)}},[a]);const C=()=>{d(!1),l()},k=()=>{d(!1)};if(h)return g.jsx(Q7,{isFadingOut:y});let O;return e?O=g.jsx(G7,{}):t?O=g.jsx(Y7,{}):O=g.jsx(W7,{}),g.jsxs("div",{id:"app-container",children:[g.jsx(YG,{children:O}),g.jsx(eK,{show:c,onInstall:C,onDismiss:k})]})}try{self["workbox:window:7.3.0"]&&_()}catch{}function XT(t,e){return new Promise((function(n){var i=new MessageChannel;i.port1.onmessage=function(a){n(a.data)},t.postMessage(e,[i.port2])}))}function QT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function nK(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,iK(i.key),i)}}function sK(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=(function(a,l){if(a){if(typeof a=="string")return QT(a,l);var c={}.toString.call(a).slice(8,-1);return c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set"?Array.from(a):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?QT(a,l):void 0}})(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fg(t,e){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fg(t,e)}function iK(t){var e=(function(n,i){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,i);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(t,"string");return typeof e=="symbol"?e:e+""}try{self["workbox:core:7.3.0"]&&_()}catch{}var Mp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Lp(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var Sl=function(t,e){this.type=t,Object.assign(this,e)};function Li(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function rK(){}var aK={type:"SKIP_WAITING"};function JT(t,e){return t&&t.then?t.then(rK):Promise.resolve()}var oK=(function(t){function e(l,c){var d,h;return c===void 0&&(c={}),(d=t.call(this)||this).nn={},d.tn=0,d.rn=new Mp,d.en=new Mp,d.on=new Mp,d.un=0,d.an=new Set,d.cn=function(){var f=d.fn,y=f.installing;d.tn>0||!Lp(y.scriptURL,d.sn.toString())||performance.now()>d.un+6e4?(d.vn=y,f.removeEventListener("updatefound",d.cn)):(d.hn=y,d.an.add(y),d.rn.resolve(y)),++d.tn,y.addEventListener("statechange",d.ln)},d.ln=function(f){var y=d.fn,v=f.target,b=v.state,S=v===d.vn,T={sw:v,isExternal:S,originalEvent:f};!S&&d.mn&&(T.isUpdate=!0),d.dispatchEvent(new Sl(b,T)),b==="installed"?d.wn=self.setTimeout((function(){b==="installed"&&y.waiting===v&&d.dispatchEvent(new Sl("waiting",T))}),200):b==="activating"&&(clearTimeout(d.wn),S||d.en.resolve(v))},d.yn=function(f){var y=d.hn,v=y!==navigator.serviceWorker.controller;d.dispatchEvent(new Sl("controlling",{isExternal:v,originalEvent:f,sw:y,isUpdate:d.mn})),v||d.on.resolve(y)},d.gn=(h=function(f){var y=f.data,v=f.ports,b=f.source;return Li(d.getSW(),(function(){d.an.has(b)&&d.dispatchEvent(new Sl("message",{data:y,originalEvent:f,ports:v,sw:b}))}))},function(){for(var f=[],y=0;y<arguments.length;y++)f[y]=arguments[y];try{return Promise.resolve(h.apply(this,f))}catch(v){return Promise.reject(v)}}),d.sn=l,d.nn=c,navigator.serviceWorker.addEventListener("message",d.gn),d}var n,i;i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,Fg(n,i);var a=e.prototype;return a.register=function(l){var c=(l===void 0?{}:l).immediate,d=c!==void 0&&c;try{var h=this;return Li((function(f,y){var v=f();return v&&v.then?v.then(y):y(v)})((function(){if(!d&&document.readyState!=="complete")return JT(new Promise((function(f){return window.addEventListener("load",f)})))}),(function(){return h.mn=!!navigator.serviceWorker.controller,h.dn=h.pn(),Li(h.bn(),(function(f){h.fn=f,h.dn&&(h.hn=h.dn,h.en.resolve(h.dn),h.on.resolve(h.dn),h.dn.addEventListener("statechange",h.ln,{once:!0}));var y=h.fn.waiting;return y&&Lp(y.scriptURL,h.sn.toString())&&(h.hn=y,Promise.resolve().then((function(){h.dispatchEvent(new Sl("waiting",{sw:y,wasWaitingBeforeRegister:!0}))})).then((function(){}))),h.hn&&(h.rn.resolve(h.hn),h.an.add(h.hn)),h.fn.addEventListener("updatefound",h.cn),navigator.serviceWorker.addEventListener("controllerchange",h.yn),h.fn}))})))}catch(f){return Promise.reject(f)}},a.update=function(){try{return this.fn?Li(JT(this.fn.update())):Li()}catch(l){return Promise.reject(l)}},a.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},a.messageSW=function(l){try{return Li(this.getSW(),(function(c){return XT(c,l)}))}catch(c){return Promise.reject(c)}},a.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&XT(this.fn.waiting,aK)},a.pn=function(){var l=navigator.serviceWorker.controller;return l&&Lp(l.scriptURL,this.sn.toString())?l:void 0},a.bn=function(){try{var l=this;return Li((function(c,d){try{var h=c()}catch(f){return d(f)}return h&&h.then?h.then(void 0,d):h})((function(){return Li(navigator.serviceWorker.register(l.sn,l.nn),(function(c){return l.un=performance.now(),c}))}),(function(c){throw c})))}catch(c){return Promise.reject(c)}},(function(l,c,d){return c&&nK(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),l})(e,[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])})((function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,i){this.jn(n).add(i)},e.removeEventListener=function(n,i){this.jn(n).delete(i)},e.dispatchEvent=function(n){n.target=this;for(var i,a=sK(this.jn(n.type));!(i=a()).done;)(0,i.value)(n)},e.jn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t})());const dk=document.getElementById("root");if(!dk)throw new Error("Could not find root element to mount to");if("serviceWorker"in navigator){const t=new oK("/sw.js");t.addEventListener("waiting",e=>{console.log("Nova verso do Service Worker detetada e pronta para ativar."),t.messageSkipWaiting(),console.log("Comando skipWaiting enviado para o novo Service Worker.")}),t.addEventListener("controlling",e=>{e.isUpdate&&(console.log("Novo Service Worker assumiu o controlo. A recarregar a pgina..."),window.location.reload())}),t.register(),console.log("Service Worker registado com a Workbox.")}const lK=UO.createRoot(dk);lK.render(g.jsx(hs.StrictMode,{children:g.jsx(x6,{children:g.jsx(SN,{children:g.jsx(k6,{children:g.jsx(AN,{children:g.jsx(kN,{children:g.jsx(D6,{children:g.jsx(I6,{children:g.jsx(tK,{})})})})})})})})}));export{eE as W};
