(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function sC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yw={exports:{}},Zc={},vw={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=Symbol.for("react.element"),iC=Symbol.for("react.portal"),oC=Symbol.for("react.fragment"),aC=Symbol.for("react.strict_mode"),lC=Symbol.for("react.profiler"),cC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),dC=Symbol.for("react.forward_ref"),hC=Symbol.for("react.suspense"),fC=Symbol.for("react.memo"),pC=Symbol.for("react.lazy"),Og=Symbol.iterator;function mC(t){return t===null||typeof t!="object"?null:(t=Og&&t[Og]||t["@@iterator"],typeof t=="function"?t:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ww=Object.assign,bw={};function qi(t,e,n){this.props=t,this.context=e,this.refs=bw,this.updater=n||_w}qi.prototype.isReactComponent={};qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sw(){}Sw.prototype=qi.prototype;function yp(t,e,n){this.props=t,this.context=e,this.refs=bw,this.updater=n||_w}var vp=yp.prototype=new Sw;vp.constructor=yp;ww(vp,qi.prototype);vp.isPureReactComponent=!0;var Dg=Array.isArray,kw=Object.prototype.hasOwnProperty,_p={current:null},xw={key:!0,ref:!0,__self:!0,__source:!0};function Tw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kw.call(e,r)&&!xw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Oa,type:t,key:i,ref:o,props:s,_owner:_p.current}}function gC(t,e){return{$$typeof:Oa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oa}function yC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lg=/\/+/g;function Wu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yC(""+t.key):e.toString(36)}function Nl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Oa:case iC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wu(o,0):r,Dg(s)?(n="",t!=null&&(n=t.replace(Lg,"$&/")+"/"),Nl(s,e,n,"",function(c){return c})):s!=null&&(wp(s)&&(s=gC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wu(i,a);o+=Nl(i,e,n,l,s)}else if(l=mC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wu(i,a++),o+=Nl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function el(t,e,n){if(t==null)return t;var r=[],s=0;return Nl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},Ol={transition:null},_C={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:_p};ie.Children={map:el,forEach:function(t,e,n){el(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return el(t,function(){e++}),e},toArray:function(t){return el(t,function(e){return e})||[]},only:function(t){if(!wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=qi;ie.Fragment=oC;ie.Profiler=lC;ie.PureComponent=yp;ie.StrictMode=aC;ie.Suspense=hC;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ww({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_p.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kw.call(e,l)&&!xw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Oa,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:uC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cC,_context:t},t.Consumer=t};ie.createElement=Tw;ie.createFactory=function(t){var e=Tw.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:dC,render:t}};ie.isValidElement=wp;ie.lazy=function(t){return{$$typeof:pC,_payload:{_status:-1,_result:t},_init:vC}};ie.memo=function(t,e){return{$$typeof:fC,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ol.transition;Ol.transition={};try{t()}finally{Ol.transition=e}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(t,e){return vt.current.useCallback(t,e)};ie.useContext=function(t){return vt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return vt.current.useEffect(t,e)};ie.useId=function(){return vt.current.useId()};ie.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return vt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};ie.useRef=function(t){return vt.current.useRef(t)};ie.useState=function(t){return vt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return vt.current.useTransition()};ie.version="18.2.0";vw.exports=ie;var b=vw.exports;const Sn=sC(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC=b,bC=Symbol.for("react.element"),SC=Symbol.for("react.fragment"),kC=Object.prototype.hasOwnProperty,xC=wC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TC={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kC.call(e,r)&&!TC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bC,type:t,key:i,ref:o,props:s,_owner:xC.current}}Zc.Fragment=SC;Zc.jsx=Cw;Zc.jsxs=Cw;yw.exports=Zc;var u=yw.exports,wh={},Ew={exports:{}},Bt={},Iw={exports:{}},Aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,V){var W=j.length;j.push(V);e:for(;0<W;){var le=W-1>>>1,de=j[le];if(0<s(de,V))j[le]=V,j[W]=de,W=le;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var V=j[0],W=j.pop();if(W!==V){j[0]=W;e:for(var le=0,de=j.length,zt=de>>>1;le<zt;){var oe=2*(le+1)-1,zn=j[oe],ln=oe+1,gr=j[ln];if(0>s(zn,W))ln<de&&0>s(gr,zn)?(j[le]=gr,j[ln]=W,le=ln):(j[le]=zn,j[oe]=W,le=oe);else if(ln<de&&0>s(gr,W))j[le]=gr,j[ln]=W,le=ln;else break e}}return V}function s(j,V){var W=j.sortIndex-V.sortIndex;return W!==0?W:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=j)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function k(j){if(w=!1,y(j),!v)if(n(l)!==null)v=!0,re(x);else{var V=n(c);V!==null&&te(k,V.startTime-j)}}function x(j,V){v=!1,w&&(w=!1,g(E),E=-1),p=!0;var W=f;try{for(y(V),h=n(l);h!==null&&(!(h.expirationTime>V)||j&&!F());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var de=le(h.expirationTime<=V);V=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),y(V)}else r(l);h=n(l)}if(h!==null)var zt=!0;else{var oe=n(c);oe!==null&&te(k,oe.startTime-V),zt=!1}return zt}finally{h=null,f=W,p=!1}}var C=!1,T=null,E=-1,A=5,I=-1;function F(){return!(t.unstable_now()-I<A)}function D(){if(T!==null){var j=t.unstable_now();I=j;var V=!0;try{V=T(!0,j)}finally{V?L():(C=!1,T=null)}}else C=!1}var L;if(typeof m=="function")L=function(){m(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,K=X.port2;X.port1.onmessage=D,L=function(){K.postMessage(null)}}else L=function(){S(D,0)};function re(j){T=j,C||(C=!0,L())}function te(j,V){E=S(function(){j(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,re(x))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var W=f;f=V;try{return j()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=f;f=j;try{return V()}finally{f=W}},t.unstable_scheduleCallback=function(j,V,W){var le=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?le+W:le):W=le,j){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=W+de,j={id:d++,callback:V,priorityLevel:j,startTime:W,expirationTime:de,sortIndex:-1},W>le?(j.sortIndex=W,e(c,j),n(l)===null&&j===n(c)&&(w?(g(E),E=-1):w=!0,te(k,W-le))):(j.sortIndex=de,e(l,j),v||p||(v=!0,re(x))),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var V=f;return function(){var W=f;f=V;try{return j.apply(this,arguments)}finally{f=W}}}})(Aw);Iw.exports=Aw;var CC=Iw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=b,$t=CC;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jw=new Set,Ko={};function $s(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(Ko[t]=e,t=0;t<e.length;t++)jw.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=Object.prototype.hasOwnProperty,EC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mg={},Fg={};function IC(t){return bh.call(Fg,t)?!0:bh.call(Mg,t)?!1:EC.test(t)?Fg[t]=!0:(Mg[t]=!0,!1)}function AC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PC(t,e,n,r){if(e===null||typeof e>"u"||AC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var bp=/[\-:]([a-z])/g;function Sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bp,Sp);tt[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bp,Sp);tt[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bp,Sp);tt[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,r){var s=tt.hasOwnProperty(e)?tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PC(e,n,s,r)&&(n=null),r||s===null?IC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),ti=Symbol.for("react.portal"),ni=Symbol.for("react.fragment"),xp=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),Rw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),xh=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),$g=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Ku;function vo(t){if(Ku===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ku=e&&e[1]||""}return`
`+Ku+t}var Gu=!1;function Ju(t,e){if(!t||Gu)return"";Gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vo(t):""}function jC(t){switch(t.tag){case 5:return vo(t.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return t=Ju(t.type,!1),t;case 11:return t=Ju(t.type.render,!1),t;case 1:return t=Ju(t.type,!0),t;default:return""}}function Th(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ni:return"Fragment";case ti:return"Portal";case Sh:return"Profiler";case xp:return"StrictMode";case kh:return"Suspense";case xh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Rw:return(t._context.displayName||"Context")+".Provider";case Tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cp:return e=t.displayName||null,e!==null?e:Th(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return Th(t(e))}catch{}}return null}function RC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Th(e);case 8:return e===xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NC(t){var e=Dw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nl(t){t._valueTracker||(t._valueTracker=NC(t))}function Lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Dw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ch(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mw(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function Eh(t,e){Mw(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ih(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ih(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ug(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ih(t,e,n){(e!=="number"||nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _o=Array.isArray;function wi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(_o(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function Fw(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rl,Bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OC=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){OC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function Uw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function Vw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var DC=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(t,e){if(e){if(DC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Rh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function Ep(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oh=null,bi=null,Si=null;function Hg(t){if(t=Ma(t)){if(typeof Oh!="function")throw Error(N(280));var e=t.stateNode;e&&(e=su(e),Oh(t.stateNode,t.type,e))}}function zw(t){bi?Si?Si.push(t):Si=[t]:bi=t}function Hw(){if(bi){var t=bi,e=Si;if(Si=bi=null,Hg(t),e)for(t=0;t<e.length;t++)Hg(e[t])}}function qw(t,e){return t(e)}function Ww(){}var Yu=!1;function Kw(t,e,n){if(Yu)return t(e,n);Yu=!0;try{return qw(t,e,n)}finally{Yu=!1,(bi!==null||Si!==null)&&(Ww(),Hw())}}function Jo(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Dh=!1;if(or)try{var so={};Object.defineProperty(so,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Dh=!1}function LC(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Eo=!1,rc=null,sc=!1,Lh=null,MC={onError:function(t){Eo=!0,rc=t}};function FC(t,e,n,r,s,i,o,a,l){Eo=!1,rc=null,LC.apply(MC,arguments)}function $C(t,e,n,r,s,i,o,a,l){if(FC.apply(this,arguments),Eo){if(Eo){var c=rc;Eo=!1,rc=null}else throw Error(N(198));sc||(sc=!0,Lh=c)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qg(t){if(Bs(t)!==t)throw Error(N(188))}function BC(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qg(s),t;if(i===r)return qg(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Jw(t){return t=BC(t),t!==null?Yw(t):null}function Yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yw(t);if(e!==null)return e;t=t.sibling}return null}var Qw=$t.unstable_scheduleCallback,Wg=$t.unstable_cancelCallback,UC=$t.unstable_shouldYield,VC=$t.unstable_requestPaint,De=$t.unstable_now,zC=$t.unstable_getCurrentPriorityLevel,Ip=$t.unstable_ImmediatePriority,Xw=$t.unstable_UserBlockingPriority,ic=$t.unstable_NormalPriority,HC=$t.unstable_LowPriority,Zw=$t.unstable_IdlePriority,eu=null,Dn=null;function qC(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:GC,WC=Math.log,KC=Math.LN2;function GC(t){return t>>>=0,t===0?32:31-(WC(t)/KC|0)|0}var sl=64,il=4194304;function wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wo(a):(i&=o,i!==0&&(r=wo(i)))}else o=n&~s,o!==0?r=wo(o):i!==0&&(r=wo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),s=1<<n,r|=t[n],e&=~s;return r}function JC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=JC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e1(){var t=sl;return sl<<=1,!(sl&4194240)&&(sl=64),t}function Qu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function QC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ap(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function t1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n1,Pp,r1,s1,i1,Fh=!1,ol=[],$r=null,Br=null,Ur=null,Yo=new Map,Qo=new Map,Er=[],XC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(e.pointerId)}}function io(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ma(e),e!==null&&Pp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZC(t,e,n,r,s){switch(e){case"focusin":return $r=io($r,t,e,n,r,s),!0;case"dragenter":return Br=io(Br,t,e,n,r,s),!0;case"mouseover":return Ur=io(Ur,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yo.set(i,io(Yo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qo.set(i,io(Qo.get(i)||null,t,e,n,r,s)),!0}return!1}function o1(t){var e=ys(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=Gw(n),e!==null){t.blockedOn=e,i1(t.priority,function(){r1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nh=r,n.target.dispatchEvent(r),Nh=null}else return e=Ma(n),e!==null&&Pp(e),t.blockedOn=n,!1;e.shift()}return!0}function Gg(t,e,n){Dl(t)&&n.delete(e)}function eE(){Fh=!1,$r!==null&&Dl($r)&&($r=null),Br!==null&&Dl(Br)&&(Br=null),Ur!==null&&Dl(Ur)&&(Ur=null),Yo.forEach(Gg),Qo.forEach(Gg)}function oo(t,e){t.blockedOn===e&&(t.blockedOn=null,Fh||(Fh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,eE)))}function Xo(t){function e(s){return oo(s,t)}if(0<ol.length){oo(ol[0],t);for(var n=1;n<ol.length;n++){var r=ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&oo($r,t),Br!==null&&oo(Br,t),Ur!==null&&oo(Ur,t),Yo.forEach(e),Qo.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)o1(n),n.blockedOn===null&&Er.shift()}var ki=pr.ReactCurrentBatchConfig,ac=!0;function tE(t,e,n,r){var s=fe,i=ki.transition;ki.transition=null;try{fe=1,jp(t,e,n,r)}finally{fe=s,ki.transition=i}}function nE(t,e,n,r){var s=fe,i=ki.transition;ki.transition=null;try{fe=4,jp(t,e,n,r)}finally{fe=s,ki.transition=i}}function jp(t,e,n,r){if(ac){var s=$h(t,e,n,r);if(s===null)ad(t,e,r,lc,n),Kg(t,r);else if(ZC(s,t,e,n,r))r.stopPropagation();else if(Kg(t,r),e&4&&-1<XC.indexOf(t)){for(;s!==null;){var i=Ma(s);if(i!==null&&n1(i),i=$h(t,e,n,r),i===null&&ad(t,e,r,lc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ad(t,e,r,null,n)}}var lc=null;function $h(t,e,n,r){if(lc=null,t=Ep(r),t=ys(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lc=t,null}function a1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zC()){case Ip:return 1;case Xw:return 4;case ic:case HC:return 16;case Zw:return 536870912;default:return 16}default:return 16}}var Or=null,Rp=null,Ll=null;function l1(){if(Ll)return Ll;var t,e=Rp,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ll=s.slice(t,1<r?1-r:void 0)}function Ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function al(){return!0}function Jg(){return!1}function Ut(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?al:Jg,this.isPropagationStopped=Jg,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),e}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=Ut(Wi),La=Pe({},Wi,{view:0,detail:0}),rE=Ut(La),Xu,Zu,ao,tu=Pe({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Op,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Xu=t.screenX-ao.screenX,Zu=t.screenY-ao.screenY):Zu=Xu=0,ao=t),Xu)},movementY:function(t){return"movementY"in t?t.movementY:Zu}}),Yg=Ut(tu),sE=Pe({},tu,{dataTransfer:0}),iE=Ut(sE),oE=Pe({},La,{relatedTarget:0}),ed=Ut(oE),aE=Pe({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=Ut(aE),cE=Pe({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uE=Ut(cE),dE=Pe({},Wi,{data:0}),Qg=Ut(dE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pE[t])?!!e[t]:!1}function Op(){return mE}var gE=Pe({},La,{key:function(t){if(t.key){var e=hE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Op,charCode:function(t){return t.type==="keypress"?Ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yE=Ut(gE),vE=Pe({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=Ut(vE),_E=Pe({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Op}),wE=Ut(_E),bE=Pe({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=Ut(bE),kE=Pe({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xE=Ut(kE),TE=[9,13,27,32],Dp=or&&"CompositionEvent"in window,Io=null;or&&"documentMode"in document&&(Io=document.documentMode);var CE=or&&"TextEvent"in window&&!Io,c1=or&&(!Dp||Io&&8<Io&&11>=Io),Zg=" ",ey=!1;function u1(t,e){switch(t){case"keyup":return TE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function EE(t,e){switch(t){case"compositionend":return d1(e);case"keypress":return e.which!==32?null:(ey=!0,Zg);case"textInput":return t=e.data,t===Zg&&ey?null:t;default:return null}}function IE(t,e){if(ri)return t==="compositionend"||!Dp&&u1(t,e)?(t=l1(),Ll=Rp=Or=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c1&&e.locale!=="ko"?null:e.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AE[t.type]:e==="textarea"}function h1(t,e,n,r){zw(r),e=cc(e,"onChange"),0<e.length&&(n=new Np("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ao=null,Zo=null;function PE(t){k1(t,0)}function nu(t){var e=oi(t);if(Lw(e))return t}function jE(t,e){if(t==="change")return e}var f1=!1;if(or){var td;if(or){var nd="oninput"in document;if(!nd){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),nd=typeof ny.oninput=="function"}td=nd}else td=!1;f1=td&&(!document.documentMode||9<document.documentMode)}function ry(){Ao&&(Ao.detachEvent("onpropertychange",p1),Zo=Ao=null)}function p1(t){if(t.propertyName==="value"&&nu(Zo)){var e=[];h1(e,Zo,t,Ep(t)),Kw(PE,e)}}function RE(t,e,n){t==="focusin"?(ry(),Ao=e,Zo=n,Ao.attachEvent("onpropertychange",p1)):t==="focusout"&&ry()}function NE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(Zo)}function OE(t,e){if(t==="click")return nu(e)}function DE(t,e){if(t==="input"||t==="change")return nu(e)}function LE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:LE;function ea(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bh.call(e,s)||!Tn(t[s],e[s]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iy(t,e){var n=sy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sy(n)}}function m1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g1(){for(var t=window,e=nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nc(t.document)}return e}function Lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ME(t){var e=g1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m1(n.ownerDocument.documentElement,n)){if(r!==null&&Lp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=iy(n,i);var o=iy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FE=or&&"documentMode"in document&&11>=document.documentMode,si=null,Bh=null,Po=null,Uh=!1;function oy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||si==null||si!==nc(r)||(r=si,"selectionStart"in r&&Lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&ea(Po,r)||(Po=r,r=cc(Bh,"onSelect"),0<r.length&&(e=new Np("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=si)))}function ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ii={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},rd={},y1={};or&&(y1=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function ru(t){if(rd[t])return rd[t];if(!ii[t])return t;var e=ii[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y1)return rd[t]=e[n];return t}var v1=ru("animationend"),_1=ru("animationiteration"),w1=ru("animationstart"),b1=ru("transitionend"),S1=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){S1.set(t,e),$s(e,[t])}for(var sd=0;sd<ay.length;sd++){var id=ay[sd],$E=id.toLowerCase(),BE=id[0].toUpperCase()+id.slice(1);Zr($E,"on"+BE)}Zr(v1,"onAnimationEnd");Zr(_1,"onAnimationIteration");Zr(w1,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(b1,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function ly(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$C(r,e,void 0,t),t.currentTarget=null}function k1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ly(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ly(s,a,c),i=l}}}if(sc)throw t=Lh,sc=!1,Lh=null,t}function _e(t,e){var n=e[Wh];n===void 0&&(n=e[Wh]=new Set);var r=t+"__bubble";n.has(r)||(x1(e,t,2,!1),n.add(r))}function od(t,e,n){var r=0;e&&(r|=4),x1(n,t,r,e)}var cl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[cl]){t[cl]=!0,jw.forEach(function(n){n!=="selectionchange"&&(UE.has(n)||od(n,!1,t),od(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cl]||(e[cl]=!0,od("selectionchange",!1,e))}}function x1(t,e,n,r){switch(a1(e)){case 1:var s=tE;break;case 4:s=nE;break;default:s=jp}n=s.bind(null,e,n,t),s=void 0,!Dh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ad(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kw(function(){var c=i,d=Ep(n),h=[];e:{var f=S1.get(t);if(f!==void 0){var p=Np,v=t;switch(t){case"keypress":if(Ml(n)===0)break e;case"keydown":case"keyup":p=yE;break;case"focusin":v="focus",p=ed;break;case"focusout":v="blur",p=ed;break;case"beforeblur":case"afterblur":p=ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wE;break;case v1:case _1:case w1:p=lE;break;case b1:p=SE;break;case"scroll":p=rE;break;case"wheel":p=xE;break;case"copy":case"cut":case"paste":p=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xg}var w=(e&4)!==0,S=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,y;m!==null;){y=m;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,g!==null&&(k=Jo(m,g),k!=null&&w.push(na(m,k,y)))),S)break;m=m.return}0<w.length&&(f=new p(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Nh&&(v=n.relatedTarget||n.fromElement)&&(ys(v)||v[ar]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?ys(v):null,v!==null&&(S=Bs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(w=Yg,k="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Xg,k="onPointerLeave",g="onPointerEnter",m="pointer"),S=p==null?f:oi(p),y=v==null?f:oi(v),f=new w(k,m+"leave",p,n,d),f.target=S,f.relatedTarget=y,k=null,ys(d)===c&&(w=new w(g,m+"enter",v,n,d),w.target=y,w.relatedTarget=S,k=w),S=k,p&&v)t:{for(w=p,g=v,m=0,y=w;y;y=Vs(y))m++;for(y=0,k=g;k;k=Vs(k))y++;for(;0<m-y;)w=Vs(w),m--;for(;0<y-m;)g=Vs(g),y--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Vs(w),g=Vs(g)}w=null}else w=null;p!==null&&cy(h,f,p,w,!1),v!==null&&S!==null&&cy(h,S,v,w,!0)}}e:{if(f=c?oi(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=jE;else if(ty(f))if(f1)x=DE;else{x=NE;var C=RE}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=OE);if(x&&(x=x(t,c))){h1(h,x,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ih(f,"number",f.value)}switch(C=c?oi(c):window,t){case"focusin":(ty(C)||C.contentEditable==="true")&&(si=C,Bh=c,Po=null);break;case"focusout":Po=Bh=si=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,oy(h,n,d);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":oy(h,n,d)}var T;if(Dp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ri?u1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(c1&&n.locale!=="ko"&&(ri||E!=="onCompositionStart"?E==="onCompositionEnd"&&ri&&(T=l1()):(Or=d,Rp="value"in Or?Or.value:Or.textContent,ri=!0)),C=cc(c,E),0<C.length&&(E=new Qg(E,t,null,n,d),h.push({event:E,listeners:C}),T?E.data=T:(T=d1(n),T!==null&&(E.data=T)))),(T=CE?EE(t,n):IE(t,n))&&(c=cc(c,"onBeforeInput"),0<c.length&&(d=new Qg("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}k1(h,e)})}function na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jo(t,n),i!=null&&r.unshift(na(t,i,s)),i=Jo(t,e),i!=null&&r.push(na(t,i,s))),t=t.return}return r}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Jo(n,i),l!=null&&o.unshift(na(n,l,a))):s||(l=Jo(n,i),l!=null&&o.push(na(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function uy(t){return(typeof t=="string"?t:""+t).replace(VE,`
`).replace(zE,"")}function ul(t,e,n){if(e=uy(e),uy(t)!==e&&n)throw Error(N(425))}function uc(){}var Vh=null,zh=null;function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(WE)}:qh;function WE(t){setTimeout(function(){throw t})}function ld(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xo(e)}function Vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),On="__reactFiber$"+Ki,ra="__reactProps$"+Ki,ar="__reactContainer$"+Ki,Wh="__reactEvents$"+Ki,KE="__reactListeners$"+Ki,GE="__reactHandles$"+Ki;function ys(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ar]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hy(t);t!==null;){if(n=t[On])return n;t=hy(t)}return e}t=n,n=t.parentNode}return null}function Ma(t){return t=t[On]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function su(t){return t[ra]||null}var Kh=[],ai=-1;function es(t){return{current:t}}function be(t){0>ai||(t.current=Kh[ai],Kh[ai]=null,ai--)}function ve(t,e){ai++,Kh[ai]=t.current,t.current=e}var Yr={},dt=es(Yr),Tt=es(!1),As=Yr;function Oi(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(t){return t=t.childContextTypes,t!=null}function dc(){be(Tt),be(dt)}function fy(t,e,n){if(dt.current!==Yr)throw Error(N(168));ve(dt,e),ve(Tt,n)}function T1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,RC(t)||"Unknown",s));return Pe({},n,r)}function hc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,As=dt.current,ve(dt,t),ve(Tt,Tt.current),!0}function py(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=T1(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,be(Tt),be(dt),ve(dt,t)):be(Tt),ve(Tt,n)}var Qn=null,iu=!1,cd=!1;function C1(t){Qn===null?Qn=[t]:Qn.push(t)}function JE(t){iu=!0,C1(t)}function ts(){if(!cd&&Qn!==null){cd=!0;var t=0,e=fe;try{var n=Qn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,iu=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(t+1)),Qw(Ip,ts),s}finally{fe=e,cd=!1}}return null}var li=[],ci=0,fc=null,pc=0,Gt=[],Jt=0,Ps=null,Zn=1,er="";function cs(t,e){li[ci++]=pc,li[ci++]=fc,fc=t,pc=e}function E1(t,e,n){Gt[Jt++]=Zn,Gt[Jt++]=er,Gt[Jt++]=Ps,Ps=t;var r=Zn;t=er;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var i=32-kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-kn(e)+s|n<<s|r,er=i+t}else Zn=1<<i|n<<s|r,er=t}function Mp(t){t.return!==null&&(cs(t,1),E1(t,1,0))}function Fp(t){for(;t===fc;)fc=li[--ci],li[ci]=null,pc=li[--ci],li[ci]=null;for(;t===Ps;)Ps=Gt[--Jt],Gt[Jt]=null,er=Gt[--Jt],Gt[Jt]=null,Zn=Gt[--Jt],Gt[Jt]=null}var Lt=null,Ot=null,xe=!1,vn=null;function I1(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function my(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lt=t,Ot=Vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lt=t,Ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lt=t,Ot=null,!0):!1;default:return!1}}function Gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(xe){var e=Ot;if(e){var n=e;if(!my(t,e)){if(Gh(t))throw Error(N(418));e=Vr(n.nextSibling);var r=Lt;e&&my(t,e)?I1(r,n):(t.flags=t.flags&-4097|2,xe=!1,Lt=t)}}else{if(Gh(t))throw Error(N(418));t.flags=t.flags&-4097|2,xe=!1,Lt=t}}}function gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function dl(t){if(t!==Lt)return!1;if(!xe)return gy(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hh(t.type,t.memoizedProps)),e&&(e=Ot)){if(Gh(t))throw A1(),Error(N(418));for(;e;)I1(t,e),e=Vr(e.nextSibling)}if(gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ot=Vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ot=null}}else Ot=Lt?Vr(t.stateNode.nextSibling):null;return!0}function A1(){for(var t=Ot;t;)t=Vr(t.nextSibling)}function Di(){Ot=Lt=null,xe=!1}function $p(t){vn===null?vn=[t]:vn.push(t)}var YE=pr.ReactCurrentBatchConfig;function pn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var mc=es(null),gc=null,ui=null,Bp=null;function Up(){Bp=ui=gc=null}function Vp(t){var e=mc.current;be(mc),t._currentValue=e}function Yh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xi(t,e){gc=t,Bp=ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(Bp!==t)if(t={context:t,memoizedValue:e,next:null},ui===null){if(gc===null)throw Error(N(308));ui=t,gc.dependencies={lanes:0,firstContext:t}}else ui=ui.next=t;return e}var vs=null;function zp(t){vs===null?vs=[t]:vs.push(t)}function P1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zp(e)):(n.next=s.next,s.next=n),e.interleaved=n,lr(t,r)}function lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tr=!1;function Hp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,lr(t,n)}return s=r.interleaved,s===null?(e.next=e,zp(r)):(e.next=s.next,s.next=e),r.interleaved=e,lr(t,n)}function Fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ap(t,n)}}function yy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yc(t,e,n,r){var s=t.updateQueue;Tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=Pe({},h,f);break e;case 2:Tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Rs|=o,t.lanes=o,t.memoizedState=h}}function vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var R1=new Pw.Component().refs;function Qh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ou={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),s=qr(t),i=rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(xn(e,t,s,r),Fl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),s=qr(t),i=rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(xn(e,t,s,r),Fl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=qr(t),s=rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=zr(t,s,r),e!==null&&(xn(e,t,r,n),Fl(e,t,r))}};function _y(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ea(n,r)||!ea(s,i):!0}function N1(t,e,n){var r=!1,s=Yr,i=e.contextType;return typeof i=="object"&&i!==null?i=sn(i):(s=Ct(e)?As:dt.current,r=e.contextTypes,i=(r=r!=null)?Oi(t,s):Yr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ou,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ou.enqueueReplaceState(e,e.state,null)}function Xh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=R1,Hp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=sn(i):(i=Ct(e)?As:dt.current,s.context=Oi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ou.enqueueReplaceState(s,s.state,null),yc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===R1&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function hl(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function by(t){var e=t._init;return e(t._payload)}function O1(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Wr(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,y,k){return m===null||m.tag!==6?(m=gd(y,g.mode,k),m.return=g,m):(m=s(m,y),m.return=g,m)}function l(g,m,y,k){var x=y.type;return x===ni?d(g,m,y.props.children,k,y.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xr&&by(x)===m.type)?(k=s(m,y.props),k.ref=lo(g,m,y),k.return=g,k):(k=Hl(y.type,y.key,y.props,null,g.mode,k),k.ref=lo(g,m,y),k.return=g,k)}function c(g,m,y,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=yd(y,g.mode,k),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,k,x){return m===null||m.tag!==7?(m=Ts(y,g.mode,k,x),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=gd(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tl:return y=Hl(m.type,m.key,m.props,null,g.mode,y),y.ref=lo(g,null,m),y.return=g,y;case ti:return m=yd(m,g.mode,y),m.return=g,m;case xr:var k=m._init;return h(g,k(m._payload),y)}if(_o(m)||ro(m))return m=Ts(m,g.mode,y,null),m.return=g,m;hl(g,m)}return null}function f(g,m,y,k){var x=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(g,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:return y.key===x?l(g,m,y,k):null;case ti:return y.key===x?c(g,m,y,k):null;case xr:return x=y._init,f(g,m,x(y._payload),k)}if(_o(y)||ro(y))return x!==null?null:d(g,m,y,k,null);hl(g,y)}return null}function p(g,m,y,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(y)||null,a(m,g,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tl:return g=g.get(k.key===null?y:k.key)||null,l(m,g,k,x);case ti:return g=g.get(k.key===null?y:k.key)||null,c(m,g,k,x);case xr:var C=k._init;return p(g,m,y,C(k._payload),x)}if(_o(k)||ro(k))return g=g.get(y)||null,d(m,g,k,x,null);hl(m,k)}return null}function v(g,m,y,k){for(var x=null,C=null,T=m,E=m=0,A=null;T!==null&&E<y.length;E++){T.index>E?(A=T,T=null):A=T.sibling;var I=f(g,T,y[E],k);if(I===null){T===null&&(T=A);break}t&&T&&I.alternate===null&&e(g,T),m=i(I,m,E),C===null?x=I:C.sibling=I,C=I,T=A}if(E===y.length)return n(g,T),xe&&cs(g,E),x;if(T===null){for(;E<y.length;E++)T=h(g,y[E],k),T!==null&&(m=i(T,m,E),C===null?x=T:C.sibling=T,C=T);return xe&&cs(g,E),x}for(T=r(g,T);E<y.length;E++)A=p(T,g,E,y[E],k),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),m=i(A,m,E),C===null?x=A:C.sibling=A,C=A);return t&&T.forEach(function(F){return e(g,F)}),xe&&cs(g,E),x}function w(g,m,y,k){var x=ro(y);if(typeof x!="function")throw Error(N(150));if(y=x.call(y),y==null)throw Error(N(151));for(var C=x=null,T=m,E=m=0,A=null,I=y.next();T!==null&&!I.done;E++,I=y.next()){T.index>E?(A=T,T=null):A=T.sibling;var F=f(g,T,I.value,k);if(F===null){T===null&&(T=A);break}t&&T&&F.alternate===null&&e(g,T),m=i(F,m,E),C===null?x=F:C.sibling=F,C=F,T=A}if(I.done)return n(g,T),xe&&cs(g,E),x;if(T===null){for(;!I.done;E++,I=y.next())I=h(g,I.value,k),I!==null&&(m=i(I,m,E),C===null?x=I:C.sibling=I,C=I);return xe&&cs(g,E),x}for(T=r(g,T);!I.done;E++,I=y.next())I=p(T,g,E,I.value,k),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),m=i(I,m,E),C===null?x=I:C.sibling=I,C=I);return t&&T.forEach(function(D){return e(g,D)}),xe&&cs(g,E),x}function S(g,m,y,k){if(typeof y=="object"&&y!==null&&y.type===ni&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:e:{for(var x=y.key,C=m;C!==null;){if(C.key===x){if(x=y.type,x===ni){if(C.tag===7){n(g,C.sibling),m=s(C,y.props.children),m.return=g,g=m;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xr&&by(x)===C.type){n(g,C.sibling),m=s(C,y.props),m.ref=lo(g,C,y),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}y.type===ni?(m=Ts(y.props.children,g.mode,k,y.key),m.return=g,g=m):(k=Hl(y.type,y.key,y.props,null,g.mode,k),k.ref=lo(g,m,y),k.return=g,g=k)}return o(g);case ti:e:{for(C=y.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=yd(y,g.mode,k),m.return=g,g=m}return o(g);case xr:return C=y._init,S(g,m,C(y._payload),k)}if(_o(y))return v(g,m,y,k);if(ro(y))return w(g,m,y,k);hl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,y),m.return=g,g=m):(n(g,m),m=gd(y,g.mode,k),m.return=g,g=m),o(g)):n(g,m)}return S}var Li=O1(!0),D1=O1(!1),Fa={},Ln=es(Fa),sa=es(Fa),ia=es(Fa);function _s(t){if(t===Fa)throw Error(N(174));return t}function qp(t,e){switch(ve(ia,e),ve(sa,t),ve(Ln,Fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ph(e,t)}be(Ln),ve(Ln,e)}function Mi(){be(Ln),be(sa),be(ia)}function L1(t){_s(ia.current);var e=_s(Ln.current),n=Ph(e,t.type);e!==n&&(ve(sa,t),ve(Ln,n))}function Wp(t){sa.current===t&&(be(Ln),be(sa))}var Ce=es(0);function vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ud=[];function Kp(){for(var t=0;t<ud.length;t++)ud[t]._workInProgressVersionPrimary=null;ud.length=0}var $l=pr.ReactCurrentDispatcher,dd=pr.ReactCurrentBatchConfig,js=0,Ae=null,ze=null,Ke=null,_c=!1,jo=!1,oa=0,QE=0;function nt(){throw Error(N(321))}function Gp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Jp(t,e,n,r,s,i){if(js=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$l.current=t===null||t.memoizedState===null?t2:n2,t=n(r,s),jo){i=0;do{if(jo=!1,oa=0,25<=i)throw Error(N(301));i+=1,Ke=ze=null,e.updateQueue=null,$l.current=r2,t=n(r,s)}while(jo)}if($l.current=wc,e=ze!==null&&ze.next!==null,js=0,Ke=ze=Ae=null,_c=!1,e)throw Error(N(300));return t}function Yp(){var t=oa!==0;return oa=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function on(){if(ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ke===null?Ae.memoizedState:Ke.next;if(e!==null)Ke=e,ze=t;else{if(t===null)throw Error(N(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function aa(t,e){return typeof e=="function"?e(t):e}function hd(t){var e=on(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((js&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ae.lanes|=d,Rs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Tn(r,e.memoizedState)||(xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,Rs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fd(t){var e=on(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tn(i,e.memoizedState)||(xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function M1(){}function F1(t,e){var n=Ae,r=on(),s=e(),i=!Tn(r.memoizedState,s);if(i&&(r.memoizedState=s,xt=!0),r=r.queue,Qp(U1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,la(9,B1.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(N(349));js&30||$1(n,e,s)}return s}function $1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B1(t,e,n,r){e.value=n,e.getSnapshot=r,V1(e)&&z1(t)}function U1(t,e,n){return n(function(){V1(e)&&z1(t)})}function V1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function z1(t){var e=lr(t,1);e!==null&&xn(e,t,1,-1)}function Sy(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},e.queue=t,t=t.dispatch=e2.bind(null,Ae,t),[e.memoizedState,t]}function la(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H1(){return on().memoizedState}function Bl(t,e,n,r){var s=Rn();Ae.flags|=t,s.memoizedState=la(1|e,n,void 0,r===void 0?null:r)}function au(t,e,n,r){var s=on();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Gp(r,o.deps)){s.memoizedState=la(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=la(1|e,n,i,r)}function ky(t,e){return Bl(8390656,8,t,e)}function Qp(t,e){return au(2048,8,t,e)}function q1(t,e){return au(4,2,t,e)}function W1(t,e){return au(4,4,t,e)}function K1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G1(t,e,n){return n=n!=null?n.concat([t]):null,au(4,4,K1.bind(null,e,t),n)}function Xp(){}function J1(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y1(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q1(t,e,n){return js&21?(Tn(n,e)||(n=e1(),Ae.lanes|=n,Rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=n)}function XE(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=dd.transition;dd.transition={};try{t(!1),e()}finally{fe=n,dd.transition=r}}function X1(){return on().memoizedState}function ZE(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z1(t))eb(e,n);else if(n=P1(t,e,n,r),n!==null){var s=gt();xn(n,t,r,s),tb(n,e,r)}}function e2(t,e,n){var r=qr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z1(t))eb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tn(a,o)){var l=e.interleaved;l===null?(s.next=s,zp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=P1(t,e,s,r),n!==null&&(s=gt(),xn(n,t,r,s),tb(n,e,r))}}function Z1(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function eb(t,e){jo=_c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ap(t,n)}}var wc={readContext:sn,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},t2={readContext:sn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:ky,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bl(4194308,4,K1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bl(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZE.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:Xp,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=XE.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=Rn();if(xe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ge===null)throw Error(N(349));js&30||$1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ky(U1.bind(null,r,i,t),[t]),r.flags|=2048,la(9,B1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rn(),e=Ge.identifierPrefix;if(xe){var n=er,r=Zn;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n2={readContext:sn,useCallback:J1,useContext:sn,useEffect:Qp,useImperativeHandle:G1,useInsertionEffect:q1,useLayoutEffect:W1,useMemo:Y1,useReducer:hd,useRef:H1,useState:function(){return hd(aa)},useDebugValue:Xp,useDeferredValue:function(t){var e=on();return Q1(e,ze.memoizedState,t)},useTransition:function(){var t=hd(aa)[0],e=on().memoizedState;return[t,e]},useMutableSource:M1,useSyncExternalStore:F1,useId:X1,unstable_isNewReconciler:!1},r2={readContext:sn,useCallback:J1,useContext:sn,useEffect:Qp,useImperativeHandle:G1,useInsertionEffect:q1,useLayoutEffect:W1,useMemo:Y1,useReducer:fd,useRef:H1,useState:function(){return fd(aa)},useDebugValue:Xp,useDeferredValue:function(t){var e=on();return ze===null?e.memoizedState=t:Q1(e,ze.memoizedState,t)},useTransition:function(){var t=fd(aa)[0],e=on().memoizedState;return[t,e]},useMutableSource:M1,useSyncExternalStore:F1,useId:X1,unstable_isNewReconciler:!1};function Fi(t,e){try{var n="",r=e;do n+=jC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function pd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function nb(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sc||(Sc=!0,uf=r),Zh(t,e)},n}function rb(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zh(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=v2.bind(null,t,e,n),e.then(t,t))}function Ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,zr(n,e,1))),n.lanes|=1),t)}var i2=pr.ReactCurrentOwner,xt=!1;function ht(t,e,n,r){e.child=t===null?D1(e,null,n,r):Li(e,t.child,n,r)}function Ey(t,e,n,r,s){n=n.render;var i=e.ref;return xi(e,s),r=Jp(t,e,n,r,i,s),n=Yp(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cr(t,e,s)):(xe&&n&&Mp(e),e.flags|=1,ht(t,e,r,s),e.child)}function Iy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!om(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sb(t,e,i,r,s)):(t=Hl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ea,n(o,r)&&t.ref===e.ref)return cr(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function sb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ea(i,r)&&t.ref===e.ref)if(xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,cr(t,e,s)}return ef(t,e,n,r,s)}function ib(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(hi,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(hi,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ve(hi,jt),jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ve(hi,jt),jt|=r;return ht(t,e,s,n),e.child}function ob(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ef(t,e,n,r,s){var i=Ct(n)?As:dt.current;return i=Oi(e,i),xi(e,s),n=Jp(t,e,n,r,i,s),r=Yp(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cr(t,e,s)):(xe&&r&&Mp(e),e.flags|=1,ht(t,e,n,s),e.child)}function Ay(t,e,n,r,s){if(Ct(n)){var i=!0;hc(e)}else i=!1;if(xi(e,s),e.stateNode===null)Ul(t,e),N1(e,n,r),Xh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=Ct(n)?As:dt.current,c=Oi(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&wy(e,o,r,c),Tr=!1;var f=e.memoizedState;o.state=f,yc(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Tt.current||Tr?(typeof d=="function"&&(Qh(e,n,d,r),l=e.memoizedState),(a=Tr||_y(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,j1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Ct(n)?As:dt.current,l=Oi(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&wy(e,o,r,l),Tr=!1,f=e.memoizedState,o.state=f,yc(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Tt.current||Tr?(typeof p=="function"&&(Qh(e,n,p,r),v=e.memoizedState),(c=Tr||_y(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tf(t,e,n,r,i,s)}function tf(t,e,n,r,s,i){ob(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&py(e,n,!1),cr(t,e,i);r=e.stateNode,i2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Li(e,t.child,null,i),e.child=Li(e,null,a,i)):ht(t,e,a,i),e.memoizedState=r.state,s&&py(e,n,!0),e.child}function ab(t){var e=t.stateNode;e.pendingContext?fy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fy(t,e.context,!1),qp(t,e.containerInfo)}function Py(t,e,n,r,s){return Di(),$p(s),e.flags|=256,ht(t,e,n,r),e.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(t){return{baseLanes:t,cachePool:null,transitions:null}}function lb(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ve(Ce,s&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uu(o,r,0,null),t=Ts(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rf(n),e.memoizedState=nf,t):Zp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return o2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Ts(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?rf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=nf,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zp(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fl(t,e,n,r){return r!==null&&$p(r),Li(e,t.child,null,n),t=Zp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=pd(Error(N(422))),fl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uu({mode:"visible",children:r.children},s,0,null),i=Ts(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Li(e,t.child,null,o),e.child.memoizedState=rf(o),e.memoizedState=nf,i);if(!(e.mode&1))return fl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=pd(i,r,void 0),fl(t,e,o,r)}if(a=(o&t.childLanes)!==0,xt||a){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lr(t,s),xn(r,t,s,-1))}return im(),r=pd(Error(N(421))),fl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ot=Vr(s.nextSibling),Lt=e,xe=!0,vn=null,t!==null&&(Gt[Jt++]=Zn,Gt[Jt++]=er,Gt[Jt++]=Ps,Zn=t.id,er=t.overflow,Ps=e),e=Zp(e,r.children),e.flags|=4096,e)}function jy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yh(t.return,e,n)}function md(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ht(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,n,e);else if(t.tag===19)jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),md(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}md(e,!0,n,null,i);break;case"together":md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ul(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a2(t,e,n){switch(e.tag){case 3:ab(e),Di();break;case 5:L1(e);break;case 1:Ct(e.type)&&hc(e);break;case 4:qp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ve(mc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?lb(t,e,n):(ve(Ce,Ce.current&1),t=cr(t,e,n),t!==null?t.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,ib(t,e,n)}return cr(t,e,n)}var ub,sf,db,hb;ub=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sf=function(){};db=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_s(Ln.current);var i=null;switch(n){case"input":s=Ch(t,s),r=Ch(t,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=Ah(t,s),r=Ah(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uc)}jh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ko.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hb=function(t,e,n,r){n!==r&&(e.flags|=4)};function co(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l2(t,e,n){var r=e.pendingProps;switch(Fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return Ct(e.type)&&dc(),rt(e),null;case 3:return r=e.stateNode,Mi(),be(Tt),be(dt),Kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(ff(vn),vn=null))),sf(t,e),rt(e),null;case 5:Wp(e);var s=_s(ia.current);if(n=e.type,t!==null&&e.stateNode!=null)db(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return rt(e),null}if(t=_s(Ln.current),dl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[On]=e,r[ra]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<bo.length;s++)_e(bo[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Bg(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Vg(r,i),_e("invalid",r)}jh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ul(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ul(r.textContent,a,t),s=["children",""+a]):Ko.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":nl(r),Ug(r,i,!0);break;case"textarea":nl(r),zg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[On]=e,t[ra]=r,ub(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rh(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<bo.length;s++)_e(bo[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Bg(t,r),s=Ch(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Vg(t,r),s=Ah(t,r),_e("invalid",t);break;default:s=r}jh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Go(t,l):typeof l=="number"&&Go(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ko.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&kp(t,i,l,o))}switch(n){case"input":nl(t),Ug(t,r,!1);break;case"textarea":nl(t),zg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wi(t,!!r.multiple,i,!1):r.defaultValue!=null&&wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=uc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)hb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=_s(ia.current),_s(Ln.current),dl(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(i=r.nodeValue!==n)&&(t=Lt,t!==null))switch(t.tag){case 3:ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ul(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return rt(e),null;case 13:if(be(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&Ot!==null&&e.mode&1&&!(e.flags&128))A1(),Di(),e.flags|=98560,i=!1;else if(i=dl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[On]=e}else Di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),i=!1}else vn!==null&&(ff(vn),vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?He===0&&(He=3):im())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return Mi(),sf(t,e),t===null&&ta(e.stateNode.containerInfo),rt(e),null;case 10:return Vp(e.type._context),rt(e),null;case 17:return Ct(e.type)&&dc(),rt(e),null;case 19:if(be(Ce),i=e.memoizedState,i===null)return rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)co(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vc(t),o!==null){for(e.flags|=128,co(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&De()>$i&&(e.flags|=128,r=!0,co(i,!1),e.lanes=4194304)}else{if(!r)if(t=vc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return rt(e),null}else 2*De()-i.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,r=!0,co(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,n=Ce.current,ve(Ce,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return sm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function c2(t,e){switch(Fp(e),e.tag){case 1:return Ct(e.type)&&dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mi(),be(Tt),be(dt),Kp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wp(e),null;case 13:if(be(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ce),null;case 4:return Mi(),null;case 10:return Vp(e.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var pl=!1,at=!1,u2=typeof WeakSet=="function"?WeakSet:Set,U=null;function di(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function of(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var Ry=!1;function d2(t,e){if(Vh=ac,t=g1(),Lp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zh={focusedElem:t,selectionRange:n},ac=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,S=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:pn(e.type,w),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(k){Ne(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=Ry,Ry=!1,v}function Ro(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&of(e,n,i)}s=s.next}while(s!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function af(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fb(t){var e=t.alternate;e!==null&&(t.alternate=null,fb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[ra],delete e[Wh],delete e[KE],delete e[GE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pb(t){return t.tag===5||t.tag===3||t.tag===4}function Ny(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uc));else if(r!==4&&(t=t.child,t!==null))for(lf(t,e,n),t=t.sibling;t!==null;)lf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var Xe=null,gn=!1;function vr(t,e,n){for(n=n.child;n!==null;)mb(t,e,n),n=n.sibling}function mb(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:at||di(n,e);case 6:var r=Xe,s=gn;Xe=null,vr(t,e,n),Xe=r,gn=s,Xe!==null&&(gn?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(gn?(t=Xe,n=n.stateNode,t.nodeType===8?ld(t.parentNode,n):t.nodeType===1&&ld(t,n),Xo(t)):ld(Xe,n.stateNode));break;case 4:r=Xe,s=gn,Xe=n.stateNode.containerInfo,gn=!0,vr(t,e,n),Xe=r,gn=s;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&of(n,e,o),s=s.next}while(s!==r)}vr(t,e,n);break;case 1:if(!at&&(di(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,vr(t,e,n),at=r):vr(t,e,n);break;default:vr(t,e,n)}}function Oy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u2),e.forEach(function(r){var s=w2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,gn=!1;break e;case 3:Xe=a.stateNode.containerInfo,gn=!0;break e;case 4:Xe=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(Xe===null)throw Error(N(160));mb(i,o,s),Xe=null,gn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ne(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gb(e,t),e=e.sibling}function gb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),Pn(t),r&4){try{Ro(3,t,t.return),lu(3,t)}catch(w){Ne(t,t.return,w)}try{Ro(5,t,t.return)}catch(w){Ne(t,t.return,w)}}break;case 1:un(e,t),Pn(t),r&512&&n!==null&&di(n,n.return);break;case 5:if(un(e,t),Pn(t),r&512&&n!==null&&di(n,n.return),t.flags&32){var s=t.stateNode;try{Go(s,"")}catch(w){Ne(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Mw(s,i),Rh(a,o);var c=Rh(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Vw(s,h):d==="dangerouslySetInnerHTML"?Bw(s,h):d==="children"?Go(s,h):kp(s,d,h,c)}switch(a){case"input":Eh(s,i);break;case"textarea":Fw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wi(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?wi(s,!!i.multiple,i.defaultValue,!0):wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ra]=i}catch(w){Ne(t,t.return,w)}}break;case 6:if(un(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Ne(t,t.return,w)}}break;case 3:if(un(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(e.containerInfo)}catch(w){Ne(t,t.return,w)}break;case 4:un(e,t),Pn(t);break;case 13:un(e,t),Pn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nm=De())),r&4&&Oy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||d,un(e,t),at=c):un(e,t),Pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ro(4,f,f.return);break;case 1:di(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ne(r,n,w)}}break;case 5:di(f,f.return);break;case 22:if(f.memoizedState!==null){Ly(h);continue}}p!==null?(p.return=f,U=p):Ly(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uw("display",o))}catch(w){Ne(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ne(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:un(e,t),Pn(t),r&4&&Oy(t);break;case 21:break;default:un(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pb(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Go(s,""),r.flags&=-33);var i=Ny(t);cf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ny(t);lf(t,a,o);break;default:throw Error(N(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h2(t,e,n){U=t,yb(t)}function yb(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||pl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||at;a=pl;var c=at;if(pl=o,(at=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?My(s):l!==null?(l.return=o,U=l):My(s);for(;i!==null;)U=i,yb(i),i=i.sibling;U=s,pl=a,at=c}Dy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Dy(t)}}function Dy(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}at||e.flags&512&&af(e)}catch(f){Ne(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Ly(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function My(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ne(e,s,l)}}var i=e.return;try{af(e)}catch(l){Ne(e,i,l)}break;case 5:var o=e.return;try{af(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var f2=Math.ceil,bc=pr.ReactCurrentDispatcher,em=pr.ReactCurrentOwner,tn=pr.ReactCurrentBatchConfig,ue=0,Ge=null,$e=null,et=0,jt=0,hi=es(0),He=0,ca=null,Rs=0,cu=0,tm=0,No=null,kt=null,nm=0,$i=1/0,Kn=null,Sc=!1,uf=null,Hr=null,ml=!1,Dr=null,kc=0,Oo=0,df=null,Vl=-1,zl=0;function gt(){return ue&6?De():Vl!==-1?Vl:Vl=De()}function qr(t){return t.mode&1?ue&2&&et!==0?et&-et:YE.transition!==null?(zl===0&&(zl=e1()),zl):(t=fe,t!==0||(t=window.event,t=t===void 0?16:a1(t.type)),t):1}function xn(t,e,n,r){if(50<Oo)throw Oo=0,df=null,Error(N(185));Da(t,n,r),(!(ue&2)||t!==Ge)&&(t===Ge&&(!(ue&2)&&(cu|=n),He===4&&Ir(t,et)),Et(t,r),n===1&&ue===0&&!(e.mode&1)&&($i=De()+500,iu&&ts()))}function Et(t,e){var n=t.callbackNode;YC(t,e);var r=oc(t,t===Ge?et:0);if(r===0)n!==null&&Wg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wg(n),e===1)t.tag===0?JE(Fy.bind(null,t)):C1(Fy.bind(null,t)),qE(function(){!(ue&6)&&ts()}),n=null;else{switch(t1(r)){case 1:n=Ip;break;case 4:n=Xw;break;case 16:n=ic;break;case 536870912:n=Zw;break;default:n=ic}n=Tb(n,vb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vb(t,e){if(Vl=-1,zl=0,ue&6)throw Error(N(327));var n=t.callbackNode;if(Ti()&&t.callbackNode!==n)return null;var r=oc(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xc(t,r);else{e=r;var s=ue;ue|=2;var i=wb();(Ge!==t||et!==e)&&(Kn=null,$i=De()+500,xs(t,e));do try{g2();break}catch(a){_b(t,a)}while(!0);Up(),bc.current=i,ue=s,$e!==null?e=0:(Ge=null,et=0,e=He)}if(e!==0){if(e===2&&(s=Mh(t),s!==0&&(r=s,e=hf(t,s))),e===1)throw n=ca,xs(t,0),Ir(t,r),Et(t,De()),n;if(e===6)Ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!p2(s)&&(e=xc(t,r),e===2&&(i=Mh(t),i!==0&&(r=i,e=hf(t,i))),e===1))throw n=ca,xs(t,0),Ir(t,r),Et(t,De()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:us(t,kt,Kn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=nm+500-De(),10<e)){if(oc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qh(us.bind(null,t,kt,Kn),e);break}us(t,kt,Kn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f2(r/1960))-r,10<r){t.timeoutHandle=qh(us.bind(null,t,kt,Kn),r);break}us(t,kt,Kn);break;case 5:us(t,kt,Kn);break;default:throw Error(N(329))}}}return Et(t,De()),t.callbackNode===n?vb.bind(null,t):null}function hf(t,e){var n=No;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=xc(t,e),t!==2&&(e=kt,kt=n,e!==null&&ff(e)),t}function ff(t){kt===null?kt=t:kt.push.apply(kt,t)}function p2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~tm,e&=~cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Fy(t){if(ue&6)throw Error(N(327));Ti();var e=oc(t,0);if(!(e&1))return Et(t,De()),null;var n=xc(t,e);if(t.tag!==0&&n===2){var r=Mh(t);r!==0&&(e=r,n=hf(t,r))}if(n===1)throw n=ca,xs(t,0),Ir(t,e),Et(t,De()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,us(t,kt,Kn),Et(t,De()),null}function rm(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&($i=De()+500,iu&&ts())}}function Ns(t){Dr!==null&&Dr.tag===0&&!(ue&6)&&Ti();var e=ue;ue|=1;var n=tn.transition,r=fe;try{if(tn.transition=null,fe=1,t)return t()}finally{fe=r,tn.transition=n,ue=e,!(ue&6)&&ts()}}function sm(){jt=hi.current,be(hi)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HE(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dc();break;case 3:Mi(),be(Tt),be(dt),Kp();break;case 5:Wp(r);break;case 4:Mi();break;case 13:be(Ce);break;case 19:be(Ce);break;case 10:Vp(r.type._context);break;case 22:case 23:sm()}n=n.return}if(Ge=t,$e=t=Wr(t.current,null),et=jt=e,He=0,ca=null,tm=cu=Rs=0,kt=No=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}vs=null}return t}function _b(t,e){do{var n=$e;try{if(Up(),$l.current=wc,_c){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_c=!1}if(js=0,Ke=ze=Ae=null,jo=!1,oa=0,em.current=null,n===null||n.return===null){He=1,ca=e,$e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ty(o);if(p!==null){p.flags&=-257,Cy(p,o,a,i,e),p.mode&1&&xy(i,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){xy(i,c,e),im();break e}l=Error(N(426))}}else if(xe&&a.mode&1){var S=Ty(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Cy(S,o,a,i,e),$p(Fi(l,a));break e}}i=l=Fi(l,a),He!==4&&(He=2),No===null?No=[i]:No.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=nb(i,l,e);yy(i,g);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=rb(i,a,e);yy(i,k);break e}}i=i.return}while(i!==null)}Sb(n)}catch(x){e=x,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function wb(){var t=bc.current;return bc.current=wc,t===null?wc:t}function im(){(He===0||He===3||He===2)&&(He=4),Ge===null||!(Rs&268435455)&&!(cu&268435455)||Ir(Ge,et)}function xc(t,e){var n=ue;ue|=2;var r=wb();(Ge!==t||et!==e)&&(Kn=null,xs(t,e));do try{m2();break}catch(s){_b(t,s)}while(!0);if(Up(),ue=n,bc.current=r,$e!==null)throw Error(N(261));return Ge=null,et=0,He}function m2(){for(;$e!==null;)bb($e)}function g2(){for(;$e!==null&&!UC();)bb($e)}function bb(t){var e=xb(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?Sb(t):$e=e,em.current=null}function Sb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c2(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,$e=null;return}}else if(n=l2(n,e,jt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);He===0&&(He=5)}function us(t,e,n){var r=fe,s=tn.transition;try{tn.transition=null,fe=1,y2(t,e,n,r)}finally{tn.transition=s,fe=r}return null}function y2(t,e,n,r){do Ti();while(Dr!==null);if(ue&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QC(t,i),t===Ge&&($e=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ml||(ml=!0,Tb(ic,function(){return Ti(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var o=fe;fe=1;var a=ue;ue|=4,em.current=null,d2(t,n),gb(n,t),ME(zh),ac=!!Vh,zh=Vh=null,t.current=n,h2(n),VC(),ue=a,fe=o,tn.transition=i}else t.current=n;if(ml&&(ml=!1,Dr=t,kc=s),i=t.pendingLanes,i===0&&(Hr=null),qC(n.stateNode),Et(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sc)throw Sc=!1,t=uf,uf=null,t;return kc&1&&t.tag!==0&&Ti(),i=t.pendingLanes,i&1?t===df?Oo++:(Oo=0,df=t):Oo=0,ts(),null}function Ti(){if(Dr!==null){var t=t1(kc),e=tn.transition,n=fe;try{if(tn.transition=null,fe=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,kc=0,ue&6)throw Error(N(331));var s=ue;for(ue|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Ro(8,d,i)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,p=d.return;if(fb(d),d===c){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ro(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,U=g;break e}U=i.return}}var m=t.current;for(U=m;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=m;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lu(9,a)}}catch(x){Ne(a,a.return,x)}if(a===o){U=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,U=k;break e}U=a.return}}if(ue=s,ts(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{fe=n,tn.transition=e}}return!1}function $y(t,e,n){e=Fi(n,e),e=nb(t,e,1),t=zr(t,e,1),e=gt(),t!==null&&(Da(t,1,e),Et(t,e))}function Ne(t,e,n){if(t.tag===3)$y(t,t,n);else for(;e!==null;){if(e.tag===3){$y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=Fi(n,t),t=rb(e,t,1),e=zr(e,t,1),t=gt(),e!==null&&(Da(e,1,t),Et(e,t));break}}e=e.return}}function v2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(He===4||He===3&&(et&130023424)===et&&500>De()-nm?xs(t,0):tm|=n),Et(t,e)}function kb(t,e){e===0&&(t.mode&1?(e=il,il<<=1,!(il&130023424)&&(il=4194304)):e=1);var n=gt();t=lr(t,e),t!==null&&(Da(t,e,n),Et(t,n))}function _2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kb(t,n)}function w2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),kb(t,n)}var xb;xb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xt=!1,a2(t,e,n);xt=!!(t.flags&131072)}else xt=!1,xe&&e.flags&1048576&&E1(e,pc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ul(t,e),t=e.pendingProps;var s=Oi(e,dt.current);xi(e,n),s=Jp(null,e,r,t,s,n);var i=Yp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(i=!0,hc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hp(e),s.updater=ou,e.stateNode=s,s._reactInternals=e,Xh(e,r,t,n),e=tf(null,e,r,!0,i,n)):(e.tag=0,xe&&i&&Mp(e),ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ul(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=S2(r),t=pn(r,t),s){case 0:e=ef(null,e,r,t,n);break e;case 1:e=Ay(null,e,r,t,n);break e;case 11:e=Ey(null,e,r,t,n);break e;case 14:e=Iy(null,e,r,pn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),ef(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Ay(t,e,r,s,n);case 3:e:{if(ab(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,j1(t,e),yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fi(Error(N(423)),e),e=Py(t,e,r,n,s);break e}else if(r!==s){s=Fi(Error(N(424)),e),e=Py(t,e,r,n,s);break e}else for(Ot=Vr(e.stateNode.containerInfo.firstChild),Lt=e,xe=!0,vn=null,n=D1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===s){e=cr(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return L1(e),t===null&&Jh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Hh(r,s)?o=null:i!==null&&Hh(r,i)&&(e.flags|=32),ob(t,e),ht(t,e,o,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return lb(t,e,n);case 4:return qp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Li(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Ey(t,e,r,s,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ve(mc,r._currentValue),r._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===s.children&&!Tt.current){e=cr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xi(e,n),s=sn(s),r=r(s),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,s=pn(r,e.pendingProps),s=pn(r.type,s),Iy(t,e,r,s,n);case 15:return sb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Ul(t,e),e.tag=1,Ct(r)?(t=!0,hc(e)):t=!1,xi(e,n),N1(e,r,s),Xh(e,r,s,n),tf(null,e,r,!0,t,n);case 19:return cb(t,e,n);case 22:return ib(t,e,n)}throw Error(N(156,e.tag))};function Tb(t,e){return Qw(t,e)}function b2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new b2(t,e,n,r)}function om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S2(t){if(typeof t=="function")return om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tp)return 11;if(t===Cp)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ni:return Ts(n.children,s,i,e);case xp:o=8,s|=8;break;case Sh:return t=Zt(12,n,e,s|2),t.elementType=Sh,t.lanes=i,t;case kh:return t=Zt(13,n,e,s),t.elementType=kh,t.lanes=i,t;case xh:return t=Zt(19,n,e,s),t.elementType=xh,t.lanes=i,t;case Ow:return uu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rw:o=10;break e;case Nw:o=9;break e;case Tp:o=11;break e;case Cp:o=14;break e;case xr:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ts(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function uu(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=Ow,t.lanes=n,t.stateNode={isHidden:!1},t}function gd(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function yd(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function am(t,e,n,r,s,i,o,a,l){return t=new k2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hp(i),t}function x2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cb(t){if(!t)return Yr;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ct(n))return T1(t,n,e)}return e}function Eb(t,e,n,r,s,i,o,a,l){return t=am(n,r,!0,t,s,i,o,a,l),t.context=Cb(null),n=t.current,r=gt(),s=qr(n),i=rr(r,s),i.callback=e??null,zr(n,i,s),t.current.lanes=s,Da(t,s,r),Et(t,r),t}function du(t,e,n,r){var s=e.current,i=gt(),o=qr(s);return n=Cb(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zr(s,e,o),t!==null&&(xn(t,s,o,i),Fl(t,s,o)),o}function Tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function By(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lm(t,e){By(t,e),(t=t.alternate)&&By(t,e)}function T2(){return null}var Ib=typeof reportError=="function"?reportError:function(t){console.error(t)};function cm(t){this._internalRoot=t}hu.prototype.render=cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));du(t,e,null,null)};hu.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){du(null,t,null,null)}),e[ar]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=s1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&o1(t)}};function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uy(){}function C2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Tc(o);i.call(c)}}var o=Eb(e,r,t,0,null,!1,!1,"",Uy);return t._reactRootContainer=o,t[ar]=o.current,ta(t.nodeType===8?t.parentNode:t),Ns(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Tc(l);a.call(c)}}var l=am(t,0,!1,null,null,!1,!1,"",Uy);return t._reactRootContainer=l,t[ar]=l.current,ta(t.nodeType===8?t.parentNode:t),Ns(function(){du(e,l,n,r)}),l}function pu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Tc(o);a.call(l)}}du(e,o,t,s)}else o=C2(n,e,t,s,r);return Tc(o)}n1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wo(e.pendingLanes);n!==0&&(Ap(e,n|1),Et(e,De()),!(ue&6)&&($i=De()+500,ts()))}break;case 13:Ns(function(){var r=lr(t,1);if(r!==null){var s=gt();xn(r,t,1,s)}}),lm(t,1)}};Pp=function(t){if(t.tag===13){var e=lr(t,134217728);if(e!==null){var n=gt();xn(e,t,134217728,n)}lm(t,134217728)}};r1=function(t){if(t.tag===13){var e=qr(t),n=lr(t,e);if(n!==null){var r=gt();xn(n,t,e,r)}lm(t,e)}};s1=function(){return fe};i1=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Oh=function(t,e,n){switch(e){case"input":if(Eh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=su(r);if(!s)throw Error(N(90));Lw(r),Eh(r,s)}}}break;case"textarea":Fw(t,n);break;case"select":e=n.value,e!=null&&wi(t,!!n.multiple,e,!1)}};qw=rm;Ww=Ns;var E2={usingClientEntryPoint:!1,Events:[Ma,oi,su,zw,Hw,rm]},uo={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},I2={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jw(t),t===null?null:t.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{eu=gl.inject(I2),Dn=gl}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E2;Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(e))throw Error(N(200));return x2(t,e,null,n)};Bt.createRoot=function(t,e){if(!um(t))throw Error(N(299));var n=!1,r="",s=Ib;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=am(t,1,!1,null,null,n,!1,r,s),t[ar]=e.current,ta(t.nodeType===8?t.parentNode:t),new cm(e)};Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Jw(e),t=t===null?null:t.stateNode,t};Bt.flushSync=function(t){return Ns(t)};Bt.hydrate=function(t,e,n){if(!fu(e))throw Error(N(200));return pu(null,t,e,!0,n)};Bt.hydrateRoot=function(t,e,n){if(!um(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ib;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Eb(e,null,t,1,n??null,s,!1,i,o),t[ar]=e.current,ta(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hu(e)};Bt.render=function(t,e,n){if(!fu(e))throw Error(N(200));return pu(null,t,e,!1,n)};Bt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(N(40));return t._reactRootContainer?(Ns(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};Bt.unstable_batchedUpdates=rm;Bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return pu(t,e,n,!1,r)};Bt.version="18.2.0-next-9e3b772b8-20220608";function Ab(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ab)}catch(t){console.error(t)}}Ab(),Ew.exports=Bt;var Us=Ew.exports,Vy=Us;wh.createRoot=Vy.createRoot,wh.hydrateRoot=Vy.hydrateRoot;/*! Capacitor: https://capacitorjs.com/ - MIT License */var Bi;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Bi||(Bi={}));class vd extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const A2=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},P2=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:A2(t),i=()=>s()!=="web",o=h=>{const f=c.get(h);return!!(f!=null&&f.platforms.has(s())||a(h))},a=h=>{var f;return(f=n.PluginHeaders)===null||f===void 0?void 0:f.find(p=>p.name===h)},l=h=>t.console.error(h),c=new Map,d=(h,f={})=>{const p=c.get(h);if(p)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),p.proxy;const v=s(),w=a(h);let S;const g=async()=>(!S&&v in f?S=typeof f[v]=="function"?S=await f[v]():S=f[v]:e!==null&&!S&&"web"in f&&(S=typeof f.web=="function"?S=await f.web():S=f.web),S),m=(E,A)=>{var I,F;if(w){const D=w==null?void 0:w.methods.find(L=>A===L.name);if(D)return D.rtype==="promise"?L=>n.nativePromise(h,A.toString(),L):(L,X)=>n.nativeCallback(h,A.toString(),L,X);if(E)return(I=E[A])===null||I===void 0?void 0:I.bind(E)}else{if(E)return(F=E[A])===null||F===void 0?void 0:F.bind(E);throw new vd(`"${h}" plugin is not implemented on ${v}`,Bi.Unimplemented)}},y=E=>{let A;const I=(...F)=>{const D=g().then(L=>{const X=m(L,E);if(X){const K=X(...F);return A=K==null?void 0:K.remove,K}else throw new vd(`"${h}.${E}()" is not implemented on ${v}`,Bi.Unimplemented)});return E==="addListener"&&(D.remove=async()=>A()),D};return I.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:E,writable:!1,configurable:!1}),I},k=y("addListener"),x=y("removeListener"),C=(E,A)=>{const I=k({eventName:E},A),F=async()=>{const L=await I;x({eventName:E,callbackId:L},A)},D=new Promise(L=>I.then(()=>L({remove:F})));return D.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},D},T=new Proxy({},{get(E,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?C:k;case"removeListener":return x;default:return y(A)}}});return r[h]=T,c.set(h,{name:h,proxy:T,platforms:new Set([...Object.keys(f),...w?[v]:[]])}),T};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=d,n.Exception=vd,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},j2=t=>t.Capacitor=P2(t),Cc=j2(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),dm=Cc.registerPlugin;class Pb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Cc.Exception(e,Bi.Unimplemented)}unavailable(e="not available"){return new Cc.Exception(e,Bi.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const zy=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Hy=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class R2 extends Pb{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Hy(s).trim(),i=Hy(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=zy(e.key),r=zy(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}dm("CapacitorCookies",{web:()=>new R2});const N2=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),O2=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},D2=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,L2=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=O2(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(t.data))i.append(a,t.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class M2 extends Pb{async request(e){const n=L2(e,e.webFetchExtra),r=D2(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await N2(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const d={};return i.headers.forEach((h,f)=>{d[f]=h}),{data:l,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}dm("CapacitorHttp",{web:()=>new M2});function ot(t,e){const[n,r]=b.useState(()=>{if(typeof window>"u")return e;try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(`Error reading localStorage key ${t}:`,i),e}});return[n,i=>{try{const o=i instanceof Function?i(n):i;r(o),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(o))}catch(o){console.error(`Error setting localStorage key ${t}:`,o)}}]}function F2(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}const $2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class hm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class B2 extends hm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qy extends hm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wy extends hm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pf||(pf={}));class U2{constructor(e,{headers:n={},customFetch:r,region:s=pf.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=$2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return F2(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?w=JSON.stringify(c):w=c;let S=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(S=o.signal,d.addEventListener("abort",()=>o.abort())):S=o.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:S}).catch(x=>{throw new B2(x)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new qy(g);if(!g.ok)throw new Wy(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return y==="application/json"?k=yield g.json():y==="application/octet-stream"||y==="application/pdf"?k=yield g.blob():y==="text/event-stream"?k=g:y==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Wy||a instanceof qy?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var V2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},z2=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var p;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&S&&S.length>1&&(l=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,d="OK")}catch{i.status===404&&w===""?(c=204,d="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&n.shouldThrowOnError)throw new V2(o)}return{error:o,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,d,h,f;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",w=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},H2=class extends z2{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Ky=new RegExp("[,()]");var Xs=class extends H2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Ky.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Ky.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},q2=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Xs({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Xs({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Xs({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Xs({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Xs({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},W2=class jb{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new q2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{l.searchParams.append(p,v)})):(a="POST",c=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Xs({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class K2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const G2="2.90.1",J2=`realtime-js/${G2}`,Rb="1.0.0",Y2="2.0.0",Gy=Rb,mf=1e4,Q2=1e3,X2=100;var Cr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cr||(Cr={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yn||(yn={}));var gf;(function(t){t.websocket="websocket"})(gf||(gf={}));var ps;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ps||(ps={}));class Z2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,c.length),v.setUint8(w++,h.length),v.setUint8(w++,n),Array.from(l,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(c,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(w++,g.charCodeAt(0)));var S=new Uint8Array(p.byteLength+r.byteLength);return S.set(new Uint8Array(p),0),S.set(new Uint8Array(r),p.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Nb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ye||(ye={}));const Jy=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=eI(o,t,e,s),i),{}):{}},eI=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Ob(i,o):yf(o)},Ob=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return sI(e,n)}switch(t){case ye.bool:return tI(e);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return nI(e);case ye.json:case ye.jsonb:return rI(e);case ye.timestamp:return iI(e);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return yf(e);default:return yf(e)}},yf=t=>t,tI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},sI=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ob(e,a))}return t},iI=t=>typeof t=="string"?t.replace(" ","T"):t,Db=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _d{constructor(e,n,r={},s=mf){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Yy||(Yy={}));class Do{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Do.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Do.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Do.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),v=d.filter(S=>p.indexOf(S.presence_ref)<0),w=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(a[c]=v),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qy||(Qy={}));var Lo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Lo||(Lo={}));var Gn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class fi{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _d(this,yn.join,this.params,this.timeout),this.rejoinTimer=new Nb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Do(this),this.broadcastEndpointURL=Db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Lo.PRESENCE]&&this.bindings[Lo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Gn.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Gn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let m=0;m<S;m++){const y=w[m],{filter:{event:k,schema:x,table:C,filter:T}}=y,E=p&&p[m];if(E&&E.event===k&&fi.isFilterValueEqual(E.schema,x)&&fi.isFilterValueEqual(E.table,C)&&fi.isFilterValueEqual(E.filter,T))g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Gn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ue.errored,e==null||e(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ue.joined&&e===Lo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new _d(this,yn.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _d(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>X2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=yn;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,S;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(w=p.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,S,g,m,y,k,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,T=(v=p.filter)===null||v===void 0?void 0:v.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((g=p.filter)===null||g===void 0)&&g.table)||p.filter.table===((m=n.data)===null||m===void 0?void 0:m.table))}else{const C=(k=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return C==="*"||C===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:S,commit_timestamp:g,type:m,errors:y}=v;f=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&fi.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yn.close,{},e)}_onError(e){this._on(yn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jy(e.columns,e.old_record)),n}}const wd=()=>{},yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oI=[1e3,2e3,5e3,1e4],aI=1e4,lI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cI{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mf,this.transport=null,this.heartbeatIntervalMs=yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wd,this.ref=0,this.reconnectTimer=null,this.vsn=Gy,this.logger=wd,this.conn=null,this.sendBuffer=[],this.serializer=new Z2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${gf.websocket}`,this.httpEndpoint=Db(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=K2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cr.connecting:return ps.Connecting;case Cr.open:return ps.Open;case Cr.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new fi(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Q2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Cr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cr.open||this.conn.readyState===Cr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([lI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:J2};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:mf,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:yl.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:wd,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Gy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>oI[v-1]||aI,this.vsn){case Rb:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case Y2:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ua=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uI(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function dI(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function hI(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=uI(t.baseUrl,r,s),l=await dI(t.auth),c=await e(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const p=h?f:void 0,v=p==null?void 0:p.error;throw new ua((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function vl(t){return t.join("")}var fI=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:vl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vl(t.namespace)}`}),!0}catch(e){if(e instanceof ua&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ua&&n.status===409)return;throw n}}};function zs(t){return t.join("")}var pI=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zs(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ua&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ua&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},mI=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=hI({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new fI(this.client,e),this.tableOps=new pI(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},mu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var gI=class extends mu{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vf=class extends mu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const fm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yI=()=>Response,_f=t=>{if(Array.isArray(t))return t.map(n=>_f(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=_f(r)}),e},vI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_I=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function da(t){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(t)}function wI(t,e){if(da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bI(t){var e=wI(t,"string");return da(e)=="symbol"?e:e+""}function SI(t,e,n){return(e=bI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xy(Object(n),!0).forEach(function(r){SI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const bd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kI=async(t,e,n)=>{t instanceof await yI()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,i=(r==null?void 0:r.statusCode)||s+"";e(new gI(bd(r),s,i))}).catch(r=>{e(new vf(bd(r),r))}):e(new vf(bd(t),t))},xI=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(vI(r)?(s.headers=J({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),J(J({},s),n))};async function $a(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,xI(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kI(l,a,r))})}async function ha(t,e,n,r){return $a(t,"GET",e,n,r)}async function mn(t,e,n,r,s){return $a(t,"POST",e,r,s,n)}async function wf(t,e,n,r,s){return $a(t,"PUT",e,r,s,n)}async function TI(t,e,n,r){return $a(t,"HEAD",e,J(J({},n),{},{noResolveJson:!0}),r)}async function pm(t,e,n,r,s){return $a(t,"DELETE",e,r,s,n)}var CI=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Te(e))return{data:null,error:e};throw e}}};let Lb;Lb=Symbol.toStringTag;var EI=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Lb]="BlobDownloadBuilder",this.promise=null}asStream(){return new CI(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Te(e))return{data:null,error:e};throw e}}};const II={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AI=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=fm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var s=this;try{let i;const o=J(J({},Zy),r);let a=J(J({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=J(J({},a),r.headers));const c=s._removeEmptyFolders(e),d=s._getFinalPath(c),h=await(t=="PUT"?wf:mn)(s.fetch,`${s.url}/object/${d}`,i,J({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Te(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=J({upsert:Zy.upsert},r),d=J(J({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await wf(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const s=J({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await mn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new mu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await mn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async copy(t,e,n){var r=this;try{return{data:{path:(await mn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var r=this;try{let s=r._getFinalPath(t),i=await mn(r.fetch,`${r.url}/object/sign/${s}`,J({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var r=this;try{const s=await mn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>J(J({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),o=()=>ha(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new EI(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:_f(await ha(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await TI(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Te(r)&&r instanceof vf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await pm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const s=J(J(J({},II),e),{},{prefix:t||""});return{data:await mn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const r=J({},t);return{data:await mn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Mb="2.90.1",Fb={"X-Client-Info":`storage-js/${Mb}`};var PI=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=J(J({},Fb),e),this.fetch=fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await ha(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ha(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await mn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await wf(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},jI=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},Fb),e),this.fetch=fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await ha(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!_I(t))throw new mu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new mI({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const mm={"X-Client-Info":`storage-js/${Mb}`,"Content-Type":"application/json"};var $b=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Sd=class extends $b{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},RI=class extends $b{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const gm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ev=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OI=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new Sd(ev(i),r,o))}).catch(()=>{const i=r+"";e(new Sd(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new Sd(s.statusText||`HTTP ${r} error`,r,i))}}else e(new RI(ev(t),t))},DI=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(NI(r)?(s.headers=J({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,J(J({},s),n)):s};async function LI(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,DI(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>OI(l,a,r))})}async function Nt(t,e,n,r,s){return LI(t,"POST",e,r,s,n)}var MI=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},mm),e),this.fetch=gm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}},FI=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},mm),e),this.fetch=gm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Nt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}},$I=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=J(J({},mm),e),this.fetch=gm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Nt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}}},BI=class extends $I{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new UI(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},UI=class extends MI{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new VI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},VI=class extends FI{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,J(J({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},zI=class extends PI{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new AI(this.url,this.headers,t,this.fetch)}get vectors(){return new BI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jI(this.url+"/iceberg",this.headers,this.fetch)}};function gu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const Bb="2.90.1",Zs=30*1e3,bf=3,kd=bf*Zs,HI="http://localhost:9999",qI="supabase.auth.token",WI={"X-Client-Info":`gotrue-js/${Bb}`},Sf="X-Supabase-Api-Version",Ub={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GI=10*60*1e3;class fa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JI extends fa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YI(t){return H(t)&&t.name==="AuthApiError"}class ms extends fa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class mr extends fa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pt extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QI(t){return H(t)&&t.name==="AuthSessionMissingError"}class Hs extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _l extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wl extends mr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XI(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class tv extends mr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZI extends mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kf extends mr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xd(t){return H(t)&&t.name==="AuthRetryableFetchError"}class nv extends mr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xf extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rv=` 	
\r=`.split(""),eA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rv.length;e+=1)t[rv[e].charCodeAt(0)]=-2;for(let e=0;e<Ec.length;e+=1)t[Ec[e].charCodeAt(0)]=e;return t})();function sv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ec[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ec[r]),e.queuedBits-=6}}function Vb(t,e,n){const r=eA[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iv(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{rA(o,r,n)};for(let o=0;o<t.length;o+=1)Vb(t.charCodeAt(o),s,i);return e.join("")}function tA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nA(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}tA(r,e)}}function rA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ci(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Vb(t.charCodeAt(s),n,r);return new Uint8Array(e)}function sA(t){const e=[];return nA(t,n=>e.push(n)),new Uint8Array(e)}function ws(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>sv(s,n,r)),sv(null,n,r),e.join("")}function iA(t){return Math.round(Date.now()/1e3)+t}function oA(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},zb=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function aA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Hb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ei=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},is=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ye=async(t,e)=>{await t.removeItem(e)};let qb=class Wb{constructor(){this.promise=new Wb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};qb.promiseConstructor=Promise;function Td(t){const e=t.split(".");if(e.length!==3)throw new xf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!KI.test(e[r]))throw new xf("JWT not in base64url format");return{header:JSON.parse(iv(e[0])),payload:JSON.parse(iv(e[1])),signature:Ci(e[2]),raw:{header:e[0],payload:e[1]}}}async function cA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uA(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function dA(t){return("0"+t.toString(16)).substr(-2)}function hA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,dA).join("")}async function fA(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(t,e,n=!1){const r=hA();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ei(t,`${e}-code-verifier`,s);const i=await pA(r);return[i,r===i?"plain":"s256"]}const mA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gA(t){const e=t.headers.get(Sf);if(!e||!e.match(mA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _A=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(t){if(!_A.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wA(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function ov(t){return JSON.parse(JSON.stringify(t))}const ds=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bA=[502,503,504];async function av(t){var e;if(!lA(t))throw new kf(ds(t),0);if(bA.includes(t.status))throw new kf(ds(t),t.status);let n;try{n=await t.json()}catch(i){throw new ms(ds(i),i)}let r;const s=gA(t);if(s&&s.getTime()>=Ub["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nv(ds(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new nv(ds(n),t.status,n.weak_password.reasons);throw new JI(ds(n),t.status||500,r)}const SA=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function G(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Sf]||(i[Sf]=Ub["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kA(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function kA(t,e,n,r,s,i){const o=SA(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new kf(ds(l),0)}if(a.ok||await av(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await av(l)}}function hn(t){var e;let n=null;CA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iA(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function lv(t){const e=hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ar(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xA(t){return{data:t,error:null}}function TA(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=gu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cv(t){return t}function CA(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ed=["global","local","others"];class EA{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Hb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ed[0]){if(Ed.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ed.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ar})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=gu(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:TA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ar})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cv});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);c[`${S}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ws(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ar})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ws(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ws(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ar})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ws(e.userId);try{const{data:n,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ws(e.userId),Ws(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cv});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);c[`${S}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(H(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}}function uv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ks={debug:!!(globalThis&&zb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class IA extends Kb{}async function AA(t,e,n){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new IA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ks.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function PA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jA(t){return parseInt(t,16)}function RA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function NA(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Gb(t.address),v=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}g+=m}return`${S}
${g}`}class Me extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ic extends Me{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function OA({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Jb(o)){if(i.rp.id!==o)return new Me({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DA({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Jb(r)){if(n.rpId!==r)return new Me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class LA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const MA=new LA;function FA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=gu(t,["challenge","user","excludeCredentials"]),i=Ci(e).buffer,o=Object.assign(Object.assign({},n),{id:Ci(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ci(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function $A(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=gu(t,["challenge","allowCredentials"]),s=Ci(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ci(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function BA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ws(new Uint8Array(t.response.attestationObject)),clientDataJSON:ws(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function UA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ws(new Uint8Array(s.authenticatorData)),clientDataJSON:ws(new Uint8Array(s.clientDataJSON)),signature:ws(new Uint8Array(s.signature)),userHandle:s.userHandle?ws(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dv(){var t,e;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function VA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ic("Browser returned unexpected credential type",e)}:{data:null,error:new Ic("Empty credential response",e)}}catch(e){return{data:null,error:OA({error:e,options:t})}}}async function zA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ic("Browser returned unexpected credential type",e)}:{data:null,error:new Ic("Empty credential response",e)}}catch(e){return{data:null,error:DA({error:e,options:t})}}}const HA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ac(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=Ac(a,o):r[i]=Ac(o)}else r[i]=o}return r}function WA(t,e){return Ac(HA,t,e||{})}function KA(t,e){return Ac(qA,t,e||{})}class GA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??MA.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=WA(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await VA({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=KA(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await zA(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new fa("rpId is required for WebAuthn authentication")};try{if(!dv())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new fa("rpId is required for WebAuthn registration")};try{if(!dv())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in register",o)}}}}PA();const JA={url:HI,storageKey:qI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hv(t,e,n){return await n()}const Gs={};class pa{get jwks(){var e,n;return(n=(e=Gs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Gs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},JA),e);if(this.storageKey=i.storageKey,this.instanceID=(n=pa.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,pa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Qe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new EA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Hb(i.fetch),this.lock=i.lock||hv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=AA:this.lock=hv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=uv(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Qe()&&(n=aA(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),XI(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?this._returnResult({error:n}):this._returnResult({error:new ms("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:hn}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await qs(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:hn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hn})}else throw new _l("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lv})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lv})}else throw new _l("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Hs;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,c,d,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:w,wallet:S,statement:g,options:m}=e;let y;if(Qe())if(typeof S=="object")y=S;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const k=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),x=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Gb(x[0]);let T=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const A=await y.request({method:"eth_chainId"});T=jA(A)}const E={domain:k.host,address:C,statement:g,uri:k.href,version:"1",chainId:T,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=NA(E),v=await y.request({method:"personal_sign",params:[RA(p),C]})}try{const{data:w,error:S}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:hn});if(S)throw S;if(!w||!w.session||!w.user){const g=new Hs;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(H(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,f,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:S,wallet:g,statement:m,options:y}=e;let k;if(Qe())if(typeof g=="object")k=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))k=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const C=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),m?{statement:m}:null));let T;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")T=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)T=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${x.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const C=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=C}}try{const{data:S,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ws(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:hn});if(g)throw g;if(!S||!S.session||!S.user){const m=new Hs;return this._returnResult({data:{user:null,session:null},error:m})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:g})}catch(S){if(H(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await is(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new ZI;const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:hn});if(await Ye(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:hn}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Hs;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qs(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new _l("You must provide either an email or phone number.")}catch(a){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:hn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await qs(this.storage,this.storageKey));const c=await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:xA});return!((i=c.data)===null||i===void 0)&&i.url&&Qe()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(H(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new _l("You must provide either an email or phone number and a type")}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await is(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Cd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=wA(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ar}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ar})})}catch(n){if(H(n))return QI(n)&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await qs(this.storage,this.storageKey));const{data:c,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ar});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Td(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(H(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Qe())throw new wl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tv("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new wl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(H(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(YI(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=oA(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qs(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(H(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hn}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Hs}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uA(async s=>(s>0&&await cA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xd(i)&&Date.now()+o-r<Zs})}catch(r){if(this._debug(n,"error",r),H(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await is(this.storage,this.storageKey);if(s&&this.userStorage){let o=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ei(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Cd()}else if(s&&!s.user&&!s.user){const o=await is(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ye(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,s)):s.user=Cd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kd;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${kd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xd(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),H(i)){const o={data:null,error:i};return xd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ye(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ei(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ov(s);await ei(this.storage,this.storageKey,i)}else{const s=ov(n);await ei(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ye(this.storage,this.storageKey),await Ye(this.storage,this.storageKey+"-code-verifier"),await Ye(this.storage,this.storageKey+"-user"),this.userStorage&&await Ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zs}ms, refresh threshold is ${bf} ticks`),s<=bf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?BA(e.webauthn.credential_response):UA(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:FA(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$A(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Td(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await G(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pt});const o=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Qe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pt});const o=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Qe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await G(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(e){if(H(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await G(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pt})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+GI>s)return r;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Td(r);n!=null&&n.allowExpired||yA(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=vA(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,sA(`${a}.${l}`)))throw new xf("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}}pa.nextInstanceID={};const YA=pa,QA="2.90.1";let So="";typeof Deno<"u"?So="deno":typeof document<"u"?So="web":typeof navigator<"u"&&navigator.product==="ReactNative"?So="react-native":So="node";const XA={"X-Client-Info":`supabase-js-${So}/${QA}`},ZA={headers:XA},eP={schema:"public"},tP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nP={};function ma(t){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(t)}function rP(t,e){if(ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sP(t){var e=rP(t,"string");return ma(e)=="symbol"?e:e+""}function iP(t,e,n){return(e=sP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fv(Object(n),!0).forEach(function(r){iP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const oP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aP=()=>Headers,lP=(t,e,n)=>{const r=oP(n),s=aP();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,je(je({},o),{},{headers:c}))}};function cP(t){return t.endsWith("/")?t:t+"/"}function uP(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:je(je({},l),s),auth:je(je({},c),i),realtime:je(je({},d),o),storage:{},global:je(je(je({},h),a),{},{headers:je(je({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function dP(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hP=class extends YA{constructor(t){super(t)}},fP=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=dP(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:eP,realtime:nP,auth:je(je({},tP),{},{storageKey:o}),global:ZA},l=uP(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=lP(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new W2(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new zI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new U2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hP({url:this.authUrl.href,headers:je(je({},f),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cI(this.realtimeUrl.href,je(je({},t),{},{params:je(je({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pP=(t,e,n)=>new fP(t,e,n);function mP(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}mP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gP="https://afkfbhdcsqgzrqpixsaw.supabase.co",yP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFma2ZiaGRjc3FnenJxcGl4c2F3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDYzNjksImV4cCI6MjA4MTQyMjM2OX0.53JAXiMZuBeAk1r5jiorOQOcCLOLHiZgGP7iI0BhGik",pi=pP(gP,yP),Pc={maxVisible:1,defaultDuration:2200},Kt={context:null,effectsGain:null},pv=()=>{if(typeof window<"u"&&!Kt.context)try{const t=window.AudioContext||window.webkitAudioContext;Kt.context=new t,Kt.effectsGain=Kt.context.createGain(),Kt.effectsGain.gain.value=.4,Kt.effectsGain.connect(Kt.context.destination),console.log("Audio Engine Initialized.")}catch(t){console.error("Failed to initialize AudioContext:",t)}},vP=t=>(e,n)=>{let r;switch(n.type){case"ADD_TO_VISIBLE":r={...e,visible:[...e.visible,n.payload]};break;case"ADD_TO_QUEUE":r={...e,queue:[...e.queue,n.payload]};break;case"REMOVE":r={...e,visible:e.visible.filter(i=>i.id!==n.payload.id)};break;case"PROMOTE":if(e.visible.length<t.maxVisible&&e.queue.length>0){const[i,...o]=e.queue;r={...e,visible:[...e.visible,i],queue:o}}else r=e;break;case"CLEAR_ALL":return{visible:[],queue:[],showClearAll:!1};default:return e}const s=r.visible.length+r.queue.length;return s>3?r.showClearAll=!0:s<2?r.showClearAll=!1:r.showClearAll=e.showClearAll,r},Yb=b.createContext(void 0),It=()=>{const t=b.useContext(Yb);if(!t)throw new Error("useUI must be used within a UIProvider");return t},_P=({children:t})=>{b.useEffect(()=>pv(),[]);const[e,n]=b.useState("dashboard"),[r,s]=b.useState(null),[i,o]=b.useState(null),[a,l]=b.useState(!1),[c,d]=b.useState(!1),[h,f]=b.useState(null),[p,v]=ot("focusfrog_haptics_enabled",!0),[w,S]=ot("focusfrog_sound_enabled",!0),[g,m]=ot("focusfrog_fontsize","normal"),[y,k]=ot("focusfrog_dev_mode",!1),x=vP(Pc),[C,T]=b.useReducer(x,{visible:[],queue:[],showClearAll:!1}),E=b.useCallback(j=>{w&&Kt.context&&Kt.effectsGain?j.generator(Kt.context,Kt.effectsGain):w&&console.warn("PlayEffect called, but audio engine not ready.")},[w]),A=b.useCallback(()=>{pv();const j=Kt.context;if(!j){console.error("Cannot toggle sound, AudioContext failed to initialize.");return}j.state==="suspended"?j.resume().then(()=>{console.log("AudioContext Resumed!"),S(V=>!V)}):S(V=>!V)},[S]),I=b.useCallback((j,V,W="info",le)=>{const de={id:Date.now()+Math.random(),message:j,icon:V,category:W,action:le};C.visible.length<Pc.maxVisible?T({type:"ADD_TO_VISIBLE",payload:de}):T({type:"ADD_TO_QUEUE",payload:de}),p&&navigator.vibrate&&navigator.vibrate(50)},[C.visible.length,p]),F=b.useCallback(j=>{T({type:"REMOVE",payload:{id:j}})},[]),D=b.useCallback(()=>{T({type:"PROMOTE"})},[]),L=b.useCallback(()=>{T({type:"CLEAR_ALL"}),p&&navigator.vibrate&&navigator.vibrate(20)},[p]),X=(j,V)=>{e==="focus"&&j!=="focus"&&l(!1),n(j),p&&navigator.vibrate&&navigator.vibrate(5)},K=()=>d(!0),re=()=>d(!1),te={activeScreen:e,handleNavigate:X,taskInFocus:r,setTaskInFocus:s,subtaskInFocusId:i,setSubtaskInFocusId:o,quickTaskForCompletion:h,setQuickTaskForCompletion:f,notifications:C.visible,queueCount:C.queue.length,showClearAllButton:C.showClearAll,addNotification:I,removeNotification:F,promoteNotification:D,clearAllNotifications:L,soundEnabled:w,toggleSoundEnabled:A,playEffect:E,hapticsEnabled:p,setHapticsEnabled:v,isImmersiveMode:a,setIsImmersiveMode:l,isPWAInstallPopupVisible:c,showPWAInstallPopup:K,hidePWAInstallPopup:re,fontSize:g,setFontSize:m,devModeEnabled:y,setDevModeEnabled:k};return u.jsx(Yb.Provider,{value:te,children:t})},Tf=[{id:"inbox",title:"Caixa de Entrada",subtitle:"Para organizar",icon:"inbox"},{id:"do",title:"Foco Imediato",subtitle:"Urgente & Importante",icon:"zap"},{id:"schedule",title:"Tarefas do Dia",subtitle:"Importante, no urgente",icon:"calendar"},{id:"someday",title:"Ideias & Projetos",subtitle:"No urgente & no importante",icon:"bookOpen"}],Qb=[{id:1,name:"FocusFrog",color:"#5c8b57"},{id:2,name:"Pessoal",color:"#3B82F6"},{id:3,name:"Trabalho",color:"#4B5563"},{id:4,name:"Estudos",color:"#F97316"},{id:5,name:"Casa",color:"#14B8A6"},{id:6,name:"Sade",color:"#EC4899"}],wP=["Trabalho","Pessoal","Casa","Estudos","Sade"],bP=["sun","moon","zap","briefcase","home","bookOpen","coffee","award","target","listChecks","pawPrint","rocket","trash","sparkles"],Xb=[{id:50,title:" Card Especial FocusFrog N.1",quadrant:"do",description:"O FocusFrog  a sua arquitetura mental, transformando o caos TDAH em rotinas visuais e gerenciveis. Ele ativa a Dopamina de micro-recompensa para te dar foco e paz",category:"FocusFrog",pomodoroEstimate:0,subtasks:[{text:"Siga nossa pgina "},{text:"Acesse o link da bio pelo navegador "},{text:"Baixe o FocusFrog no seu celular "},{text:"Crie rotinas e marque @focus.frog "},{text:"Inspire outras pessoas com suas rotinas e estratgias prprias  "}],isDefault:!0},{id:10,title:"Esvaziar a mente",quadrant:"do",description:"Use a tcnica de 'Brain Dump'. Tire tudo da cabea e ponha no app para reduzir a ansiedade.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:11,title:"Separar a roupa de amanh",quadrant:"do",description:"Elimine a fadiga de deciso da sua manh seguinte.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:12,title:"Preparar a mochila ou bolsa",quadrant:"do",description:"Verifique chaves, carteira, carregador. Deixe tudo pronto na porta.",category:"Pessoal",pomodoroEstimate:0,isDefault:!0},{id:13,title:"Manter o celular longe da cama",quadrant:"do",description:"Use um despertador analgico se possvel. Evite o scroll antes de dormir.",category:"Sade",pomodoroEstimate:0,isDefault:!0},{id:20,title:"Calar sapatos para ativar",quadrant:"do",description:"Truque psicolgico poderoso: calar sapatos sinaliza para o crebro que  'hora de agir'.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:21,title:"Ligar uma playlist animada ou podcast",quadrant:"do",description:"O estmulo auditivo (Temptation Bundling) ajuda a tolerar tarefas tediantes e a manter o ritmo.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:22,title:"Corrida de Limpeza de 15 minutos",quadrant:"schedule",description:"Ative o modo turbo. O objetivo  progresso, no perfeio. Pare quando o tempo acabar. Vitria!",category:"Casa",pomodoroEstimate:1,customDuration:15,isDefault:!0},{id:23,title:"Caar e recolher o lixo da casa",quadrant:"do",description:"Misso de caa ao tesouro: andar pela casa com uma sacola e capturar apenas o lixo visvel.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:24,title:"Lavar loua at encher o escorredor",quadrant:"schedule",description:"Sua tarefa de manuteno diria. O objetivo no  zerar a pia,  apenas impedir que ela transborde. Isso j  uma vitria.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:25,title:"Resetar uma superfcie plana",quadrant:"do",description:"Misso de impacto visual: deixe UMA superfcie (mesa, balco) visivelmente limpa. A recompensa  imediata.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:26,title:"Varrer ou aspirar um cmodo",quadrant:"schedule",description:"Escolha UM cmodo e limpe apenas o caminho principal. O objetivo no  a perfeio,  um ambiente visivelmente melhor.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:28,title:"Executar o ciclo completo da loua",quadrant:"schedule",description:"Transforme a montanha de loua em um processo organizado.",category:"Casa",pomodoroEstimate:0,subtasks:[{text:"Organizar a loua por tipo"},{text:"Lavar pratos e copos"},{text:"Lavar talheres, potes e panelas"},{text:"Secar e guardar toda a loua"}],isDefault:!0},{id:29,title:"Executar o Ciclo Completo da Lavanderia",quadrant:"schedule",description:"Esta misso te guia at a roupa guardada.",category:"Casa",pomodoroEstimate:0,subtasks:[{text:"Juntar e separar a roupa suja"},{text:"Iniciar o ciclo de lavagem"},{text:"Transferir para secadora ou varal"},{text:"Dobrar e guardar a roupa limpa"}],isDefault:!0},{id:30,title:"Limpar e preparar a mesa de estudos",quadrant:"schedule",description:"Tire tudo da mesa que no pertence  matria atual.",category:"Estudos",isDefault:!0},{id:31,title:"Celular no silencioso / Ativar o 'No Perturbe'",quadrant:"schedule",description:"A fora de vontade  um recurso limitado. Use a tecnologia a seu favor.",category:"Estudos",isDefault:!0},{id:32,title:"Definir uma micro-meta de estudo",quadrant:"schedule",description:"Quebre a tarefa at ficar ridcula de to fcil. Ex: 'Ler 3 pginas' ou 'Resolver 1 exerccio'.",category:"Estudos",isDefault:!0},{id:33,title:"Iniciar sesso Pomodoro de 25 minutos",quadrant:"do",description:"Mergulhe na tarefa com foco total. Apenas por 25 minutos.",category:"Estudos",pomodoroEstimate:1,isDefault:!0},{id:34,title:"Explicar o estudo em voz alta",quadrant:"schedule",description:"Use a Tcnica Feynman: ao final da sesso, explique o que aprendeu.",category:"Estudos",isDefault:!0},{id:40,title:"Ritual de Ativao Fsica",quadrant:"do",description:"Os primeiros 10 minutos do seu dia para 'ligar' o crebro sem usar o celular.",category:"Sade",subtasks:[{text:"Beber um copo grande de gua"},{text:"Olhar a luz do dia na janela por 5 min"},{text:"Fazer 5 min de alongamento ou polichinelos"}],isDefault:!0},{id:41,title:"Arrumar a cama",quadrant:"do",description:"Vitria Visual Imediata: uma tarefa de 60 segundos que organiza seu quarto e te d a primeira sensao de dever cumprido.",category:"Casa",pomodoroEstimate:0,isDefault:!0},{id:42,title:"Caf da Manh de Foco",quadrant:"do",description:"Abastea seu crebro com os ingredientes certos para um foco mais estvel.",category:"Sade",pomodoroEstimate:0,subtasks:[{text:"Ingerir fonte de protena (ovo, iogurte, etc)"},{text:"Tomar medicao/suplementos"}],isDefault:!0},{id:43,title:"Definir a Misso do Dia",quadrant:"do",description:"Tire o caos da sua cabea e defina UMA prioridade clara (O Sapo).",category:"Pessoal",pomodoroEstimate:0,subtasks:[{text:"Esvaziar a mente e listar pensamentos"},{text:"Revisar a agenda de hoje"},{text:'Escolher e marcar UMA tarefa como o "Sapo do Dia" '}],isDefault:!0}],Zb=[{id:"routine-morning",name:"Manh de Dopamina",description:"Ative o crebro com sinais fsicos (luz, gua, movimento) e crie um plano claro para o dia.",icon:"sun",taskTemplateIds:[40,41,42,43],isDefault:!0},{id:"routine-daily-reset",name:"Reset Dirio",description:"Evite que o caos se acumule com um reset rpido de manuteno.",icon:"sparkles",taskTemplateIds:[20,21,22,23,24,25,26],isDefault:!0},{id:"routine-cleaning-day",name:"Dia de Faxina",description:"Um cardpio de misses para a limpeza pesada. Escolha 1 ou 2.",icon:"trash",taskTemplateIds:[28,29],isDefault:!0},{id:"routine-study",name:"Ritual de Hiperfoco",description:"Elimine distraes antes de comear e quebre a tarefa at ela parecer ridcula de to fcil.",icon:"bookOpen",taskTemplateIds:[30,31,32,33,34],isDefault:!0},{id:"routine-shutdown",name:"Desligamento Noturno",description:"Facilite a vida do seu 'Eu do Futuro'. Reduza a ansiedade da manh seguinte.",icon:"moon",taskTemplateIds:[10,11,12,13],isDefault:!0}],eS=["focusfrog_tasks","focusfrog_tags","focusfrog_frogTaskId","focusfrog_onboarding_completed","focusfrog_routines","focusfrog_taskTemplates","focusfrog_leavingHomeItems","focusfrog_userName","focusfrog_theme","focusfrog_sound","focusfrog_pontos_foco","focusfrog_unlocked_rewards","focusfrog_ui_settings"],SP="2.1.0",mv=()=>{const t={backupVersion:SP,exportedAt:new Date().toISOString()};return eS.forEach(e=>{const n=localStorage.getItem(e);if(n!==null)try{t[e]=JSON.parse(n)}catch(r){console.warn(`Could not parse localStorage item ${e}:`,n,r)}}),t},gv=t=>{localStorage.clear();const e=t.focusfrog_routines||[];t.focusfrog_routines=[...Zb,...e.filter(r=>!r.isDefault)];const n=t.focusfrog_taskTemplates||[];t.focusfrog_taskTemplates=[...Xb,...n.filter(r=>!r.isDefault)],t.focusfrog_tags||(t.focusfrog_tags=Qb),Object.keys(t).forEach(r=>{eS.includes(r)&&localStorage.setItem(r,JSON.stringify(t[r]))})},tS=()=>{const{addNotification:t}=It(),e=async o=>{if(o){t("Sincronizando com a nuvem...","","info");try{const a=mv(),l=JSON.parse(localStorage.getItem("focusfrog_userName")||'""'),{error:c}=await pi.from("profiles").upsert({id:o.id,updated_at:new Date().toISOString(),username:l,data:a});if(c)throw c;t("Backup salvo na nuvem!","","success")}catch(a){console.error("Falha ao sincronizar com a nuvem:",a),t(`Erro na nuvem: ${a.message}`,"","error")}}};return{exportData:()=>{try{const o=mv();o.focusfrog_routines=(o.focusfrog_routines||[]).filter(v=>!v.isDefault),o.focusfrog_taskTemplates=(o.focusfrog_taskTemplates||[]).filter(v=>!v.isDefault);const a=JSON.stringify(o,null,2),l=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c;const h=o.focusfrog_userName||"usuario",f=String(h).replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase(),p=new Date().toISOString().split("T")[0];d.download=`focusfrog_backup_${f}_${p}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c),t("Backup local criado com sucesso","","success")}catch(o){console.error("Falha ao criar backup local:",o),t("Erro ao criar backup local.","","error")}},importDataFromFile:(o,a)=>{const l=new FileReader;l.onload=async c=>{var d;try{const h=JSON.parse((d=c.target)==null?void 0:d.result);if(typeof h!="object"||h===null||!h.backupVersion)throw new Error("Arquivo de backup invlido.");gv(h),t("Dados importados com sucesso!","","success"),a&&await e(a),setTimeout(()=>window.location.reload(),a?2500:1500)}catch(h){console.error("Falha ao importar arquivo:",h),t(h.message,"","error")}},l.readAsText(o)},resetData:()=>{try{localStorage.clear(),t("Dados apagados. Reiniciando o aplicativo...","","info"),setTimeout(()=>window.location.reload(),1e3)}catch(o){console.error("Falha ao apagar os dados:",o),t("Ocorreu um erro ao apagar os dados","","error")}},downloadAndRestoreFromSupabase:async o=>{t("Buscando seu backup na nuvem...","","info");try{const{data:a,error:l}=await pi.from("profiles").select("data").eq("id",o.id).single();if(l)throw l;if(!a||!a.data){t("Nenhum backup encontrado na nuvem.","","info");return}gv(a.data),t("Backup da nuvem restaurado! Reiniciando...","","success"),setTimeout(()=>window.location.reload(),1500)}catch(a){console.error("Falha ao restaurar da nuvem:",a),t(`Erro na nuvem: ${a.message}`,"","error")}},syncLocalToSupabase:e}},nS=b.createContext(void 0),kP=({children:t})=>{const[e,n]=b.useState(null),[r,s]=b.useState(!0),{syncLocalToSupabase:i}=tS();b.useEffect(()=>{(async()=>{const{data:{session:h}}=await pi.auth.getSession();n((h==null?void 0:h.user)??null),s(!1)})();const{data:d}=pi.auth.onAuthStateChange(async(h,f)=>{const p=(f==null?void 0:f.user)??null;n(p),s(!1),h==="SIGNED_IN"&&p&&await i(p)});return()=>{d.subscription.unsubscribe()}},[i]);const l={user:e,isLoading:r,signInWithGoogle:async()=>{s(!0);const{error:c}=await pi.auth.signInWithOAuth({provider:"google"});c&&(console.error("Erro no login com Google:",c.message),s(!1))},signOut:async()=>{s(!0),await pi.auth.signOut(),n(null),s(!1)}};return u.jsx(nS.Provider,{value:l,children:t})},yu=()=>{const t=b.useContext(nS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},rS=b.createContext(void 0),vu=()=>{const t=b.useContext(rS);if(!t)throw new Error("useUser deve ser usado dentro de um UserProvider");return t},xP=({children:t})=>{const[e,n]=ot("focusfrog_userName",null),[r,s]=ot("focusfrog_onboardingCompleted",!1),{user:i}=yu(),o=c=>{n(c)},a=()=>{s(!0)};b.useEffect(()=>{var c;if(i&&!r&&!e&&((c=i.user_metadata)!=null&&c.full_name)){const d=i.user_metadata.full_name.split(" ")[0];o(d)}},[i,r,e,o]);const l={userName:e,onboardingCompleted:r,setUserName:o,completeOnboarding:a};return u.jsx(rS.Provider,{value:l,children:t})},TP=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new EP;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IP=function(t){const e=sS(t);return iS.encodeByteArray(e,!0)},oS=function(t){return IP(t).replace(/\./g,"")},aS=function(t){try{return iS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=()=>AP().__FIREBASE_DEFAULTS__,jP=()=>{if(typeof process>"u"||typeof yv>"u")return;const t=yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aS(t[1]);return e&&JSON.parse(e)},ym=()=>{try{return TP()||PP()||jP()||RP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NP=t=>{var e,n;return(n=(e=ym())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},lS=()=>{var t;return(t=ym())==null?void 0:t.config},cS=t=>{var e;return(e=ym())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DP(t){return(await fetch(t,{credentials:"include"})).ok}const Mo={};function LP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mo))Mo[e]?t.emulator.push(e):t.prod.push(e);return t}function MP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vv=!1;function FP(t,e){if(typeof window>"u"||typeof document>"u"||!_u(window.location.host)||Mo[t]===e||Mo[t]||vv)return;Mo[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=LP().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{vv=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=MP(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),g=n("preprendIcon"),m=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;a(y),d(S,w);const k=c();l(m,g),y.append(m,v,S,k),document.body.appendChild(y)}i?(v.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $P(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function BP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VP(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function zP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HP,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ns.prototype.create)}}class ns{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?qP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vn(s,a,r)}}function qP(t,e){return t.replace(WP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const WP=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Os(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(_v(i)&&_v(o)){if(!Os(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GP(t,e){const n=new JP(t,e);return n.subscribe.bind(n)}class JP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Id),s.error===void 0&&(s.error=Id),s.complete===void 0&&(s.complete=Id);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1e3,XP=2,ZP=4*60*60*1e3,ej=.5;function wv(t,e=QP,n=XP){const r=e*Math.pow(n,t),s=Math.round(ej*r*(Math.random()-.5)*2);return Math.min(ZP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rj(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nj(t){return t===hs?void 0:t}function rj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const ij={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},oj=me.INFO,aj={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},lj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=oj,this._logHandler=lj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const cj=(t,e)=>e.some(n=>t instanceof n);let bv,Sv;function uj(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dj(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,Cf=new WeakMap,pS=new WeakMap,Ad=new WeakMap,_m=new WeakMap;function hj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(sr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fS.set(n,t)}).catch(()=>{}),_m.set(e,t),e}function fj(t){if(Cf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cf.set(t,e)}let Ef={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pj(t){Ef=t(Ef)}function mj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pd(this),e,...n);return pS.set(r,e.sort?e.sort():[e]),sr(r)}:dj().includes(t)?function(...e){return t.apply(Pd(this),e),sr(fS.get(this))}:function(...e){return sr(t.apply(Pd(this),e))}}function gj(t){return typeof t=="function"?mj(t):(t instanceof IDBTransaction&&fj(t),cj(t,uj())?new Proxy(t,Ef):t)}function sr(t){if(t instanceof IDBRequest)return hj(t);if(Ad.has(t))return Ad.get(t);const e=gj(t);return e!==t&&(Ad.set(t,e),_m.set(e,t)),e}const Pd=t=>_m.get(t);function wu(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=sr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sr(o.result),l.oldVersion,l.newVersion,sr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function jd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),sr(n).then(()=>{})}const yj=["get","getKey","getAll","getAllKeys","count"],vj=["put","add","delete","clear"],Rd=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Rd.set(e,i),i}pj(t=>({...t,get:(e,n,r)=>kv(e,n)||t.get(e,n,r),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",xv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new vm("@firebase/app"),bj="@firebase/app-compat",Sj="@firebase/analytics-compat",kj="@firebase/analytics",xj="@firebase/app-check-compat",Tj="@firebase/app-check",Cj="@firebase/auth",Ej="@firebase/auth-compat",Ij="@firebase/database",Aj="@firebase/data-connect",Pj="@firebase/database-compat",jj="@firebase/functions",Rj="@firebase/functions-compat",Nj="@firebase/installations",Oj="@firebase/installations-compat",Dj="@firebase/messaging",Lj="@firebase/messaging-compat",Mj="@firebase/performance",Fj="@firebase/performance-compat",$j="@firebase/remote-config",Bj="@firebase/remote-config-compat",Uj="@firebase/storage",Vj="@firebase/storage-compat",zj="@firebase/firestore",Hj="@firebase/ai",qj="@firebase/firestore-compat",Wj="firebase",Kj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",Gj={[If]:"fire-core",[bj]:"fire-core-compat",[kj]:"fire-analytics",[Sj]:"fire-analytics-compat",[Tj]:"fire-app-check",[xj]:"fire-app-check-compat",[Cj]:"fire-auth",[Ej]:"fire-auth-compat",[Ij]:"fire-rtdb",[Aj]:"fire-data-connect",[Pj]:"fire-rtdb-compat",[jj]:"fire-fn",[Rj]:"fire-fn-compat",[Nj]:"fire-iid",[Oj]:"fire-iid-compat",[Dj]:"fire-fcm",[Lj]:"fire-fcm-compat",[Mj]:"fire-perf",[Fj]:"fire-perf-compat",[$j]:"fire-rc",[Bj]:"fire-rc-compat",[Uj]:"fire-gcs",[Vj]:"fire-gcs-compat",[zj]:"fire-fst",[qj]:"fire-fst-compat",[Hj]:"fire-vertex","fire-js":"fire-js",[Wj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,Jj=new Map,Pf=new Map;function Tv(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){const e=t.name;if(Pf.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,t);for(const n of jc.values())Tv(n,t);for(const n of Jj.values())Tv(n,t);return!0}function Gi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ns("app","Firebase",Yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=Kj;function mS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Af,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Kr.create("bad-app-name",{appName:String(s)});if(n||(n=lS()),!n)throw Kr.create("no-options");const i=jc.get(s);if(i){if(Os(n,i.options)&&Os(r,i.config))return i;throw Kr.create("duplicate-app",{appName:s})}const o=new sj(s);for(const l of Pf.values())o.addComponent(l);const a=new Qj(n,r,o);return jc.set(s,a),a}function gS(t=Af){const e=jc.get(t);if(!e&&t===Af&&lS())return mS();if(!e)throw Kr.create("no-app",{appName:t});return e}function nn(t,e,n){let r=Gj[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(o.join(" "));return}Cn(new an(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="firebase-heartbeat-database",Zj=1,ga="firebase-heartbeat-store";let Nd=null;function yS(){return Nd||(Nd=wu(Xj,Zj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Nd}async function eR(t){try{const n=(await yS()).transaction(ga),r=await n.objectStore(ga).get(vS(t));return await n.done,r}catch(e){if(e instanceof Vn)ur.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function Cv(t,e){try{const r=(await yS()).transaction(ga,"readwrite");await r.objectStore(ga).put(e,vS(t)),await r.done}catch(n){if(n instanceof Vn)ur.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function vS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1024,nR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ev();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>nR){const o=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ev(),{heartbeatsToSend:r,unsentEntries:s}=sR(this._heartbeatsCache.heartbeats),i=oS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ur.warn(n),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function sR(t,e=tR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Iv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Iv(t){return oS(JSON.stringify({version:2,heartbeats:t})).length}function oR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){Cn(new an("platform-logger",e=>new _j(e),"PRIVATE")),Cn(new an("heartbeat",e=>new rR(e),"PRIVATE")),nn(If,xv,t),nn(If,xv,"esm2020"),nn("fire-js","")}aR("");var lR="firebase",cR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(lR,cR,"app");const _S="@firebase/installations",wm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=1e4,bS=`w:${wm}`,SS="FIS_v2",uR="https://firebaseinstallations.googleapis.com/v1",dR=60*60*1e3,hR="installations",fR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ds=new ns(hR,fR,pR);function kS(t){return t instanceof Vn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS({projectId:t}){return`${uR}/projects/${t}/installations`}function TS(t){return{token:t.token,requestStatus:2,expiresIn:gR(t.expiresIn),creationTime:Date.now()}}async function CS(t,e){const r=(await e.json()).error;return Ds.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ES({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mR(t,{refreshToken:e}){const n=ES(t);return n.append("Authorization",yR(e)),n}async function IS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function gR(t){return Number(t.replace("s","000"))}function yR(t){return`${SS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xS(t),s=ES(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:SS,appId:t.appId,sdkVersion:bS},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await IS(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:TS(c.authToken)}}else throw await CS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^[cdef][\w-]{21}$/,jf="";function bR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=SR(t);return wR.test(n)?n:jf}catch{return jf}}function SR(t){return _R(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;function jS(t,e){const n=bu(t);RS(n,e),kR(n,e)}function RS(t,e){const n=PS.get(t);if(n)for(const r of n)r(e)}function kR(t,e){const n=xR();n&&n.postMessage({key:t,fid:e}),TR()}let bs=null;function xR(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=t=>{RS(t.data.key,t.data.fid)}),bs}function TR(){PS.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-installations-database",ER=1,Ls="firebase-installations-store";let Od=null;function bm(){return Od||(Od=wu(CR,ER,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ls)}}})),Od}async function Rc(t,e){const n=bu(t),s=(await bm()).transaction(Ls,"readwrite"),i=s.objectStore(Ls),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&jS(t,e.fid),e}async function NS(t){const e=bu(t),r=(await bm()).transaction(Ls,"readwrite");await r.objectStore(Ls).delete(e),await r.done}async function Su(t,e){const n=bu(t),s=(await bm()).transaction(Ls,"readwrite"),i=s.objectStore(Ls),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&jS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){let e;const n=await Su(t.appConfig,r=>{const s=IR(r),i=AR(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===jf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IR(t){const e=t||{fid:bR(),registrationStatus:0};return OS(e)}function AR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ds.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PR(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jR(t)}:{installationEntry:e}}async function PR(t,e){try{const n=await vR(t,e);return Rc(t.appConfig,n)}catch(n){throw kS(n)&&n.customData.serverCode===409?await NS(t.appConfig):await Rc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jR(t){let e=await Av(t.appConfig);for(;e.registrationStatus===1;)await AS(100),e=await Av(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Sm(t);return r||n}return e}function Av(t){return Su(t,e=>{if(!e)throw Ds.create("installation-not-found");return OS(e)})}function OS(t){return RR(t)?{fid:t.fid,registrationStatus:0}:t}function RR(t){return t.registrationStatus===1&&t.registrationTime+wS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR({appConfig:t,heartbeatServiceProvider:e},n){const r=OR(t,n),s=mR(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:bS,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await IS(()=>fetch(r,a));if(l.ok){const c=await l.json();return TS(c)}else throw await CS("Generate Auth Token",l)}function OR(t,{fid:e}){return`${xS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t,e=!1){let n;const r=await Su(t.appConfig,i=>{if(!DS(i))throw Ds.create("not-registered");const o=i.authToken;if(!e&&MR(o))return i;if(o.requestStatus===1)return n=DR(t,e),i;{if(!navigator.onLine)throw Ds.create("app-offline");const a=$R(i);return n=LR(t,a),a}});return n?await n:r.authToken}async function DR(t,e){let n=await Pv(t.appConfig);for(;n.authToken.requestStatus===1;)await AS(100),n=await Pv(t.appConfig);const r=n.authToken;return r.requestStatus===0?km(t,e):r}function Pv(t){return Su(t,e=>{if(!DS(e))throw Ds.create("not-registered");const n=e.authToken;return BR(n)?{...e,authToken:{requestStatus:0}}:e})}async function LR(t,e){try{const n=await NR(t,e),r={...e,authToken:n};return await Rc(t.appConfig,r),n}catch(n){if(kS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Rc(t.appConfig,r)}throw n}}function DS(t){return t!==void 0&&t.registrationStatus===2}function MR(t){return t.requestStatus===2&&!FR(t)}function FR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dR}function $R(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function BR(t){return t.requestStatus===1&&t.requestTime+wS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t){const e=t,{installationEntry:n,registrationPromise:r}=await Sm(e);return r?r.catch(console.error):km(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t,e=!1){const n=t;return await zR(n),(await km(n,e)).token}async function zR(t){const{registrationPromise:e}=await Sm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){if(!t||!t.options)throw Dd("App Configuration");if(!t.name)throw Dd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Dd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dd(t){return Ds.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="installations",qR="installations-internal",WR=t=>{const e=t.getProvider("app").getImmediate(),n=HR(e),r=Gi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},KR=t=>{const e=t.getProvider("app").getImmediate(),n=Gi(e,LS).getImmediate();return{getId:()=>UR(n),getToken:s=>VR(n,s)}};function GR(){Cn(new an(LS,WR,"PUBLIC")),Cn(new an(qR,KR,"PRIVATE"))}GR();nn(_S,wm);nn(_S,wm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="analytics",JR="firebase_id",YR="origin",QR=60*1e3,XR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=new vm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mt=new ns("analytics","Analytics",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){if(!t.startsWith(xm)){const e=Mt.create("invalid-gtag-resource",{gtagURL:t});return ut.warn(e.message),""}return t}function MS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tN(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nN(t,e){const n=tN("firebase-js-sdk-policy",{createScriptURL:eN}),r=document.createElement("script"),s=`${xm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function rN(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sN(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await MS(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){ut.error(a)}t("config",s,i)}async function iN(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await MS(n);for(const l of o){const c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){ut.error(i)}}function oN(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await iN(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await sN(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){ut.error(a)}}return s}function aN(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=oN(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function lN(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=30,uN=1e3;class dN{constructor(e={},n=uN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const FS=new dN;function hN(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fN(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:hN(n)},s=XR.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Mt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function pN(t,e=FS,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Mt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Mt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yN;return setTimeout(async()=>{a.abort()},QR),$S({appId:r,apiKey:s,measurementId:i},o,a,e)}async function $S(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=FS){var a;const{appId:i,measurementId:o}=t;try{await mN(r,e)}catch(l){if(o)return ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await fN(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!gN(c)){if(s.deleteThrottleMetadata(i),o)return ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?wv(n,s.intervalMillis,cN):wv(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),ut.debug(`Calling attemptFetch again in ${d} millis`),$S(t,h,r,s)}}function mN(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Mt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gN(t){if(!(t instanceof Vn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vN(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function _N(t,e,n,r){{const s=await e;t("config",s,{update:!0,user_id:n})}}async function wN(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(){if(dS())try{await hS()}catch(t){return ut.warn(Mt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ut.warn(Mt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SN(t,e,n,r,s,i,o){const a=pN(t);a.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ut.error(f)),e.push(a);const l=bN().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([a,l]);lN(i)||nN(i,c.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[YR]="firebase",h.update=!0,d!=null&&(h[JR]=d),s("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.app=e}_delete(){return delete Cs[this.app.options.appId],Promise.resolve()}}let Cs={},jv=[];const Rv={};let Ld="dataLayer",xN="gtag",Nv,ku,Ov=!1;function TN(){const t=[];if(uS()&&t.push("This is a browser extension environment."),zP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Mt.create("invalid-analytics-context",{errorInfo:e});ut.warn(n.message)}}function CN(t,e,n){TN();const r=t.options.appId;if(!r)throw Mt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mt.create("no-api-key");if(Cs[r]!=null)throw Mt.create("already-exists",{id:r});if(!Ov){rN(Ld);const{wrappedGtag:i,gtagCore:o}=aN(Cs,jv,Rv,Ld,xN);ku=i,Nv=o,Ov=!0}return Cs[r]=SN(t,jv,Rv,e,Nv,Ld,n),new kN(t)}function EN(t=gS()){t=In(t);const e=Gi(t,Nc);return e.isInitialized()?e.getImmediate():IN(t)}function IN(t,e={}){const n=Gi(t,Nc);if(n.isInitialized()){const s=n.getImmediate();if(Os(e,n.getOptions()))return s;throw Mt.create("already-initialized")}return n.initialize({options:e})}function AN(t,e,n){t=In(t),_N(ku,Cs[t.app.options.appId],e).catch(r=>ut.error(r))}function PN(t,e,n){t=In(t),wN(ku,Cs[t.app.options.appId],e,n).catch(r=>ut.error(r))}function Tm(t,e,n,r){t=In(t),vN(ku,Cs[t.app.options.appId],e,n,r).catch(s=>ut.error(s))}const Dv="@firebase/analytics",Lv="0.10.19";function jN(){Cn(new an(Nc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return CN(r,s,n)},"PUBLIC")),Cn(new an("analytics-internal",t,"PRIVATE")),nn(Dv,Lv),nn(Dv,Lv,"esm2020");function t(e){try{const n=e.getProvider(Nc).getImmediate();return{logEvent:(r,s,i)=>Tm(n,r,s,i),setUserProperties:(r,s)=>PN(n,r,s)}}catch(n){throw Mt.create("interop-component-reg-failed",{reason:n})}}}jN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="/firebase-messaging-sw.js",NN="/firebase-cloud-messaging-push-scope",BS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ON="https://fcmregistrations.googleapis.com/v1",US="google.c.a.c_id",DN="google.c.a.c_l",LN="google.c.a.ts",MN="google.c.a.e",Mv=1e4;var Fv;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Fv||(Fv={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ya;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ya||(ya={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function FN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="fcm_token_details_db",$N=5,$v="fcm_token_object_Store";async function BN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Md))return null;let e=null;return(await wu(Md,$N,{upgrade:async(r,s,i,o)=>{if(s<2||!r.objectStoreNames.contains($v))return;const a=o.objectStore($v),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(s===2){const c=l;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Jn(c.vapidKey)}}}else if(s===3){const c=l;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Jn(c.auth),p256dh:Jn(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Jn(c.vapidKey)}}}else if(s===4){const c=l;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Jn(c.auth),p256dh:Jn(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Jn(c.vapidKey)}}}}}})).close(),await jd(Md),await jd("fcm_vapid_details_db"),await jd("undefined"),UN(e)?e:null}function UN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-messaging-database",zN=1,va="firebase-messaging-store";let Fd=null;function VS(){return Fd||(Fd=wu(VN,zN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(va)}}})),Fd}async function HN(t){const e=zS(t),r=await(await VS()).transaction(va).objectStore(va).get(e);if(r)return r;{const s=await BN(t.appConfig.senderId);if(s)return await Cm(t,s),s}}async function Cm(t,e){const n=zS(t),s=(await VS()).transaction(va,"readwrite");return await s.objectStore(va).put(e,n),await s.done,e}function zS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ft=new ns("messaging","Messaging",qN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){const n=await Im(t),r=HS(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(Em(t.appConfig),s)).json()}catch(o){throw Ft.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw Ft.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Ft.create("token-subscribe-no-token");return i.token}async function KN(t,e){const n=await Im(t),r=HS(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${Em(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Ft.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw Ft.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Ft.create("token-update-no-token");return i.token}async function GN(t,e){const r={method:"DELETE",headers:await Im(t)};try{const i=await(await fetch(`${Em(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw Ft.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Ft.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Em({projectId:t}){return`${ON}/projects/${t}/registrations`}async function Im({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function HS({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==BS&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=7*24*60*60*1e3;async function YN(t){const e=await XN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Jn(e.getKey("auth")),p256dh:Jn(e.getKey("p256dh"))},r=await HN(t.firebaseDependencies);if(r){if(ZN(r.subscriptionOptions,n))return Date.now()>=r.createTime+JN?QN(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await GN(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Bv(t.firebaseDependencies,n)}else return Bv(t.firebaseDependencies,n)}async function QN(t,e){try{const n=await KN(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await Cm(t.firebaseDependencies,r),n}catch(n){throw n}}async function Bv(t,e){const r={token:await WN(t,e),createTime:Date.now(),subscriptionOptions:e};return await Cm(t,r),r.token}async function XN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FN(e)})}function ZN(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return eO(e,t),tO(e,t),nO(e,t),e}function eO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function tO(t,e){e.data&&(t.data=e.data)}function nO(t,e){var s,i,o,a;if(!e.fcmOptions&&!((s=e.notification)!=null&&s.click_action))return;t.fcmOptions={};const n=((i=e.fcmOptions)==null?void 0:i.link)??((o=e.notification)==null?void 0:o.click_action);n&&(t.fcmOptions.link=n);const r=(a=e.fcmOptions)==null?void 0:a.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){return typeof t=="object"&&!!t&&US in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(!t||!t.options)throw $d("App Configuration Object");if(!t.name)throw $d("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw $d(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function $d(t){return Ft.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=sO(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t){try{t.swRegistration=await navigator.serviceWorker.register(RN,{scope:NN}),t.swRegistration.update().catch(()=>{}),await aO(t.swRegistration)}catch(e){throw Ft.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function aO(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Mv} ms`)),Mv),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{var o;((o=i.target)==null?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){if(!e&&!t.swRegistration&&await oO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ft.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=BS)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){if(!navigator)throw Ft.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ft.create("permission-blocked");return await cO(t,e==null?void 0:e.vapidKey),await lO(t,e==null?void 0:e.serviceWorkerRegistration),YN(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e,n){const r=hO(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[US],message_name:n[DN],message_time:n[LN],message_device_time:Math.floor(Date.now()/1e3)})}function hO(t){switch(t){case ya.NOTIFICATION_CLICKED:return"notification_open";case ya.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ya.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Uv(n)):t.onMessageHandler.next(Uv(n)));const r=n.data;rO(r)&&r[MN]==="1"&&await dO(t,n.messageType,r)}const Vv="@firebase/messaging",zv="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=t=>{const e=new iO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>fO(e,n)),e},mO=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>uO(e,r)}};function gO(){Cn(new an("messaging",pO,"PUBLIC")),Cn(new an("messaging-internal",mO,"PRIVATE")),nn(Vv,zv),nn(Vv,zv,"esm2020")}gO();function qS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yO=qS,WS=new ns("auth","Firebase",qS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new vm("@firebase/auth");function vO(t,...e){Oc.logLevel<=me.WARN&&Oc.warn(`Auth (${Ua}): ${t}`,...e)}function ql(t,...e){Oc.logLevel<=me.ERROR&&Oc.error(`Auth (${Ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw Am(t,...e)}function Mn(t,...e){return Am(t,...e)}function KS(t,e,n){const r={...yO(),[e]:n};return new ns("auth","Firebase",r).create(e,{appName:t.name})}function Es(t){return KS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WS.create(t,...e)}function Z(t,e,...n){if(!t)throw Am(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ql(e),new Error(e)}function hr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _O(){return Hv()==="http:"||Hv()==="https:"}function Hv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_O()||uS()||"connection"in navigator)?navigator.onLine:!0}function bO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=$P()||UP()}get(){return wO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xO=new Va(3e4,6e4);function jm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ji(t,e,n,r,s={}){return JS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ba({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return BP()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&_u(t.emulatorConfig.host)&&(c.credentials="include"),GS.fetch()(await YS(t,t.config.apiHost,n,a),c)})}async function JS(t,e,n){t._canInitEmulator=!1;const r={...SO,...e};try{const s=new CO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KS(t,d,c);dr(t,d)}}catch(s){if(s instanceof Vn)throw s;dr(t,"network-request-failed",{message:String(s)})}}async function TO(t,e,n,r,s={}){const i=await Ji(t,e,n,r,s);return"mfaPendingCredential"in i&&dr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function YS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Pm(t.config,s):`${t.config.apiScheme}://${s}`;return kO.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class CO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),xO.get())})}}function bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Mn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function Dc(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IO(t,e=!1){const n=In(t),r=await n.getIdToken(e),s=Rm(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fo(Bd(s.auth_time)),issuedAtTime:Fo(Bd(s.iat)),expirationTime:Fo(Bd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bd(t){return Number(t)*1e3}function Rm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ql("JWT malformed, contained fewer than 3 sections"),null;try{const s=aS(n);return s?JSON.parse(s):(ql("Failed to decode base64 JWT payload"),null)}catch(s){return ql("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qv(t){const e=Rm(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&AO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fo(this.lastLoginAt),this.creationTime=Fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t){var h;const e=t.auth,n=await t.getIdToken(),r=await _a(t,Dc(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?QS(s.providerUserInfo):[],o=RO(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Nf(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function jO(t){const e=In(t);await Lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function QS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){const n=await JS(t,{},async()=>{const r=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await YS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&_u(t.emulatorConfig.host)&&(l.credentials="include"),GS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OO(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",jm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=qv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await NO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ei;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ei,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new PO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _a(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IO(this,e)}reload(){return jO(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await _a(this,EO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:v,stsTokenManager:w}=n;Z(h&&w,e,"internal-error");const S=Ei.fromJSON(this.name,w);Z(typeof h=="string",e,"internal-error"),_r(r,e.name),_r(s,e.name),Z(typeof f=="boolean",e,"internal-error"),Z(typeof p=="boolean",e,"internal-error"),_r(i,e.name),_r(o,e.name),_r(a,e.name),_r(l,e.name),_r(c,e.name),_r(d,e.name);const g=new wn({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:c,lastLoginAt:d});return v&&Array.isArray(v)&&(g.providerData=v.map(m=>({...m}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ei;s.updateFromServerResponse(n);const i=new wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?QS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ei;a.updateFromIdToken(r);const l=new wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Nf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;function nr(t){hr(t instanceof Function,"Expected a class definition");let e=Wv.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const Kv=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ii{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wl(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dc(this.auth,{idToken:e}).catch(()=>{});return n?wn._fromGetAccountInfoResponse(this.auth,n,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ii(nr(Kv),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||nr(Kv);const o=Wl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await Dc(e,{idToken:d}).catch(()=>{});if(!f)break;h=await wn._fromGetAccountInfoResponse(e,f,d)}else h=wn._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ii(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ii(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sk(e))return"Blackberry";if(ik(e))return"Webos";if(ek(e))return"Safari";if((e.includes("chrome/")||tk(e))&&!e.includes("edge/"))return"Chrome";if(rk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZS(t=yt()){return/firefox\//i.test(t)}function ek(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tk(t=yt()){return/crios\//i.test(t)}function nk(t=yt()){return/iemobile/i.test(t)}function rk(t=yt()){return/android/i.test(t)}function sk(t=yt()){return/blackberry/i.test(t)}function ik(t=yt()){return/webos/i.test(t)}function Nm(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DO(t=yt()){var e;return Nm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function LO(){return VP()&&document.documentMode===10}function ok(t=yt()){return Nm(t)||rk(t)||ik(t)||sk(t)||/windows phone/i.test(t)||nk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e=[]){let n;switch(t){case"Browser":n=Gv(yt());break;case"Worker":n=`${Gv(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",jm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=6;class BO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$O,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new MO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ii.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dc(this,{idToken:e}),r=await wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Es(this));const n=e?In(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FO(this),n=new BO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ns("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Ii.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ak(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Om(t){return In(t)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=GP(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VO(t){Dm=t}function zO(t){return Dm.loadJS(t)}function HO(){return Dm.gapiScript}function qO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t,e){const n=Gi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Os(i,e??{}))return s;dr(s,"already-initialized")}return n.initialize({options:e})}function KO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GO(t,e,n){const r=Om(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=lk(e),{host:o,port:a}=JO(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Os(c,r.config.emulator)&&Os(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,_u(o)?(DP(`${i}//${o}${l}`),FP("Auth",!0)):YO()}function lk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JO(t){const e=lk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Yv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Yv(o)}}}function Yv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ai(t,e){return TO(t,"POST","/v1/accounts:signInWithIdp",jm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="http://localhost";class Ms extends ck{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ms(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ai(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ai(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ai(e,n)}buildRequest(){const e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends uk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends za{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends za{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends za{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await wn._fromIdTokenResponse(e,r,s),o=Qv(r);return new Ui({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Qv(r);return new Ui({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Qv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Vn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mc(e,n,r,s)}}function dk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(t,i,e,r):i})}async function XO(t,e,n=!1){const r=await _a(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ui._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject(Es(r));const s="reauthenticate";try{const i=await _a(t,dk(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=Rm(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),Ui._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e,n=!1){if(Xn(t.app))return Promise.reject(Es(t));const r="signIn",s=await dk(t,r,e),i=await Ui._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function tD(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function nD(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function rD(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,iD=10;class fk extends hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ok(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);LO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,iD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fk.type="LOCAL";const oD=fk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk extends hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pk.type="SESSION";const mk=pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await aD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Lm("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function cD(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function uD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function hD(){return gk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firebaseLocalStorageDb",fD=1,$c="firebaseLocalStorage",vk="fbase_key";class Ha{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tu(t,e){return t.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function pD(){const t=indexedDB.deleteDatabase(yk);return new Ha(t).toPromise()}function Of(){const t=indexedDB.open(yk,fD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($c,{keyPath:vk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await pD(),e(await Of()))})})}async function Xv(t,e,n){const r=Tu(t,!0).put({[vk]:e,value:n});return new Ha(r).toPromise()}async function mD(t,e){const n=Tu(t,!1).get(e),r=await new Ha(n).toPromise();return r===void 0?null:r.value}function Zv(t,e){const n=Tu(t,!0).delete(e);return new Ha(n).toPromise()}const gD=800,yD=3;class _k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Of(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xu._getInstance(hD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await uD(),!this.activeServiceWorker)return;this.sender=new lD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Of();return await Xv(e,Fc,"1"),await Zv(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Tu(s,!1).getAll();return new Ha(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_k.type="LOCAL";const vD=_k;new Va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e){return e?nr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends ck{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ai(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ai(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wD(t){return eD(t.auth,new Mm(t),t.bypassAuthState)}function bD(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),ZO(n,new Mm(t),t.bypassAuthState)}async function SD(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),XO(n,new Mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wD;case"linkViaPopup":case"linkViaRedirect":return SD;case"reauthViaPopup":case"reauthViaRedirect":return bD;default:dr(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Va(2e3,1e4);class mi extends wk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="pendingRedirect",Kl=new Map;class TD extends wk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kl.get(this.auth._key());if(!e){try{const r=await CD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kl.set(this.auth._key(),e)}return this.bypassAuthState||Kl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CD(t,e){const n=AD(e),r=ID(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ED(t,e){Kl.set(t._key(),e)}function ID(t){return nr(t._redirectPersistence)}function AD(t){return Wl(xD,t.config.apiKey,t.name)}async function PD(t,e,n=!1){if(Xn(t.app))return Promise.reject(Es(t));const r=Om(t),s=_D(r,e),o=await new TD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=10*60*1e3;class RD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ND(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bk(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jD&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}}function e0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ND(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function MD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OD(t);for(const n of e)try{if(FD(n))return}catch{}dr(t,"unauthorized-domain")}function FD(t){const e=Rf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LD.test(n))return!1;if(DD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Va(3e4,6e4);function t0(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BD(t){return new Promise((e,n)=>{var s,i,o;function r(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(Mn(t,"network-request-failed"))},timeout:$D.get()})}if((i=(s=Fn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Fn().gapi)!=null&&o.load)r();else{const a=qO("iframefcb");return Fn()[a]=()=>{gapi.load?r():n(Mn(t,"network-request-failed"))},zO(`${HO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gl=null,e})}let Gl=null;function UD(t){return Gl=Gl||BD(t),Gl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Va(5e3,15e3),zD="__/auth/iframe",HD="emulator/auth/iframe",qD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KD(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pm(e,HD):`https://${t.config.authDomain}/${zD}`,r={apiKey:e.apiKey,appName:t.name,v:Ua},s=WD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ba(r).slice(1)}`}async function GD(t){const e=await UD(t),n=Fn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:KD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Fn().setTimeout(()=>{i(o)},VD.get());function l(){Fn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YD=500,QD=600,XD="_blank",ZD="http://localhost";class n0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e4(t,e,n,r=YD,s=QD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...JD,width:r.toString(),height:s.toString(),top:i,left:o},c=yt().toLowerCase();n&&(a=tk(c)?XD:n),ZS(c)&&(e=e||ZD,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(DO(c)&&a!=="_self")return t4(e||"",a),new n0(null);const h=window.open(e||"",a,d);Z(h,t,"popup-blocked");try{h.focus()}catch{}return new n0(h)}function t4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="__/auth/handler",r4="emulator/auth/handler",s4=encodeURIComponent("fac");async function r0(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ua,eventId:s};if(e instanceof uk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof za){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${s4}=${encodeURIComponent(l)}`:"";return`${i4(t)}?${Ba(a).slice(1)}${c}`}function i4({config:t}){return t.emulator?Pm(t,r4):`https://${t.authDomain}/${n4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class o4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mk,this._completeRedirectFn=PD,this._overrideRedirectResult=ED}async _openPopup(e,n,r,s){var o;hr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await r0(e,n,r,Rf(),s);return e4(e,i,Lm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await r0(e,n,r,Rf(),s);return cD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GD(e),r=new RD(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ud,{type:Ud},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ud];i!==void 0&&n(!!i),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ok()||ek()||Nm()}}const a4=o4;var s0="@firebase/auth",i0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u4(t){Cn(new an("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ak(t)},c=new UO(r,s,i,l);return KO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new an("auth-internal",e=>{const n=Om(e.getProvider("auth").getImmediate());return(r=>new l4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(s0,i0,c4(t)),nn(s0,i0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=5*60,h4=cS("authIdTokenMaxAge")||d4;let o0=null;const f4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h4)return;const s=n==null?void 0:n.token;o0!==s&&(o0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p4(t=gS()){const e=Gi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WO(t,{popupRedirectResolver:a4,persistence:[vD,oD,mk]}),r=cS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=f4(i.toString());nD(n,o,()=>o(n.currentUser)),tD(n,a=>o(a))}}const s=NP("auth");return s&&GO(n,`http://${s}`),n}function m4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}VO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Mn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",m4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u4("Browser");const g4={apiKey:"AIzaSyD7YdKh3IbwyPnltjg5hFbzYDDyDuMxcZw",authDomain:"focusfrog-2.firebaseapp.com",projectId:"focusfrog-2",storageBucket:"focusfrog-2.firebasestorage.app",messagingSenderId:"879951924390",appId:"1:879951924390:web:4b3a638d23fc0ae5c93867",measurementId:"G-19DSSCSLRS"},Sk=mS(g4);let Vd=null,zd=null;const y4=()=>(Vd||(Vd=p4(Sk)),Vd),Fm=()=>(zd||(zd=EN(Sk)),zd);rD(y4(),t=>{if(t){const e=Fm();e&&AN(e,t.uid)}});const v4=t=>{const e=Fm();e&&Tm(e,"pwa_installed",{source:t})},_4=()=>{const t=Fm();t&&Tm(t,"new_routine_created")},kk=b.createContext({canInstall:!1,triggerInstall:()=>console.warn("triggerInstall chamado fora de um PWAInstallProvider")}),w4=()=>b.useContext(kk),b4=({children:t})=>{const e=b.useRef(null),[n,r]=b.useState(!1);b.useEffect(()=>{const o=l=>{l.preventDefault(),e.current=l,r(!0),console.log("Evento beforeinstallprompt capturado com sucesso!")};window.addEventListener("beforeinstallprompt",o);const a=()=>{console.log("PWA instalado com sucesso!"),r(!1),e.current=null};return window.addEventListener("appinstalled",a),()=>{window.removeEventListener("beforeinstallprompt",o),window.removeEventListener("appinstalled",a)}},[]);const i={canInstall:n,triggerInstall:async()=>{if(e.current){console.log("A acionar o prompt de instalao..."),await e.current.prompt();const{outcome:o}=await e.current.userChoice;console.log(`Escolha do utilizador: ${o}`),o==="accepted"&&(console.log("O utilizador aceitou a instalao. A rastrear o evento..."),v4("install_button"),r(!1),e.current=null)}else console.warn("O evento de instalao no est disponvel.")}};return u.jsx(kk.Provider,{value:i,children:t})},a0={"light-theme":{colors:{"--primary-color":"#2563eb","--primary-color-hover":"#1d4ed8","--secondary-color":"#dbeafe","--accent-color":"#f59e0b","--accent-color-hover":"#d97706","--success-color":"#10b981","--danger-color":"#ef4444","--background-color":"#f3f4f6","--surface-color":"#ffffff","--surface-secondary-color":"#f9fafb","--text-color":"#1f2937","--text-secondary-color":"#6b7280","--text-light-color":"#ffffff","--text-on-primary":"#ffffff","--text-on-accent":"#ffffff","--border-color":"#e5e7eb","--border-subtle-color":"#f3f4f6","--quadrant-do-bg":"#fee2e2","--quadrant-schedule-bg":"#dbeafe","--quadrant-delegate-bg":"#fef3c7","--quadrant-eliminate-bg":"#e5e7eb"},preview:"linear-gradient(to bottom right, #f3f4f6, #ffffff)"},"dark-theme":{colors:{"--primary-color":"#3B82F6","--primary-color-hover":"#2563EB","--secondary-color":"#374151","--accent-color":"#FBBF24","--accent-color-hover":"#F59E0B","--accent-color-light":"#FCD34D","--accent-color-glow":"rgba(251, 191, 36, 0.4)","--accent-color-dark":"#B45309","--success-color":"#10B981","--danger-color":"#EF4444","--background-color":"#111827","--surface-color":"#1F2937","--surface-secondary-color":"#374151","--text-color":"#F3F4F6","--text-secondary-color":"#9CA3AF","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#111827","--border-color":"#374151","--border-subtle-color":"#1F2937","--quadrant-do-bg":"rgba(239, 68, 68, 0.1)","--quadrant-schedule-bg":"rgba(59, 130, 246, 0.1)","--quadrant-delegate-bg":"rgba(245, 158, 11, 0.1)","--quadrant-eliminate-bg":"rgba(107, 114, 128, 0.1)"},preview:"linear-gradient(to bottom right, #1F2937, #111827)"},"forest-theme":{colors:{"--primary-color":"#2F855A","--primary-color-hover":"#276749","--secondary-color":"#C6F6D5","--accent-color":"#DD6B20","--accent-color-hover":"#C05621","--success-color":"#38A169","--danger-color":"#E53E3E","--background-color":"#F0FFF4","--surface-color":"#FFFFFF","--surface-secondary-color":"#EDF2F7","--text-color":"#2D3748","--text-secondary-color":"#4A5568","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#FFFFFF","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#C6F6D5","--quadrant-delegate-bg":"#FEEBC8","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #F0FFF4, #C6F6D5)"},"ocean-theme":{colors:{"--primary-color":"#3182CE","--primary-color-hover":"#2B6CB0","--secondary-color":"#BEE3F8","--accent-color":"#F6E05E","--accent-color-hover":"#D69E2E","--success-color":"#38B2AC","--danger-color":"#E53E3E","--background-color":"#EBF8FF","--surface-color":"#FFFFFF","--surface-secondary-color":"#F7FAFC","--text-color":"#2A4365","--text-secondary-color":"#4A5568","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#2A4365","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#BEE3F8","--quadrant-delegate-bg":"#FEFCBF","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #EBF8FF, #BEE3F8)"},"sunset-theme":{colors:{"--primary-color":"#D53F8C","--primary-color-hover":"#B83280","--secondary-color":"#FED7E2","--accent-color":"#ED8936","--accent-color-hover":"#DD6B20","--success-color":"#38A169","--danger-color":"#C53030","--background-color":"#FFF5F7","--surface-color":"#FFFFFF","--surface-secondary-color":"#F7FAFC","--text-color":"#4A5568","--text-secondary-color":"#718096","--text-light-color":"#FFFFFF","--text-on-primary":"#FFFFFF","--text-on-accent":"#FFFFFF","--border-color":"#E2E8F0","--border-subtle-color":"#F7FAFC","--quadrant-do-bg":"#FED7D7","--quadrant-schedule-bg":"#FBB6CE","--quadrant-delegate-bg":"#FEEBC8","--quadrant-eliminate-bg":"#E2E8F0"},preview:"linear-gradient(to bottom right, #FFF5F7, #FED7E2)"}},S4={"--safe-top":"env(safe-area-inset-top, 0px)","--safe-bottom":"env(safe-area-inset-bottom, 0px)","--safe-left":"env(safe-area-inset-left, 0px)","--safe-right":"env(safe-area-inset-right, 0px)","--font-inter":`'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif`,"--font-poppins":`'Poppins', "Helvetica Neue", Arial, sans-serif`,"--font-scale":"1.0","--sp-xs":"4px","--sp-sm":"8px","--sp-md":"12px","--sp-lg":"16px","--sp-xl":"24px","--sp-xxl":"32px","--border-radius-md":"8px","--border-radius-lg":"12px","--transition-fast":"200ms ease","--transition-slow":"400ms ease"},l0="focusfrog_theme_data_v2",xk=b.createContext(void 0),$m=()=>{const t=b.useContext(xk);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},k4={activeThemeId:"dark-theme",activeSoundId:"none",pontosFoco:0,unlockedRewards:["dark-theme","none"]},x4=({children:t})=>{const[e,n]=b.useState(k4),[r,s]=b.useState(!0);b.useEffect(()=>{try{const h=localStorage.getItem(l0);h&&n(f=>({...f,...JSON.parse(h)}))}catch(h){console.error("Failed to load theme data from localStorage",h)}s(!1)},[]),b.useEffect(()=>{const h=a0[e.activeThemeId]||a0["dark-theme"],f=document.documentElement;Object.entries(S4).forEach(([p,v])=>{f.style.setProperty(p,v)}),Object.entries(h.colors).forEach(([p,v])=>{f.style.setProperty(p,v)})},[e.activeThemeId]);const i=b.useCallback((h,f)=>{n(p=>{const v=p[h],w=typeof f=="function"?f(v):f,S={...p,[h]:w};try{localStorage.setItem(l0,JSON.stringify(S))}catch(g){console.error("Failed to save theme data",g)}return S})},[]),o=b.useCallback(h=>{i("activeThemeId",h)},[i]),a=b.useCallback(h=>{i("activeSoundId",h)},[i]),l=b.useCallback(h=>{i("pontosFoco",h)},[i]),c=b.useCallback(h=>{i("unlockedRewards",h)},[i]),d={...e,setActiveThemeId:o,setActiveSoundId:a,setPontosFoco:l,setUnlockedRewards:c,loadingTheme:r};return u.jsx(xk.Provider,{value:d,children:t})},T4=(t,e)=>{const n=t.createOscillator(),r=t.createGain();n.type="sine",n.frequency.setValueAtTime(440,t.currentTime),n.frequency.linearRampToValueAtTime(880,t.currentTime+.1),r.gain.setValueAtTime(.5,t.currentTime),r.gain.exponentialRampToValueAtTime(.001,t.currentTime+.2),n.connect(r),r.connect(e),n.start(t.currentTime),n.stop(t.currentTime+.2)},C4=(t,e)=>{const n=t.createOscillator(),r=t.createGain();n.type="triangle",n.frequency.setValueAtTime(523.25,t.currentTime),r.gain.setValueAtTime(.4,t.currentTime),r.gain.exponentialRampToValueAtTime(.001,t.currentTime+.8),n.connect(r),r.connect(e),n.start(t.currentTime),n.stop(t.currentTime+1)},c0={timerStart:{id:"timerStart",generator:T4},timerEnd:{id:"timerEnd",generator:C4}};function Sl(t){"serviceWorker"in navigator&&navigator.serviceWorker.controller?(navigator.serviceWorker.controller.postMessage(t),console.log("Mensagem enviada para o SW:",t.type)):console.warn("No foi possvel enviar a mensagem para o Service Worker. Controller no encontrado.")}const E4=25*60,Tk=b.createContext(void 0),Yi=()=>{const t=b.useContext(Tk);if(!t)throw new Error("usePomodoro must be used within a PomodoroProvider");return t},I4=({children:t})=>{const{playEffect:e}=It(),{setPontosFoco:n}=$m(),[r,s]=ot("focusfrog_pomodorosCompleted",0),[i,o]=b.useState(E4),[a]=b.useState("focus"),[l,c]=b.useState("idle"),[d,h]=b.useState(i),[f,p]=b.useState(""),[v,w]=ot("focusfrog_activeTaskId",null),[S,g]=ot("focusfrog_activeTaskTitle",null),[m,y]=b.useState(null),k=b.useRef(null),x=l==="running",C=b.useCallback(()=>{k.current&&clearInterval(k.current),c("idle"),h(i),w(null),g(null),Sl({type:"CANCEL_NOTIFICATION"})},[i,w,g]);b.useEffect(()=>{if(l==="running")return k.current=setInterval(()=>{h(K=>K<=1?(clearInterval(k.current),setTimeout(()=>{e(c0.timerEnd),s(re=>re+1),n(re=>re+25),v?y({taskId:v}):C()},0),0):K-1)},1e3),()=>{k.current&&clearInterval(k.current)}},[l,e,n,v,s,C,y]);const T=b.useCallback((K,re,te)=>{e(c0.timerStart),h(K),c("running"),Sl({type:"SCHEDULE_NOTIFICATION",payload:{title:re,body:te,timestamp:Date.now()+K*1e3}})},[e]),E=b.useCallback(()=>{v&&C(),T(i,"Sesso de Foco Concluda!","Hora de fazer uma pausa.")},[v,i,T,C]),A=b.useCallback((K,re,te)=>{const j=te?te*60:i;w(K),g(re),T(j,"Sesso de Foco Concluda!",`A tarefa "${re}" terminou. Bom trabalho!`)},[i,T,w,g]),I=b.useCallback(()=>{c("paused"),Sl({type:"CANCEL_NOTIFICATION"})},[]),F=b.useCallback(()=>{c("running");const K=S?`A tarefa "${S}" terminou. Bom trabalho!`:"Hora de fazer uma pausa.";Sl({type:"SCHEDULE_NOTIFICATION",payload:{title:"Sesso de Foco Concluda!",body:K,timestamp:Date.now()+d*1e3}})},[S,d]),D=b.useCallback(K=>{const re=K*60;o(re),l==="idle"&&h(re)},[l]),L=b.useCallback(()=>y(null),[]),X={pomodorosCompleted:r,timerMode:a,status:l,isActive:x,timeRemaining:d,sessionDuration:i,distractionNotes:f,setDistractionNotes:p,activeTaskId:v,activeTaskTitle:S,lastCompletedFocus:m,clearLastCompletedFocus:L,startFocusOnTask:A,startCycle:E,pauseCycle:I,resumeCycle:F,stopCycle:C,setFocusDuration:D};return u.jsx(Tk.Provider,{value:X,children:t})},Ck=b.createContext(void 0),Vt=()=>{const t=b.useContext(Ck);if(!t)throw new Error("useTasks must be used within a TasksProvider");return t},A4=[{id:"item-1",text:"Chaves",completed:!1,isDefault:!0},{id:"item-2",text:"Carteira",completed:!1,isDefault:!0},{id:"item-3",text:"Celular",completed:!1,isDefault:!0}],P4=({children:t})=>{const{addNotification:e}=It(),{setPontosFoco:n}=$m(),{activeTaskId:r,stopCycle:s,lastCompletedFocus:i,clearLastCompletedFocus:o}=Yi(),[a,l]=ot("focusfrog_tasks",[]),[c,d]=ot("focusfrog_tags",Qb),[h,f]=ot("focusfrog_frogTaskId",null),[p,v]=ot("focusfrog_onboarding_completed",!1),[w,S]=ot("focusfrog_routines",Zb),[g,m]=ot("focusfrog_taskTemplates",Xb),[y,k]=ot("focusfrog_leavingHomeItems",A4),[x,C]=b.useState(null),[T,E]=b.useState([]),A=b.useMemo(()=>T.length>0,[T]);b.useEffect(()=>{var $;const P=g.find(z=>z.id===50);if(!p&&P){const z=`task-${Date.now()}`,q={id:z,title:P.title,description:P.description,quadrant:P.quadrant||"inbox",pomodoroEstimate:P.pomodoroEstimate!==void 0?P.pomodoroEstimate:1,customDuration:P.customDuration,energyNeeded:P.energyNeeded,subtasks:($=P.subtasks)==null?void 0:$.map((ge,qe)=>({id:`sub-${Date.now()}-${qe}`,text:ge.text,completed:!1})),tagId:P.category==="FocusFrog"?1:void 0,status:"todo",displayOrder:0,templateId:P.id};l([q]),f(z),v(!0)}},[p,v,l,f,g]);const I=b.useCallback(()=>{const P=new Date,$=P.getFullYear(),z=String(P.getMonth()+1).padStart(2,"0"),q=String(P.getDate()).padStart(2,"0");return`${$}-${z}-${q}`},[]),F=b.useMemo(()=>I(),[I]),D=b.useMemo(()=>!a.find($=>$.id===h&&$.dueDate===F),[a,h,F]),L=b.useCallback(P=>{re([P]),P.quadrant==="inbox"?e("Nova tarefa capturada na Caixa de Entrada","","info"):e("Nova tarefa adicionada  sua lista","","success")},[e]),X=b.useCallback(P=>{l($=>{const z=$.find(ne=>ne.id===P.id);if(!z)return $;if(z.quadrant===P.quadrant)return $.map(ne=>ne.id===P.id?P:ne);const q=$.filter(ne=>ne.id!==P.id),ge=q.filter(ne=>ne.quadrant===z.quadrant).sort((ne,cn)=>(ne.displayOrder||0)-(cn.displayOrder||0)).map((ne,cn)=>({...ne,displayOrder:cn})),qe={...P,displayOrder:q.filter(ne=>ne.quadrant===P.quadrant).length},Je=[...q.filter(ne=>ne.quadrant===P.quadrant),qe].sort((ne,cn)=>(ne.displayOrder||0)-(cn.displayOrder||0)).map((ne,cn)=>({...ne,displayOrder:cn}));return[...q.filter(ne=>ne.quadrant!==z.quadrant&&ne.quadrant!==P.quadrant),...ge,...Je]}),e("Tarefa atualizada com sucesso","","success")},[l,e]),K=b.useCallback((P,$)=>{const z=a.find(q=>q.id===P);!z||z.status==="done"||(P===r&&s(),l(q=>q.map(ge=>{var qe;if(ge.id!==P)return ge;if($){const Je=((qe=ge.subtasks)==null?void 0:qe.map(ne=>ne.id===$?{...ne,completed:!0}:ne))||[];return Je.every(ne=>ne.completed)?(n(ne=>ne+10),P===h?(e("Sapo do dia engolido!","","victory"),n(ne=>ne+40)):e("Tarefa concluda por subtarefas!","","success"),{...ge,subtasks:Je,status:"done",completedAt:new Date().toISOString()}):{...ge,subtasks:Je}}else return n(Je=>Je+10),P===h?(e("Sapo do dia engolido!","","victory"),n(Je=>Je+40)):e("Tarefa concluda!","","success"),{...ge,status:"done",completedAt:new Date().toISOString()}})))},[a,l,e,n,r,s,h]);b.useEffect(()=>{i!=null&&i.taskId&&setTimeout(()=>{K(i.taskId),o(),s()},0)},[i,K,o,s]);const re=b.useCallback(P=>{l($=>{const z=P.map((q,ge)=>({...q,id:`task-${Date.now()}-${ge}`,status:"todo",displayOrder:$.filter(qe=>qe.quadrant===q.quadrant).length+ge}));return[...$,...z]})},[l]),te=b.useCallback((P,$,z)=>{l(q=>{const ge=q.find(Oe=>Oe.id===P);if(!ge)return q;const qe=ge.quadrant;if(qe===$){const Oe=q.filter(yr=>yr.quadrant===qe&&yr.id!==P).sort((yr,qu)=>(yr.displayOrder||0)-(qu.displayOrder||0));Oe.splice(z,0,ge);const qn=Oe.map((yr,qu)=>({...yr,displayOrder:qu}));return[...q.filter(yr=>yr.quadrant!==qe),...qn]}const Je=q.filter(Oe=>Oe.id!==P),At=Je.filter(Oe=>Oe.quadrant===qe).sort((Oe,qn)=>(Oe.displayOrder||0)-(qn.displayOrder||0)).map((Oe,qn)=>({...Oe,displayOrder:qn})),ne=Je.filter(Oe=>Oe.quadrant===$).sort((Oe,qn)=>(Oe.displayOrder||0)-(qn.displayOrder||0)),cn={...ge,quadrant:$};ne.splice(z,0,cn);const Hu=ne.map((Oe,qn)=>({...Oe,displayOrder:qn}));return[...Je.filter(Oe=>Oe.quadrant!==qe&&Oe.quadrant!==$),...At,...Hu]})},[l]),j=b.useCallback(()=>{x&&(l(P=>{const $=[...P];return $.splice(x.index,0,x.task),$}),C(null),e("Tarefa restaurada","","info"))},[x,l,e]),V=b.useCallback(P=>{P===r&&s();const $=a.findIndex(q=>q.id===P);if($===-1)return;const z=a[$];C({task:z,index:$}),l(q=>q.filter(ge=>ge.id!==P)),e("Tarefa excluda","","info",{label:"Desfazer",onAction:j}),setTimeout(()=>{C(null)},5e3)},[a,l,e,j,r,s]),W=b.useCallback((P,$)=>{K(P,$)},[K]),le=b.useCallback(P=>{h===r&&h!==P&&s(),f(P)},[h,r,s,f]),de=b.useCallback(()=>{h===r&&s(),f(null)},[h,r,s,f]),zt=b.useCallback(P=>{d($=>{if(P.id)return e("Tag atualizada com sucesso","","success"),$.map(q=>q.id===P.id?{...q,...P}:q);e("Nova tag criada","","success");const z={id:Date.now(),name:P.name,color:P.color};return[...$,z]})},[d,e]),oe=b.useCallback(P=>{d($=>$.filter(z=>z.id!==P)),l($=>$.map(z=>z.tagId===P?{...z,tagId:void 0}:z)),e("Tag excluda","","info")},[d,l,e]),zn=b.useCallback(P=>{const $=a.find(z=>z.id===P);if($){const z={...$,title:`${$.title} (Cpia)`};L(z)}},[a,L]),ln=b.useCallback((P,$)=>{l(z=>z.map(q=>{if(q.id===P){const ge=q.dueDate?new Date(q.dueDate+"T00:00:00"):new Date;ge.setDate(ge.getDate()+$);const qe=ge.toISOString().split("T")[0];return{...q,dueDate:qe}}return q})),e(`Tarefa adiada por ${$} dia(s)`,"","info")},[l,e]),gr=b.useCallback(P=>{var z;const $={id:Date.now(),title:P.title,description:P.description,quadrant:P.quadrant,pomodoroEstimate:P.pomodoroEstimate,customDuration:P.customDuration,energyNeeded:P.energyNeeded,category:"Personalizado",subtasks:(z=P.subtasks)==null?void 0:z.map(q=>({text:q.text})),isDefault:!1};m(q=>[...q,$]),e("Novo modelo salvo na sua biblioteca","","success")},[m,e]),$u=b.useCallback(P=>{const $=g.find(z=>z.id===P);if($){if($.isDefault){e("Modelos padro no podem ser excludos.","","error");return}m(z=>z.filter(q=>q.id!==P)),e("Modelo excludo com sucesso.","","info")}},[g,m,e]),ce=b.useCallback(P=>{const $=new Date,z=$.getFullYear(),q=String($.getMonth()+1).padStart(2,"0"),ge=String($.getDate()).padStart(2,"0"),qe=`${z}-${q}-${ge}`,Je=P.map(At=>{var ne;return{title:At.title,description:At.description,quadrant:At.quadrant||"inbox",pomodoroEstimate:At.pomodoroEstimate!==void 0?At.pomodoroEstimate:1,customDuration:At.customDuration,energyNeeded:At.energyNeeded,subtasks:(ne=At.subtasks)==null?void 0:ne.map((cn,Hu)=>({id:`sub-${Date.now()}-${Hu}`,text:cn.text,completed:!1})),dueDate:qe,templateId:At.id}});Je.length>0&&(re(Je),e(`${Je.length} tarefa(s) adicionada(s)  sua lista`,"","success"))},[re,e]),Hn=b.useCallback(P=>{const $=g.filter(z=>P.taskTemplateIds.includes(z.id));$.length>0&&(ce($),e(`Rotina '${P.name}' adicionada`,"","success"))},[g,ce,e]),to=b.useCallback(P=>{S($=>{const z=$.findIndex(q=>q.id===P.id);if(z>-1){const q=[...$];return q[z]=P,e(`Rotina '${P.name}' atualizada!`,"","success"),q}else{const q={...P,id:`routine-${Date.now()}`,isDefault:!1};return e(`Nova rotina '${q.name}' criada!`,"","success"),[...$,q]}})},[S,e]),Bu=b.useCallback(P=>{const $=w.find(z=>z.id===P);if($){if($.isDefault){e("Rotinas padro no podem ser excludas.","","error");return}S(z=>z.filter(q=>q.id!==P)),e("Rotina excluda com sucesso.","","info")}},[w,S,e]),Za=P=>{k($=>$.map(z=>z.id===P?{...z,completed:!z.completed}:z))},Uu=P=>{k($=>[...$,{id:`item-${Date.now()}`,text:P,completed:!1}])},Vu=P=>{k($=>$.filter(z=>z.id!==P))},no=()=>{k(P=>P.map($=>({...$,completed:!1})))},tC=b.useCallback(()=>{const P=a.filter($=>$.quadrant==="inbox");E(P),P.length===0&&e("Sua caixa de entrada est limpa!","","success")},[a,e]),zu=b.useCallback(()=>{E([])},[]),nC=b.useCallback(P=>{if(T.length===0)return;const $=T[0],z=a.filter(q=>q.quadrant===P).length;te($.id,P,z),E(q=>q.slice(1)),T.length===1&&(e("Triagem concluda!","","success"),zu())},[T,a,te,zu,e]),rC={tasks:a,tags:c,frogTaskId:h,routines:w,taskTemplates:g,handleAddTask:L,handleAddTasks:re,handleUpdateTask:X,handleUpdateTaskQuadrant:te,handleDeleteTask:V,handleCompleteTask:K,handleToggleSubtask:W,handleSetFrog:le,handleUnsetFrog:de,handleSaveTag:zt,handleDeleteTag:oe,handleDuplicateTask:zn,handlePostponeTask:ln,needsMorningPlan:D,handleCreateTemplateFromTask:gr,handleDeleteTemplate:$u,handleAddRoutine:Hn,handleSaveRoutine:to,handleDeleteRoutine:Bu,handleAddTemplates:ce,leavingHomeItems:y,handleToggleLeavingHomeItem:Za,handleAddLeavingHomeItem:Uu,handleRemoveLeavingHomeItem:Vu,handleResetLeavingHomeItems:no,triageQueue:T,isTriageActive:A,startTriage:tC,processTriage:nC,endTriage:zu};return u.jsx(Ck.Provider,{value:rC,children:t})},O=({path:t,size:e=24,className:n="",style:r,title:s})=>u.jsxs("svg",{className:n,style:r,width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[s&&u.jsx("title",{children:s}),u.jsx("path",{d:t,fillRule:"evenodd",clipRule:"evenodd"})]}),R={layoutGrid:"M3 3h8v8H3V3zm0 10h8v8H3v-8zM13 3h8v8h-8V3zm0 10h8v8h-8v-8z",checkSquare:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",timer:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.25 12.15L11 12.5V7h1.5v4.5l4.08 2.14l-.83 1.51z",star:"M12 17.27l6.18 3.73-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21l6.18-3.73z",barChart:"M4 9h4v11H4zm6-5h4v16h-4zm6 8h4v8h-4z",plus:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",pencil:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",trash:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",ellipsis:"M6 12c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2zm6 0c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2zm6 0c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2z",chevronDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",chevronUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41-1.41z",play:"M8 5v14l11-7L8 5z",pause:"M6 19h4V5H6v14zm8-14v14h4V5h-4z",rotateCw:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",copy:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",filter:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z",list:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z",arrowDownUp:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",download:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z",pomodoro:"M18.5 6.5C18.5 5.2 17.4 4 16 4h-2c-.8 0-1.6.4-2 1C11.6 4.4 10.8 4 10 4H8C6.6 4 5.5 5.2 5.5 6.5c0 .3.1.6.2.9C3.9 8.2 3 10 3 12c0 2.2 1.8 4 4 4h1v2.5c0 .8.7 1.5 1.5 1.5h1c.8 0 1.5-.7 1.5-1.5V16h1c2.2 0 4-1.8 4-4c0-2-1-3.8-2.8-4.6.1-.3.2-.6.2-.9z",frog:"M20 10.5c0-1.87-.92-3.63-2.5-4.75-.5-.35-1.15-.3-1.6.15l-.2.2c-.75.75-1.85.95-2.8.5-2.2-1.05-4.8-.9-6.85.45-.6.4-1.25.35-1.8-.1l-.15-.15C2.62 5.42 1 7.22 1 9.5c0 1.48.68 2.88 1.88 3.88.55.45 1.25.5 1.8.1.1-.05.15-.1.25-.15 1.9-1.25 4.35-1.35 6.45-.35 1.1.55 2.35.45 3.35-.25.1-.05.15-.1.25-.15 1.35-.6 2.65-.1 3.5.85.35.35.8.5 1.25.5.4 0 .75-.1.9-.3.8-.8.97-1.93.52-2.93zM8.5 13a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm7-3a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",target:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2V7zm0 4h2v6h-2v-6z",zap:"M7 2v11h3v9l7-12h-4l4-8z",listChecks:"M15.5 2H8.5C7.67 2 7 2.67 7 3.5v17c0 .83.67 1.5 1.5 1.5h11c.83 0 1.5-.67 1.5-1.5V7.5L15.5 2zM15 8V4l4 4h-4zm-2.5 9H10v-2h2.5v2zm2.5-4H10v-2h5v2zm0-4H10V7h5v2z",coffee:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2a2 2 0 002-2V5c0-1.1-.9-2-2-2zm-2 5h-2V5h2v3z",bookOpen:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-4zm-2 10l-2.5 1.5L7 12V4h5v8z",pawPrint:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.5 11.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-7 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm1.5-5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z",briefcase:"M20 7h-4V5c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5z",sun:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",moon:"M10 2c-1.71 0-3.32.42-4.75 1.19-1.42.77-2.63 1.98-3.4 3.4-.77 1.42-1.19 3.04-1.19 4.75 0 3.73 2.14 7.02 5.25 8.56.28.14.6-.06.6-.37v-1.6c0-.44-.24-.84-.62-1.04-1.1-.6-1.88-1.75-1.88-3.05 0-1.93 1.57-3.5 3.5-3.5.95 0 1.82.38 2.45.99.3.29.7.43 1.12.37.7-.1 1.25-.66 1.35-1.35.06-.42.2-.82.47-1.13.61-.72 1.5-1.14 2.45-1.14 1.93 0 3.5 1.57 3.5 3.5 0 1.3-.78 2.45-1.88 3.05-.38.2-.62.6-.62 1.04v1.6c0 .31.32.51.6.37 3.11-1.54 5.25-4.83 5.25-8.56 0-4.97-4.03-9-9-9z",award:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-3 14H9V8l3-3 3 3v7z",battery:"M17 5v14c0 1.1-.9 2-2 2H9c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h1.5V2h3v1H15c1.1 0 2 .9 2 2zm-4 3h-2v4h2V8zm0 6h-2v2h2v-2z",batteryLow:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 9h4v1H10V9z",batteryMedium:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 13h4v-5H10v5z",batteryFull:"M15 19H9c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h6c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM10 7h4v10H10V7z",alertTriangle:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",checkCircle:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",circle:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",clock:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.25 12.15L11 12.5V7h1.5v4.5l4.08 2.14l-.83 1.51z",calendar:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V8h10v11z",trophy:"M20.2,2H3.8C3.3,2 3,2.3,3,2.8V3c0,0.1,0,0.2,0.1,0.3L6,6.2V11c0,1.3,0.6,2.5,1.6,3.3L12,17.4l4.4-3.1c1-0.8,1.6-2,1.6-3.3V6.2l2.9-2.9C21,3.2,21,3.1,21,3v-0.2C21,2.3,20.7,2,20.2,2z M10,12v-2h4v2H10z M21,19c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2v-1h18V19z",palette:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5C21 7.03 16.97 3 12 3zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9s1.5.67 1.5 1.5S7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5S18.33 12 17.5 12z",music:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-4z",volumeX:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z",sparkles:"M19 10h-2.1l-1.9-4-1.9 4H11l1.6 3.2L11 16.4h2.1l1.9-4 1.9 4H19l-1.6-3.2L19 10zm-8-4H9V4H7v2H5c-1.1 0-2 .9-2 2v2h2v-1.5h1.5V11h-2v2h2v-1.5h1.5V15h-2v2h2v-1.5h1.5V19h-2v2h2v-1.5h1.5V23h2v-2h-1.5v-1.5H11v-2h1.5v-1.5H11v-2h1.5V11H11V9h1.5V7.5H11V6z",lock:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z",check:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z",rocket:"M14 2L11.5 9h5L14 2zm1.25 10a.75.75 0 01.75-.75h2a.75.75 0 01.75.75v5.336c0 .85-.36 1.63-.95 2.18L18 20.334V22h-4v-1.666l-1.05-1.052a2.75 2.75 0 01-.95-2.18V12a.75.75 0 01.75-.75h2a.75.75 0 01.75.75v.25h1.5V12z",gem:"M12.83 2.12a2 2 0 00-1.66 0L2.6 8.3c-.63.53-.78 1.45-.36 2.12l8 11.2a2 2 0 003.52 0l8-11.2c.42-.67.27-1.59-.36-2.12L12.83 2.12z",crown:"M5 16L3 5l5.5 4.5L12 4l3.5 5.5L21 5l-2 11H5zm14 2H5v2h14v-2z",flame:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67z",sliders:"M4 21h4v-4H4v4zm0-10h4V7H4v4zm0-4h4V3H4v4zm6 10h4v-8H10v8zm0-12h4V3h-4v6zm6 4h4V7h-4v4zm0-4h4V3h-4v4zm0 12h4v-4h-4v4z"},j4="_modalOverlay_g91xn_5",R4="_fadeIn_g91xn_1",N4="_modal_g91xn_5",O4="_slideUp_g91xn_1",D4="_modalHeader_g91xn_11",L4="_modalBody_g91xn_14",M4="_titleInput_g91xn_16",F4="_descriptionTextarea_g91xn_19",$4="_addDetailsButton_g91xn_22",B4="_detailedFields_g91xn_25",U4="_formGroup_g91xn_27",V4="_grid_g91xn_30",z4="_buttonSelector_g91xn_32",H4="_selected_g91xn_34",q4="_matrixSelectorContainer_g91xn_36",W4="_matrixRow_g91xn_37",K4="_matrixLabel_g91xn_38",G4="_matrixToggleGroup_g91xn_39",J4="_matrixToggleBtn_g91xn_40",Y4="_active_g91xn_42",Q4="_matrixResult_g91xn_44",X4="_resultIcon_g91xn_45",Z4="_resultText_g91xn_47",e5="_resultTitle_g91xn_48",t5="_resultSubtitle_g91xn_49",n5="_subtaskList_g91xn_60",r5="_subtaskItem_g91xn_61",s5="_subtaskInput_g91xn_62",i5="_subtaskAddGroup_g91xn_65",o5="_modalFooter_g91xn_69",a5="_footerActions_g91xn_70",Q={modalOverlay:j4,fadeIn:R4,modal:N4,slideUp:O4,modalHeader:D4,modalBody:L4,titleInput:M4,descriptionTextarea:F4,addDetailsButton:$4,detailedFields:B4,formGroup:U4,grid:V4,buttonSelector:z4,selected:H4,matrixSelectorContainer:q4,matrixRow:W4,matrixLabel:K4,matrixToggleGroup:G4,matrixToggleBtn:J4,active:Y4,matrixResult:Q4,resultIcon:X4,resultText:Z4,resultTitle:e5,resultSubtitle:t5,"quadrant-inbox":"_quadrant-inbox_g91xn_52","quadrant-do":"_quadrant-do_g91xn_53","quadrant-schedule":"_quadrant-schedule_g91xn_54","quadrant-delegate":"_quadrant-delegate_g91xn_55","quadrant-eliminate":"_quadrant-eliminate_g91xn_56",subtaskList:n5,subtaskItem:r5,subtaskInput:s5,subtaskAddGroup:i5,modalFooter:o5,footerActions:a5},An=t=>{const e=b.useRef(null);return b.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t]),e},l5="_selectorContainer_1vmeg_2",c5="_selectorButton_1vmeg_7",u5="_open_1vmeg_22",d5="_selectorValue_1vmeg_27",h5="_tagColorDot_1vmeg_33",f5="_placeholder_1vmeg_39",p5="_chevron_1vmeg_43",m5="_popover_1vmeg_52",g5="_popoverItem_1vmeg_68",y5="_selected_1vmeg_82",v5="_manageButton_1vmeg_88",st={selectorContainer:l5,selectorButton:c5,open:u5,selectorValue:d5,tagColorDot:h5,placeholder:f5,chevron:p5,popover:m5,popoverItem:g5,selected:y5,manageButton:v5},_5=({tags:t,selectedTagId:e,onChange:n,onManageTags:r,label:s})=>{const[i,o]=b.useState(!1),a=b.useRef(null);An(a);const l=t.find(d=>d.id===e),c=d=>{n(d),o(!1)};return u.jsxs("div",{className:st.selectorContainer,ref:a,children:[u.jsxs("label",{className:"form-label",children:[u.jsx(O,{path:R.tag})," ",s]}),u.jsxs("button",{className:`${st.selectorButton} ${i?st.open:""}`,onClick:()=>o(!i),children:[u.jsx("div",{className:st.selectorValue,children:l?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:st.tagColorDot,style:{backgroundColor:l.color}}),u.jsx("span",{children:l.name})]}):u.jsx("span",{className:st.placeholder,children:"Nenhuma etiqueta"})}),u.jsx(O,{path:R.chevronDown,className:`${st.chevron} ${i?st.open:""}`})]}),i&&u.jsxs("div",{className:st.popover,children:[u.jsxs("div",{className:`${st.popoverItem} ${e?"":st.selected}`,onClick:()=>c(null),children:[u.jsx("span",{className:st.tagColorDot,style:{backgroundColor:"var(--border-color)"}}),"Nenhuma etiqueta"]}),t.map(d=>u.jsxs("div",{className:`${st.popoverItem} ${e===d.id?st.selected:""}`,onClick:()=>c(d.id),children:[u.jsx("span",{className:st.tagColorDot,style:{backgroundColor:d.color}}),d.name]},d.id)),u.jsxs("div",{className:st.manageButton,onClick:r,children:[u.jsx(O,{path:R.settings}),"Gerenciar Etiquetas"]})]})]})},w5="_editorContainer_jc5hz_2",b5="_header_jc5hz_9",S5="_editorBody_jc5hz_22",k5="_form_jc5hz_29",x5="_formActions_jc5hz_35",T5="_colorPalette_jc5hz_41",C5="_colorSwatch_jc5hz_47",E5="_selected_jc5hz_56",I5="_listSection_jc5hz_61",A5="_list_jc5hz_61",P5="_listItem_jc5hz_82",j5="_listItemInfo_jc5hz_91",R5="_tagColorDot_jc5hz_98",N5="_listItemActions_jc5hz_104",wt={editorContainer:w5,header:b5,editorBody:S5,form:k5,formActions:x5,colorPalette:T5,colorSwatch:C5,selected:E5,listSection:I5,list:A5,listItem:P5,listItemInfo:j5,tagColorDot:R5,listItemActions:N5},Hd=["#EF4444","#F97316","#FBBF24","#10B981","#3B82F6","#8B5CF6","#EC4899"],O5=({onBack:t})=>{const{tags:e,handleSaveTag:n,handleDeleteTag:r}=Vt(),[s,i]=b.useState({name:"",color:Hd[0]}),o=d=>{i(d)},a=()=>{i({name:"",color:Hd[0]})},l=d=>{var h;d.preventDefault(),(h=s.name)!=null&&h.trim()&&(n(s),a())},c=d=>{window.confirm("Tem certeza que deseja excluir esta etiqueta? Ela ser removida de todas as tarefas.")&&(r(d),a())};return u.jsxs("div",{className:wt.editorContainer,children:[u.jsxs("div",{className:wt.header,children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-icon",children:u.jsx(O,{path:R.arrowLeft})}),u.jsx("h4",{children:"Gerenciar Etiquetas"})]}),u.jsxs("div",{className:wt.editorBody,children:[u.jsxs("form",{onSubmit:l,className:wt.form,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:s.id?"Editando Etiqueta":"Nova Etiqueta"}),u.jsx("input",{type:"text",className:"g-input",placeholder:"Nome da etiqueta",value:s.name||"",onChange:d=>i(h=>({...h,name:d.target.value}))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Cor"}),u.jsx("div",{className:wt.colorPalette,children:Hd.map(d=>u.jsx("div",{className:`${wt.colorSwatch} ${s.color===d?wt.selected:""}`,style:{backgroundColor:d},onClick:()=>i(h=>({...h,color:d}))},d))})]}),u.jsxs("div",{className:wt.formActions,children:[s.id&&u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancelar Edio"}),u.jsx("button",{type:"submit",className:"btn btn-primary",children:s.id?"Salvar Alteraes":"Criar Etiqueta"})]})]}),u.jsxs("div",{className:wt.listSection,children:[u.jsx("h5",{children:"Etiquetas Existentes"}),u.jsx("ul",{className:wt.list,children:e.map(d=>u.jsxs("li",{className:wt.listItem,children:[u.jsxs("div",{className:wt.listItemInfo,children:[u.jsx("div",{className:wt.tagColorDot,style:{backgroundColor:d.color}}),u.jsx("span",{children:d.name})]}),u.jsxs("div",{className:wt.listItemActions,children:[u.jsx("button",{onClick:()=>o(d),className:"btn btn-tertiary btn-icon btn-sm",children:u.jsx(O,{path:R.pencil})}),u.jsx("button",{onClick:()=>c(d.id),className:"btn btn-tertiary btn-icon btn-sm btn-danger",children:u.jsx(O,{path:R.trash})})]})]},d.id))})]})]})]})},Ek=({taskToEdit:t,onClose:e,tags:n})=>{const{handleAddTask:r,handleUpdateTask:s,handleDeleteTask:i,handleCreateTemplateFromTask:o}=Vt(),{startFocusOnTask:a}=Yi(),{handleNavigate:l}=It(),[c,d]=b.useState({}),[h,f]=b.useState(""),[p,v]=b.useState("task"),[w,S]=b.useState(null),g=An(e),m=c.pomodoroEstimate===0;b.useEffect(()=>{const L=(X=>{if(X&&Object.keys(X).length>0)return{...X,subtasks:X.subtasks?[...X.subtasks]:[],pomodoroEstimate:X.pomodoroEstimate!==void 0?X.pomodoroEstimate:1};const K=new Date,re=K.getFullYear(),te=String(K.getMonth()+1).padStart(2,"0"),j=String(K.getDate()).padStart(2,"0");return{title:"",description:"",quadrant:"inbox",subtasks:[],status:"todo",pomodoroEstimate:1,energyNeeded:"medium",dueDate:`${re}-${te}-${j}`}})(t);d(L),v("task"),S(document.getElementById("modal-root"))},[t]);const y=(D,L)=>d(X=>({...X,[D]:L})),k=D=>{y("pomodoroEstimate",D==="quick"?0:1),D==="quick"&&y("customDuration",void 0)},x=()=>{if(h.trim()){const D={id:`sub-${Date.now()}`,text:h,completed:!1};y("subtasks",[...c.subtasks||[],D]),f("")}},C=D=>{var L;return y("subtasks",(L=c.subtasks)==null?void 0:L.filter(X=>X.id!==D))},T=()=>{var L;if(!((L=c.title)!=null&&L.trim()))return alert("O ttulo da tarefa  obrigatrio.");const{...D}=c;D.id?s(D):r(D),e()},E=()=>{c.id&&window.confirm("Tem certeza que deseja excluir esta tarefa?")&&(i(c.id),e())};if(!t||!w)return null;const A=[{id:"low",label:"Baixa",icon:"batteryLow"},{id:"medium",label:"Mdia",icon:"batteryMedium"},{id:"high",label:"Alta",icon:"battery"}],I=[{id:"morning",label:"Manh"},{id:"afternoon",label:"Tarde"},{id:"night",label:"Noite"},{id:"",label:"Nenhum"}],F=()=>{var D;return u.jsxs(u.Fragment,{children:[u.jsxs("header",{className:"g-modal-header",children:[u.jsx("div",{className:Q.headerTitleGroup,children:u.jsxs("h3",{children:[u.jsx(O,{path:R.pencil})," ",c.id?"Editar Tarefa":"Nova Tarefa"]})}),u.jsx("button",{onClick:e,className:"btn btn-secondary btn-icon",children:u.jsx(O,{path:R.close})})]}),u.jsxs("main",{className:"g-modal-body",children:[u.jsx("input",{type:"text",className:Q.titleInput,placeholder:"O que precisa ser feito?",value:c.title||"",onChange:L=>y("title",L.target.value),autoFocus:!0}),u.jsxs("div",{className:Q.detailedFields,children:[u.jsx("textarea",{className:Q.descriptionTextarea,placeholder:"Descrio, links, notas...",value:c.description||"",onChange:L=>y("description",L.target.value)}),u.jsx(D5,{task:c,setTask:d}),u.jsxs("div",{className:Q.grid,children:[u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.calendar})," Data"]}),u.jsx("input",{type:"date",className:"g-input",value:c.dueDate||"",onChange:L=>y("dueDate",L.target.value)})]}),u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.sun})," Perodo"]}),u.jsx("div",{className:Q.buttonSelector,children:I.map(L=>u.jsx("button",{className:c.timeOfDay===L.id?Q.selected:"",onClick:()=>y("timeOfDay",L.id),children:L.label},L.id))})]})]}),u.jsx(_5,{label:"Etiqueta",tags:n,selectedTagId:c.tagId||null,onChange:L=>y("tagId",L),onManageTags:()=>v("tags")}),u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.target})," Tipo de Tarefa"]}),u.jsxs("div",{className:Q.buttonSelector,children:[u.jsx("button",{className:m?"":Q.selected,onClick:()=>k("focus"),children:"Foco (Timer)"}),u.jsx("button",{className:m?Q.selected:"",onClick:()=>k("quick"),children:"Rpida (Check)"})]})]}),!m&&u.jsxs("div",{className:Q.grid,children:[u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.timer})," Pomodoros (25min)"]}),u.jsx("input",{type:"number",className:"g-input",value:c.pomodoroEstimate||"",onChange:L=>y("pomodoroEstimate",parseInt(L.target.value)||1),min:"1",placeholder:"1"})]}),u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.clock})," Durao Custom. (min)"]}),u.jsx("input",{type:"number",className:"g-input",value:c.customDuration||"",onChange:L=>y("customDuration",L.target.value?parseInt(L.target.value):void 0),min:"1",placeholder:"25"})]})]}),u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.battery})," Energia Necessria"]}),u.jsx("div",{className:Q.buttonSelector,children:A.map(L=>u.jsxs("button",{className:c.energyNeeded===L.id?Q.selected:"",onClick:()=>y("energyNeeded",L.id),children:[u.jsx(O,{path:R[L.icon]})," ",L.label]},L.id))})]}),u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.checkSquare})," Subtarefas"]}),u.jsx("ul",{className:Q.subtaskList,children:(D=c.subtasks)==null?void 0:D.map(L=>u.jsxs("li",{className:Q.subtaskItem,children:[u.jsx("input",{type:"checkbox",checked:L.completed,readOnly:!0,className:"task-complete-button"}),u.jsx("input",{type:"text",value:L.text,onChange:X=>{var K;return y("subtasks",(K=c.subtasks)==null?void 0:K.map(re=>re.id===L.id?{...re,text:X.target.value}:re))},className:Q.subtaskInput}),u.jsx("button",{onClick:()=>C(L.id),className:"btn btn-tertiary btn-icon btn-sm",children:u.jsx(O,{path:R.trash})})]},L.id))}),u.jsxs("div",{className:Q.subtaskAddGroup,children:[u.jsx("input",{type:"text",placeholder:"Adicionar subtarefa...",value:h,onChange:L=>f(L.target.value),onKeyPress:L=>L.key==="Enter"&&x()}),u.jsx("button",{onClick:x,className:"btn btn-primary btn-icon btn-sm",children:u.jsx(O,{path:R.plus})})]})]})]})]}),u.jsxs("footer",{className:"g-modal-footer",children:[u.jsxs("div",{className:Q.footerActions,children:[c.id&&u.jsxs("button",{className:"btn btn-tertiary btn-danger",onClick:E,children:[u.jsx(O,{path:R.trash})," Excluir"]}),c.id&&u.jsxs("button",{className:"btn btn-tertiary",onClick:()=>o(c),children:[u.jsx(O,{path:R.bookOpen})," Salvar como Modelo"]})]}),u.jsx("div",{className:Q.footerActions,children:u.jsxs("button",{className:"btn btn-primary",onClick:T,children:[u.jsx(O,{path:R.check})," Salvar"]})})]})]})};return Us.createPortal(u.jsx("div",{className:"g-modal-overlay",children:u.jsx("div",{className:"g-modal",ref:g,children:p==="task"?F():u.jsx(O5,{onBack:()=>v("task")})})}),w)},D5=({task:t,setTask:e})=>{const[n,r]=b.useState(null),[s,i]=b.useState(null),o=Tf.find(l=>l.id===t.quadrant)||Tf.find(l=>l.id==="inbox");b.useEffect(()=>{const l=t.quadrant;l==="do"?(r("urgent"),i("important")):l==="schedule"?(r("not-urgent"),i("important")):l==="someday"?(r("not-urgent"),i("not-important")):(r(null),i(null))},[t.quadrant]);const a=(l,c)=>{if(r(l),i(c),l&&c){let d="inbox";l==="urgent"&&c==="important"?d="do":l==="not-urgent"&&c==="important"?d="schedule":l==="not-urgent"&&c==="not-important"?d="someday":l==="urgent"&&c==="not-important"&&(d="do"),e(h=>({...h,quadrant:d}))}};return u.jsxs("div",{className:Q.formGroup,children:[u.jsxs("label",{children:[u.jsx(O,{path:R.layoutGrid})," Matriz de Prioridade"]}),u.jsxs("div",{className:Q.matrixSelectorContainer,children:[u.jsxs("div",{className:Q.matrixRow,children:[u.jsx("span",{className:Q.matrixLabel,children:" urgente?"}),u.jsxs("div",{className:Q.matrixToggleGroup,children:[u.jsx("button",{className:`${Q.matrixToggleBtn} ${n==="not-urgent"?Q.active:""}`,onClick:()=>a("not-urgent",s),children:"Pode esperar"}),u.jsx("button",{className:`${Q.matrixToggleBtn} ${n==="urgent"?Q.active:""}`,onClick:()=>a("urgent",s),children:" pra j!"})]})]}),u.jsxs("div",{className:Q.matrixRow,children:[u.jsx("span",{className:Q.matrixLabel,children:" importante?"}),u.jsxs("div",{className:Q.matrixToggleGroup,children:[u.jsx("button",{className:`${Q.matrixToggleBtn} ${s==="not-important"?Q.active:""}`,onClick:()=>a(n,"not-important"),children:"Baixo impacto"}),u.jsx("button",{className:`${Q.matrixToggleBtn} ${s==="important"?Q.active:""}`,onClick:()=>a(n,"important"),children:"Alto impacto"})]})]}),o&&u.jsxs("div",{className:`${Q.matrixResult} ${Q[`quadrant-${o.id}`]}`,children:[u.jsx("div",{className:Q.resultIcon,children:u.jsx(O,{path:R[o.icon]})}),u.jsxs("div",{className:Q.resultText,children:[u.jsx("span",{className:Q.resultTitle,children:o.title}),u.jsx("span",{className:Q.resultSubtitle,children:o.subtitle})]})]})]})]})},L5="_centeredHeader_pryjy_6",M5="_subtitle_pryjy_18",F5="_taskList_pryjy_27",$5="_taskButton_pryjy_38",B5="_selected_pryjy_65",U5="_emptyState_pryjy_75",V5="_controlButton_pryjy_83",z5="_secondary_pryjy_98",H5="_primary_pryjy_110",Ht={centeredHeader:L5,subtitle:M5,taskList:F5,taskButton:$5,selected:B5,emptyState:U5,controlButton:V5,secondary:z5,primary:H5},Ik=({isOpen:t,tasks:e=[],selectedTask:n,onSelectTask:r,onConfirm:s,onClose:i,onNavigateToTasks:o})=>{const a=An(i),[l,c]=b.useState(null);if(b.useEffect(()=>{c(document.getElementById("modal-root"))},[]),!t||!l)return null;const d=e.length>0,h=u.jsx("div",{className:"g-modal-overlay",children:u.jsxs("div",{className:"g-modal",ref:a,children:[u.jsxs("header",{className:`g-modal-header ${Ht.centeredHeader}`,children:[u.jsx("h3",{children:" Qual sapo voc vai engolir hoje?"}),u.jsx("p",{className:Ht.subtitle,children:"Escolha a tarefa mais importante para focar primeiro."})]}),u.jsx("main",{className:"g-modal-body",children:d?u.jsx("ul",{className:Ht.taskList,children:e.map(f=>u.jsx("li",{children:u.jsx("button",{className:`${Ht.taskButton} ${n===f.id?Ht.selected:""}`,onClick:()=>r(f.id),children:f.title})},f.id))}):u.jsx("div",{className:Ht.emptyState,children:u.jsx("p",{children:"Nenhuma tarefa elegvel na sua lista! Adicione algumas para comear."})})}),u.jsxs("footer",{className:"g-modal-footer g-modal-footer--space-between",children:[u.jsx("button",{className:`${Ht.controlButton} ${Ht.secondary}`,onClick:i,children:"Decidir depois"}),d?u.jsx("button",{className:`${Ht.controlButton} ${Ht.primary}`,onClick:s,disabled:!n,children:"Engolir este sapo"}):u.jsx("button",{className:`${Ht.controlButton} ${Ht.primary}`,onClick:o,children:"Ir para Tarefas"})]})]})});return Us.createPortal(h,l)},q5="_modalSmall_1uz35_6",W5="_content_1uz35_10",K5="_iconContainer_1uz35_15",G5="_promptText_1uz35_20",J5="_taskHighlightBox_1uz35_29",Y5="_controlButton_1uz35_49",Q5="_secondary_1uz35_63",X5="_primary_1uz35_74",Wn={modalSmall:q5,content:W5,iconContainer:K5,promptText:G5,taskHighlightBox:J5,controlButton:Y5,secondary:Q5,primary:X5},Z5=()=>{const{quickTaskForCompletion:t,setQuickTaskForCompletion:e}=It(),{handleCompleteTask:n,frogTaskId:r,handleUnsetFrog:s}=Vt(),[i,o]=b.useState(null);b.useEffect(()=>{o(document.getElementById("modal-root"))},[]);const a=()=>{e(null)},l=An(a),c=()=>{t&&(n(t.id),r===t.id&&s(),e(null))};return!t||!i?null:Us.createPortal(u.jsx("div",{className:"g-modal-overlay",children:u.jsxs("div",{className:`g-modal ${Wn.modalSmall}`,ref:l,children:[u.jsxs("header",{className:"g-modal-header",children:[u.jsxs("h3",{children:[u.jsx(O,{path:R.frog})," Sapo Comido!"]}),u.jsx("button",{onClick:a,className:"btn btn-secondary btn-icon",children:u.jsx(O,{path:R.close})})]}),u.jsx("main",{className:"g-modal-body",children:u.jsxs("div",{className:Wn.content,children:[u.jsx("div",{className:Wn.iconContainer,children:u.jsx(O,{path:R.checkCircle,size:48})}),u.jsx("p",{className:Wn.promptText,children:"Voc finalizou a tarefa e deu um passo importante no seu dia."}),u.jsx("div",{className:Wn.taskHighlightBox,children:t.title})]})}),u.jsxs("footer",{className:"g-modal-footer",children:[u.jsx("button",{className:`${Wn.controlButton} ${Wn.secondary}`,onClick:a,children:"Ops, ainda no"}),u.jsxs("button",{className:`${Wn.controlButton} ${Wn.primary}`,onClick:c,children:[u.jsx(O,{path:R.check})," Confirmar"]})]})]})}),i)},e3="_modalHeader_ekv6i_5",t3="_modalBody_ekv6i_16",n3="_itemList_ekv6i_20",r3="_item_ekv6i_20",s3="_formGroup_ekv6i_41",i3="_inputGroup_ekv6i_53",o3="_modalFooter_ekv6i_68",os={modalHeader:e3,modalBody:t3,itemList:n3,item:r3,formGroup:s3,inputGroup:i3,modalFooter:o3},a3=({items:t,onAddItem:e,onRemoveItem:n,onClose:r})=>{const[s,i]=b.useState(""),o=An(r),a=()=>{s.trim()&&(e(s),i(""))};return u.jsx("div",{className:"g-modal-overlay",children:u.jsxs("div",{className:"g-modal",ref:o,children:[u.jsxs("div",{className:os.modalHeader,children:[u.jsx("h3",{children:"Gerenciar Itens de Sada"}),u.jsx("p",{children:"Adicione ou remova itens da sua lista pessoal."})]}),u.jsxs("div",{className:os.modalBody,children:[u.jsx("ul",{className:os.itemList,children:t.map(l=>u.jsxs("li",{className:os.item,children:[u.jsx("span",{children:l.text}),!l.isDefault&&u.jsx("button",{onClick:()=>n(l.id),className:"btn btn-icon btn-small","aria-label":`Remover ${l.text}`,children:u.jsx(O,{path:R.trash})})]},l.id))}),u.jsxs("div",{className:os.formGroup,children:[u.jsx("label",{children:"Adicionar novo item"}),u.jsxs("div",{className:os.inputGroup,children:[u.jsx("input",{type:"text",placeholder:"Ex: Fone de ouvido",value:s,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&a()}),u.jsx("button",{onClick:a,className:"btn btn-primary btn-small",children:u.jsx(O,{path:R.plus})})]})]})]}),u.jsx("div",{className:os.modalFooter,children:u.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Fechar"})})]})})},l3="_card_13t4e_3",c3="_header_13t4e_13",u3="_buttonGroup_13t4e_28",d3="_checklist_13t4e_33",h3="_checklistItem_13t4e_42",f3="_itemContent_13t4e_56",p3="_editing_13t4e_64",m3="_checkbox_13t4e_72",g3="_text_13t4e_81",y3="_completed_13t4e_86",jn={card:l3,header:c3,buttonGroup:u3,checklist:d3,checklistItem:h3,itemContent:f3,editing:p3,checkbox:m3,text:g3,completed:y3},v3=({items:t,onToggleItem:e,onAddItem:n,onRemoveItem:r,onResetItems:s})=>{const[i,o]=b.useState(!1),[a,l]=b.useState(!1);if(!t||t.length===0)return null;const c=d=>{a||e(d)};return u.jsxs(u.Fragment,{children:[i&&u.jsx(a3,{items:t,onAddItem:n,onRemoveItem:r,onClose:()=>o(!1)}),u.jsxs("div",{className:jn.card,children:[u.jsxs("div",{className:jn.header,children:[u.jsxs("h3",{children:[u.jsx(O,{path:R.briefcase})," J pegou?"]}),u.jsxs("div",{className:jn.buttonGroup,children:[a?u.jsx("button",{className:"btn btn-icon btn-primary btn-small",onClick:()=>o(!0),title:"Adicionar Item",children:u.jsx(O,{path:R.plus})}):u.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:s,title:"Desmarcar Todos",children:u.jsx(O,{path:R.rotateCw})}),u.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:()=>l(!a),title:a?"Concluir Edio":"Editar Checklist",children:a?u.jsx(O,{path:R.check}):u.jsx(O,{path:R.pencil})})]})]}),u.jsx("ul",{className:jn.checklist,children:t.map(d=>u.jsxs("li",{className:`${jn.checklistItem} ${d.completed?jn.completed:""} ${a?jn.editing:""}`,onClick:()=>c(d.id),children:[u.jsxs("div",{className:jn.itemContent,children:[u.jsx("span",{className:jn.checkbox}),u.jsx("span",{className:jn.text,children:d.text})]}),a&&!d.isDefault&&u.jsx("button",{className:"btn btn-icon btn-small",onClick:()=>r(d.id),title:"Remover Item",children:u.jsx(O,{path:R.trash})})]},d.id))})]})]})},_3="_cardWrapper_1ge8q_5",w3="_swipeBackground_1ge8q_7",b3="_completeBackground_1ge8q_8",S3="_deleteBackground_1ge8q_9",k3="_swipeIcon_1ge8q_10",x3="_taskCard_1ge8q_12",T3="_statusDone_1ge8q_24",C3="_taskCardTitleGroup_1ge8q_25",E3="_dragging_1ge8q_27",I3="_inboxCard_1ge8q_28",A3="_taskCardContent_1ge8q_30",P3="_taskCardHeader_1ge8q_31",j3="_checkbox_1ge8q_45",R3="_disabled_1ge8q_46",N3="_taskCardActions_1ge8q_49",O3="_headerPlayButton_1ge8q_51",D3="_activeFocus_1ge8q_51",L3="_frogIconActive_1ge8q_52",M3="_taskCardDescription_1ge8q_54",F3="_isFrog_1ge8q_62",$3="_subtasksSection_1ge8q_64",B3="_subtasksHeader_1ge8q_65",U3="_collapsibleChevron_1ge8q_78",V3="_collapsed_1ge8q_79",z3="_subtasksContent_1ge8q_80",H3="_subtaskItem_1ge8q_82",q3="_clickable_1ge8q_93",W3="_completed_1ge8q_94",K3="_subtaskCheckbox_1ge8q_96",G3="_footerTags_1ge8q_107",J3="_footerTag_1ge8q_107",Y3="_energyTag_1ge8q_121",se={cardWrapper:_3,swipeBackground:w3,completeBackground:b3,deleteBackground:S3,swipeIcon:k3,taskCard:x3,statusDone:T3,taskCardTitleGroup:C3,dragging:E3,inboxCard:I3,taskCardContent:A3,taskCardHeader:P3,checkbox:j3,disabled:R3,taskCardActions:N3,headerPlayButton:O3,activeFocus:D3,frogIconActive:L3,taskCardDescription:M3,isFrog:F3,subtasksSection:$3,subtasksHeader:B3,collapsibleChevron:U3,collapsed:V3,subtasksContent:z3,subtaskItem:H3,clickable:q3,completed:W3,subtaskCheckbox:K3,footerTags:G3,footerTag:J3,energyTag:Y3};var Bm=Wa(),ee=t=>qa(t,Bm),Um=Wa();ee.write=t=>qa(t,Um);var Cu=Wa();ee.onStart=t=>qa(t,Cu);var Vm=Wa();ee.onFrame=t=>qa(t,Vm);var zm=Wa();ee.onFinish=t=>qa(t,zm);var Pi=[];ee.setTimeout=(t,e)=>{const n=ee.now()+e,r=()=>{const i=Pi.findIndex(o=>o.cancel==r);~i&&Pi.splice(i,1),Mr-=~i?1:0},s={time:n,handler:t,cancel:r};return Pi.splice(Ak(n),0,s),Mr+=1,Pk(),s};var Ak=t=>~(~Pi.findIndex(e=>e.time>t)||~Pi.length);ee.cancel=t=>{Cu.delete(t),Vm.delete(t),zm.delete(t),Bm.delete(t),Um.delete(t)};ee.sync=t=>{Df=!0,ee.batchedUpdates(t),Df=!1};ee.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...s){e=s,ee.onStart(n)}return r.handler=t,r.cancel=()=>{Cu.delete(n),e=null},r};var Hm=typeof window<"u"?window.requestAnimationFrame:()=>{};ee.use=t=>Hm=t;ee.now=typeof performance<"u"?()=>performance.now():Date.now;ee.batchedUpdates=t=>t();ee.catch=console.error;ee.frameLoop="always";ee.advance=()=>{ee.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Rk()};var Lr=-1,Mr=0,Df=!1;function qa(t,e){Df?(e.delete(t),t(0)):(e.add(t),Pk())}function Pk(){Lr<0&&(Lr=0,ee.frameLoop!=="demand"&&Hm(jk))}function Q3(){Lr=-1}function jk(){~Lr&&(Hm(jk),ee.batchedUpdates(Rk))}function Rk(){const t=Lr;Lr=ee.now();const e=Ak(Lr);if(e&&(Nk(Pi.splice(0,e),n=>n.handler()),Mr-=e),!Mr){Q3();return}Cu.flush(),Bm.flush(t?Math.min(64,Lr-t):16.667),Vm.flush(),Um.flush(),zm.flush()}function Wa(){let t=new Set,e=t;return{add(n){Mr+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Mr-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Mr-=e.size,Nk(e,r=>r(n)&&t.add(r)),Mr+=t.size,e=t)}}}function Nk(t,e){t.forEach(n=>{try{e(n)}catch(r){ee.catch(r)}})}var X3=Object.defineProperty,Z3=(t,e)=>{for(var n in e)X3(t,n,{get:e[n],enumerable:!0})},En={};Z3(En,{assign:()=>tL,colors:()=>Gr,createStringInterpolator:()=>Wm,skipAnimation:()=>Dk,to:()=>Ok,willAdvance:()=>Km});function Lf(){}var eL=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),M={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Yn(t,e){if(M.arr(t)){if(!M.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var ae=(t,e)=>t.forEach(e);function Bn(t,e,n){if(M.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Dt=t=>M.und(t)?[]:M.arr(t)?t:[t];function $o(t,e){if(t.size){const n=Array.from(t);t.clear(),ae(n,e)}}var ko=(t,...e)=>$o(t,n=>n(...e)),qm=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Wm,Ok,Gr=null,Dk=!1,Km=Lf,tL=t=>{t.to&&(Ok=t.to),t.now&&(ee.now=t.now),t.colors!==void 0&&(Gr=t.colors),t.skipAnimation!=null&&(Dk=t.skipAnimation),t.createStringInterpolator&&(Wm=t.createStringInterpolator),t.requestAnimationFrame&&ee.use(t.requestAnimationFrame),t.batchedUpdates&&(ee.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Km=t.willAdvance),t.frameLoop&&(ee.frameLoop=t.frameLoop)},Bo=new Set,Xt=[],qd=[],Bc=0,Eu={get idle(){return!Bo.size&&!Xt.length},start(t){Bc>t.priority?(Bo.add(t),ee.onStart(nL)):(Lk(t),ee(Mf))},advance:Mf,sort(t){if(Bc)ee.onFrame(()=>Eu.sort(t));else{const e=Xt.indexOf(t);~e&&(Xt.splice(e,1),Mk(t))}},clear(){Xt=[],Bo.clear()}};function nL(){Bo.forEach(Lk),Bo.clear(),ee(Mf)}function Lk(t){Xt.includes(t)||Mk(t)}function Mk(t){Xt.splice(rL(Xt,e=>e.priority>t.priority),0,t)}function Mf(t){const e=qd;for(let n=0;n<Xt.length;n++){const r=Xt[n];Bc=r.priority,r.idle||(Km(r),r.advance(t),r.idle||e.push(r))}return Bc=0,qd=Xt,qd.length=0,Xt=e,Xt.length>0}function rL(t,e){const n=t.findIndex(e);return n<0?t.length:n}var sL={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},bn="[-+]?\\d*\\.?\\d+",Uc=bn+"%";function Iu(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var iL=new RegExp("rgb"+Iu(bn,bn,bn)),oL=new RegExp("rgba"+Iu(bn,bn,bn,bn)),aL=new RegExp("hsl"+Iu(bn,Uc,Uc)),lL=new RegExp("hsla"+Iu(bn,Uc,Uc,bn)),cL=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,uL=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,dL=/^#([0-9a-fA-F]{6})$/,hL=/^#([0-9a-fA-F]{8})$/;function fL(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=dL.exec(t))?parseInt(e[1]+"ff",16)>>>0:Gr&&Gr[t]!==void 0?Gr[t]:(e=iL.exec(t))?(Js(e[1])<<24|Js(e[2])<<16|Js(e[3])<<8|255)>>>0:(e=oL.exec(t))?(Js(e[1])<<24|Js(e[2])<<16|Js(e[3])<<8|h0(e[4]))>>>0:(e=cL.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=hL.exec(t))?parseInt(e[1],16)>>>0:(e=uL.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=aL.exec(t))?(u0(d0(e[1]),kl(e[2]),kl(e[3]))|255)>>>0:(e=lL.exec(t))?(u0(d0(e[1]),kl(e[2]),kl(e[3]))|h0(e[4]))>>>0:null}function Wd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u0(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,i=Wd(s,r,t+1/3),o=Wd(s,r,t),a=Wd(s,r,t-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Js(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function d0(t){return(parseFloat(t)%360+360)%360/360}function h0(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function kl(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function f0(t){let e=fL(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,s=(e&65280)>>>8,i=(e&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var wa=(t,e,n)=>{if(M.fun(t))return t;if(M.arr(t))return wa({range:t,output:e,extrapolate:n});if(M.str(t.output[0]))return Wm(t);const r=t,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const d=mL(c,i);return pL(c,i[d],i[d+1],s[d],s[d+1],l,o,a,r.map)}};function pL(t,e,n,r,s,i,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===s?r:e===n?t<=e?r:s:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=i(c),r===-1/0?c=-c:s===1/0?c=c+r:c=c*(s-r)+r,c)}function mL(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var gL={linear:t=>t},ba=Symbol.for("FluidValue.get"),Vi=Symbol.for("FluidValue.observers"),Yt=t=>!!(t&&t[ba]),St=t=>t&&t[ba]?t[ba]():t,p0=t=>t[Vi]||null;function yL(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Sa(t,e){const n=t[Vi];n&&n.forEach(r=>{yL(r,e)})}var Fk=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");vL(this,t)}},vL=(t,e)=>$k(t,ba,e);function Qi(t,e){if(t[ba]){let n=t[Vi];n||$k(t,Vi,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function ka(t,e){const n=t[Vi];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Vi]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var $k=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Jl=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_L=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,m0=new RegExp(`(${Jl.source})(%|[a-z]+)`,"i"),wL=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Au=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Bk=t=>{const[e,n]=bL(t);if(!e||qm())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||t}else{if(n&&Au.test(n))return Bk(n);if(n)return n}return t},bL=t=>{const e=Au.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},Kd,SL=(t,e,n,r,s)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Uk=t=>{Kd||(Kd=Gr?new RegExp(`(${Object.keys(Gr).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(i=>St(i).replace(Au,Bk).replace(_L,f0).replace(Kd,f0)),n=e.map(i=>i.match(Jl).map(Number)),s=n[0].map((i,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(i=>wa({...t,output:i}));return i=>{var l;const o=!m0.test(e[0])&&((l=e.find(c=>m0.test(c)))==null?void 0:l.replace(Jl,""));let a=0;return e[0].replace(Jl,()=>`${s[a++](i)}${o||""}`).replace(wL,SL)}},Gm="react-spring: ",Vk=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${Gm}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},kL=Vk(console.warn);function xL(){kL(`${Gm}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var TL=Vk(console.warn);function CL(){TL(`${Gm}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Pu(t){return M.str(t)&&(t[0]=="#"||/\d/.test(t)||!qm()&&Au.test(t)||t in(Gr||{}))}var Jm=qm()?b.useEffect:b.useLayoutEffect,EL=()=>{const t=b.useRef(!1);return Jm(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function zk(){const t=b.useState()[1],e=EL();return()=>{e.current&&t(Math.random())}}var Hk=t=>b.useEffect(t,IL),IL=[];function g0(t){const e=b.useRef(void 0);return b.useEffect(()=>{e.current=t}),e.current}var xa=Symbol.for("Animated:node"),AL=t=>!!t&&t[xa]===t,Nn=t=>t&&t[xa],Ym=(t,e)=>eL(t,xa,e),ju=t=>t&&t[xa]&&t[xa].getPayload(),qk=class{constructor(){Ym(this,this)}getPayload(){return this.payload||[]}},Ru=class Wk extends qk{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,M.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Wk(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return M.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,M.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Vc=class Kk extends Ru{constructor(e){super(0),this._string=null,this._toString=wa({output:[e,e]})}static create(e){return new Kk(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(M.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=wa({output:[this.getValue(),e]})),this._value=0,super.reset()}},zc={dependencies:null},Nu=class extends qk{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Bn(this.source,(n,r)=>{AL(n)?e[r]=n.getValue(t):Yt(n)?e[r]=St(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&ae(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Bn(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){zc.dependencies&&Yt(t)&&zc.dependencies.add(t);const e=ju(t);e&&ae(e,n=>this.add(n))}},PL=class Gk extends Nu{constructor(e){super(e)}static create(e){return new Gk(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,s)=>r.setValue(e[s])).some(Boolean):(super.setValue(e.map(jL)),!0)}};function jL(t){return(Pu(t)?Vc:Ru).create(t)}function Ff(t){const e=Nn(t);return e?e.constructor:M.arr(t)?PL:Pu(t)?Vc:Ru}var y0=(t,e)=>{const n=!M.fun(t)||t.prototype&&t.prototype.isReactComponent;return b.forwardRef((r,s)=>{const i=b.useRef(null),o=n&&b.useCallback(v=>{i.current=OL(s,v)},[s]),[a,l]=NL(r,e),c=zk(),d=()=>{const v=i.current;if(n&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},h=new RL(d,l),f=b.useRef(void 0);Jm(()=>(f.current=h,ae(l,v=>Qi(v,h)),()=>{f.current&&(ae(f.current.deps,v=>ka(v,f.current)),ee.cancel(f.current.update))})),b.useEffect(d,[]),Hk(()=>()=>{const v=f.current;ae(v.deps,w=>ka(w,v))});const p=e.getComponentProps(a.getValue());return b.createElement(t,{...p,ref:o})})},RL=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&ee.write(this.update)}};function NL(t,e){const n=new Set;return zc.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Nu(t),zc.dependencies=null,[t,n]}function OL(t,e){return t&&(M.fun(t)?t(e):t.current=e),e}var v0=Symbol.for("AnimatedComponent"),DL=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=s=>new Nu(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},i=o=>{const a=_0(o)||"Anonymous";return M.str(o)?o=i[o]||(i[o]=y0(o,s)):o=o[v0]||(o[v0]=y0(o,s)),o.displayName=`Animated(${a})`,o};return Bn(t,(o,a)=>{M.arr(t)&&(a=_0(o)),i[a]=i(o)}),{animated:i}},_0=t=>M.str(t)?t:t&&M.str(t.displayName)?t.displayName:M.fun(t)&&t.name||null;function gs(t,...e){return M.fun(t)?t(...e):t}var Uo=(t,e)=>t===!0||!!(e&&t&&(M.fun(t)?t(e):Dt(t).includes(e))),Jk=(t,e)=>M.obj(t)?e&&t[e]:t,Yk=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,LL=t=>t,Qm=(t,e=LL)=>{let n=ML;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const s of n){const i=e(t[s],s);M.und(i)||(r[s]=i)}return r},ML=["config","onProps","onStart","onChange","onPause","onResume","onRest"],FL={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function $L(t){const e={};let n=0;if(Bn(t,(r,s)=>{FL[s]||(e[s]=r,n++)}),n)return e}function Qk(t){const e=$L(t);if(e){const n={to:e};return Bn(t,(r,s)=>s in e||(n[s]=r)),n}return{...t}}function Ta(t){return t=St(t),M.arr(t)?t.map(Ta):Pu(t)?En.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function BL(t){for(const e in t)return!0;return!1}function $f(t){return M.fun(t)||M.arr(t)&&M.obj(t[0])}function UL(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function VL(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var zL={default:{tension:170,friction:26}},Bf={...zL.default,mass:1,damping:1,easing:gL.linear,clamp:!1},HL=class{constructor(){this.velocity=0,Object.assign(this,Bf)}};function qL(t,e,n){n&&(n={...n},w0(n,e),e={...n,...e}),w0(t,e),Object.assign(t,e);for(const o in Bf)t[o]==null&&(t[o]=Bf[o]);let{frequency:r,damping:s}=t;const{mass:i}=t;return M.und(r)||(r<.01&&(r=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/r,2)*i,t.friction=4*Math.PI*s*i/r),t}function w0(t,e){if(!M.und(e.decay))t.duration=void 0;else{const n=!M.und(e.tension)||!M.und(e.friction);(n||!M.und(e.frequency)||!M.und(e.damping)||!M.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var b0=[],WL=class{constructor(){this.changed=!1,this.values=b0,this.toValues=null,this.fromValues=b0,this.config=new HL,this.immediate=!1}};function Xk(t,{key:e,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,a)=>{let l,c,d=Uo(n.cancel??(r==null?void 0:r.cancel),e);if(d)p();else{M.und(n.pause)||(s.paused=Uo(n.pause,e));let v=r==null?void 0:r.pause;v!==!0&&(v=s.paused||Uo(v,e)),l=gs(n.delay||0,e),v?(s.resumeQueue.add(f),i.pause()):(i.resume(),f())}function h(){s.resumeQueue.add(f),s.timeouts.delete(c),c.cancel(),l=c.time-ee.now()}function f(){l>0&&!En.skipAnimation?(s.delayed=!0,c=ee.setTimeout(p,l),s.pauseQueue.add(h),s.timeouts.add(c)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(c),t<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:t,cancel:d},o)}catch(v){a(v)}}})}var Xm=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?ji(t.get()):e.every(n=>n.noop)?Zk(t.get()):_n(t.get(),e.every(n=>n.finished)),Zk=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),_n=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),ji=t=>({value:t,cancelled:!0,finished:!1});function ex(t,e,n,r){const{callId:s,parentId:i,onRest:o}=e,{asyncTo:a,promise:l}=n;return!i&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=s,n.asyncTo=t;const c=Qm(e,(S,g)=>g==="onRest"?void 0:S);let d,h;const f=new Promise((S,g)=>(d=S,h=g)),p=S=>{const g=s<=(n.cancelId||0)&&ji(r)||s!==n.asyncId&&_n(r,!1);if(g)throw S.result=g,h(S),S},v=(S,g)=>{const m=new S0,y=new k0;return(async()=>{if(En.skipAnimation)throw Ca(n),y.result=_n(r,!1),h(y),y;p(m);const k=M.obj(S)?{...S}:{...g,to:S};k.parentId=s,Bn(c,(C,T)=>{M.und(k[T])&&(k[T]=C)});const x=await r.start(k);return p(m),n.paused&&await new Promise(C=>{n.resumeQueue.add(C)}),x})()};let w;if(En.skipAnimation)return Ca(n),_n(r,!1);try{let S;M.arr(t)?S=(async g=>{for(const m of g)await v(m)})(t):S=Promise.resolve(t(v,r.stop.bind(r))),await Promise.all([S.then(d),f]),w=_n(r.get(),!0,!1)}catch(S){if(S instanceof S0)w=S.result;else if(S instanceof k0)w=S.result;else throw S}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?a:void 0,n.promise=i?l:void 0)}return M.fun(o)&&ee.batchedUpdates(()=>{o(w,r,r.item)}),w})()}function Ca(t,e){$o(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var S0=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},k0=class extends Error{constructor(){super("SkipAnimationSignal")}},Uf=t=>t instanceof Zm,KL=1,Zm=class extends Fk{constructor(){super(...arguments),this.id=KL++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Nn(this);return t&&t.getValue()}to(...t){return En.to(this,t)}interpolate(...t){return xL(),En.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Sa(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Eu.sort(this),Sa(this,{type:"priority",parent:this,priority:t})}},Fs=Symbol.for("SpringPhase"),tx=1,Vf=2,zf=4,Gd=t=>(t[Fs]&tx)>0,wr=t=>(t[Fs]&Vf)>0,ho=t=>(t[Fs]&zf)>0,x0=(t,e)=>e?t[Fs]|=Vf|tx:t[Fs]&=~Vf,T0=(t,e)=>e?t[Fs]|=zf:t[Fs]&=~zf,GL=class extends Zm{constructor(t,e){if(super(),this.animation=new WL,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!M.und(t)||!M.und(e)){const n=M.obj(t)?{...t}:{...e,from:t};M.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(wr(this)||this._state.asyncTo)||ho(this)}get goal(){return St(this.animation.to)}get velocity(){const t=Nn(this);return t instanceof Ru?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Gd(this)}get isAnimating(){return wr(this)}get isPaused(){return ho(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,o=ju(r.to);!o&&Yt(r.to)&&(s=Dt(St(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const h=c.constructor==Vc?1:o?o[d].lastPosition:s[d];let f=r.immediate,p=h;if(!f){if(p=c.lastPosition,i.tension<=0){c.done=!0;return}let v=c.elapsedTime+=t;const w=r.fromValues[d],S=c.v0!=null?c.v0:c.v0=M.arr(i.velocity)?i.velocity[d]:i.velocity;let g;const m=i.precision||(w==h?.005:Math.min(1,Math.abs(h-w)*.001));if(M.und(i.duration))if(i.decay){const y=i.decay===!0?.998:i.decay,k=Math.exp(-(1-y)*v);p=w+S/(1-y)*(1-k),f=Math.abs(c.lastPosition-p)<=m,g=S*k}else{g=c.lastVelocity==null?S:c.lastVelocity;const y=i.restVelocity||m/10,k=i.clamp?0:i.bounce,x=!M.und(k),C=w==h?c.v0>0:w<h;let T,E=!1;const A=1,I=Math.ceil(t/A);for(let F=0;F<I&&(T=Math.abs(g)>y,!(!T&&(f=Math.abs(h-p)<=m,f)));++F){x&&(E=p==h||p>h==C,E&&(g=-g*k,p=h));const D=-i.tension*1e-6*(p-h),L=-i.friction*.001*g,X=(D+L)/i.mass;g=g+X*A,p=p+g*A}}else{let y=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,c.durationProgress>0&&(c.elapsedTime=i.duration*c.durationProgress,v=c.elapsedTime+=t)),y=(i.progress||0)+v/this._memoizedDuration,y=y>1?1:y<0?0:y,c.durationProgress=y),p=w+i.easing(y)*(h-w),g=(p-c.lastPosition)/t,f=y==1}c.lastVelocity=g,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),f=!0)}o&&!o[d].done&&(f=!1),f?c.done=!0:e=!1,c.setValue(p,i.round)&&(n=!0)});const a=Nn(this),l=a.getValue();if(e){const c=St(r.to);(l!==c||n)&&!i.decay?(a.setValue(c),this._onChange(c)):n&&i.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return ee.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(wr(this)){const{to:t,config:e}=this.animation;ee.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return M.und(t)?(n=this.queue||[],this.queue=[]):n=[M.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>Xm(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Ca(this._state,t&&this._lastCallId),ee.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=M.obj(n)?n[e]:n,(n==null||$f(n))&&(n=void 0),r=M.obj(r)?r[e]:r,r==null&&(r=void 0);const s={to:n,from:r};return Gd(this)||(t.reverse&&([n,r]=[r,n]),r=St(r),M.und(r)?Nn(this)||this._set(n):this._set(r)),s}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,Qm(t,(o,a)=>/^on/.test(a)?Jk(o,n):o)),E0(this,t,"onProps"),po(this,"onProps",t,this);const s=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return Xk(++this._lastCallId,{key:n,props:t,defaultProps:r,state:i,actions:{pause:()=>{ho(this)||(T0(this,!0),ko(i.pauseQueue),po(this,"onPause",_n(this,fo(this,this.animation.to)),this))},resume:()=>{ho(this)&&(T0(this,!1),wr(this)&&this._resume(),ko(i.resumeQueue),po(this,"onResume",_n(this,fo(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=nx(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(ji(this));const r=!M.und(t.to),s=!M.und(t.from);if(r||s)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(ji(this));const{key:i,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:d=l,from:h=c}=t;s&&!r&&(!e.default||M.und(d))&&(d=h),e.reverse&&([d,h]=[h,d]);const f=!Yn(h,c);f&&(a.from=h),h=St(h);const p=!Yn(d,l);p&&this._focus(d);const v=$f(e.to),{config:w}=a,{decay:S,velocity:g}=w;(r||s)&&(w.velocity=0),e.config&&!v&&qL(w,gs(e.config,i),e.config!==o.config?gs(o.config,i):void 0);let m=Nn(this);if(!m||M.und(d))return n(_n(this,!0));const y=M.und(e.reset)?s&&!e.default:!M.und(h)&&Uo(e.reset,i),k=y?h:this.get(),x=Ta(d),C=M.num(x)||M.arr(x)||Pu(x),T=!v&&(!C||Uo(o.immediate||e.immediate,i));if(p){const F=Ff(d);if(F!==m.constructor)if(T)m=this._set(x);else throw Error(`Cannot animate between ${m.constructor.name} and ${F.name}, as the "to" prop suggests`)}const E=m.constructor;let A=Yt(d),I=!1;if(!A){const F=y||!Gd(this)&&f;(p||F)&&(I=Yn(Ta(k),x),A=!I),(!Yn(a.immediate,T)&&!T||!Yn(w.decay,S)||!Yn(w.velocity,g))&&(A=!0)}if(I&&wr(this)&&(a.changed&&!y?A=!0:A||this._stop(l)),!v&&((A||Yt(l))&&(a.values=m.getPayload(),a.toValues=Yt(d)?null:E==Vc?[1]:Dt(x)),a.immediate!=T&&(a.immediate=T,!T&&!y&&this._set(l)),A)){const{onRest:F}=a;ae(YL,L=>E0(this,e,L));const D=_n(this,fo(this,l));ko(this._pendingCalls,D),this._pendingCalls.add(n),a.changed&&ee.batchedUpdates(()=>{var L;a.changed=!y,F==null||F(D,this),y?gs(o.onRest,D):(L=a.onStart)==null||L.call(a,D,this)})}y&&this._set(k),v?n(ex(e.to,e,this._state,this)):A?this._start():wr(this)&&!p?this._pendingCalls.add(n):n(Zk(k))}_focus(t){const e=this.animation;t!==e.to&&(p0(this)&&this._detach(),e.to=t,p0(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Yt(e)&&(Qi(e,this),Uf(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Yt(t)&&ka(t,this)}_set(t,e=!0){const n=St(t);if(!M.und(n)){const r=Nn(this);if(!r||!Yn(n,r.getValue())){const s=Ff(n);!r||r.constructor!=s?Ym(this,s.create(n)):r.setValue(n),r&&ee.batchedUpdates(()=>{this._onChange(n,e)})}}return Nn(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,po(this,"onStart",_n(this,fo(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),gs(this.animation.onChange,t,this)),gs(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Nn(this).reset(St(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),wr(this)||(x0(this,!0),ho(this)||this._resume())}_resume(){En.skipAnimation?this.finish():Eu.start(this)}_stop(t,e){if(wr(this)){x0(this,!1);const n=this.animation;ae(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Sa(this,{type:"idle",parent:this});const r=e?ji(this.get()):_n(this.get(),fo(this,t??n.to));ko(this._pendingCalls,r),n.changed&&(n.changed=!1,po(this,"onRest",r,this))}}};function fo(t,e){const n=Ta(e),r=Ta(t.get());return Yn(r,n)}function nx(t,e=t.loop,n=t.to){const r=gs(e);if(r){const s=r!==!0&&Qk(r),i=(s||t).reverse,o=!s||s.reset;return Ea({...t,loop:e,default:!1,pause:void 0,to:!i||$f(n)?n:void 0,from:o?t.from:void 0,reset:o,...s})}}function Ea(t){const{to:e,from:n}=t=Qk(t),r=new Set;return M.obj(e)&&C0(e,r),M.obj(n)&&C0(n,r),t.keys=r.size?Array.from(r):null,t}function JL(t){const e=Ea(t);return M.und(e.default)&&(e.default=Qm(e)),e}function C0(t,e){Bn(t,(n,r)=>n!=null&&e.add(r))}var YL=["onStart","onRest","onChange","onPause","onResume"];function E0(t,e,n){t.animation[n]=e[n]!==Yk(e,n)?Jk(e[n],t.key):void 0}function po(t,e,...n){var r,s,i,o;(s=(r=t.animation)[e])==null||s.call(r,...n),(o=(i=t.defaultProps)[e])==null||o.call(i,...n)}var QL=["onStart","onChange","onRest"],XL=1,ZL=class{constructor(e,n){this.id=XL++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];M.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(Ea(e)),this}start(e){let{queue:n}=this;return e?n=Dt(e).map(Ea):this.queue=[],this._flush?this._flush(this,n):(ax(this,n),Hf(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;ae(Dt(n),s=>r[s].stop(!!e))}else Ca(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(M.und(e))this.start({pause:!0});else{const n=this.springs;ae(Dt(e),r=>n[r].pause())}return this}resume(e){if(M.und(e))this.start({pause:!1});else{const n=this.springs;ae(Dt(e),r=>n[r].resume())}return this}each(e){Bn(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,s=this._active.size>0,i=this._changed.size>0;(s&&!this._started||i&&!this._started)&&(this._started=!0,$o(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!s&&this._started,a=i||o&&r.size?this.get():null;i&&n.size&&$o(n,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,$o(r,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;ee.onFrame(this._onFrame)}};function Hf(t,e){return Promise.all(e.map(n=>rx(t,n))).then(n=>Xm(t,n))}async function rx(t,e,n){const{keys:r,to:s,from:i,loop:o,onRest:a,onResolve:l}=e,c=M.obj(e.default)&&e.default;o&&(e.loop=!1),s===!1&&(e.to=null),i===!1&&(e.from=null);const d=M.arr(s)||M.fun(s)?s:void 0;d?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):ae(QL,w=>{const S=e[w];if(M.fun(S)){const g=t._events[w];e[w]=({finished:m,cancelled:y})=>{const k=g.get(S);k?(m||(k.finished=!1),y&&(k.cancelled=!0)):g.set(S,{value:null,finished:m||!1,cancelled:y||!1})},c&&(c[w]=e[w])}});const h=t._state;e.pause===!h.paused?(h.paused=e.pause,ko(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const f=(r||Object.keys(t.springs)).map(w=>t.springs[w].start(e)),p=e.cancel===!0||Yk(e,"cancel")===!0;(d||p&&h.asyncId)&&f.push(Xk(++t._lastAsyncId,{props:e,state:h,actions:{pause:Lf,resume:Lf,start(w,S){p?(Ca(h,t._lastAsyncId),S(ji(t))):(w.onRest=a,S(ex(d,w,h,t)))}}})),h.paused&&await new Promise(w=>{h.resumeQueue.add(w)});const v=Xm(t,await Promise.all(f));if(o&&v.finished&&!(n&&v.noop)){const w=nx(e,o,s);if(w)return ax(t,[w]),rx(t,w,!0)}return l&&ee.batchedUpdates(()=>l(v,t,t.item)),v}function I0(t,e){const n={...t.springs};return e&&ae(Dt(e),r=>{M.und(r.keys)&&(r=Ea(r)),M.obj(r.to)||(r={...r,to:void 0}),ox(n,r,s=>ix(s))}),sx(t,n),n}function sx(t,e){Bn(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Qi(n,t))})}function ix(t,e){const n=new GL;return n.key=t,e&&Qi(n,e),n}function ox(t,e,n){e.keys&&ae(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function ax(t,e){ae(e,n=>{ox(t.springs,n,r=>ix(r,t))})}var eM=b.createContext({pause:!1,immediate:!1}),tM=()=>{const t=[],e=function(r){CL();const s=[];return ae(t,(i,o)=>{if(M.und(r))s.push(i.start());else{const a=n(r,i,o);a&&s.push(i.start(a))}}),s};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const s=t.indexOf(r);~s&&t.splice(s,1)},e.pause=function(){return ae(t,r=>r.pause(...arguments)),this},e.resume=function(){return ae(t,r=>r.resume(...arguments)),this},e.set=function(r){ae(t,(s,i)=>{const o=M.fun(r)?r(i,s):r;o&&s.set(o)})},e.start=function(r){const s=[];return ae(t,(i,o)=>{if(M.und(r))s.push(i.start());else{const a=this._getProps(r,i,o);a&&s.push(i.start(a))}}),s},e.stop=function(){return ae(t,r=>r.stop(...arguments)),this},e.update=function(r){return ae(t,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return M.fun(r)?r(i,s):r};return e._getProps=n,e};function nM(t,e,n){const r=M.fun(e)&&e;r&&!n&&(n=[]);const s=b.useMemo(()=>r||arguments.length==3?tM():void 0,[]),i=b.useRef(0),o=zk(),a=b.useMemo(()=>({ctrls:[],queue:[],flush(g,m){const y=I0(g,m);return i.current>0&&!a.queue.length&&!Object.keys(y).some(x=>!g.springs[x])?Hf(g,m):new Promise(x=>{sx(g,y),a.queue.push(()=>{x(Hf(g,m))}),o()})}}),[]),l=b.useRef([...a.ctrls]),c=b.useRef([]),d=g0(t)||0;b.useMemo(()=>{ae(l.current.slice(t,d),g=>{UL(g,s),g.stop(!0)}),l.current.length=t,h(d,t)},[t]),b.useMemo(()=>{h(0,Math.min(d,t))},n);function h(g,m){for(let y=g;y<m;y++){const k=l.current[y]||(l.current[y]=new ZL(null,a.flush)),x=r?r(y,k):e[y];x&&(c.current[y]=JL(x))}}const f=l.current.map((g,m)=>I0(g,c.current[m])),p=b.useContext(eM),v=g0(p),w=p!==v&&BL(p);Jm(()=>{i.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],ae(g,m=>m())),ae(l.current,(m,y)=>{s==null||s.add(m),w&&m.start({default:p});const k=c.current[y];k&&(VL(m,k.ref),m.ref?m.queue.push(k):m.start(k))})}),Hk(()=>()=>{ae(a.ctrls,g=>g.stop(!0))});const S=f.map(g=>({...g}));return s?[S,s]:S}function rM(t,e){const n=M.fun(t),[[r],s]=nM(1,n?t:[t],n?[]:e);return n||arguments.length==2?[r,s]:r}var sM=class extends Zm{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=wa(...e);const n=this._get(),r=Ff(n);Ym(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Yn(e,n)||(Nn(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&A0(this._active)&&Jd(this)}_get(){const t=M.arr(this.source)?this.source.map(St):Dt(St(this.source));return this.calc(...t)}_start(){this.idle&&!A0(this._active)&&(this.idle=!1,ae(ju(this),t=>{t.done=!1}),En.skipAnimation?(ee.batchedUpdates(()=>this.advance()),Jd(this)):Eu.start(this))}_attach(){let t=1;ae(Dt(this.source),e=>{Yt(e)&&Qi(e,this),Uf(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){ae(Dt(this.source),t=>{Yt(t)&&ka(t,this)}),this._active.clear(),Jd(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Dt(this.source).reduce((e,n)=>Math.max(e,(Uf(n)?n.priority:0)+1),0))}};function iM(t){return t.idle!==!1}function A0(t){return!t.size||Array.from(t).every(iM)}function Jd(t){t.idle||(t.idle=!0,ae(ju(t),e=>{e.done=!0}),Sa(t,{type:"idle",parent:t}))}En.assign({createStringInterpolator:Uk,to:(t,e)=>new sM(t,e)});var lx=/^--/;function oM(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!lx.test(t)&&!(Vo.hasOwnProperty(t)&&Vo[t])?e+"px":(""+e).trim()}var P0={};function aM(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:r,style:s,children:i,scrollTop:o,scrollLeft:a,viewBox:l,...c}=e,d=Object.values(c),h=Object.keys(c).map(f=>n||t.hasAttribute(f)?f:P0[f]||(P0[f]=f.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(t.textContent=i);for(const f in s)if(s.hasOwnProperty(f)){const p=oM(f,s[f]);lx.test(f)?t.style.setProperty(f,p):t.style[f]=p}h.forEach((f,p)=>{t.setAttribute(f,d[p])}),r!==void 0&&(t.className=r),o!==void 0&&(t.scrollTop=o),a!==void 0&&(t.scrollLeft=a),l!==void 0&&t.setAttribute("viewBox",l)}var Vo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lM=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),cM=["Webkit","Ms","Moz","O"];Vo=Object.keys(Vo).reduce((t,e)=>(cM.forEach(n=>t[lM(n,e)]=t[e]),t),Vo);var uM=/^(matrix|translate|scale|rotate|skew)/,dM=/^(translate)/,hM=/^(rotate|skew)/,Yd=(t,e)=>M.num(t)&&t!==0?t+e:t,Yl=(t,e)=>M.arr(t)?t.every(n=>Yl(n,e)):M.num(t)?t===e:parseFloat(t)===e,fM=class extends Nu{constructor({x:t,y:e,z:n,...r}){const s=[],i=[];(t||e||n)&&(s.push([t||0,e||0,n||0]),i.push(o=>[`translate3d(${o.map(a=>Yd(a,"px")).join(",")})`,Yl(o,0)])),Bn(r,(o,a)=>{if(a==="transform")s.push([o||""]),i.push(l=>[l,l===""]);else if(uM.test(a)){if(delete r[a],M.und(o))return;const l=dM.test(a)?"px":hM.test(a)?"deg":"";s.push(Dt(o)),i.push(a==="rotate3d"?([c,d,h,f])=>[`rotate3d(${c},${d},${h},${Yd(f,l)})`,Yl(f,0)]:c=>[`${a}(${c.map(d=>Yd(d,l)).join(",")})`,Yl(c,a.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new pM(s,i)),super(r)}},pM=class extends Fk{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return ae(this.inputs,(n,r)=>{const s=St(n[0]),[i,o]=this.transforms[r](M.arr(s)?s:n.map(St));t+=" "+i,e=e&&o}),e?"none":t}observerAdded(t){t==1&&ae(this.inputs,e=>ae(e,n=>Yt(n)&&Qi(n,this)))}observerRemoved(t){t==0&&ae(this.inputs,e=>ae(e,n=>Yt(n)&&ka(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Sa(this,t)}},mM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];En.assign({batchedUpdates:Us.unstable_batchedUpdates,createStringInterpolator:Uk,colors:sL});var gM=DL(mM,{applyAnimatedValues:aM,createAnimatedStyle:t=>new fM(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Qd=gM.animated;function yM(t,e,n){return Math.max(e,Math.min(t,n))}const lt={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function j0(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function R0(t,e,n,r=.15){return r===0?yM(t,e,n):t<e?-j0(e-t,n-e,r)+e:t>n?+j0(t-n,n-e,r)+n:t}function vM(t,[e,n],[r,s]){const[[i,o],[a,l]]=t;return[R0(e,i,o,r),R0(n,a,l,s)]}function _M(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wM(t){var e=_M(t,"string");return typeof e=="symbol"?e:String(e)}function bt(t,e,n){return e=wM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(r){bt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const cx={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function O0(t){return t?t[0].toUpperCase()+t.slice(1):""}const bM=["enter","leave"];function SM(t=!1,e){return t&&!bM.includes(e)}function kM(t,e="",n=!1){const r=cx[t],s=r&&r[e]||e;return"on"+O0(t)+O0(s)+(SM(n,s)?"Capture":"")}const xM=["gotpointercapture","lostpointercapture"];function TM(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=xM.includes(e)?"capturecapture":"capture",s=!!~e.indexOf(r);return s&&(e=e.replace("capture","")),{device:e,capture:s,passive:n}}function CM(t,e=""){const n=cx[t],r=n&&n[e]||e;return t+r}function Ou(t){return"touches"in t}function ux(t){return Ou(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function EM(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function IM(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function dx(t){return Ou(t)?IM(t)[0]:t}function AM(t){return EM(t).map(e=>e.identifier)}function Xd(t){const e=dx(t);return Ou(t)?e.identifier:e.pointerId}function D0(t){const e=dx(t);return[e.clientX,e.clientY]}function PM(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return e}function Hc(t,...e){return typeof t=="function"?t(...e):t}function jM(){}function RM(...t){return t.length===0?jM:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function L0(t,e){return Object.assign({},e,t||{})}const NM=32;class OM{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:s}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=s,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?Hc(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,PM(e)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const C=n._delta.map(Math.abs);lt.addTo(n._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:d,values:h}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=l&&h[0]),d[1]===!1&&(d[1]=Math.abs(a)>=c&&h[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=l&&Math.sign(o)*l),d[1]===!1&&(d[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[C,T]=h;f[0]=d[0]!==!1?C-d[0]:0,f[1]=d[1]!==!1?T-d[1]:0}else f[0]=d[0]!==!1?o-d[0]:0,f[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(f);const p=n.offset,v=n._active&&!n._blocked||n.active;v&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=Hc(r.bounds,n)),this.setup&&this.setup()),n.movement=f,this.computeOffset()));const[w,S]=n.offset,[[g,m],[y,k]]=n._bounds;n.overflow=[w<g?-1:w>m?1:0,S<y?-1:S>k?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const x=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=vM(n._bounds,n.offset,x),n.delta=lt.sub(n.offset,p),this.computeMovement(),v&&(!n.last||i>NM)){n.delta=lt.sub(n.offset,p);const C=n.delta.map(Math.abs);lt.addTo(n.distance,C),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[C[0]/i,C[1]/i],n.timeDelta=i)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const s=this.handler(Ie(Ie(Ie({},n),e),{},{[this.aliasKey]:e.values}));s!==void 0&&(e.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function DM([t,e],n){const r=Math.abs(t),s=Math.abs(e);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class LM extends OM{constructor(...e){super(...e),bt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=lt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=lt.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const s=typeof r.axisThreshold=="object"?r.axisThreshold[ux(e)]:r.axisThreshold;n.axis=DM(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const MM=t=>t,M0=.15,hx={enabled(t=!0){return t},eventOptions(t,e,n){return Ie(Ie({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[M0,M0];case!1:return[0,0];default:return lt.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return lt.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||MM},threshold(t){return lt.toVector(t,0)}},FM=0,Ka=Ie(Ie({},hx),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=FM){return t},bounds(t={}){if(typeof t=="function")return i=>Ka.bounds(t(i));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=t;return[[e,n],[r,s]]}}),F0={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class $M extends LM{constructor(...e){super(...e),bt(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Ka.bounds(s)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const s=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Xd(e),r._pointerActive=!0,this.computeValues(D0(e)),this.computeInitial(),n.preventScrollAxis&&ux(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=Xd(e);if(n._pointerId!==void 0&&s!==n._pointerId)return;const i=D0(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=lt.sub(i,n._values),this.computeValues(i)),lt.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=Xd(e);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,o]=n._distance;if(n.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,d]=n._movement,[h,f]=r.swipe.velocity,[p,v]=r.swipe.distance,w=r.swipe.duration;if(n.elapsedTime<w){const S=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);S>h&&Math.abs(c)>p&&(n.swipe[0]=Math.sign(a)),g>f&&Math.abs(d)>v&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,BM(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=F0[e.key];if(n){const r=this.state,s=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,lt.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in F0&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function BM(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Ga=typeof window<"u"&&window.document&&window.document.createElement;function fx(){return Ga&&"ontouchstart"in window}function UM(){return fx()||Ga&&window.navigator.maxTouchPoints>1}function VM(){return Ga&&"onpointerdown"in window}function zM(){return Ga&&"exitPointerLock"in window.document}function HM(){try{return"constructor"in GestureEvent}catch{return!1}}const Qt={isBrowser:Ga,gesture:HM(),touch:fx(),touchscreen:UM(),pointer:VM(),pointerLock:zM()},qM=250,WM=180,KM=.5,GM=50,JM=250,YM=10,$0={mouse:0,touch:0,pen:8},QM=Ie(Ie({},Ka),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&Qt.pointerLock,Qt.touch&&n?"touch":this.pointerLock?"mouse":Qt.pointer&&!s?"pointer":Qt.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?qM:void 0,!(!Qt.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=lt.toVector(t,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:t=KM,distance:e=GM,duration:n=JM}={}){return{velocity:this.transform(lt.toVector(t)),distance:this.transform(lt.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return WM;case!1:return 0;default:return t}},axisThreshold(t){return t?Ie(Ie({},$0),t):$0},keyboardDisplacement(t=YM){return t}});Ie(Ie({},hx),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Qt.touch&&Qt.gesture)return"gesture";if(Qt.touch&&r)return"touch";if(Qt.touchscreen){if(Qt.pointer)return"pointer";if(Qt.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const s=o=>{const a=L0(Hc(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=L0(Hc(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:o=>[s(o),i(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",lt.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Ie(Ie({},Ka),{},{mouseOnly:(t=!0)=>t});Ie(Ie({},Ka),{},{mouseOnly:(t=!0)=>t});const px=new Map,qf=new Map;function XM(t){px.set(t.key,t.engine),qf.set(t.key,t.resolver)}const ZM={key:"drag",engine:$M,resolver:QM};function eF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tF(t,e){if(t==null)return{};var n=eF(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const nF={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Qt.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},rF=["target","eventOptions","window","enabled","transform"];function Ql(t={},e){const n={};for(const[r,s]of Object.entries(e))switch(typeof s){case"function":n[r]=s.call(n,t[r],r,t);break;case"object":n[r]=Ql(t[r],s);break;case"boolean":s&&(n[r]=t[r]);break}return n}function sF(t,e,n={}){const r=t,{target:s,eventOptions:i,window:o,enabled:a,transform:l}=r,c=tF(r,rF);if(n.shared=Ql({target:s,eventOptions:i,window:o,enabled:a,transform:l},nF),e){const d=qf.get(e);n[e]=Ql(Ie({shared:n.shared},c),d)}else for(const d in c){const h=qf.get(d);h&&(n[d]=Ql(Ie({shared:n.shared},c[d]),h))}return n}class mx{constructor(e,n){bt(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,s,i){const o=this._listeners,a=CM(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ie(Ie({},l),i);e.addEventListener(a,s,c);const d=()=>{e.removeEventListener(a,s,c),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class iF{constructor(){bt(this,"_timeouts",new Map)}add(e,n,r=140,...s){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...s))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class oF{constructor(e){bt(this,"gestures",new Set),bt(this,"_targetEventStore",new mx(this)),bt(this,"gestureEventStores",{}),bt(this,"gestureTimeoutStores",{}),bt(this,"handlers",{}),bt(this,"config",{}),bt(this,"pointerIds",new Set),bt(this,"touchIds",new Set),bt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),aF(this,e)}setEventIds(e){if(Ou(e))return this.touchIds=new Set(AM(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=sF(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=B0(r,a.eventOptions,!!s);if(a.enabled){const c=px.get(o);new c(this,e,o).bind(l)}}const i=B0(r,n.eventOptions,!!s);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](Ie(Ie({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const i in r)r[i]=RM(...r[i]);if(!s)return r;for(const i in r){const{device:o,capture:a,passive:l}=TM(i);this._targetEventStore.add(s,o,"",r[i],{capture:a,passive:l})}}}}function Ys(t,e){t.gestures.add(e),t.gestureEventStores[e]=new mx(t,e),t.gestureTimeoutStores[e]=new iF}function aF(t,e){e.drag&&Ys(t,"drag"),e.wheel&&Ys(t,"wheel"),e.scroll&&Ys(t,"scroll"),e.move&&Ys(t,"move"),e.pinch&&Ys(t,"pinch"),e.hover&&Ys(t,"hover")}const B0=(t,e,n)=>(r,s,i,o={},a=!1)=>{var l,c;const d=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let f=a?r:kM(r,s,d);n&&h&&(f+="Passive"),t[f]=t[f]||[],t[f].push(i)};function lF(t,e={},n,r){const s=Sn.useMemo(()=>new oF(t),[]);if(s.applyHandlers(t,r),s.applyConfig(e,n),Sn.useEffect(s.effect.bind(s)),Sn.useEffect(()=>s.clean.bind(s),[]),e.target===void 0)return s.bind.bind(s)}function cF(t,e){return XM(ZM),lF({drag:t},e||{},"drag")}const uF=({subtask:t,onToggle:e})=>u.jsxs("div",{className:`${se.subtaskItem} ${t.completed?se.completed:""} ${se.clickable}`,onClick:n=>{n.stopPropagation(),e()},children:[u.jsx("div",{className:se.subtaskCheckbox}),u.jsx("span",{children:t.text})]}),dF={low:{label:"Baixa",icon:"batteryLow"},medium:{label:"Mdia",icon:"batteryMedium"},high:{label:"Alta",icon:"batteryFull"}},eg=({task:t,tags:e,onEdit:n,onDragStart:r,onDragEnd:s,isDragging:i,quadrant:o,onTriage:a})=>{const{handleCompleteTask:l,handleSetFrog:c,frogTaskId:d,handleDeleteTask:h,handleToggleSubtask:f}=Vt(),{startFocusOnTask:p,activeTaskId:v,status:w}=Yi(),{addNotification:S,handleNavigate:g}=It(),[m,y]=b.useState(!0),k=b.useRef(),x=80,C=o==="inbox",T=b.useMemo(()=>{var ce;return((ce=t.subtasks)==null?void 0:ce.some(Hn=>!Hn.completed))??!1},[t.subtasks]),E=w!=="idle",[A,I]=b.useState(!1),F=d===t.id,D=b.useMemo(()=>C?"check":t.pomodoroEstimate>0?"focus":"check",[t.pomodoroEstimate,C]),[{x:L,scale:X},K]=rM(()=>({x:0,scale:1})),re=()=>{S("Finalize as subtarefas antes de concluir a tarefa principal.","","info")},te=()=>{F&&S("Sapo do Dia Concludo! VITRIA!","","success"),l(t.id)},j=cF(({down:ce,movement:[Hn],axis:to,first:Bu,last:Za,event:Uu,cancel:Vu})=>{if(!A){if(Bu&&(k.current=setTimeout(()=>{if(r){I(!0);const no=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});Uu.target.dispatchEvent(no),Vu()}},400)),to&&clearTimeout(k.current),Hn>0&&T&&!C){if(ce){const no=Math.min(Hn,x/2);K.start({x:no,scale:1.05,immediate:!0})}Za&&(re(),K.start({x:0,scale:1}));return}if(to==="x"&&ce&&K.start({x:Hn,scale:1.05,immediate:!0}),Za){if(clearTimeout(k.current),to==="x"){if(Hn>x){K.start({x:window.innerWidth,onRest:te});return}else if(Hn<-x){K.start({x:-window.innerWidth,onRest:()=>h(t.id)});return}}K.start({x:0,scale:1})}}},{axis:"lock",filterTaps:!0,rubberband:!0,from:()=>[L.get(),0],eventOptions:{passive:!1},threshold:10});b.useEffect(()=>{i||I(!1)},[i]);const V=ce=>{if(ce.stopPropagation(),T&&!C){re();return}te()},W=ce=>{ce.stopPropagation(),!E&&(p(t.id,t.title,t.customDuration),g("focus"))},le=t.tagId?e.find(ce=>ce.id===t.tagId):null,de=t.energyNeeded?dF[t.energyNeeded]:null,zt=v===t.id,oe=!T||C,zn=C?"Vitria Rpida":"Concluir",ln=L.to(ce=>oe?Math.max(0,ce/x)*.7:0),gr=L.to(ce=>Math.max(0,-ce/x)*.7),$u=`
        ${se.taskCard}
        ${t.status==="done"?se.statusDone:""}
        ${i?se.dragging:""}
        ${C?se.inboxCard:""}
        ${F?se.isFrog:""}
    `;return u.jsxs("div",{className:se.cardWrapper,children:[u.jsx(Qd.div,{className:`${se.swipeBackground} ${se.completeBackground}`,style:{opacity:ln},children:u.jsxs("div",{className:se.swipeIcon,children:[u.jsx(O,{path:R.check}),u.jsx("span",{children:zn})]})}),u.jsx(Qd.div,{className:`${se.swipeBackground} ${se.deleteBackground}`,style:{opacity:gr},children:u.jsxs("div",{className:se.swipeIcon,children:[u.jsx(O,{path:R.trash}),u.jsx("span",{children:"Excluir"})]})}),u.jsx(Qd.div,{...j(),draggable:A,onDragStart:A?r:void 0,onDragEnd:A?ce=>{s&&s(ce),I(!1)}:void 0,className:$u,style:{x:L,scale:X,touchAction:"pan-y"},children:u.jsxs("div",{className:se.taskCardContent,children:[u.jsxs("div",{className:se.taskCardHeader,children:[u.jsxs("div",{className:se.taskCardTitleGroup,children:[D==="check"&&u.jsx("div",{className:`${se.checkbox} ${oe?"":se.disabled}`,onClick:V}),D==="focus"&&u.jsx("button",{title:zt&&E?"Focando":"Iniciar Foco",onClick:W,className:`icon-button ${se.headerPlayButton} ${zt&&E?se.activeFocus:""}`,disabled:E,children:u.jsx(O,{path:zt&&E?R.zap:R.play})}),u.jsx("h4",{children:t.title})]}),u.jsxs("div",{className:se.taskCardActions,children:[C&&a?u.jsx("button",{title:"Organizar Tarefa",onClick:ce=>{ce.stopPropagation(),a(t)},className:"icon-button",children:u.jsx(O,{path:R.layoutGrid})}):u.jsx(u.Fragment,{children:u.jsx("button",{title:F?"Este  o Sapo do Dia":"Marcar como Sapo do Dia",onClick:ce=>{ce.stopPropagation(),c(t.id)},disabled:F,className:`icon-button ${F?se.frogIconActive:""}`,children:u.jsx(O,{path:R.frog})})}),n&&t.templateId!==50&&u.jsx("button",{title:"Editar Tarefa",onClick:ce=>{ce.stopPropagation(),n(t)},className:"icon-button",children:u.jsx(O,{path:R.pencil})})]})]}),t.description&&!C&&u.jsx("p",{className:se.taskCardDescription,children:t.description}),t.subtasks&&t.subtasks.length>0&&!C&&u.jsxs("div",{className:`${se.subtasksSection} ${m?"":se.collapsed}`,children:[u.jsxs("div",{className:se.subtasksHeader,onClick:()=>y(!m),children:[u.jsxs("div",{children:["Subtarefas (",t.subtasks.filter(ce=>ce.completed).length,"/",t.subtasks.length,")"]}),u.jsx(O,{path:R.chevronDown,className:se.collapsibleChevron})]}),m&&u.jsx("div",{className:se.subtasksContent,children:t.subtasks.map(ce=>u.jsx(uF,{subtask:ce,onToggle:()=>f(t.id,ce.id)},ce.id))})]}),(le||de)&&!C&&u.jsxs("div",{className:se.taskCardFooter,children:[u.jsx("div",{className:se.footerTags,children:le&&u.jsx("div",{className:se.footerTag,style:{backgroundColor:le.color},children:le.name})}),de&&u.jsx("div",{title:`Energia: ${de.label}`,className:`${se.footerTag} ${se.energyTag}`,children:u.jsx(O,{path:R[de.icon]})})]})]})})]})},hF="_card_1xn00_3",fF="_header_1xn00_13",pF="_taskList_1xn00_27",mF="_emptyState_1xn00_33",xl={card:hF,header:fF,taskList:pF,emptyState:mF},gF=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},yF=()=>{const{tasks:t,tags:e}=Vt(),n=gF(),r=b.useMemo(()=>t.filter(s=>s.dueDate===n&&s.status!=="done"),[t,n]);return u.jsxs("div",{className:xl.card,children:[u.jsx("div",{className:xl.header,children:u.jsxs("h3",{children:[u.jsx(O,{path:R.calendar})," Agenda de Hoje"]})}),r.length>0?u.jsx("div",{className:xl.taskList,children:r.map(s=>u.jsx(eg,{task:s,tags:e,quadrant:s.quadrant},s.id))}):u.jsx("div",{className:xl.emptyState,children:u.jsx("p",{children:"Nenhuma tarefa agendada para hoje. Aproveite o dia ou adicione novas tarefas!"})})]})},vF="_container_1p4hs_3",_F="_contentWrapper_1p4hs_7",wF="_dashboardHeader_1p4hs_13",bF="_greetingContent_1p4hs_19",SF="_headerIcon_1p4hs_39",kF="_brainDumpForm_1p4hs_46",xF="_frogCard_1p4hs_71",TF="_hasFrog_1p4hs_81",CF="_frogCardHeader_1p4hs_86",EF="_frogCardHeaderActions_1p4hs_93",IF="_iconButton_1p4hs_99",AF="_frogTitleCard_1p4hs_117",PF="_frogTaskTitle_1p4hs_125",jF="_frogCardContentEmpty_1p4hs_132",RF="_frogSubtasks_1p4hs_153",NF="_frogSubtaskItem_1p4hs_162",OF="_completed_1p4hs_187",DF="_frogSubtaskCheckbox_1p4hs_192",Le={container:vF,contentWrapper:_F,dashboardHeader:wF,greetingContent:bF,headerIcon:SF,brainDumpForm:kF,frogCard:xF,hasFrog:TF,frogCardHeader:CF,frogCardHeaderActions:EF,iconButton:IF,frogTitleCard:AF,frogTaskTitle:PF,frogCardContentEmpty:jF,frogSubtasks:RF,frogSubtaskItem:NF,completed:OF,frogSubtaskCheckbox:DF};var gx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U0=Sn.createContext&&Sn.createContext(gx),LF=["attr","size","title"];function MF(t,e){if(t==null)return{};var n=FF(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function V0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V0(Object(n),!0).forEach(function(r){$F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $F(t,e,n){return e=BF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BF(t){var e=UF(t,"string");return typeof e=="symbol"?e:e+""}function UF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yx(t){return t&&t.map((e,n)=>Sn.createElement(e.tag,Wc({key:n},e.attr),yx(e.child)))}function ke(t){return e=>Sn.createElement(VF,qc({attr:Wc({},t.attr)},e),yx(t.child))}function VF(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=MF(t,LF),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Sn.createElement("svg",qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Wc(Wc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Sn.createElement("title",null,i),t.children)};return U0!==void 0?Sn.createElement(U0.Consumer,null,n=>e(n)):e(gx)}function zF(t){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function HF(t){return ke({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const z0=["Vamos fazer acontecer hoje?","Que a fora do sapo esteja com voc.","O dia s comea depois de um bom planejamento.","Defina suas intenes e v com tudo!","Um pequeno passo hoje, um grande salto para seus objetivos."],H0=["Mantenha o foco, voc est quase l!","A tarde  perfeita para concluir tarefas importantes.","No desista agora, o sapo est esperando!","Uma pausa para o caf e de volta  produtividade!","Continue o bom trabalho, seu futuro agradece."],q0=["A noite  uma criana, planeje seu prximo dia.","Descanse e recarregue, amanh tem mais.","Reflita sobre suas vitrias de hoje.","Ainda d tempo de planejar um amanh incrvel.","Bom descanso, guerreiro do foco!"],W0=()=>{const t=new Date().getHours();return t<12?{text:"Bom dia",icon:R.sun,gradient:"linear-gradient(140deg, #5D9CEC 0%, #3C6DB9 100%)",phrase:z0[Math.floor(Math.random()*z0.length)]}:t<18?{text:"Boa tarde",icon:R.sun,gradient:"linear-gradient(140deg, #FFC837 0%, #FF8C00 100%)",phrase:H0[Math.floor(Math.random()*H0.length)]}:{text:"Boa noite",icon:R.moon,gradient:"linear-gradient(140deg, #8A79F7 0%, #624EC2 100%)",phrase:q0[Math.floor(Math.random()*q0.length)]}},vx=()=>{const{tasks:t,frogTaskId:e,handleSetFrog:n,handleAddTask:r,handleUnsetFrog:s,handleToggleSubtask:i,leavingHomeItems:o,handleToggleLeavingHomeItem:a,handleAddLeavingHomeItem:l,handleRemoveLeavingHomeItem:c,handleResetLeavingHomeItems:d}=Vt(),{handleNavigate:h,addNotification:f,setQuickTaskForCompletion:p}=It(),{activeTaskId:v,status:w,startFocusOnTask:S}=Yi(),{userName:g}=vu(),[m,y]=b.useState(null),[k,x]=b.useState(""),[C,T]=b.useState(!1),[E,A]=b.useState(null),[I,F]=b.useState(()=>W0());b.useEffect(()=>{const oe=()=>{document.visibilityState==="visible"&&F(W0())};return document.addEventListener("visibilitychange",oe),()=>{document.removeEventListener("visibilitychange",oe)}},[]);const D=b.useMemo(()=>t.find(oe=>oe.id===e&&oe.status!=="done"),[t,e]),L=b.useMemo(()=>t.filter(oe=>oe.status!=="done"),[t]),X=b.useMemo(()=>{var oe;return((oe=D==null?void 0:D.subtasks)==null?void 0:oe.filter(zn=>!zn.completed).length)??0},[D]),K=b.useMemo(()=>{var oe;return(((oe=D==null?void 0:D.subtasks)==null?void 0:oe.length)??0)>0},[D]),re=b.useMemo(()=>(D==null?void 0:D.title)===" Card Especial FocusFrog N.1",[D]),te=b.useMemo(()=>D?D.id===v&&w!=="idle":!1,[D,v,w]),j=oe=>{oe.preventDefault(),k.trim()&&(r({title:k,quadrant:"inbox",pomodoroEstimate:1,energyNeeded:"medium"}),x(""))},V=()=>{E&&(n(E),f("Sapo do Dia definido","","success"),T(!1),A(null))},W=()=>{T(!1),h("tasks")},le=()=>{if(re){window.open("https://www.instagram.com/focus.frog/","_blank");return}!D||K||(D.pomodoroEstimate>0?(S(D.id,D.title,D.customDuration),h("focus")):p(D))},de=oe=>u.jsxs("div",{className:`${Le.frogSubtaskItem} ${oe.completed?Le.completed:""}`,onClick:()=>D&&i(D.id,oe.id),children:[u.jsx("div",{className:Le.frogSubtaskCheckbox}),u.jsx("span",{children:oe.text})]},oe.id),zt=()=>re?"Visitar o Instagram ":te?u.jsxs(u.Fragment,{children:[u.jsx(O,{path:R.zap})," Focando no Sapo"]}):K?X>1?`Faltam ${X} subtarefas`:X===1?"Falta 1 subtarefa":"Sapo comido! ":"Comer o Sapo";return u.jsxs("div",{className:Le.container,children:[m&&u.jsx(Ek,{taskToEdit:m,onClose:()=>y(null)}),u.jsx(Z5,{}),u.jsx(Ik,{isOpen:C,onClose:()=>T(!1),tasks:L,selectedTask:E,onSelectTask:A,onConfirm:V,onNavigateToTasks:W}),u.jsx("div",{className:Le.dashboardHeader,style:{background:I.gradient},children:u.jsxs("div",{className:Le.greetingContent,children:[u.jsx("img",{src:"/icon-192.png",alt:"FocusFrog App Icon",className:Le.headerIcon}),u.jsxs("div",{children:[u.jsxs("h2",{children:[I.text,", ",g||"Usurio","!"]}),u.jsx("p",{children:I.phrase})]})]})}),u.jsxs("div",{className:Le.contentWrapper,children:[u.jsxs("form",{id:"tutorial-step1-form",onSubmit:j,className:Le.brainDumpForm,children:[u.jsx("input",{type:"text",placeholder:"O que est na sua mente? (Despejo Mental)",value:k,onChange:oe=>x(oe.target.value)}),u.jsx("button",{type:"submit",disabled:!k.trim(),children:u.jsx(O,{path:R.plus})})]}),u.jsxs("div",{className:`${Le.frogCard} ${D?Le.hasFrog:""} ${te?Le.frogFocused:""}`,children:[u.jsxs("div",{className:Le.frogCardHeader,children:[u.jsxs("h3",{children:[u.jsx(O,{path:R.frog})," Sapo do Dia"]}),D&&u.jsxs("div",{className:Le.frogCardHeaderActions,children:[u.jsx("button",{className:`btn btn-secondary btn-small ${Le.iconButton}`,onClick:()=>T(!0),children:u.jsx(zF,{})}),u.jsx("button",{className:`btn btn-secondary btn-icon btn-small ${Le.iconButton}`,onClick:s,title:"Remover Sapo",children:u.jsx(HF,{})})]})]}),D?u.jsxs("div",{children:[u.jsx("div",{className:Le.frogTitleCard,children:u.jsx("p",{className:Le.frogTaskTitle,children:D.title})}),K&&u.jsx("div",{className:Le.frogSubtasks,children:D.subtasks.map(de)}),u.jsx("button",{id:"eat-the-frog-button",className:"btn btn-primary",style:{width:"100%"},onClick:le,disabled:te||K&&!re,children:zt()})]}):u.jsxs("div",{id:"frog-card-empty-state",className:Le.frogCardContentEmpty,onClick:()=>T(!0),children:[u.jsx(O,{path:R.target,size:24}),u.jsx("strong",{children:"Escolha seu Sapo"}),u.jsx("p",{children:"Selecione a tarefa que vai destravar seu dia"})]})]}),u.jsx(v3,{items:o,onToggleItem:a,onAddItem:l,onRemoveItem:c,onResetItems:d}),u.jsx(yF,{onEditTask:y})]})]})},qF="_focusScreen_oaf86_3",WF="_screenContent_oaf86_11",KF="_titleContainer_oaf86_27",GF="_subtaskTitle_oaf86_50",JF="_zenSanctuary_oaf86_58",YF="_zenElements_oaf86_68",QF="_characterContainer_oaf86_75",XF="_timerTime_oaf86_79",ZF="_controlsContainer_oaf86_86",e$="_mainActionButton_oaf86_100",t$="_footerActionLeft_oaf86_110",n$="_footerActionRight_oaf86_110",r$="_secondaryActionButton_oaf86_118",s$="_timerCycle_oaf86_138",We={focusScreen:qF,screenContent:WF,"cycle-focus":"_cycle-focus_oaf86_22","cycle-shortBreak":"_cycle-shortBreak_oaf86_23","cycle-longBreak":"_cycle-longBreak_oaf86_24",titleContainer:KF,subtaskTitle:GF,zenSanctuary:JF,zenElements:YF,characterContainer:QF,timerTime:XF,controlsContainer:ZF,mainActionButton:e$,footerActionLeft:t$,footerActionRight:n$,secondaryActionButton:r$,timerCycle:s$},i$=t=>{const[e,n]=b.useState(window.matchMedia(t).matches);return b.useEffect(()=>{const r=window.matchMedia(t),s=i=>{n(i.matches)};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[t]),e},o$="_auraContainer_3ebzk_3",a$="_auraSvg_3ebzk_7",l$="_tick_3ebzk_14",c$="_tickInactive_3ebzk_21",u$="_tickActive_3ebzk_27",Qs={auraContainer:o$,auraSvg:a$,tick:l$,tickInactive:c$,tickActive:u$,"aura--focus":"_aura--focus_3ebzk_32","aura--shortBreak":"_aura--shortBreak_3ebzk_36","aura--longBreak":"_aura--longBreak_3ebzk_40"},Zd=60,Tl=150,Cl=135,K0=10,d$=({progress:t,size:e=300,mode:n})=>{const r=b.useMemo(()=>{const o=[];for(let a=0;a<Zd;a++){const c=(a/Zd*360-90)*Math.PI/180,d=Tl+(Cl-K0)*Math.cos(c),h=Tl+(Cl-K0)*Math.sin(c),f=Tl+Cl*Math.cos(c),p=Tl+Cl*Math.sin(c);o.push({x1:d,y1:h,x2:f,y2:p})}return o},[]),s=Math.ceil(t/100*Zd),i=Qs[`aura--${n}`];return u.jsx("div",{className:Qs.auraContainer,style:{width:e,height:e},children:u.jsx("svg",{viewBox:"0 0 300 300",className:Qs.auraSvg,children:u.jsx("g",{children:r.map((o,a)=>u.jsx("line",{className:`
                                ${Qs.tick} 
                                ${a<s?Qs.tickActive:Qs.tickInactive}
                                ${i}
                            `,x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},a))})})})},h$="_frogContainer_1l3ep_3",f$="_frogSvg_1l3ep_7",p$="_frogBody_1l3ep_13",m$="_frogEyes_1l3ep_19",g$="_visible_1l3ep_25",y$="_frogMouth_1l3ep_30",v$="_eyesMeditating_1l3ep_59",_$="_awaken_1l3ep_1",w$="_eyesIdle_1l3ep_84",qt={frogContainer:h$,frogSvg:f$,frogBody:p$,frogEyes:m$,visible:g$,frogMouth:y$,"status--meditating":"_status--meditating_1l3ep_59",eyesMeditating:v$,awaken:_$,"status--idle":"_status--idle_1l3ep_70","idle-bob":"_idle-bob_1l3ep_1","status--happy":"_status--happy_1l3ep_80","happy-bounce":"_happy-bounce_1l3ep_1",eyesIdle:w$},b$=({status:t,size:e=150})=>{const n=`${qt.frogEyes} ${qt.eyesIdle} ${t==="idle"||t==="happy"?qt.visible:""}`,r=`${qt.frogEyes} ${qt.eyesMeditating} ${t==="meditating"?qt.visible:""}`,s=`${qt.frogMouth} ${t==="happy"?qt.visible:""}`;return u.jsx("div",{className:`${qt.frogContainer} ${qt["status--"+t]}`,style:{width:e,height:e},children:u.jsxs("svg",{viewBox:"0 0 100 100",className:qt.frogSvg,children:[u.jsxs("g",{className:qt.frogBody,children:[u.jsx("path",{d:"M50,95 C25,95 20,70 20,50 C20,25 30,20 50,20 C70,20 80,25 80,50 C80,70 75,95 50,95 Z",fill:"#5c8b57"}),u.jsx("path",{d:"M50,90 C35,90 30,70 30,55 C30,40 40,35 50,35 C60,35 70,40 70,55 C70,70 65,90 50,90 Z",fill:"#84b87c"})]}),u.jsxs("g",{className:n,children:[u.jsx("circle",{cx:"38",cy:"42",r:"6",fill:"#fff"}),u.jsx("circle",{cx:"62",cy:"42",r:"6",fill:"#fff"}),u.jsx("circle",{cx:"39",cy:"43",r:"3",fill:"#000"}),u.jsx("circle",{cx:"61",cy:"43",r:"3",fill:"#000"})]}),u.jsxs("g",{className:r,children:[u.jsx("path",{d:"M34,45 C38,42 42,42 46,45",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M54,45 C58,42 62,42 66,45",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),u.jsx("g",{className:s,children:u.jsx("path",{d:"M40,58 C45,65 55,65 60,58",stroke:"#3e603b",strokeWidth:"2",fill:"none",strokeLinecap:"round"})})]})})},S$=t=>{const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},k$={focus:"Foco",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"},x$=()=>{const{setShowFocusScreen:t}=It(),{tasks:e,handleCompleteTask:n}=Vt(),{timerMode:r,status:s,timeRemaining:i,sessionDuration:o,activeTaskId:a,activeTaskTitle:l,activeSubtaskTitle:c,resumeCycle:d,pauseCycle:h,stopCycle:f}=Yi(),p=i$("(max-width: 768px)"),v=p?280:320,w=p?100:120,S=b.useMemo(()=>e.find(x=>x.id===a),[e,a]),g=()=>{a&&(n(a),f(),t(!1))},m=o>0?i/o*100:0,[y,k]=b.useState("idle");return b.useEffect(()=>{if(s==="running")k("meditating");else if(s==="finished"){k("happy");const x=setTimeout(()=>k("idle"),2500);return()=>clearTimeout(x)}else k("idle")},[s]),u.jsx("main",{className:`${We.focusScreen} ${We["cycle-"+r]}`,children:u.jsxs("div",{className:We.screenContent,children:[u.jsxs("div",{className:We.titleContainer,children:[u.jsx("p",{children:"Focando em:"}),u.jsx("h2",{children:l||"Foco Geral"}),c&&u.jsx("p",{className:We.subtaskTitle,children:c})]}),u.jsxs("div",{className:We.zenSanctuary,children:[u.jsx(d$,{progress:m,size:v,mode:r}),u.jsxs("div",{className:We.zenElements,children:[u.jsx("div",{className:We.characterContainer,children:u.jsx(b$,{status:y,size:w})}),u.jsx("div",{className:We.timerTime,children:S$(i)})]})]}),u.jsxs("div",{className:We.controlsContainer,children:[u.jsx("div",{className:We.footerActionLeft,children:(s==="running"||s==="paused")&&u.jsx("button",{className:`btn ${We.secondaryActionButton}`,onClick:f,"aria-label":"Parar ciclo",children:u.jsx(O,{path:R.square})})}),u.jsx("div",{className:We.mainActions,children:s==="running"?u.jsx("button",{className:`btn btn-primary ${We.mainActionButton}`,onClick:h,"aria-label":"Pausar ciclo",children:u.jsx(O,{path:R.pause})}):u.jsx("button",{className:`btn btn-primary ${We.mainActionButton}`,onClick:d,"aria-label":s==="paused"?"Continuar ciclo":"Iniciar ciclo",children:u.jsx(O,{path:R.play})})}),u.jsx("div",{className:We.footerActionRight,children:S&&r==="focus"&&s!=="finished"?u.jsx("button",{className:`btn ${We.secondaryActionButton}`,onClick:g,"aria-label":"Concluir tarefa",children:u.jsx(O,{path:R.checkCircle})}):u.jsx("div",{className:We.timerCycle,children:k$[r]})})]})]})})},T$="_centeredHeader_98xbw_5",C$="_subtitle_98xbw_13",E$="_optionsGrid_98xbw_22",I$="_optionButton_98xbw_30",A$="_optionTitle_98xbw_57",P$="_optionSubtitle_98xbw_63",j$="_schedule_98xbw_70",R$="_someday_98xbw_71",N$="_footerButton_98xbw_73",br={centeredHeader:T$,subtitle:C$,optionsGrid:E$,optionButton:I$,optionTitle:A$,optionSubtitle:P$,do:"_do_98xbw_69",schedule:j$,someday:R$,footerButton:N$},O$=({task:t,onClose:e,onTriage:n})=>{const r=An(e),[s,i]=b.useState(null);if(b.useEffect(()=>{i(document.getElementById("modal-root"))},[]),!s)return null;const o=[{id:"do",title:"Foco Imediato",subtitle:"Urgente & Importante",icon:"zap"},{id:"schedule",title:"Tarefas do Dia",subtitle:"Importante, no urgente",icon:"calendar"},{id:"someday",title:"Ideias & Projetos",subtitle:"No urgente & no importante",icon:"bookOpen"}];return Us.createPortal(u.jsx("div",{className:"g-modal-overlay",children:u.jsxs("div",{className:"g-modal",ref:r,style:{maxWidth:"550px"},children:[u.jsxs("header",{className:`g-modal-header ${br.centeredHeader}`,children:[u.jsx("h3",{children:`Para onde vai a tarefa "${t.title}"?`}),u.jsx("p",{className:br.subtitle,children:"Escolha o quadrante de destino para organizar sua tarefa."})]}),u.jsx("main",{className:"g-modal-body",children:u.jsx("div",{className:br.optionsGrid,children:o.map(a=>u.jsxs("button",{className:`${br.optionButton} ${br[a.id]}`,onClick:()=>n(a.id),children:[u.jsx(O,{path:R[a.icon]}),u.jsx("span",{className:br.optionTitle,children:a.title}),u.jsx("span",{className:br.optionSubtitle,children:a.subtitle})]},a.id))})}),u.jsx("footer",{className:"g-modal-footer",children:u.jsx("button",{className:`${br.footerButton}`,onClick:e,children:"Decidir Depois"})})]})}),s)},D$="_filterPanel_1gow1_3",L$="_panelHeader_1gow1_15",M$="_closeButton_1gow1_32",F$="_panelBody_1gow1_44",$$="_filterSection_1gow1_51",B$="_filterOptions_1gow1_60",U$="_filterChip_1gow1_66",V$="_active_1gow1_88",z$="_overdueActive_1gow1_99",H$="_tagColorDot_1gow1_108",q$="_panelFooter_1gow1_115",Be={filterPanel:D$,panelHeader:L$,closeButton:M$,panelBody:F$,filterSection:$$,filterOptions:B$,filterChip:U$,active:V$,overdueActive:z$,tagColorDot:H$,panelFooter:q$},W$=[{id:"overdue",label:"Atrasada"},{id:"frog",label:"Sapo do Dia"}],K$=[{id:"low",label:"Baixa"},{id:"medium",label:"Mdia"},{id:"high",label:"Alta"}],G$=({isOpen:t,onClose:e,filters:n,onFilterChange:r})=>{const{tags:s}=Vt(),i=An(e),o=(c,d)=>{const h={...n};let f=h[c];f.includes(d)?f=f.filter(p=>p!==d):f=[...f,d],r({...h,[c]:f})},a=()=>{r({tags:[],status:[],energy:[]})};if(!t)return null;const l=c=>{const d=n.status.includes(c);return`${Be.filterChip} ${d?Be.active:""} ${d&&c==="overdue"?Be.overdueActive:""}`};return u.jsx("div",{className:"g-modal-overlay",children:u.jsxs("div",{className:Be.filterPanel,ref:i,onClick:c=>c.stopPropagation(),children:[u.jsxs("header",{className:Be.panelHeader,children:[u.jsxs("h3",{children:[u.jsx(O,{path:R.sliders})," Filtros"]}),u.jsx("button",{onClick:e,className:Be.closeButton,"aria-label":"Fechar filtros",children:u.jsx(O,{path:R.x})})]}),u.jsxs("main",{className:Be.panelBody,children:[u.jsxs("div",{className:Be.filterSection,children:[u.jsx("h4",{children:"STATUS"}),u.jsx("div",{className:Be.filterOptions,children:W$.map(c=>u.jsx("button",{className:l(c.id),onClick:()=>o("status",c.id),children:c.label},c.id))})]}),u.jsxs("div",{className:Be.filterSection,children:[u.jsx("h4",{children:"TAGS"}),u.jsx("div",{className:Be.filterOptions,children:s.map(c=>u.jsxs("button",{className:`${Be.filterChip} ${n.tags.includes(c.id)?Be.active:""}`,onClick:()=>o("tags",c.id),children:[u.jsx("span",{className:Be.tagColorDot,style:{backgroundColor:c.color}}),c.name]},c.id))})]}),u.jsxs("div",{className:Be.filterSection,children:[u.jsx("h4",{children:"NVEL DE ENERGIA"}),u.jsx("div",{className:Be.filterOptions,children:K$.map(c=>u.jsx("button",{className:`${Be.filterChip} ${n.energy.includes(c.id)?Be.active:""}`,onClick:()=>o("energy",c.id),children:c.label},c.id))})]})]}),u.jsxs("footer",{className:Be.panelFooter,children:[u.jsx("button",{className:"btn btn-secondary",onClick:a,children:"Limpar Filtros"}),u.jsx("button",{className:"btn btn-primary",onClick:e,children:"Aplicar"})]})]})})},J$="_subtitle_1ughe_3",Y$="_libraryTabs_1ughe_10",Q$="_active_1ughe_31",X$="_routinesList_1ughe_36",Z$="_routineCard_1ughe_43",e6="_routineActions_1ughe_60",t6="_routineCardHeader_1ughe_88",n6="_taskLibraryAccordion_1ughe_111",r6="_accordionItem_1ughe_118",s6="_open_1ughe_125",i6="_accordionHeader_1ughe_129",o6="_accordionContent_1ughe_151",a6="_templateItem_1ughe_165",l6="_checkboxVisual_1ughe_187",c6="_deleteTemplateButton_1ughe_216",it={subtitle:J$,libraryTabs:Y$,active:Q$,routinesList:X$,routineCard:Z$,routineActions:e6,routineCardHeader:t6,taskLibraryAccordion:n6,accordionItem:r6,open:s6,accordionHeader:i6,accordionContent:o6,templateItem:a6,checkboxVisual:l6,deleteTemplateButton:c6},u6="_routineEditorModal_fgm9m_3",d6="_formSection_fgm9m_13",h6="_tasksSection_fgm9m_22",f6="_sectionHeader_fgm9m_31",p6="_defaultRoutineInfo_fgm9m_41",m6="_defaultRoutineIconContainer_fgm9m_50",g6="_defaultRoutineTextContainer_fgm9m_67",y6="_iconSelector_fgm9m_83",v6="_active_fgm9m_107",_6="_taskSearchInput_fgm9m_112",w6="_taskListContainer_fgm9m_116",b6="_templateSelectionList_fgm9m_122",S6="_templateItemContainer_fgm9m_135",k6="_checkboxLabel_fgm9m_137",x6="_templateItem_fgm9m_135",T6="_selected_fgm9m_160",C6="_templateTitle_fgm9m_165",E6="_checkboxVisual_fgm9m_167",I6="_removeButton_fgm9m_196",A6="_noResults_fgm9m_220",we={routineEditorModal:u6,formSection:d6,tasksSection:h6,sectionHeader:f6,defaultRoutineInfo:p6,defaultRoutineIconContainer:m6,defaultRoutineTextContainer:g6,iconSelector:y6,active:v6,taskSearchInput:_6,taskListContainer:w6,templateSelectionList:b6,templateItemContainer:S6,checkboxLabel:k6,templateItem:x6,selected:T6,templateTitle:C6,checkboxVisual:E6,removeButton:I6,noResults:A6},Wf=({availableTemplates:t,selectedIds:e,onToggle:n,searchTerm:r,isRemovable:s=!1,routineIsDefault:i=!1,noResultsMessage:o="Nenhuma tarefa encontrada."})=>{const a=t.filter(l=>l.title.toLowerCase().includes(r.toLowerCase()));return u.jsxs("ul",{className:we.templateSelectionList,children:[a.length===0&&u.jsx("p",{className:we.noResults,children:o}),a.map(l=>{const c=e.includes(l.id),d=i&&l.isDefault;return u.jsx("li",{className:we.templateItemContainer,children:s?u.jsxs("div",{className:we.templateItem,children:[u.jsx("span",{className:we.templateTitle,children:l.title}),!d&&u.jsx("button",{className:we.removeButton,onClick:()=>n(l.id),title:"Remover Tarefa",children:u.jsx(O,{path:R.trash})})]}):u.jsxs("label",{className:`${we.templateItem} ${we.checkboxLabel} ${c?we.selected:""}`,children:[u.jsx("input",{type:"checkbox",checked:c,onChange:()=>n(l.id)}),u.jsx("span",{className:we.checkboxVisual,children:u.jsx(O,{path:R.check})}),u.jsx("span",{className:we.templateTitle,children:l.title})]})},l.id)})]})},P6=({onToggleTask:t,tasksNotInRoutine:e,onClose:n,searchTerm:r,setSearchTerm:s,routineTaskIds:i,isDefaultRoutine:o})=>{const a=An(n),l=o?e.filter(d=>!d.isDefault):e,c=o?"Nenhuma tarefa personalizada disponvel para adicionar.":"Nenhuma tarefa encontrada.";return u.jsx("div",{className:"g-modal-overlay",children:u.jsxs("div",{className:`g-modal ${we.addTaskModal}`,ref:a,children:[u.jsxs("header",{className:"g-modal-header",children:[u.jsx("h3",{children:"Adicionar Tarefas  Rotina"}),u.jsx("button",{onClick:n,className:we.closePaneButton,children:u.jsx(O,{path:R.x})})]}),u.jsxs("main",{className:"g-modal-body",style:{flexDirection:"column"},children:[u.jsx("input",{type:"text",placeholder:"Buscar tarefas personalizadas...",value:r,onChange:d=>s(d.target.value),className:"g-input"}),u.jsx(Wf,{availableTemplates:l,selectedIds:i,onToggle:t,searchTerm:r,noResultsMessage:c})]}),u.jsx("footer",{className:"g-modal-footer",children:u.jsx("button",{className:"btn btn-primary",onClick:n,children:"Concludo"})})]})})},j6=({routineToEdit:t,onSave:e,onClose:n})=>{const{taskTemplates:r}=Vt(),[s,i]=b.useState(t||{id:"",name:"",description:"",icon:"zap",taskTemplateIds:[],isDefault:!1}),[o,a]=b.useState(""),[l,c]=b.useState(!1),d=!!t,h=s.isDefault,f=An(()=>{l||n()}),p=(m,y)=>{i(k=>({...k,[m]:y}))},v=m=>{i(y=>{const k=y.taskTemplateIds,x=k.includes(m)?k.filter(C=>C!==m):[...k,m];return{...y,taskTemplateIds:x}})},w=()=>{s.name.trim()&&(d||_4(),e(s))},S=b.useMemo(()=>r.filter(m=>s.taskTemplateIds.includes(m.id)),[r,s.taskTemplateIds]),g=b.useMemo(()=>r.filter(m=>!s.taskTemplateIds.includes(m.id)),[r,s.taskTemplateIds]);return u.jsxs("div",{className:"g-modal-overlay",children:[u.jsxs("div",{className:`g-modal ${we.routineEditorModal}`,ref:f,children:[u.jsx("header",{className:"g-modal-header",children:u.jsx("h3",{children:d?"Editar Rotina":"Criar Nova Rotina"})}),u.jsxs("main",{className:"g-modal-body",children:[u.jsx("div",{className:we.formSection,children:h?u.jsxs("div",{className:we.defaultRoutineInfo,children:[u.jsx("div",{className:we.defaultRoutineIconContainer,children:u.jsx(O,{path:R[s.icon]})}),u.jsxs("div",{className:we.defaultRoutineTextContainer,children:[u.jsx("h5",{children:s.name}),u.jsx("p",{children:s.description})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Nome da Rotina"}),u.jsx("input",{type:"text",className:"g-input",value:s.name,onChange:m=>p("name",m.target.value),placeholder:"Ex: Preparao para a Semana"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Descrio"}),u.jsx("input",{type:"text",className:"g-input",value:s.description,onChange:m=>p("description",m.target.value),placeholder:"Ex: Organizar agenda e metas..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"cone"}),u.jsx("div",{className:we.iconSelector,children:bP.map(m=>u.jsx("button",{className:s.icon===m?we.active:"",onClick:()=>p("icon",m),children:u.jsx(O,{path:R[m]})},m))})]})]})}),u.jsxs("div",{className:we.tasksSection,children:[u.jsx("h4",{className:we.sectionHeader,children:d?"Tarefas na Rotina":"Selecione as Tarefas"}),u.jsx("input",{type:"text",placeholder:"Buscar tarefas...",value:o,onChange:m=>a(m.target.value),className:`${we.taskSearchInput} g-input`}),d?u.jsxs("div",{className:we.taskListContainer,children:[u.jsx(Wf,{availableTemplates:S,selectedIds:s.taskTemplateIds,onToggle:v,searchTerm:o,isRemovable:!0,routineIsDefault:s.isDefault}),u.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),style:{width:"100%",marginTop:"var(--sp-md)"},children:[u.jsx(O,{path:R.plus})," Adicionar Tarefa"]})]}):u.jsx("div",{className:we.taskListContainer,children:u.jsx(Wf,{availableTemplates:r,selectedIds:s.taskTemplateIds,onToggle:v,searchTerm:o})})]})]}),u.jsxs("footer",{className:"g-modal-footer",children:[u.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Cancelar"}),u.jsx("button",{className:"btn btn-primary",onClick:w,disabled:!s.name.trim(),children:d?"Salvar Alteraes":"Criar Rotina"})]})]}),d&&l&&u.jsx(P6,{onClose:()=>c(!1),tasksNotInRoutine:g,onToggleTask:v,searchTerm:o,setSearchTerm:a,routineTaskIds:s.taskTemplateIds,isDefaultRoutine:h})]})},R6=({onAddRoutine:t,onAddTemplates:e,onClose:n})=>{const{routines:r,taskTemplates:s,handleDeleteTemplate:i,handleSaveRoutine:o,handleDeleteRoutine:a}=Vt(),[l,c]=b.useState([]),[d,h]=b.useState(null),[f,p]=b.useState("routines"),[v,w]=b.useState(null),[S,g]=b.useState(!1),m=An(()=>{!S&&!v&&n()}),y=b.useMemo(()=>{const I=Array.from(new Set(s.map(D=>D.category))),F=new Set([...I,...wP]);return Array.from(F)},[s]),k=I=>{c(F=>F.includes(I)?F.filter(D=>D!==I):[...F,I])},x=I=>{h(F=>F===I?null:I)},C=()=>{const I=s.filter(F=>l.includes(F.id));I.length>0&&e(I),n()},T=I=>{t(I),n()},E=(I,F)=>{I.stopPropagation(),i(F)},A=I=>{o(I),g(!1),w(null)};return u.jsxs("div",{className:"g-modal-overlay",children:[u.jsxs("div",{className:"g-modal",ref:m,children:[u.jsxs("header",{className:"g-modal-header",children:[u.jsxs("div",{children:[u.jsxs("h3",{children:[u.jsx(O,{path:R.bookOpen})," Biblioteca"]}),u.jsx("p",{className:it.subtitle,children:"Adicione rotinas e tarefas para agilizar seu dia."})]}),f==="routines"&&u.jsxs("button",{className:"btn btn-primary",onClick:()=>g(!0),children:[u.jsx(O,{path:R.plus})," Criar Rotina"]})]}),u.jsxs("div",{className:it.libraryTabs,children:[u.jsxs("button",{className:f==="routines"?it.active:"",onClick:()=>p("routines"),children:[u.jsx(O,{path:R.rotateCw})," Rotinas"]}),u.jsxs("button",{className:f==="templates"?it.active:"",onClick:()=>p("templates"),children:[u.jsx(O,{path:R.zap})," Tarefas Rpidas"]})]}),u.jsxs("main",{className:"g-modal-body",children:[f==="routines"&&u.jsx("div",{className:it.routinesList,children:r.map(I=>u.jsxs("div",{className:`card ${it.routineCard}`,children:[u.jsxs("div",{className:it.routineActions,children:[u.jsx("button",{onClick:()=>w(I),title:"Editar Rotina",children:u.jsx(O,{path:R.edit})}),!I.isDefault&&u.jsx("button",{onClick:()=>a(I.id),title:"Excluir Rotina",children:u.jsx(O,{path:R.trash})})]}),u.jsxs("div",{className:it.routineCardHeader,children:[u.jsx(O,{path:R[I.icon]}),u.jsx("h5",{children:I.name})]}),u.jsx("p",{children:I.description}),u.jsxs("button",{className:"btn btn-secondary",onClick:()=>T(I),children:[u.jsx(O,{path:R.plus})," Adicionar (",I.taskTemplateIds.length,") Tarefas"]})]},I.id))}),f==="templates"&&u.jsx("div",{className:it.taskLibraryAccordion,children:y.map(I=>u.jsxs("div",{className:`${it.accordionItem} ${d===I?it.open:""}`,children:[u.jsxs("div",{className:it.accordionHeader,onClick:()=>x(I),children:[u.jsx("span",{children:I}),u.jsx(O,{path:R.chevronDown})]}),u.jsx("div",{className:it.accordionContent,children:s.filter(F=>F.category===I).map(F=>u.jsxs("div",{className:it.templateItem,onClick:()=>k(F.id),children:[u.jsx("input",{type:"checkbox",checked:l.includes(F.id),readOnly:!0}),u.jsx("span",{className:it.checkboxVisual,children:u.jsx(O,{path:R.check})}),u.jsx("label",{children:F.title}),!F.isDefault&&u.jsx("button",{className:it.deleteTemplateButton,onClick:D=>E(D,F.id),title:"Excluir este modelo",children:u.jsx(O,{path:R.trash})})]},F.id))})]},I))})]}),u.jsxs("footer",{className:"g-modal-footer",children:[u.jsx("button",{className:"btn btn-secondary",onClick:n,style:{marginLeft:f==="templates"?"0":"auto"},children:"Fechar"}),f==="templates"&&u.jsxs("button",{className:"btn btn-primary",onClick:C,disabled:l.length===0,style:{marginLeft:"auto"},children:["Adicionar Tarefas (",l.length,")"]})]})]}),(S||v)&&u.jsx(j6,{routineToEdit:S?null:v,onSave:A,onClose:()=>{g(!1),w(null)}})]})},N6="_tasksHeader_1puwp_1",O6="_tasksTitle_1puwp_8",D6="_tasksActions_1puwp_12",L6="_tasksBoard_1puwp_17",M6="_quadrantColumn_1puwp_32",F6="_quadrantHeader_1puwp_43",$6="_taskList_1puwp_51",B6="_collapsedHorizontalList_1puwp_61",U6="_expandedHorizontalList_1puwp_69",V6="_inboxShowMore_1puwp_76",ft={tasksHeader:N6,tasksTitle:O6,tasksActions:D6,tasksBoard:L6,"quadrant-inbox":"_quadrant-inbox_1puwp_27","quadrant-do":"_quadrant-do_1puwp_28","quadrant-schedule":"_quadrant-schedule_1puwp_29","quadrant-someday":"_quadrant-someday_1puwp_30",quadrantColumn:M6,quadrantHeader:F6,taskList:$6,collapsedHorizontalList:B6,expandedHorizontalList:U6,inboxShowMore:V6},G0=({title:t,quadrant:e,tasks:n,tags:r,onEdit:s,onStartTriage:i})=>{const[o,a]=b.useState(!1),l=o?n:n.slice(0,2),c=e==="inbox"||e==="someday",d=e==="inbox",h=()=>c?o?ft.expandedHorizontalList:ft.collapsedHorizontalList:ft.taskList;return u.jsxs("div",{className:`${ft.quadrantColumn} ${ft["quadrant-"+e]}`,children:[u.jsxs("header",{className:ft.quadrantHeader,children:[u.jsxs("span",{children:[t," (",n.length,")"]}),d&&n.length>0&&u.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:i,children:[u.jsx(O,{path:R.clipboardList})," Organizar Caixa de Entrada"]})]}),u.jsx("div",{className:h(),children:l.map(f=>u.jsx(eg,{task:f,tags:r,onEdit:s,quadrant:e},f.id))}),c&&n.length>2&&u.jsx("button",{className:`btn btn-tertiary ${ft.inboxShowMore}`,onClick:()=>a(!o),children:o?"Mostrar menos":`Mostrar mais ${n.length-2} tarefa(s)`})]})},J0=({title:t,quadrant:e,tasks:n,onEdit:r,tags:s})=>u.jsxs("div",{className:`${ft.quadrantColumn} ${ft["quadrant-"+e]}`,children:[u.jsx("header",{className:ft.quadrantHeader,children:u.jsxs("span",{children:[t," (",n.length,")"]})}),u.jsx("div",{className:ft.taskList,children:n.map(i=>u.jsx(eg,{task:i,tags:s,onEdit:r,quadrant:e},i.id))})]}),z6=()=>{const{tasks:t,tags:e,routines:n,handleAddRoutine:r,handleAddTemplates:s,isTriageActive:i,triageQueue:o,startTriage:a,endTriage:l,processTriage:c}=Vt(),[d,h]=b.useState(null),[f,p]=b.useState(!1),[v,w]=b.useState(!1),[S,g]=b.useState({tags:[],status:[],energy:[]}),m=b.useMemo(()=>t.filter(T=>{if(T.status==="done")return!1;const E=S.tags.length===0||T.tagId&&S.tags.includes(T.tagId),A=S.energy.length===0||T.energyNeeded&&S.energy.includes(T.energyNeeded);return E&&A}),[t,S]),y=b.useMemo(()=>{const T={inbox:[],do:[],schedule:[],someday:[]};return m.forEach(E=>{const A=E.quadrant;T[A]?T[A].push(E):T.inbox.push(E)}),T},[m]),k=T=>h(T||{quadrant:"inbox"}),x=()=>h(null),C=[{id:"inbox",component:G0,props:{onStartTriage:a}},{id:"do",component:J0,props:{}},{id:"schedule",component:J0,props:{}},{id:"someday",component:G0,props:{}}];return u.jsxs("main",{children:[d&&u.jsx(Ek,{taskToEdit:d,onClose:x,tags:e}),i&&o.length>0&&u.jsx(O$,{task:o[0],onClose:l,onTriage:c}),v&&u.jsx(R6,{routines:n,onAddRoutine:r,onAddTemplates:s,onClose:()=>w(!1)}),u.jsx(G$,{isOpen:f,onClose:()=>p(!1),filters:S,onFilterChange:g}),u.jsxs("div",{className:"screen-content",children:[u.jsxs("div",{className:ft.tasksHeader,children:[u.jsx("div",{className:ft.tasksTitle,children:u.jsx("h2",{children:"Matriz de Eisenhower"})}),u.jsxs("div",{className:ft.tasksActions,children:[u.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>w(!0),title:"Biblioteca",children:u.jsx(O,{path:R.bookOpen})}),u.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>p(!0),title:"Filtros",children:u.jsx(O,{path:R.filter})}),u.jsxs("button",{className:"btn btn-primary",onClick:()=>k(),children:[u.jsx(O,{path:R.plus})," Nova Tarefa"]})]})]}),u.jsx("div",{className:ft.tasksBoard,children:C.map(T=>{const E=T.component,A=Tf.find(I=>I.id===T.id);return A?u.jsx(E,{quadrant:T.id,title:A.title,tasks:y[T.id]||[],tags:e,onEdit:k,...T.props},T.id):null})})]})]})},H6="_statsContainer_1smwq_3",q6="_statsHeader_1smwq_9",W6="_statsTitle_1smwq_13",K6="_streakHeroCard_1smwq_19",G6="_streakContent_1smwq_28",J6="_streakSubContent_1smwq_35",Y6="_streakIcon_1smwq_41",Q6="_streakLevel0_1smwq_48",X6="_burning_1smwq_52",Z6="_streakInfo_1smwq_63",e8="_streakCount_1smwq_68",t8="_streakLabel_1smwq_75",n8="_keyMetricsGrid_1smwq_82",r8="_metricCard_1smwq_102",s8="_metricHeader_1smwq_107",i8="_value_1smwq_117",o8="_consistencyCard_1smwq_124",a8="_sectionTitle_1smwq_126",l8="_heatmapWrapper_1smwq_135",c8="_heatmapGrid_1smwq_143",u8="_heatmapCell_1smwq_152",d8="_footnote_1smwq_163",h8="_statsFooterActions_1smwq_171",f8="_btn_1smwq_175",he={statsContainer:H6,statsHeader:q6,statsTitle:W6,streakHeroCard:K6,streakContent:G6,streakSubContent:J6,streakIcon:Y6,streakLevel0:Q6,burning:X6,"flame-flicker":"_flame-flicker_1smwq_1",streakInfo:Z6,streakCount:e8,streakLabel:t8,keyMetricsGrid:n8,metricCard:r8,metricHeader:s8,value:i8,consistencyCard:o8,sectionTitle:a8,heatmapWrapper:l8,heatmapGrid:c8,heatmapCell:u8,"level-1":"_level-1_1smwq_159","level-2":"_level-2_1smwq_160","level-3":"_level-3_1smwq_161",footnote:d8,statsFooterActions:h8,btn:f8},p8=t=>t===0?{background:"linear-gradient(145deg, var(--surface-secondary-color), var(--border-color))",color:"var(--text-color)"}:t===1?{background:"linear-gradient(145deg, #3C6DB9, #5D9CEC)"}:t>=2&&t<30?{background:`linear-gradient(270deg, #FF8C00 0%, #FFD700 50%, #3A7BD5 ${100-(t-2)/27*100}%)`}:{background:"linear-gradient(145deg, #FF8C00, #E65C00)"},m8=()=>{const{handleNavigate:t}=It(),{tasks:e}=Vt(),{pomodorosCompleted:n}=Yi(),{pontosFoco:r}=$m(),s=b.useMemo(()=>{const a=e.filter(h=>h.status==="done"),l=n*25/60,c=[...new Set(a.map(h=>new Date(h.completedAt).toDateString()))];c.sort((h,f)=>new Date(f).getTime()-new Date(h).getTime());let d=0;if(c.length>0){let h=new Date;const f=new Date(c[0]);if((h.setHours(0,0,0,0)-f.setHours(0,0,0,0))/(1e3*60*60*24)>1)d=0;else{d=1;for(let v=0;v<c.length-1;v++){const w=new Date(c[v]),S=new Date(c[v+1]),g=w.getTime()-S.getTime();if(Math.ceil(g/(1e3*60*60*24))===1)d++;else break}}}return{tasksCompletedCount:a.length,focusHours:Math.round(l*10)/10,pointsEarned:r,streakDays:d}},[e,n,r]),i=b.useMemo(()=>{const a={};e.filter(d=>d.status==="done"&&d.completedAt).forEach(d=>{const h=new Date(d.completedAt).toISOString().split("T")[0];a[h]=(a[h]||0)+1});const l=[],c=new Date;for(let d=90;d>=0;d--){const h=new Date(c);h.setDate(c.getDate()-d);const f=h.toISOString().split("T")[0],p=a[f]||0;let v=0;p>0&&p<=2?v=1:p>2&&p<=5?v=2:p>5&&(v=3),l.push({date:f,count:p,level:v})}return l},[e]),o=p8(s.streakDays);return u.jsxs("main",{className:"screen-content",children:[u.jsx("div",{className:he.statsHeader,children:u.jsx("div",{className:he.statsTitle,children:u.jsx("h2",{children:"Seu Progresso"})})}),u.jsxs("div",{className:he.statsContainer,children:[u.jsx("div",{className:he.streakHeroCard,style:o,children:u.jsxs("div",{className:he.streakContent,children:[u.jsx("div",{className:he.streakInfo,children:u.jsx("span",{className:he.streakCount,children:s.streakDays})}),u.jsxs("div",{className:he.streakSubContent,children:[u.jsx("div",{className:`${he.streakIcon} ${s.streakDays>0?he.burning:""}`,children:u.jsx(O,{path:R.flame})}),u.jsx("span",{className:he.streakLabel,children:"Dias seguidos de foco"})]})]})}),u.jsxs("div",{className:he.keyMetricsGrid,children:[u.jsxs("div",{className:`card ${he.metricCard}`,children:[u.jsxs("div",{className:he.metricHeader,children:[u.jsx(O,{path:R.checkSquare}),u.jsx("span",{children:"Tarefas"})]}),u.jsx("div",{className:he.value,children:s.tasksCompletedCount})]}),u.jsxs("div",{className:`card ${he.metricCard}`,children:[u.jsxs("div",{className:he.metricHeader,children:[u.jsx(O,{path:R.timer}),u.jsx("span",{children:"Horas Focadas"})]}),u.jsxs("div",{className:he.value,children:[s.focusHours,"h"]})]}),u.jsxs("div",{className:`card ${he.metricCard}`,children:[u.jsxs("div",{className:he.metricHeader,children:[u.jsx(O,{path:R.trophy}),u.jsx("span",{children:"Pontos"})]}),u.jsx("div",{className:he.value,children:s.pointsEarned})]})]}),u.jsxs("div",{className:`card ${he.consistencyCard}`,children:[u.jsxs("h4",{className:he.sectionTitle,children:[u.jsx(O,{path:R.calendar})," Consistncia"]}),u.jsx("div",{className:he.heatmapWrapper,children:u.jsx("div",{className:he.heatmapGrid,children:i.map(a=>u.jsx("div",{className:`${he.heatmapCell} ${he["level-"+a.level]}`,title:`${a.date}: ${a.count} tarefas`},a.date))})}),u.jsx("p",{className:he.footnote,children:"ltimos 3 meses"})]}),u.jsx("div",{className:he.statsFooterActions,children:u.jsxs("button",{className:"btn btn-secondary",onClick:()=>t("rewards"),children:[u.jsx(O,{path:R.trophy})," Ir para Loja de Recompensas"]})})]})]})},g8="_header_eadj9_3",y8="_tabContent_eadj9_5",v8="_settingsGroup_eadj9_6",_8="_navRow_eadj9_8",w8="_navRowIconWrapper_eadj9_9",b8="_navRowText_eadj9_10",S8="_navRowChevron_eadj9_12",k8="_subScreenHeader_eadj9_16",x8="_backButton_eadj9_19",T8="_profileScreen_eadj9_22",C8="_authCard_eadj9_23",E8="_authIcon_eadj9_24",I8="_authIconSuccess_eadj9_25",A8="_dataActions_eadj9_32",P8="_buttonDanger_eadj9_34",j8="_settingRow_eadj9_38",R8="_switchSlider_eadj9_42",N8="_segmentedControl_eadj9_46",O8="_active_eadj9_48",D8="_aboutScreen_eadj9_51",L8="_aboutContentWrapper_eadj9_52",M8="_aboutAppIcon_eadj9_53",F8="_founderCard_eadj9_63",$8="_founderHeader_eadj9_64",B8="_founderIcon_eadj9_65",U8="_founderGreeting_eadj9_66",V8="_founderBody_eadj9_69",z8="_supportCard_eadj9_75",H8="_missionStatement_eadj9_76",q8="_missionIcon_eadj9_77",W8="_socialActions_eadj9_84",K8="_coffeeButton_eadj9_85",G8="_instagramButton_eadj9_85",J8="_appVersion_eadj9_92",Y={header:g8,tabContent:y8,settingsGroup:v8,navRow:_8,navRowIconWrapper:w8,navRowText:b8,navRowChevron:S8,subScreenHeader:k8,backButton:x8,profileScreen:T8,authCard:C8,authIcon:E8,authIconSuccess:I8,dataActions:A8,buttonDanger:P8,settingRow:j8,switch:"_switch_eadj9_40",switchSlider:R8,segmentedControl:N8,active:O8,aboutScreen:D8,aboutContentWrapper:L8,aboutAppIcon:M8,founderCard:F8,founderHeader:$8,founderIcon:B8,founderGreeting:U8,founderBody:V8,supportCard:z8,missionStatement:H8,missionIcon:q8,socialActions:W8,coffeeButton:K8,instagramButton:G8,appVersion:J8},Y8="_modalOverlay_sbist_3",Q8="_modal_sbist_3",X8="_iconWrapper_sbist_31",Z8="_buttonGroup_sbist_51",eB="_confirmButton_sbist_57",tB="_cancelButton_sbist_58",nB="_danger_sbist_63",as={modalOverlay:Y8,modal:Q8,iconWrapper:X8,buttonGroup:Z8,confirmButton:eB,cancelButton:tB,danger:nB},rB=({title:t,message:e,confirmText:n,cancelText:r,onConfirm:s,onCancel:i,icon:o="alertTriangle",variant:a="default"})=>{const l=An(i),c=`btn ${as.confirmButton} ${a==="danger"?as.danger:"btn-primary"}`;return u.jsx("div",{className:as.modalOverlay,children:u.jsxs("div",{className:as.modal,ref:l,children:[u.jsx("div",{className:as.iconWrapper,children:u.jsx(O,{path:R[o]})}),u.jsx("h3",{children:t}),u.jsx("p",{children:e}),u.jsxs("div",{className:as.buttonGroup,children:[u.jsx("button",{className:c,onClick:s,children:n}),u.jsx("button",{className:`btn btn-secondary ${as.cancelButton}`,onClick:i,children:r})]})]})})};function sB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function iB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function oB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function aB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(t)}function lB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function cB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"},child:[]},{tag:"polyline",attr:{points:"13 11 9 17 15 17 11 23"},child:[]}]})(t)}function uB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(t)}function dB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function hB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Y0(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function fB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function pB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function mB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function gB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(t)}function yB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function vB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function _B(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function wB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function bB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(t)}function SB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function Kf(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function kB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(t)}function xB(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const _x="/assets/focusfrog-coffee-95FMuiuU.png",El=({icon:t,title:e,description:n,onClick:r})=>u.jsx("div",{className:Y.settingsGroup,onClick:r,children:u.jsxs("div",{className:Y.navRow,children:[u.jsx("div",{className:Y.navRowIconWrapper,children:u.jsx(t,{})}),u.jsxs("div",{className:Y.navRowText,children:[u.jsx("h4",{children:e}),u.jsx("p",{children:n})]}),r&&u.jsx("span",{className:Y.navRowChevron,children:u.jsx(lB,{})})]})}),Ia=({title:t,onBack:e})=>u.jsxs("div",{className:Y.subScreenHeader,children:[u.jsx("button",{onClick:e,className:Y.backButton,children:u.jsx(sB,{})}),u.jsx("h3",{children:t})]}),TB=({options:t,value:e,onChange:n})=>u.jsx("div",{className:Y.segmentedControl,children:t.map(r=>u.jsx("button",{className:r.value===e?Y.active:"",onClick:()=>n(r.value),children:r.label},r.value))}),CB=({user:t,signIn:e,signOut:n,onBack:r})=>{var s;return t?u.jsxs("div",{className:`${Y.tabContent} ${Y.profileScreen}`,children:[u.jsx(Ia,{title:"Perfil e Sincronizao",onBack:r}),u.jsxs("div",{className:Y.authCard,children:[u.jsx("span",{className:Y.authIconSuccess,children:u.jsx(oB,{size:40})}),u.jsx("h3",{children:"Tudo Sincronizado!"}),u.jsx("p",{children:"Voc est logado como:"}),u.jsx("strong",{children:((s=t.user_metadata)==null?void 0:s.full_name)||"Usurio"}),u.jsx("small",{children:t.email}),u.jsxs("button",{onClick:n,className:`btn ${Y.buttonDanger} ${Y.signOutButton}`,children:[u.jsx(vB,{})," Sair"]})]})]}):u.jsxs("div",{className:`${Y.tabContent} ${Y.profileScreen}`,children:[u.jsx(Ia,{title:"Perfil e Sincronizao",onBack:r}),u.jsxs("div",{className:Y.authCard,children:[u.jsx("span",{className:Y.authIcon,children:u.jsx(yB,{size:40})}),u.jsx("h3",{children:"Salve seu Progresso"}),u.jsx("p",{children:"Crie uma conta gratuita para fazer backup na nuvem e sincronizar suas tarefas entre dispositivos."}),u.jsxs("button",{onClick:e,className:"g-button",children:[u.jsx("img",{src:"/google-logo.svg",alt:"Google",style:{width:20,height:20,marginRight:10}}),"Continuar com Google"]})]})]})},EB=({user:t,onBack:e,exportData:n,importDataFromFile:r,downloadAndRestoreFromSupabase:s,showResetModal:i})=>{const o=b.useRef(null),a=()=>{var c;t?s(t):(c=o.current)==null||c.click()},l=c=>{var h;const d=(h=c.target.files)==null?void 0:h[0];d&&r(d,t)};return u.jsxs("div",{className:Y.tabContent,children:[u.jsx(Ia,{title:"Dados do Aplicativo",onBack:e}),u.jsxs("div",{className:Y.dataActions,children:[u.jsx("p",{className:Y.dataDescription,children:t?"Seu backup na nuvem  atualizado ao fazer login. Restaure a partir dele ou exporte um arquivo local a qualquer momento.":"Crie uma conta para habilitar o backup na nuvem. Por enquanto, voc s pode gerenciar backups locais."}),u.jsxs("button",{className:"btn btn-secondary",onClick:n,children:[u.jsx(hB,{})," Exportar para Arquivo"]}),u.jsxs("button",{className:"btn btn-secondary",onClick:a,children:[t?u.jsx(cB,{}):u.jsx(SB,{}),t?"Restaurar da Nuvem":"Importar de Arquivo"]}),u.jsxs("button",{className:`btn ${Y.buttonDanger}`,onClick:i,children:[u.jsx(wB,{})," Resetar Dados Locais"]})]}),u.jsx("input",{type:"file",ref:o,style:{display:"none"},accept:".json",onChange:l})]})},IB=()=>{const{addNotification:t,soundEnabled:e,toggleSoundEnabled:n,hapticsEnabled:r,setHapticsEnabled:s,setDevModeEnabled:i,fontSize:o,setFontSize:a}=It(),{exportData:l,importDataFromFile:c,resetData:d,downloadAndRestoreFromSupabase:h}=tS(),{user:f,isLoading:p,signInWithGoogle:v,signOut:w}=yu(),[S,g]=b.useState("main"),[m,y]=b.useState(!1),[k,x]=b.useState(0),C=b.useRef(null),T=()=>{C.current&&clearTimeout(C.current);const X=k+1;x(X),X>=7?(i(!0),t("Modo de Desenvolvedor Ativado","","info"),x(0)):C.current=setTimeout(()=>x(0),1500)},E=()=>y(!0),A=()=>y(!1),I=()=>{d(),A()},F=X=>{s(X),X&&navigator.vibrate&&navigator.vibrate(50)},D=()=>{window.open("https://shop.beacons.ai/focus.frog/667fee49-a713-4a08-b541-e40ae2321696?pageViewSource=lib_view&referrer=https%3A%2F%2Fbeacons.ai%2Ffocus.frog&show_back_button=true","_blank")},L=()=>{var X;switch(S){case"profile":return u.jsx(CB,{user:f,signIn:v,signOut:w,onBack:()=>g("main")});case"appearance":return u.jsxs("div",{className:Y.tabContent,children:[u.jsx(Ia,{title:"Aparncia",onBack:()=>g("main")}),u.jsxs("div",{className:Y.settingRow,children:[u.jsxs("label",{children:[u.jsx(kB,{})," Efeitos sonoros"]}),u.jsxs("label",{className:Y.switch,children:[u.jsx("input",{type:"checkbox",checked:e,onChange:n}),u.jsx("span",{className:Y.switchSlider})]})]}),u.jsxs("div",{className:Y.settingRow,children:[u.jsxs("label",{children:[u.jsx(xB,{})," Vibrao (Haptics)"]}),u.jsxs("label",{className:Y.switch,children:[u.jsx("input",{type:"checkbox",checked:r,onChange:K=>F(K.target.checked)}),u.jsx("span",{className:Y.switchSlider})]})]}),u.jsxs("div",{className:Y.settingRow,children:[u.jsxs("label",{children:[u.jsx(bB,{})," Tamanho do Texto"]}),u.jsx(TB,{options:[{label:"P",value:"small"},{label:"N",value:"normal"},{label:"G",value:"large"}],value:o,onChange:K=>a(K)})]})]});case"data":return u.jsx(EB,{user:f,onBack:()=>g("main"),exportData:l,importDataFromFile:c,downloadAndRestoreFromSupabase:h,showResetModal:E});case"about":return u.jsxs("div",{className:`${Y.tabContent} ${Y.aboutScreen}`,children:[u.jsx(Ia,{title:"De Usurio para Usurio ",onBack:()=>g("main")}),u.jsxs("div",{className:Y.aboutContentWrapper,children:[u.jsx("img",{src:_x,alt:"Mascote FocusFrog com caf",style:{borderRadius:"50%",objectFit:"cover"},className:Y.aboutAppIcon}),u.jsxs("div",{className:Y.founderCard,children:[u.jsxs("div",{className:Y.founderHeader,children:[u.jsx(Kf,{className:Y.founderIcon}),u.jsxs("p",{className:Y.founderGreeting,children:["Ol! Eu sou o Igor, e antes de ser o fundador, eu sou o",u.jsx("br",{}),u.jsx("strong",{children:"usurio #1"})," do FocusFrog."]})]}),u.jsxs("div",{className:Y.founderBody,children:[u.jsxs("p",{children:["Esta ferramenta no nasceu de um plano de negcios, mas da ",u.jsx("strong",{children:"necessidade real"}),". Eu luto diariamente contra a paralisia da escolha, o caos nas rotinas e o esquecimento constante, ",u.jsx("strong",{children:"assim como voc"}),"."]}),u.jsxs("p",{children:["Entendi que o crebro com TDAH e criatividade precisa de ",u.jsx("strong",{children:"apoio"}),", no de cobrana. Por isso, constru o FocusFrog: um sistema que realmente funciona para mim."]})]})]}),u.jsxs("div",{className:Y.supportCard,children:[u.jsxs("div",{className:Y.missionStatement,children:[u.jsx(fB,{className:Y.missionIcon}),u.jsx("h3",{children:"Nossa Misso"}),u.jsxs("p",{children:["Levar ",u.jsx("strong",{children:"PRODUTIVIDADE CALMA"})," e clareza para todos que se sentem sobrecarregados."]})]}),u.jsxs("p",{children:["Ao apoiar esta misso, voc garante que o FocusFrog permanea ",u.jsx("strong",{children:"livre de anncios"})," e continue a evoluir para a nossa comunidade."]})]}),u.jsxs("div",{className:Y.socialActions,children:[u.jsxs("button",{className:Y.coffeeButton,onClick:D,children:[u.jsx(uB,{})," Apoie com um caf"]}),u.jsxs("a",{href:"https://www.instagram.com/focus.frog",target:"_blank",rel:"noopener noreferrer",className:Y.instagramButton,children:[u.jsx(mB,{})," Siga-nos"]})]}),u.jsx("div",{className:Y.appVersion,onClick:T,children:"FocusFrog v2.0.0  Feito com "})]})]});case"main":default:return u.jsxs("div",{className:Y.tabContent,children:[u.jsx("div",{className:Y.header,children:u.jsx("h2",{children:"Configuraes"})}),u.jsx(El,{icon:Kf,title:"Perfil e Sincronizao",description:f?`Logado como ${(X=f.user_metadata)==null?void 0:X.full_name}`:"Backup na nuvem e multi-dispositivo",onClick:()=>g("profile")}),u.jsx(El,{icon:gB,title:"Aparncia",description:"Ajuste tema, sons e outros.",onClick:()=>g("appearance")}),u.jsx(El,{icon:dB,title:"Gerenciar Dados",description:"Backup, restaurao e reset.",onClick:()=>g("data")}),u.jsx(El,{icon:pB,title:"Sobre",description:"Nossa histria e misso.",onClick:()=>g("about")})]})}};return u.jsxs("main",{className:"screen-content",children:[m&&u.jsx(rB,{title:"Resetar Todos os Dados",message:"Tem a certeza? Esta ao  irreversvel e ir apagar todas as suas tarefas, pontos e personalizaes.",confirmText:"Sim, Resetar Tudo",cancelText:"Cancelar",onConfirm:I,onCancel:A,variant:"danger",icon:"trash"}),p?u.jsx("p",{children:"Carregando..."}):L()]})},AB="_subtitle_rs6lb_61",pe={subtitle:AB},PB=()=>u.jsxs("div",{className:pe.moodboardContainer,children:[u.jsxs("header",{className:pe.moodboardHeader,children:[u.jsxs("div",{className:pe.logoConcept,children:[u.jsx(O,{path:R.frog,className:pe.logoIcon}),u.jsx("h1",{children:"FocusFrog"})]}),u.jsx("h2",{children:"Guia de Estilo & Arquitetura"}),u.jsx("p",{className:pe.subtitle,children:"Um guia vivo para a identidade visual, filosofia e arquitetura tcnica do projeto."})]}),u.jsxs("main",{className:pe.moodboardContent,children:[u.jsxs("section",{className:pe.moodboardSection,children:[u.jsx("h3",{children:"Filosofia & Arquitetura"}),u.jsxs("div",{className:pe.philosophyGrid,children:[u.jsxs("div",{className:pe.philosophyCard,children:[u.jsxs("h4",{children:[u.jsx(O,{path:R.eye})," Foco Direcionado"]}),u.jsx("p",{children:"O fundo escuro elimina distraes. O brilho das cores primrias guia o olho para aes importantes."})]}),u.jsxs("div",{className:pe.philosophyCard,children:[u.jsxs("h4",{children:[u.jsx(O,{path:R.gift})," Recompensa Imediata"]}),u.jsx("p",{children:"Cores quentes e vibrantes so usadas para recompensas e celebraes, criando um feedback visual positivo."})]}),u.jsxs("div",{className:pe.philosophyCard,children:[u.jsxs("h4",{children:[u.jsx(O,{path:R.home})," Arquitetura da Casa"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Fundao:"})," `App.css` e `ThemeContext` (regras globais). ",u.jsx("strong",{children:"Cmodos:"})," As Telas (`/screens`), que usam a classe `.screen-content`. ",u.jsx("strong",{children:"Mveis:"})," Os Componentes (`/components`), padronizados para qualquer cmodo."]})]}),u.jsxs("div",{className:pe.philosophyCard,children:[u.jsxs("h4",{children:[u.jsx(O,{path:R.fileCode})," CSS Modules so Lei"]}),u.jsx("p",{children:"Cada tela ou componente tem seu prprio arquivo `.module.css` para estilos. No polumos mais o escopo global com estilos especficos de componentes."})]})]})]}),u.jsxs("section",{className:pe.moodboardSection,children:[u.jsx("h3",{children:'Componentes Reais (Nossos "Mveis")'}),u.jsxs("div",{className:pe.gridComponents,children:[u.jsxs("div",{className:"card",children:[u.jsx("h4",{className:pe.componentTitle,children:"Botes Padro (`.btn`)"}),u.jsxs("div",{className:pe.componentExample,children:[u.jsxs("button",{className:"btn btn-primary",children:[u.jsx(O,{path:R.plus})," Primrio"]}),u.jsxs("button",{className:"btn btn-secondary",children:[u.jsx(O,{path:R.settings})," Secundrio"]}),u.jsxs("button",{className:"btn btn-danger",children:[u.jsx(O,{path:R.trash})," Perigo"]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h4",{className:pe.componentTitle,children:"Carto Base (`.card`)"}),u.jsxs("div",{className:`${pe.componentExample} ${pe.cardExampleContent}`,children:[u.jsxs("span",{children:["Este  um ",u.jsx("strong",{children:".card"}),"."]}),u.jsx("p",{children:"Ele  a base para a maioria dos nossos contineres de contedo, como este."})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("h4",{className:pe.componentTitle,children:"Carto de Tarefa (`TaskCard`)"}),u.jsx("div",{className:pe.componentExample,children:u.jsxs("div",{className:pe.mockTaskCard,children:[u.jsxs("div",{children:[u.jsx("p",{className:pe.mockTaskTitle,children:"Reformar o Moodboard"}),u.jsx("span",{className:pe.mockTaskTag,children:"#dev"})]}),u.jsx(O,{path:R.chevronRight})]})})]})]})]}),u.jsxs("section",{className:pe.moodboardSection,children:[u.jsx("h3",{children:"Paleta de Cores"}),u.jsx("div",{className:pe.gridColors})]}),u.jsxs("section",{className:pe.moodboardSection,children:[u.jsx("h3",{children:"Tipografia"}),u.jsx("div",{className:pe.gridTypography})]})]})]}),jB="_bottomNav_131p4_3",RB="_navItem_131p4_24",NB="_active_131p4_41",OB="_navIcon_131p4_46",Il={bottomNav:jB,navItem:RB,active:NB,navIcon:OB},DB={dashboard:Y0,tasks:aB,focus:_B,stats:iB,rewards:Kf,moodboard:Y0},LB=["focus","tasks","dashboard","stats","rewards"],MB=()=>{const{activeScreen:t,handleNavigate:e}=It(),n=LB,r={dashboard:"Home",tasks:"Tarefas",focus:"Foco",stats:"Estatsticas",rewards:"Configuraes",moodboard:"Dev"};return u.jsx("nav",{className:Il.bottomNav,children:n.map(s=>{const i=DB[s],o=t===s,a=`${Il.navItem} ${o?Il.active:""}`;return u.jsxs("button",{className:a,onClick:()=>e(s),children:[u.jsx(i,{className:Il.navIcon}),u.jsx("span",{children:r[s]})]},s)})})},FB="_dashboardLayout_100ix_2",$B="_mainContent_100ix_11",BB="_footerNav_100ix_18",eh={dashboardLayout:FB,mainContent:$B,footerNav:BB},UB={dashboard:vx,focus:x$,tasks:z6,stats:m8,rewards:IB,moodboard:PB},VB=()=>{const{activeScreen:t,addNotification:e}=It(),{tasks:n,frogTaskId:r,setFrogTaskId:s}=Vt(),[i,o]=b.useState(!1),[a,l]=b.useState(r),c=n.filter(v=>v.status!=="done"),d=()=>{a&&(s(a),e("Sapo do Dia definido!","","success")),o(!1)},h=()=>{l(r),o(!0)},f=UB[t]||vx,p={};return t==="dashboard"&&(p.openMorningReview=h),u.jsxs("div",{className:eh.dashboardLayout,children:[u.jsx(Ik,{isOpen:i,tasks:c,selectedTask:a,onSelectTask:l,onConfirm:d,onClose:()=>o(!1)}),u.jsx("main",{className:eh.mainContent,children:u.jsx(f,{...p})}),u.jsx("footer",{className:eh.footerNav,children:u.jsx(MB,{})})]})},zB="/icon-512.png",HB=()=>{const[t,e]=b.useState(""),{setUserName:n}=vu(),{signInWithGoogle:r}=yu(),s=()=>{t.trim()&&n(t.trim())};return u.jsx("div",{className:"onboarding-container",children:u.jsxs("div",{className:"onboarding-card",children:[u.jsx("img",{src:zB,alt:"FocusFrog Logo",className:"onboarding-logo"}),u.jsx("h1",{className:"onboarding-title",children:"Bem-vindo(a) ao Focus Frog!"}),u.jsx("p",{className:"onboarding-subtitle",children:"Seu osis de produtividade para transformar o caos em clareza."}),u.jsx("div",{className:"onboarding-actions",children:u.jsxs("div",{className:"onboarding-input-group",children:[u.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),placeholder:"Digite seu nome aqui",className:"g-input",onKeyPress:i=>i.key==="Enter"&&s()}),u.jsx("button",{onClick:s,className:"btn btn-accent",children:"Continuar"})]})})]})})},qB=()=>{const{userName:t,completeOnboarding:e}=vu();return u.jsx("div",{className:"onboarding-container",children:u.jsxs("div",{className:"onboarding-card welcome-screen-typography",children:[u.jsxs("h1",{className:"onboarding-title",children:["Bem-vindo, ",t,"!"]}),u.jsx("p",{className:"onboarding-subtitle",children:"O FocusFrog  uma caixa de ferramentas para acalmar a mente e te ajudar a focar no que realmente importa. Veja como:"}),u.jsxs("div",{className:"features-grid",children:[u.jsxs("div",{className:"feature-item",children:[u.jsx("h3",{children:" Engula um Sapo por Dia"}),u.jsx("p",{children:'Para vencer a paralisia de deciso, escolheremos UMA tarefa principal por dia: o seu "Sapo". Complet-la j torna o dia uma vitria.'})]}),u.jsxs("div",{className:"feature-item",children:[u.jsx("h3",{children:' Adeus, "No sei por onde comear"'}),u.jsx("p",{children:"Use a Matriz de Prioridades para organizar suas ideias. Ela te ajuda a separar o que  para FAZER AGORA do que pode ser AGENDADO, dando clareza."})]}),u.jsxs("div",{className:"feature-item",children:[u.jsx("h3",{children:" Rotinas que Pensam por Voc"}),u.jsx("p",{children:'Use rotinas prontas (como "limpar em 5 min" ou "preparar para dormir") que quebram tarefas assustadoras em passos rpidos para voc apenas seguir.'})]}),u.jsxs("div",{className:"feature-item",children:[u.jsx("h3",{children:" Chega de Voltar para Casa"}),u.jsx("p",{children:'Antes de sair, use nosso checklist "J pegou?" para verificar itens como chaves e carteira. Uma pequena ajuda para sua memria de trabalho.'})]})]}),u.jsx("button",{onClick:e,className:"g-button g-button--primary",children:"Estou pronto para focar!"})]})})},WB="/icon-512.png",KB=({isFadingOut:t})=>u.jsx("div",{className:`splash-container ${t?"fade-out":""}`,children:u.jsxs("div",{className:"splash-content",children:[u.jsx("img",{src:WB,alt:"FocusFrog Logo",className:"splash-logo"}),u.jsx("h1",{className:"splash-title",children:"FocusFrog"})]})}),GB="_container_btmmw_3",JB={container:GB},YB="_toast_1o0bn_3",QB="_success_1o0bn_25",XB="_info_1o0bn_28",ZB="_error_1o0bn_31",eU="_victory_1o0bn_34",tU="_special_1o0bn_37",nU="_toastIcon_1o0bn_42",rU="_toastContent_1o0bn_47",sU="_dismissing_1o0bn_58",iU="_actionButton_1o0bn_63",mo={toast:YB,success:QB,info:XB,error:ZB,victory:eU,special:tU,toastIcon:nU,toastContent:rU,dismissing:sU,actionButton:iU},oU=({notification:t,onDismiss:e})=>{b.useEffect(()=>{if(!(!t.action||Pc.dismissActionable))return;const i=setTimeout(()=>{e(t.id)},Pc.defaultDuration);return()=>clearTimeout(i)},[t,e]);const n=mo[t.category]||"",r=s=>{s.stopPropagation(),t.action&&t.action.onAction(),e(t.id)};return u.jsxs("div",{className:`${mo.toast} ${n}`,onClick:()=>e(t.id),children:[u.jsx("span",{className:mo.toastIcon,children:t.icon}),u.jsx("div",{className:mo.toastContent,children:u.jsx("p",{children:t.message})}),t.action&&u.jsx("button",{className:mo.actionButton,onClick:r,children:t.action.label})]})},aU="_notificationContainer_1kqp2_5",lU="_toastListContainer_1kqp2_21",cU="_clearButton_1kqp2_32",th={notificationContainer:aU,toastListContainer:lU,clearButton:cU},tg=b.createContext({});function ng(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const rg=typeof window<"u",wx=rg?b.useLayoutEffect:b.useEffect,Du=b.createContext(null);function sg(t,e){t.indexOf(e)===-1&&t.push(e)}function ig(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Un=(t,e,n)=>n>e?e:n<t?t:n;let og=()=>{};const fr={},bx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Sx(t){return typeof t=="object"&&t!==null}const kx=t=>/^0[^.\s]+$/u.test(t);function ag(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,uU=(t,e)=>n=>e(t(n)),Ja=(...t)=>t.reduce(uU),Aa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lg{constructor(){this.subscriptions=[]}add(e){return sg(this.subscriptions,e),()=>ig(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ir=t=>t*1e3,en=t=>t/1e3;function xx(t,e){return e?t*(1e3/e):0}const Tx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dU=1e-7,hU=12;function fU(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Tx(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>dU&&++a<hU);return o}function Ya(t,e,n,r){if(t===e&&n===r)return rn;const s=i=>fU(i,0,1,t,n);return i=>i===0||i===1?i:Tx(s(i),e,r)}const Cx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ex=t=>e=>1-t(1-e),Ix=Ya(.33,1.53,.69,.99),cg=Ex(Ix),Ax=Cx(cg),Px=t=>(t*=2)<1?.5*cg(t):.5*(2-Math.pow(2,-10*(t-1))),ug=t=>1-Math.sin(Math.acos(t)),jx=Ex(ug),Rx=Cx(ug),pU=Ya(.42,0,1,1),mU=Ya(0,0,.58,1),Nx=Ya(.42,0,.58,1),gU=t=>Array.isArray(t)&&typeof t[0]!="number",Ox=t=>Array.isArray(t)&&typeof t[0]=="number",yU={linear:rn,easeIn:pU,easeInOut:Nx,easeOut:mU,circIn:ug,circInOut:Rx,circOut:jx,backIn:cg,backInOut:Ax,backOut:Ix,anticipate:Px},vU=t=>typeof t=="string",Q0=t=>{if(Ox(t)){og(t.length===4);const[e,n,r,s]=t;return Ya(e,n,r,s)}else if(vU(t))return yU[t];return t},Al=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _U(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),t()),d(a)}const c={schedule:(d,h=!1,f=!1)=>{const v=f&&s?n:r;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const wU=40;function Dx(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Al.reduce((y,k)=>(y[k]=_U(i),y),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:p,postRender:v}=o,w=()=>{const y=fr.useManualTiming?s.timestamp:performance.now();n=!1,fr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,wU),1)),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),p.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,s.isProcessing||t(w)};return{schedule:Al.reduce((y,k)=>{const x=o[k];return y[k]=(C,T=!1,E=!1)=>(n||S(),x.schedule(C,T,E)),y},{}),cancel:y=>{for(let k=0;k<Al.length;k++)o[Al[k]].cancel(y)},state:s,steps:o}}const{schedule:Se,cancel:Qr,state:Ze,steps:nh}=Dx(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let Xl;function bU(){Xl=void 0}const pt={now:()=>(Xl===void 0&&pt.set(Ze.isProcessing||fr.useManualTiming?Ze.timestamp:performance.now()),Xl),set:t=>{Xl=t,queueMicrotask(bU)}},Lx=t=>e=>typeof e=="string"&&e.startsWith(t),Mx=Lx("--"),SU=Lx("var(--"),dg=t=>SU(t)?kU.test(t.split("/*")[0].trim()):!1,kU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X0(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Xi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pa={...Xi,transform:t=>Un(0,1,t)},Pl={...Xi,default:1},zo=t=>Math.round(t*1e5)/1e5,hg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xU(t){return t==null}const TU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fg=(t,e)=>n=>!!(typeof n=="string"&&TU.test(n)&&n.startsWith(t)||e&&!xU(n)&&Object.prototype.hasOwnProperty.call(n,e)),Fx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(hg);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},CU=t=>Un(0,255,t),rh={...Xi,transform:t=>Math.round(CU(t))},Ss={test:fg("rgb","red"),parse:Fx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rh.transform(t)+", "+rh.transform(e)+", "+rh.transform(n)+", "+zo(Pa.transform(r))+")"};function EU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Gf={test:fg("#"),parse:EU,transform:Ss.transform},Qa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kr=Qa("deg"),$n=Qa("%"),B=Qa("px"),IU=Qa("vh"),AU=Qa("vw"),Z0={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},gi={test:fg("hsl","hue"),parse:Fx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$n.transform(zo(e))+", "+$n.transform(zo(n))+", "+zo(Pa.transform(r))+")"},Fe={test:t=>Ss.test(t)||Gf.test(t)||gi.test(t),parse:t=>Ss.test(t)?Ss.parse(t):gi.test(t)?gi.parse(t):Gf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ss.transform(t):gi.transform(t),getAnimatableNone:t=>{const e=Fe.parse(t);return e.alpha=0,Fe.transform(e)}},PU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hg))==null?void 0:e.length)||0)+(((n=t.match(PU))==null?void 0:n.length)||0)>0}const $x="number",Bx="color",RU="var",NU="var(",e_="${}",OU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ja(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(OU,l=>(Fe.test(l)?(r.color.push(i),s.push(Bx),n.push(Fe.parse(l))):l.startsWith(NU)?(r.var.push(i),s.push(RU),n.push(l)):(r.number.push(i),s.push($x),n.push(parseFloat(l))),++i,e_)).split(e_);return{values:n,split:a,indexes:r,types:s}}function Ux(t){return ja(t).values}function Vx(t){const{split:e,types:n}=ja(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===$x?i+=zo(s[o]):a===Bx?i+=Fe.transform(s[o]):i+=s[o]}return i}}const DU=t=>typeof t=="number"?0:Fe.test(t)?Fe.getAnimatableNone(t):t;function LU(t){const e=Ux(t);return Vx(t)(e.map(DU))}const Xr={test:jU,parse:Ux,createTransformer:Vx,getAnimatableNone:LU};function sh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=sh(l,a,t+1/3),i=sh(l,a,t),o=sh(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Kc(t,e){return n=>n>0?e:t}const Ee=(t,e,n)=>t+(e-t)*n,ih=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},FU=[Gf,Ss,gi],$U=t=>FU.find(e=>e.test(t));function t_(t){const e=$U(t);if(!e)return!1;let n=e.parse(t);return e===gi&&(n=MU(n)),n}const n_=(t,e)=>{const n=t_(t),r=t_(e);if(!n||!r)return Kc(t,e);const s={...n};return i=>(s.red=ih(n.red,r.red,i),s.green=ih(n.green,r.green,i),s.blue=ih(n.blue,r.blue,i),s.alpha=Ee(n.alpha,r.alpha,i),Ss.transform(s))},Jf=new Set(["none","hidden"]);function BU(t,e){return Jf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function UU(t,e){return n=>Ee(t,e,n)}function pg(t){return typeof t=="number"?UU:typeof t=="string"?dg(t)?Kc:Fe.test(t)?n_:HU:Array.isArray(t)?zx:typeof t=="object"?Fe.test(t)?n_:VU:Kc}function zx(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>pg(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function VU(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=pg(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function zU(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const HU=(t,e)=>{const n=Xr.createTransformer(e),r=ja(t),s=ja(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Jf.has(t)&&!s.values.length||Jf.has(e)&&!r.values.length?BU(t,e):Ja(zx(zU(r,s),s.values),n):Kc(t,e)};function Hx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ee(t,e,n):pg(t)(t,e)}const qU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Se.update(e,n),stop:()=>Qr(e),now:()=>Ze.isProcessing?Ze.timestamp:pt.now()}},qx=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gc=2e4;function mg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gc;)e+=n,r=t.next(e);return e>=Gc?1/0:e}function WU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(mg(r),Gc);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:en(s)}}const KU=5;function Wx(t,e,n){const r=Math.max(e-KU,0);return xx(n-t(r),e-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oh=.001;function GU({duration:t=Re.duration,bounce:e=Re.bounce,velocity:n=Re.velocity,mass:r=Re.mass}){let s,i,o=1-e;o=Un(Re.minDamping,Re.maxDamping,o),t=Un(Re.minDuration,Re.maxDuration,en(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,p=Yf(c,o),v=Math.exp(-h);return oh-f/p*v},i=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),w=Yf(Math.pow(c,2),o);return(-s(c)+oh>0?-1:1)*((f-p)*v)/w}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-oh+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=YU(s,i,a);if(t=ir(t),isNaN(l))return{stiffness:Re.stiffness,damping:Re.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const JU=12;function YU(t,e,n){let r=n;for(let s=1;s<JU;s++)r=r-t(r)/e(r);return r}function Yf(t,e){return t*Math.sqrt(1-e*e)}const QU=["duration","bounce"],XU=["stiffness","damping","mass"];function r_(t,e){return e.some(n=>t[n]!==void 0)}function ZU(t){let e={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...t};if(!r_(t,XU)&&r_(t,QU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Un(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Re.mass,stiffness:s,damping:i}}else{const n=GU(t);e={...e,...n,mass:Re.mass},e.isResolvedFromDuration=!0}return e}function Jc(t=Re.visualDuration,e=Re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=ZU({...n,velocity:-en(n.velocity||0)}),v=f||0,w=c/(2*Math.sqrt(l*d)),S=o-i,g=en(Math.sqrt(l/d)),m=Math.abs(S)<5;r||(r=m?Re.restSpeed.granular:Re.restSpeed.default),s||(s=m?Re.restDelta.granular:Re.restDelta.default);let y;if(w<1){const x=Yf(g,w);y=C=>{const T=Math.exp(-w*g*C);return o-T*((v+w*g*S)/x*Math.sin(x*C)+S*Math.cos(x*C))}}else if(w===1)y=x=>o-Math.exp(-g*x)*(S+(v+g*S)*x);else{const x=g*Math.sqrt(w*w-1);y=C=>{const T=Math.exp(-w*g*C),E=Math.min(x*C,300);return o-T*((v+w*g*S)*Math.sinh(E)+x*S*Math.cosh(E))/x}}const k={calculatedDuration:p&&h||null,next:x=>{const C=y(x);if(p)a.done=x>=h;else{let T=x===0?v:0;w<1&&(T=x===0?ir(v):Wx(y,x,C));const E=Math.abs(T)<=r,A=Math.abs(o-C)<=s;a.done=E&&A}return a.value=a.done?o:C,a},toString:()=>{const x=Math.min(mg(k),Gc),C=qx(T=>k.next(x*T).value,x,30);return x+"ms "+C},toTransition:()=>{}};return k}Jc.applyToOptions=t=>{const e=WU(t,100,Jc);return t.ease=e.ease,t.duration=ir(e.duration),t.type="keyframes",t};function Qf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,v=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let w=n*e;const S=h+w,g=o===void 0?S:o(S);g!==S&&(w=g-h);const m=E=>-w*Math.exp(-E/r),y=E=>g+m(E),k=E=>{const A=m(E),I=y(E);f.done=Math.abs(A)<=c,f.value=f.done?g:I};let x,C;const T=E=>{p(f.value)&&(x=E,C=Jc({keyframes:[f.value,v(f.value)],velocity:Wx(y,E,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:E=>{let A=!1;return!C&&x===void 0&&(A=!0,k(E),T(E)),x!==void 0&&E>=x?C.next(E-x):(!A&&k(E),f)}}}function eV(t,e,n){const r=[],s=n||fr.mix||Hx,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||rn:e;a=Ja(l,a)}r.push(a)}return r}function tV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(og(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=eV(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Aa(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Un(t[0],t[i-1],d)):c}function nV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Aa(0,e,r);t.push(Ee(n,1,s))}}function rV(t){const e=[0];return nV(e,t.length-1),e}function sV(t,e){return t.map(n=>n*e)}function iV(t,e){return t.map(()=>e||Nx).splice(0,t.length-1)}function Ho({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=gU(r)?r.map(Q0):Q0(r),i={done:!1,value:e[0]},o=sV(n&&n.length===e.length?n:rV(e),t),a=tV(o,e,{ease:Array.isArray(s)?s:iV(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const oV=t=>t!==null;function gg(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(oV),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const aV={decay:Qf,inertia:Qf,tween:Ho,keyframes:Ho,spring:Jc};function Kx(t){typeof t.type=="string"&&(t.type=aV[t.type])}class yg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lV=t=>t/100;class vg extends yg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==pt.now()&&this.tick(pt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Kx(e);const{type:n=Ho,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Ho;l!==Ho&&typeof a[0]!="number"&&(this.mixKeyframes=Ja(lV,Hx(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=mg(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:v,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,k=r;if(h){const E=Math.min(this.currentTime,s)/a;let A=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/a)):f==="mirror"&&(k=o)),y=Un(0,1,I)*a}const x=m?{done:!1,value:d[0]}:k.next(y);i&&(x.value=i(x.value));let{done:C}=x;!m&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&v!==Qf&&(x.value=gg(d,this.options,S,this.speed)),w&&w(x.value),T&&this.finish(),x}then(e,n){return this.finished.then(e,n)}get duration(){return en(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(this.currentTime)}set time(e){var n;e=ir(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=en(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=qU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function cV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,Xf=t=>{const e=ks(Math.atan2(t[1],t[0]));return Zf(e)},uV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xf,rotateZ:Xf,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zf=t=>(t=t%360,t<0&&(t+=360),t),s_=Xf,i_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),o_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i_,scaleY:o_,scale:t=>(i_(t)+o_(t))/2,rotateX:t=>Zf(ks(Math.atan2(t[6],t[5]))),rotateY:t=>Zf(ks(Math.atan2(-t[2],t[0]))),rotateZ:s_,rotate:s_,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ep(t){return t.includes("scale")?1:0}function tp(t,e){if(!t||t==="none")return ep(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=dV,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uV,s=a}if(!s)return ep(e);const i=r[e],o=s[1].split(",").map(fV);return typeof i=="function"?i(o):o[i]}const hV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tp(n,e)};function fV(t){return parseFloat(t.trim())}const Zi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(Zi),a_=t=>t===Xi||t===B,pV=new Set(["x","y","z"]),mV=Zi.filter(t=>!pV.has(t));function gV(t){const e=[];return mV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Fr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tp(e,"x"),y:(t,{transform:e})=>tp(e,"y")};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const Is=new Set;let np=!1,rp=!1,sp=!1;function Gx(){if(rp){const t=Array.from(Is).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=gV(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rp=!1,np=!1,Is.forEach(t=>t.complete(sp)),Is.clear()}function Jx(){Is.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rp=!0)})}function yV(){sp=!0,Jx(),Gx(),sp=!1}class _g{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Is.add(this),np||(np=!0,Se.read(Jx),Se.resolveKeyframes(Gx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}cV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Is.delete(this)}cancel(){this.state==="scheduled"&&(Is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vV=t=>t.startsWith("--");function _V(t,e,n){vV(e)?t.style.setProperty(e,n):t.style[e]=n}const wV=ag(()=>window.ScrollTimeline!==void 0),bV={};function SV(t,e){const n=ag(t);return()=>bV[e]??n()}const Yx=SV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,l_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xo([0,.65,.55,1]),circOut:xo([.55,0,1,.45]),backIn:xo([.31,.01,.66,-.59]),backOut:xo([.33,1.53,.69,.99])};function Qx(t,e){if(t)return typeof t=="function"?Yx()?qx(t,e):"ease-out":Ox(t)?xo(t):Array.isArray(t)?t.map(n=>Qx(n,e)||l_.easeOut):l_[t]}function kV(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=Qx(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function Xx(t){return typeof t=="function"&&"applyToOptions"in t}function xV({type:t,...e}){return Xx(t)&&Yx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TV extends yg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,og(typeof e.type!="string");const c=xV(e);this.animation=kV(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=gg(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):_V(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return en(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ir(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wV()?(this.animation.timeline=e,rn):n(this)}}const Zx={anticipate:Px,backInOut:Ax,circInOut:Rx};function CV(t){return t in Zx}function EV(t){typeof t.ease=="string"&&CV(t.ease)&&(t.ease=Zx[t.ease])}const ah=10;class IV extends TV{constructor(e){EV(e),Kx(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new vg({...o,autoplay:!1}),l=Math.max(ah,pt.now()-this.startTime),c=Un(0,ah,l-ah);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const c_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xr.test(t)||t==="0")&&!t.startsWith("url("));function AV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PV(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=c_(s,e),a=c_(i,e);return!o||!a?!1:AV(t)||(n==="spring"||Xx(n))&&r}function ip(t){t.duration=0,t.type="keyframes"}const jV=new Set(["opacity","clipPath","filter","transform"]),RV=ag(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NV(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return RV()&&n&&jV.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const OV=40;class DV extends yg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var v;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=pt.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||_g;this.keyframeResolver=new p(a,(w,S,g)=>this.onKeyframesResolved(w,S,f,!g),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=pt.now(),PV(e,i,o,a)||((fr.instantAnimations||!l)&&(d==null||d(gg(e,r,n))),e[0]=e[e.length-1],ip(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>OV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&NV(f)?new IV({...f,element:f.motionValue.owner.current}):new vg(f);p.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),yV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const LV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MV(t){const e=LV.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function eT(t,e,n=1){const[r,s]=MV(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return bx(o)?parseFloat(o):o}return dg(s)?eT(s,e,n+1):s}function wg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const tT=new Set(["width","height","top","left","right","bottom",...Zi]),FV={test:t=>t==="auto",parse:t=>t},nT=t=>e=>e.test(t),rT=[Xi,B,$n,kr,AU,IU,FV],u_=t=>rT.find(nT(t));function $V(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kx(t):!0}const BV=new Set(["brightness","contrast","saturate","opacity"]);function UV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hg)||[];if(!r)return t;const s=n.replace(r,"");let i=BV.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const VV=/\b([a-z-]*)\(.*?\)/gu,op={...Xr,getAnimatableNone:t=>{const e=t.match(VV);return e?e.map(UV).join(" "):t}},d_={...Xi,transform:Math.round},zV={rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Pl,scaleX:Pl,scaleY:Pl,scaleZ:Pl,skew:kr,skewX:kr,skewY:kr,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:Pa,originX:Z0,originY:Z0,originZ:B},bg={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,inset:B,insetBlock:B,insetBlockStart:B,insetBlockEnd:B,insetInline:B,insetInlineStart:B,insetInlineEnd:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,paddingBlock:B,paddingBlockStart:B,paddingBlockEnd:B,paddingInline:B,paddingInlineStart:B,paddingInlineEnd:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,marginBlock:B,marginBlockStart:B,marginBlockEnd:B,marginInline:B,marginInlineStart:B,marginInlineEnd:B,backgroundPositionX:B,backgroundPositionY:B,...zV,zIndex:d_,fillOpacity:Pa,strokeOpacity:Pa,numOctaves:d_},HV={...bg,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:op,WebkitFilter:op},sT=t=>HV[t];function iT(t,e){let n=sT(t);return n!==op&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qV=new Set(["auto","none","0"]);function WV(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!qV.has(i)&&ja(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=iT(n,s)}class KV extends _g{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),dg(h))){const f=eT(h,n.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!tT.has(r)||e.length!==2)return;const[s,i]=e,o=u_(s),a=u_(i),l=X0(s),c=X0(i);if(l!==c&&Fr[r]){this.needsMeasurement=!0;return}if(o!==a)if(a_(o)&&a_(a))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Fr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$V(e[s]))&&r.push(s);r.length&&WV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Fr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function GV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const oT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function aT(t){return Sx(t)&&"offsetHeight"in t}const h_=30,JV=t=>!isNaN(parseFloat(t));class YV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=pt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>h_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,h_);return xx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zi(t,e){return new YV(t,e)}const{schedule:Sg}=Dx(queueMicrotask,!1),fn={x:!1,y:!1};function lT(){return fn.x||fn.y}function QV(t){return t==="x"||t==="y"?fn[t]?null:(fn[t]=!0,()=>{fn[t]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}function cT(t,e){const n=GV(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function f_(t){return!(t.pointerType==="touch"||lT())}function XV(t,e,n={}){const[r,s,i]=cT(t,n),o=a=>{if(!f_(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{f_(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const uT=(t,e)=>e?t===e?!0:uT(t,e.parentElement):!1,kg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dT(t){return ZV.has(t.tagName)||t.isContentEditable===!0}const Zl=new WeakSet;function p_(t){return e=>{e.key==="Enter"&&t(e)}}function lh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const e9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=p_(()=>{if(Zl.has(n))return;lh(n,"down");const s=p_(()=>{lh(n,"up")}),i=()=>lh(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function m_(t){return kg(t)&&!lT()}function t9(t,e,n={}){const[r,s,i]=cT(t,n),o=a=>{const l=a.currentTarget;if(!m_(a))return;Zl.add(l);const c=e(l,a),d=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Zl.has(l)&&Zl.delete(l),m_(p)&&typeof c=="function"&&c(p,{success:v})},h=p=>{d(p,l===window||l===document||n.useGlobalTarget||uT(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),aT(a)&&(a.addEventListener("focus",c=>e9(c,s)),!dT(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function hT(t){return Sx(t)&&"ownerSVGElement"in t}function n9(t){return hT(t)&&t.tagName==="svg"}const ct=t=>!!(t&&t.getVelocity),r9=[...rT,Fe,Xr],s9=t=>r9.find(nT(t)),xg=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function g_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function i9(...t){return e=>{let n=!1;const r=t.map(s=>{const i=g_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():g_(t[s],null)}}}}function o9(...t){return b.useCallback(i9(...t),t)}class a9 extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=aT(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l9({children:t,isPresent:e,anchorX:n,root:r}){var d;const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext(xg),l=((d=t.props)==null?void 0:d.ref)??(t==null?void 0:t.ref),c=o9(i,l);return b.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:v,right:w}=o.current;if(e||!i.current||!h||!f)return;const S=n==="left"?`left: ${v}`:`right: ${w}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");a&&(g.nonce=a);const m=r??document.head;return m.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${S}px !important;
            top: ${p}px !important;
          }
        `),()=>{m.contains(g)&&m.removeChild(g)}},[e]),u.jsx(a9,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:c})})}const c9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=ng(u9),d=b.useId();let h=!0,f=b.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:p=>{c.set(p,!0);for(const v of c.values())if(!v)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return i&&h&&(f={...f}),b.useMemo(()=>{c.forEach((p,v)=>c.set(v,!1))},[n]),b.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(l9,{isPresent:n,anchorX:a,root:l,children:t})),u.jsx(Du.Provider,{value:f,children:t})};function u9(){return new Map}function fT(t=!0){const e=b.useContext(Du);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const jl=t=>t.key||"";function y_(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const v_=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=fT(o),h=b.useMemo(()=>y_(t),[t]),f=o&&!c?[]:h.map(jl),p=b.useRef(!0),v=b.useRef(h),w=ng(()=>new Map),S=b.useRef(new Set),[g,m]=b.useState(h),[y,k]=b.useState(h);wx(()=>{p.current=!1,v.current=h;for(let T=0;T<y.length;T++){const E=jl(y[T]);f.includes(E)?(w.delete(E),S.current.delete(E)):w.get(E)!==!0&&w.set(E,!1)}},[y,f.length,f.join("-")]);const x=[];if(h!==g){let T=[...h];for(let E=0;E<y.length;E++){const A=y[E],I=jl(A);f.includes(I)||(T.splice(E,0,A),x.push(A))}return i==="wait"&&x.length&&(T=x),k(y_(T)),m(h),null}const{forceRender:C}=b.useContext(tg);return u.jsx(u.Fragment,{children:y.map(T=>{const E=jl(T),A=o&&!c?!1:h===y||f.includes(E),I=()=>{if(S.current.has(E))return;if(S.current.add(E),w.has(E))w.set(E,!0);else return;let F=!0;w.forEach(D=>{D||(F=!1)}),F&&(C==null||C(),k(v.current),o&&(d==null||d()),r&&r())};return u.jsx(c9,{isPresent:A,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:A?void 0:I,anchorX:a,children:T},E)})})},pT=b.createContext({strict:!1}),__={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hi={};for(const t in __)Hi[t]={isEnabled:e=>__[t].some(n=>!!e[n])};function d9(t){for(const e in t)Hi[e]={...Hi[e],...t[e]}}const h9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h9.has(t)}let mT=t=>!Yc(t);function f9(t){typeof t=="function"&&(mT=e=>e.startsWith("on")?!Yc(e):t(e))}try{f9(require("@emotion/is-prop-valid").default)}catch{}function p9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mT(s)||n===!0&&Yc(s)||!e&&!Yc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Lu=b.createContext({});function Mu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ra(t){return typeof t=="string"||Array.isArray(t)}const Tg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cg=["initial",...Tg];function Fu(t){return Mu(t.animate)||Cg.some(e=>Ra(t[e]))}function gT(t){return!!(Fu(t)||t.variants)}function m9(t,e){if(Fu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ra(n)?n:void 0,animate:Ra(r)?r:void 0}}return t.inherit!==!1?e:{}}function g9(t){const{initial:e,animate:n}=m9(t,b.useContext(Lu));return b.useMemo(()=>({initial:e,animate:n}),[w_(e),w_(n)])}function w_(t){return Array.isArray(t)?t.join(" "):t}function b_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const go={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(B.test(t))t=parseFloat(t);else return t;const n=b_(t,e.target.x),r=b_(t,e.target.y);return`${n}% ${r}%`}},y9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Xr.parse(t);if(s.length>5)return r;const i=Xr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Ee(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},ap={borderRadius:{...go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:y9};function yT(t,{layout:e,layoutId:n}){return eo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ap[t]||t==="opacity")}const v9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_9=Zi.length;function w9(t,e,n){let r="",s=!0;for(let i=0;i<_9;i++){const o=Zi[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=oT(a,bg[o]);if(!l){s=!1;const d=v9[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Eg(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(eo.has(l)){o=!0;continue}else if(Mx(l)){s[l]=c;continue}else{const d=oT(c,bg[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=w9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const Ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vT(t,e,n){for(const r in e)!ct(e[r])&&!yT(r,n)&&(t[r]=e[r])}function b9({transformTemplate:t},e){return b.useMemo(()=>{const n=Ig();return Eg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S9(t,e){const n=t.style||{},r={};return vT(r,n,t),Object.assign(r,b9(t,e)),r}function k9(t,e){const n={},r=S9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const x9={offset:"stroke-dashoffset",array:"stroke-dasharray"},T9={offset:"strokeDashoffset",array:"strokeDasharray"};function C9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?x9:T9;t[i.offset]=B.transform(-r);const o=B.transform(e),a=B.transform(n);t[i.array]=`${o} ${a}`}const E9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _T(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Eg(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const p of E9)h[p]!==void 0&&(f[p]=h[p],delete h[p]);e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&C9(h,s,i,o,!1)}const wT=()=>({...Ig(),attrs:{}}),bT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I9(t,e,n,r){const s=b.useMemo(()=>{const i=wT();return _T(i,e,bT(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vT(i,t.style,t),s.style={...i,...s.style}}return s}const A9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ag(t){return typeof t!="string"||t.includes("-")?!1:!!(A9.indexOf(t)>-1||/[A-Z]/u.test(t))}function P9(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??Ag(t)?I9:k9)(e,r,s,t),c=p9(e,typeof t=="string",i),d=t!==b.Fragment?{...c,...l,ref:n}:{},{children:h}=e,f=b.useMemo(()=>ct(h)?h.get():h,[h]);return b.createElement(t,{...d,children:f})}function S_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Pg(t,e,n,r){if(typeof e=="function"){const[s,i]=S_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=S_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ec(t){return ct(t)?t.get():t}function j9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:R9(n,r,s,t),renderState:e()}}function R9(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=ec(i[f]);let{initial:o,animate:a}=t;const l=Fu(t),c=gT(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Mu(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const v=Pg(t,f[p]);if(v){const{transitionEnd:w,transition:S,...g}=v;for(const m in g){let y=g[m];if(Array.isArray(y)){const k=d?y.length-1:0;y=y[k]}y!==null&&(s[m]=y)}for(const m in w)s[m]=w[m]}}}return s}const ST=t=>(e,n)=>{const r=b.useContext(Lu),s=b.useContext(Du),i=()=>j9(t,e,r,s);return n?i():ng(i)};function jg(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(ct(r[o])||e.style&&ct(e.style[o])||yT(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const N9=ST({scrapeMotionValuesFromProps:jg,createRenderState:Ig});function kT(t,e,n){const r=jg(t,e,n);for(const s in t)if(ct(t[s])||ct(e[s])){const i=Zi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const O9=ST({scrapeMotionValuesFromProps:kT,createRenderState:wT}),D9=Symbol.for("motionComponentSymbol");function L9(t,e,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const s=b.useRef(null);return b.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const Rg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M9="framerAppearId",xT="data-"+Rg(M9),TT=b.createContext({});function To(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function F9(t,e,n,r,s,i){var S,g;const{visualElement:o}=b.useContext(Lu),a=b.useContext(pT),l=b.useContext(Du),c=b.useContext(xg).reducedMotion,d=b.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const h=d.current,f=b.useContext(TT);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&$9(d.current,n,s,f);const p=b.useRef(!1);b.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const v=n[xT],w=b.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,v)));return wx(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,v)}),w.current=!1),h.enteringChildren=void 0)}),h}function $9(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CT(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&To(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function CT(t){if(t)return t.options.allowProjection!==!1?t.projection:CT(t.parent)}function ch(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&d9(r);const i=n?n==="svg":Ag(t),o=i?O9:N9;function a(c,d){let h;const f={...b.useContext(xg),...c,layoutId:B9(c)},{isStatic:p}=f,v=g9(c),w=o(c,p);if(!p&&rg){U9();const S=V9(f);h=S.MeasureLayout,v.visualElement=F9(t,w,f,s,S.ProjectionNode,i)}return u.jsxs(Lu.Provider,{value:v,children:[h&&v.visualElement?u.jsx(h,{visualElement:v.visualElement,...f}):null,P9(t,c,L9(w,v.visualElement,d),w,p,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[D9]=t,l}function B9({layoutId:t}){const e=b.useContext(tg).id;return e&&t!==void 0?e+"-"+t:t}function U9(t,e){b.useContext(pT).strict}function V9(t){const{drag:e,layout:n}=Hi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function z9(t,e){if(typeof Proxy>"u")return ch;const n=new Map,r=(i,o)=>ch(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,ch(o,void 0,t,e)),n.get(o))})}function ET({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function H9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function q9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uh(t){return t===void 0||t===1}function lp({scale:t,scaleX:e,scaleY:n}){return!uh(t)||!uh(e)||!uh(n)}function fs(t){return lp(t)||IT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IT(t){return k_(t.x)||k_(t.y)}function k_(t){return t&&t!=="0%"}function Qc(t,e,n){const r=t-n,s=e*r;return n+s}function x_(t,e,n,r,s){return s!==void 0&&(t=Qc(t,s,r)),Qc(t,n,r)+e}function cp(t,e=0,n=1,r,s){t.min=x_(t.min,e,n,r,s),t.max=x_(t.max,e,n,r,s)}function AT(t,{x:e,y:n}){cp(t.x,e.translate,e.scale,e.originPoint),cp(t.y,n.translate,n.scale,n.originPoint)}const T_=.999999999999,C_=1.0000000000001;function W9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AT(t,o)),r&&fs(i.latestValues)&&vi(t,i.latestValues))}e.x<C_&&e.x>T_&&(e.x=1),e.y<C_&&e.y>T_&&(e.y=1)}function yi(t,e){t.min=t.min+e,t.max=t.max+e}function E_(t,e,n,r,s=.5){const i=Ee(t.min,t.max,s);cp(t,e,n,i,r)}function vi(t,e){E_(t.x,e.x,e.scaleX,e.scale,e.originX),E_(t.y,e.y,e.scaleY,e.scale,e.originY)}function PT(t,e){return ET(q9(t.getBoundingClientRect(),e))}function K9(t,e,n){const r=PT(t,n),{scroll:s}=e;return s&&(yi(r.x,s.offset.x),yi(r.y,s.offset.y)),r}const I_=()=>({translate:0,scale:1,origin:0,originPoint:0}),_i=()=>({x:I_(),y:I_()}),A_=()=>({min:0,max:0}),Ve=()=>({x:A_(),y:A_()}),up={current:null},jT={current:!1};function G9(){if(jT.current=!0,!!rg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>up.current=t.matches;t.addEventListener("change",e),e()}else up.current=!1}const J9=new WeakMap;function Y9(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ct(s))t.addValue(r,s);else if(ct(i))t.addValue(r,zi(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,zi(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const P_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=pt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Se.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Fu(n),this.isVariantNode=gT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&ct(p)&&p.set(l[f])}}mount(e){var n;this.current=e,J9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(jT.current||G9(),this.shouldReduceMotion=up.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=eo.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hi){const n=Hi[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<P_.length;r++){const s=P_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Y9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(bx(r)||kx(r))?r=parseFloat(r):!s9(r)&&Xr.test(n)&&(r=iT(e,n)),this.setBaseTarget(e,ct(r)?r.get():r)),ct(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Pg(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ct(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sg.render(this.render)}}class RT extends Q9{constructor(){super(...arguments),this.KeyframeResolver=KV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ct(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NT(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function X9(t){return window.getComputedStyle(t)}class Z9 extends RT{constructor(){super(...arguments),this.type="html",this.renderInstance=NT}readValueFromInstance(e,n){var r;if(eo.has(n))return(r=this.projection)!=null&&r.isProjecting?ep(n):hV(e,n);{const s=X9(e),i=(Mx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PT(e,n)}build(e,n,r){Eg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return jg(e,n,r)}}const OT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e7(t,e,n,r){NT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(OT.has(s)?s:Rg(s),e.attrs[s])}class t7 extends RT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ve}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(eo.has(n)){const r=sT(n);return r&&r.default||0}return n=OT.has(n)?n:Rg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return kT(e,n,r)}build(e,n,r){_T(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){e7(e,n,r,s)}mount(e){this.isSVGTag=bT(e.tagName),super.mount(e)}}const n7=(t,e)=>e.isSVG??Ag(t)?new t7(e):new Z9(e,{allowProjection:t!==b.Fragment});function Ri(t,e,n){const r=t.getProps();return Pg(r,e,n!==void 0?n:r.custom,t)}const dp=t=>Array.isArray(t);function r7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zi(n))}function s7(t){return dp(t)?t[t.length-1]||0:t}function i7(t,e){const n=Ri(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=s7(i[o]);r7(t,o,a)}}function o7(t){return!!(ct(t)&&t.add)}function hp(t,e){const n=t.getValue("willChange");if(o7(n))return n.add(e);if(!n&&fr.WillChange){const r=new fr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DT(t){return t.props[xT]}const a7=t=>t!==null;function l7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(a7),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const c7={type:"spring",stiffness:500,damping:25,restSpeed:10},u7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d7={type:"keyframes",duration:.8},h7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f7=(t,{keyframes:e})=>e.length>2?d7:eo.has(t)?t.startsWith("scale")?u7(e[1]):c7:h7;function p7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Ng=(t,e,n,r={},s,i)=>o=>{const a=wg(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ir(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};p7(a)||Object.assign(d,f7(t,d)),d.duration&&(d.duration=ir(d.duration)),d.repeatDelay&&(d.repeatDelay=ir(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ip(d),d.delay===0&&(h=!0)),(fr.instantAnimations||fr.skipAnimations)&&(h=!0,ip(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=l7(d.keyframes,a);if(f!==void 0){Se.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new vg(d):new DV(d)};function m7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&m7(c,d))continue;const p={delay:n,...wg(i||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const g=DT(t);if(g){const m=window.MotionHandoffAnimation(g,d,Se);m!==null&&(p.startTime=m,w=!0)}}hp(t,d),h.start(Ng(d,h,f,t.shouldReduceMotion&&tT.has(d)?{type:!1}:p,t,w));const S=h.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{Se.update(()=>{o&&i7(t,o)})}),l}function MT(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function fp(t,e,n={}){var l;const r=Ri(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(LT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return g7(t,e,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function g7(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(fp(l,e,{...o,delay:n+(typeof r=="function"?0:r)+MT(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function y7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>fp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=fp(t,e,n);else{const s=typeof e=="function"?Ri(t,e,n.custom):e;r=Promise.all(LT(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const v7=Cg.length;function $T(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$T(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<v7;n++){const r=Cg[n],s=t.props[r];(Ra(s)||s===!1)&&(e[r]=s)}return e}const _7=[...Tg].reverse(),w7=Tg.length;function b7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>y7(t,n,r)))}function S7(t){let e=b7(t),n=j_(),r=!0;const s=l=>(c,d)=>{var f;const h=Ri(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...w}=h;c={...c,...w,...v}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=$T(t.parent)||{},h=[],f=new Set;let p={},v=1/0;for(let S=0;S<w7;S++){const g=_7[S],m=n[g],y=c[g]!==void 0?c[g]:d[g],k=Ra(y),x=g===l?m.isActive:null;x===!1&&(v=S);let C=y===d[g]&&y!==c[g]&&k;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),m.protectedKeys={...p},!m.isActive&&x===null||!y&&!m.prevProp||Mu(y)||typeof y=="boolean")continue;const T=k7(m.prevProp,y);let E=T||g===l&&m.isActive&&!C&&k||S>v&&k,A=!1;const I=Array.isArray(y)?y:[y];let F=I.reduce(s(g),{});x===!1&&(F={});const{prevResolvedValues:D={}}=m,L={...D,...F},X=te=>{E=!0,f.has(te)&&(A=!0,f.delete(te)),m.needsAnimating[te]=!0;const j=t.getValue(te);j&&(j.liveStyle=!1)};for(const te in L){const j=F[te],V=D[te];if(p.hasOwnProperty(te))continue;let W=!1;dp(j)&&dp(V)?W=!FT(j,V):W=j!==V,W?j!=null?X(te):f.add(te):j!==void 0&&f.has(te)?X(te):m.protectedKeys[te]=!0}m.prevProp=y,m.prevResolvedValues=F,m.isActive&&(p={...p,...F}),r&&t.blockInitialAnimation&&(E=!1);const K=C&&T;E&&(!K||A)&&h.push(...I.map(te=>{const j={type:g};if(typeof te=="string"&&r&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,W=Ri(V,te);if(V.enteringChildren&&W){const{delayChildren:le}=W.transition||{};j.delay=MT(V.enteringChildren,t,le)}}return{animation:te,options:j}}))}if(f.size){const S={};if(typeof c.initial!="boolean"){const g=Ri(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(S.transition=g.transition)}f.forEach(g=>{const m=t.getBaseTarget(g),y=t.getValue(g);y&&(y.liveStyle=!0),S[g]=m??null}),h.push({animation:S})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=j_()}}}function k7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FT(e,t):!1}function ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j_(){return{animate:ls(!0),whileInView:ls(),whileHover:ls(),whileTap:ls(),whileDrag:ls(),whileFocus:ls(),exit:ls()}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x7 extends rs{constructor(e){super(e),e.animationState||(e.animationState=S7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let T7=0;class C7 extends rs{constructor(){super(...arguments),this.id=T7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const E7={animation:{Feature:x7},exit:{Feature:C7}};function Na(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xa(t){return{point:{x:t.pageX,y:t.pageY}}}const I7=t=>e=>kg(e)&&t(e,Xa(e));function qo(t,e,n,r){return Na(t,e,I7(n),r)}const BT=1e-4,A7=1-BT,P7=1+BT,UT=.01,j7=0-UT,R7=0+UT;function mt(t){return t.max-t.min}function N7(t,e,n){return Math.abs(t-e)<=n}function R_(t,e,n,r=.5){t.origin=r,t.originPoint=Ee(e.min,e.max,t.origin),t.scale=mt(n)/mt(e),t.translate=Ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=A7&&t.scale<=P7||isNaN(t.scale))&&(t.scale=1),(t.translate>=j7&&t.translate<=R7||isNaN(t.translate))&&(t.translate=0)}function Wo(t,e,n,r){R_(t.x,e.x,n.x,r?r.originX:void 0),R_(t.y,e.y,n.y,r?r.originY:void 0)}function N_(t,e,n){t.min=n.min+e.min,t.max=t.min+mt(e)}function O7(t,e,n){N_(t.x,e.x,n.x),N_(t.y,e.y,n.y)}function O_(t,e,n){t.min=e.min-n.min,t.max=t.min+mt(e)}function Xc(t,e,n){O_(t.x,e.x,n.x),O_(t.y,e.y,n.y)}function Wt(t){return[t("x"),t("y")]}const VT=({current:t})=>t?t.ownerDocument.defaultView:null,D_=(t,e)=>Math.abs(t-e);function D7(t,e){const n=D_(t.x,e.x),r=D_(t.y,e.y);return Math.sqrt(n**2+r**2)}const L_=new Set(["auto","scroll"]);class zT{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=hh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=D7(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:S}=p,{timestamp:g}=Ze;this.history.push({...S,timestamp:g});const{onStart:m,onMove:y}=this.handlers;v||(m&&m(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=dh(v,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=hh(p.type==="pointercancel"?this.lastMoveEventInfo:dh(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,m),S&&S(p,m)},!kg(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Xa(e),c=dh(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ze;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,hh(c,this.history)),this.removeListeners=Ja(qo(this.contextWindow,"pointermove",this.handlePointerMove),qo(this.contextWindow,"pointerup",this.handlePointerUp),qo(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(L_.has(r.overflowX)||L_.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Se.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qr(this.updatePoint)}}function dh(t,e){return e?{point:e(t.point)}:t}function M_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hh({point:t},e){return{point:t,delta:M_(t,HT(e)),offset:M_(t,L7(e)),velocity:M7(e,.1)}}function L7(t){return t[0]}function HT(t){return t[t.length-1]}function M7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ir(e)));)n--;if(!r)return{x:0,y:0};const i=en(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function F7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ee(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ee(n,t,r.max):Math.min(t,n)),t}function F_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $7(t,{top:e,left:n,bottom:r,right:s}){return{x:F_(t.x,n,s),y:F_(t.y,e,r)}}function $_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function B7(t,e){return{x:$_(t.x,e.x),y:$_(t.y,e.y)}}function U7(t,e){let n=.5;const r=mt(t),s=mt(e);return s>r?n=Aa(e.min,e.max-r,t.min):r>s&&(n=Aa(t.min,t.max-s,e.min)),Un(0,1,n)}function V7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pp=.35;function z7(t=pp){return t===!1?t=0:t===!0&&(t=pp),{x:B_(t,"left","right"),y:B_(t,"top","bottom")}}function B_(t,e,n){return{min:U_(t,e),max:U_(t,n)}}function U_(t,e){return typeof t=="number"?t:t[e]||0}const H7=new WeakMap;class q7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(Xa(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QV(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wt(g=>{let m=this.getAxisMotionValue(g).get()||0;if($n.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const k=y.layout.layoutBox[g];k&&(m=mt(k)*(parseFloat(m)/100))}}this.originPoint[g]=m}),w&&Se.postRender(()=>w(h,f)),hp(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(v&&this.currentDirection===null){this.currentDirection=W7(g),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Wt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new zT(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:VT(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Se.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Rl(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=F7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&To(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$7(r.layoutBox,e):this.constraints=!1,this.elastic=z7(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=V7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!To(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=K9(r,s.root,this.visualElement.getTransformPagePoint());let o=B7(s.layout.layoutBox,i);if(n){const a=n(H9(o));this.hasMutatedConstraints=!!a,a&&(o=ET(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wt(d=>{if(!Rl(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hp(this.visualElement,e),r.start(Ng(e,r,0,n,this.visualElement,!1))}stopAnimation(){Wt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wt(n=>{const{drag:r}=this.getProps();if(!Rl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-Ee(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!To(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=U7({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wt(o=>{if(!Rl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ee(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;H7.set(this.visualElement,this);const e=this.visualElement.current,n=qo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!dT(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();To(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Se.read(r);const o=Na(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=pp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Rl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function W7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K7 extends rs{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new q7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const V_=t=>(e,n)=>{t&&Se.postRender(()=>t(e,n))};class G7 extends rs{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new zT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:V_(e),onStart:V_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Se.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=qo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fh=!1;class J7 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),fh&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,fh=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;fh=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qT(t){const[e,n]=fT(),r=b.useContext(tg);return u.jsx(J7,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(TT),isPresent:e,safeToRemove:n})}function Y7(t,e,n){const r=ct(t)?t:zi(t);return r.start(Ng("",r,e,n)),r.animation}const Q7=(t,e)=>t.depth-e.depth;class X7{constructor(){this.children=[],this.isDirty=!1}add(e){sg(this.children,e),this.isDirty=!0}remove(e){ig(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q7),this.isDirty=!1,this.children.forEach(e)}}function Z7(t,e){const n=pt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Qr(r),t(i-e))};return Se.setup(r,!0),()=>Qr(r)}const WT=["TopLeft","TopRight","BottomLeft","BottomRight"],ez=WT.length,z_=t=>typeof t=="string"?parseFloat(t):t,H_=t=>typeof t=="number"||B.test(t);function tz(t,e,n,r,s,i){s?(t.opacity=Ee(0,n.opacity??1,nz(r)),t.opacityExit=Ee(e.opacity??1,0,rz(r))):i&&(t.opacity=Ee(e.opacity??1,n.opacity??1,r));for(let o=0;o<ez;o++){const a=`border${WT[o]}Radius`;let l=q_(e,a),c=q_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||H_(l)===H_(c)?(t[a]=Math.max(Ee(z_(l),z_(c),r),0),($n.test(c)||$n.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ee(e.rotate||0,n.rotate||0,r))}function q_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nz=KT(0,.5,jx),rz=KT(.5,.95,rn);function KT(t,e,n){return r=>r<t?0:r>e?1:n(Aa(t,e,r))}function W_(t,e){t.min=e.min,t.max=e.max}function dn(t,e){W_(t.x,e.x),W_(t.y,e.y)}function K_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function G_(t,e,n,r,s){return t-=e,t=Qc(t,1/n,r),s!==void 0&&(t=Qc(t,1/s,r)),t}function sz(t,e=0,n=1,r=.5,s,i=t,o=t){if($n.test(e)&&(e=parseFloat(e),e=Ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ee(i.min,i.max,r);t===i&&(a-=e),t.min=G_(t.min,e,n,a,s),t.max=G_(t.max,e,n,a,s)}function J_(t,e,[n,r,s],i,o){sz(t,e[n],e[r],e[s],e.scale,i,o)}const iz=["x","scaleX","originX"],oz=["y","scaleY","originY"];function Y_(t,e,n,r){J_(t.x,e,iz,n?n.x:void 0,r?r.x:void 0),J_(t.y,e,oz,n?n.y:void 0,r?r.y:void 0)}function Q_(t){return t.translate===0&&t.scale===1}function GT(t){return Q_(t.x)&&Q_(t.y)}function X_(t,e){return t.min===e.min&&t.max===e.max}function az(t,e){return X_(t.x,e.x)&&X_(t.y,e.y)}function Z_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JT(t,e){return Z_(t.x,e.x)&&Z_(t.y,e.y)}function ew(t){return mt(t.x)/mt(t.y)}function tw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lz{constructor(){this.members=[]}add(e){sg(this.members,e),e.scheduleRender()}remove(e){if(ig(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cz(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ph=["","X","Y","Z"],uz=1e3;let dz=0;function mh(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function YT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&YT(r)}function QT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=dz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pz),this.nodes.forEach(vz),this.nodes.forEach(_z),this.nodes.forEach(mz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new X7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=hT(o)&&!n9(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Se.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=Z7(f,250),tc.hasAnimatedSinceResize&&(tc.hasAnimatedSinceResize=!1,this.nodes.forEach(sw)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||xz,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=c.getProps(),g=!this.targetLayout||!JT(this.targetLayout,p),m=!h&&f;if(this.options.layoutRoot||this.resumeFrom||m||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...wg(v,"layout"),onPlay:w,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,m)}else h||sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yz),this.nodes.forEach(hz),this.nodes.forEach(fz)):this.nodes.forEach(rw),this.clearAllSnapshots();const a=pt.now();Ze.delta=Un(0,1e3/60,a-Ze.timestamp),Ze.timestamp=a,Ze.isProcessing=!0,nh.update.process(Ze),nh.preRender.process(Ze),nh.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gz),this.sharedNodes.forEach(bz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mt(this.snapshot.measuredBox.x)&&!mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!GT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||fs(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ve();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Cz))){const{scroll:d}=this.root;d&&(yi(a.x,d.offset.x),yi(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Ve();if(dn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&dn(a,o),yi(a.x,h.offset.x),yi(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Ve();dn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fs(d.latestValues)&&vi(l,d.latestValues)}return fs(this.latestValues)&&vi(l,this.latestValues),l}removeTransform(o){const a=Ve();dn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fs(c.latestValues))continue;lp(c.latestValues)&&c.updateSnapshot();const d=Ve(),h=c.measurePageBox();dn(d,h),Y_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return fs(this.latestValues)&&Y_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Ze.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),AT(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||lp(this.parent.latestValues)||IT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),Xc(this.relativeTargetOrigin,a,l),dn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;dn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;W9(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ve());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K_(this.prevProjectionDelta.x,this.projectionDelta.x),K_(this.prevProjectionDelta.y,this.projectionDelta.y)),Wo(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!tw(this.projectionDelta.x,this.prevProjectionDelta.x)||!tw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_i(),this.projectionDelta=_i(),this.projectionDeltaWithTransform=_i()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=_i();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ve(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,S=this.getStack(),g=!S||S.members.length<=1,m=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(kz));this.animationProgress=0;let y;this.mixTargetDelta=k=>{const x=k/1e3;iw(h.x,o.x,x),iw(h.y,o.y,x),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sz(this.relativeTarget,this.relativeTargetOrigin,f,x),y&&az(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ve()),dn(y,this.relativeTarget)),w&&(this.animationValues=d,tz(d,c,this.latestValues,x,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{tc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zi(0)),this.currentAnimation=Y7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&XT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ve();const h=mt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=mt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}dn(a,l),vi(a,d),Wo(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lz),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&mh("z",o,c,this.animationValues);for(let d=0;d<ph.length;d++)mh(`rotate${ph[d]}`,o,c,this.animationValues),mh(`skew${ph[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ec(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ec(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=cz(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in ap){if(d[v]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:g}=ap[v],m=h==="none"?d[v]:w(d[v],c);if(S){const y=S.length;for(let k=0;k<y;k++)o[S[k]]=m}else g?this.options.visualElement.renderState.vars[v]=m:o[v]=m}this.options.layoutId&&(o.pointerEvents=c===this?ec(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(nw),this.root.sharedNodes.clear()}}}function hz(t){t.updateLayout()}function fz(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Wt(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=mt(f);f.min=r[h].min,f.max=f.min+p}):XT(i,e.layoutBox,r)&&Wt(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=mt(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=_i();Wo(a,r,e.layoutBox);const l=_i();o?Wo(l,t.applyTransform(s,!0),e.measuredBox):Wo(l,r,e.layoutBox);const c=!GT(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=Ve();Xc(v,e.layoutBox,f.layoutBox);const w=Ve();Xc(w,r,p.layoutBox),JT(v,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gz(t){t.clearSnapshot()}function nw(t){t.clearMeasurements()}function rw(t){t.isLayoutDirty=!1}function yz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vz(t){t.resolveTargetDelta()}function _z(t){t.calcProjection()}function wz(t){t.resetSkewAndRotation()}function bz(t){t.removeLeadSnapshot()}function iw(t,e,n){t.translate=Ee(e.translate,0,n),t.scale=Ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ow(t,e,n,r){t.min=Ee(e.min,n.min,r),t.max=Ee(e.max,n.max,r)}function Sz(t,e,n,r){ow(t.x,e.x,n.x,r),ow(t.y,e.y,n.y,r)}function kz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xz={duration:.45,ease:[.4,0,.1,1]},aw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lw=aw("applewebkit/")&&!aw("chrome/")?Math.round:rn;function cw(t){t.min=lw(t.min),t.max=lw(t.max)}function Tz(t){cw(t.x),cw(t.y)}function XT(t,e,n){return t==="position"||t==="preserve-aspect"&&!N7(ew(e),ew(n),.2)}function Cz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ez=QT({attachResizeListener:(t,e)=>Na(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gh={current:void 0},ZT=QT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gh.current){const t=new Ez({});t.mount(window),t.setOptions({layoutScroll:!0}),gh.current=t}return gh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Iz={pan:{Feature:G7},drag:{Feature:K7,ProjectionNode:ZT,MeasureLayout:qT}};function uw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Se.postRender(()=>i(e,Xa(e)))}class Az extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=XV(e,(n,r)=>(uw(this.node,r,"Start"),s=>uw(this.node,s,"End"))))}unmount(){}}class Pz extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ja(Na(this.node.current,"focus",()=>this.onFocus()),Na(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Se.postRender(()=>i(e,Xa(e)))}class jz extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=t9(e,(n,r)=>(dw(this.node,r,"Start"),(s,{success:i})=>dw(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mp=new WeakMap,yh=new WeakMap,Rz=t=>{const e=mp.get(t.target);e&&e(t)},Nz=t=>{t.forEach(Rz)};function Oz({root:t,...e}){const n=t||document;yh.has(n)||yh.set(n,{});const r=yh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Nz,{root:t,...e})),r[s]}function Dz(t,e,n){const r=Oz(e);return mp.set(t,n),r.observe(t),()=>{mp.delete(t),r.unobserve(t)}}const Lz={some:0,all:1};class Mz extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Lz[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return Dz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fz(e,n))&&this.startObserver()}unmount(){}}function Fz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $z={inView:{Feature:Mz},tap:{Feature:jz},focus:{Feature:Pz},hover:{Feature:Az}},Bz={layout:{ProjectionNode:ZT,MeasureLayout:qT}},Uz={...E7,...$z,...Iz,...Bz},hw=z9(Uz,n7),Vz=()=>{const{notifications:t,removeNotification:e,promoteNotification:n,showClearAllButton:r,clearAllNotifications:s,queueCount:i}=It(),o=l=>{e(l),setTimeout(()=>{n()},300)},a=b.useMemo(()=>document.getElementById("notification-root"),[]);return a?Us.createPortal(u.jsx("div",{className:th.notificationContainer,children:u.jsxs("div",{className:th.toastListContainer,children:[u.jsx(v_,{children:r&&u.jsxs(hw.button,{className:th.clearButton,onClick:s,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:.2}},layout:!0,children:["Limpar Notificaes (",i+t.length,")"]})}),u.jsx(v_,{initial:!1,children:t.map(l=>u.jsx(hw.div,{layout:!0,initial:{opacity:0,y:-50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},children:u.jsx(oU,{notification:l,onDismiss:o})},l.id))})]})}),a):(console.warn("Notification root element not found."),null)},zz=({children:t})=>u.jsxs("main",{className:JB.container,children:[t,u.jsx(Vz,{})]}),Hz="modulepreload",qz=function(t){return"/"+t},fw={},Wz=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=qz(l),l in fw)return;fw[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Hz,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Kz=dm("SplashScreen",{web:()=>Wz(()=>import("./web-B42_mPt8.js"),[]).then(t=>new t.SplashScreenWeb)}),Gz=({show:t,onInstall:e,onDismiss:n})=>t?u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:u.jsxs("div",{style:{backgroundColor:"rgba(44, 62, 80, 0.75)",color:"white",padding:"30px",borderRadius:"20px",textAlign:"center",maxWidth:"340px",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[u.jsx("img",{src:_x,alt:"Mascote FocusFrog com uma chvena de caf",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px",border:"2px solid rgba(255, 255, 255, 0.2)"}}),u.jsx("h3",{style:{marginTop:0,fontSize:"1.5rem",fontWeight:600},children:"Instale o FocusFrog"}),u.jsx("p",{style:{opacity:.9,lineHeight:1.6},children:"Leve seus focos para qualquer lugar. Instale o app em seu dispositivo para uma experincia mais rpida e integrada."}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"30px"},children:[u.jsx("button",{onClick:n,style:{padding:"12px 24px",border:"1px solid rgba(255, 255, 255, 0.5)",backgroundColor:"transparent",color:"#ecf0f1",borderRadius:"10px",cursor:"pointer",fontSize:"1rem"},children:"Agora no"}),u.jsx("button",{onClick:e,style:{padding:"12px 24px",border:"none",backgroundColor:"#f1c40f",color:"#2c3e50",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",fontSize:"1.1rem"},children:"Instalar"})]})]})}):null;function Jz(){const{userName:t,onboardingCompleted:e}=vu(),{isLoading:n}=yu(),{fontSize:r}=It(),{canInstall:s,triggerInstall:i}=w4(),[o,a]=b.useState(!1),[l,c]=b.useState(!0),[d,h]=b.useState(!1),[f,p]=b.useState(!1),[v,w]=b.useState(!1);b.useEffect(()=>{document.body.className=`font-size-${r}`},[r]),b.useEffect(()=>{n||p(!0)},[n]),b.useEffect(()=>{const y=setTimeout(()=>{w(!0)},2500);return()=>clearTimeout(y)},[]),b.useEffect(()=>{if(f&&v){const y=setTimeout(()=>h(!0),50),k=setTimeout(()=>{Cc.isNativePlatform()&&Kz.hide({fadeOutDuration:300}),c(!1)},800);return()=>{clearTimeout(y),clearTimeout(k)}}},[f,v]),b.useEffect(()=>{if(s){const y=setTimeout(()=>a(!0),3500);return()=>clearTimeout(y)}},[s]);const S=()=>{a(!1),i()},g=()=>{a(!1)};if(l)return u.jsx(KB,{isFadingOut:d});let m;return e?m=u.jsx(VB,{}):t?m=u.jsx(qB,{}):m=u.jsx(HB,{}),u.jsxs("div",{id:"app-container",children:[u.jsx(zz,{children:m}),u.jsx(Gz,{show:o,onInstall:S,onDismiss:g})]})}try{self["workbox:window:7.3.0"]&&_()}catch{}function pw(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(s){n(s.data)},t.postMessage(e,[r.port2])})}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xz(r.key),r)}}function Qz(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(s,i){if(s){if(typeof s=="string")return mw(s,i);var o={}.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?mw(s,i):void 0}}(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gp(t,e){return gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gp(t,e)}function Xz(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return typeof e=="symbol"?e:e+""}try{self["workbox:core:7.3.0"]&&_()}catch{}var vh=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function _h(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var yo=function(t,e){this.type=t,Object.assign(this,e)};function Sr(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function Zz(){}var eH={type:"SKIP_WAITING"};function gw(t,e){return t&&t.then?t.then(Zz):Promise.resolve()}var tH=function(t){function e(i,o){var a,l;return o===void 0&&(o={}),(a=t.call(this)||this).nn={},a.tn=0,a.rn=new vh,a.en=new vh,a.on=new vh,a.un=0,a.an=new Set,a.cn=function(){var c=a.fn,d=c.installing;a.tn>0||!_h(d.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=d,c.removeEventListener("updatefound",a.cn)):(a.hn=d,a.an.add(d),a.rn.resolve(d)),++a.tn,d.addEventListener("statechange",a.ln)},a.ln=function(c){var d=a.fn,h=c.target,f=h.state,p=h===a.vn,v={sw:h,isExternal:p,originalEvent:c};!p&&a.mn&&(v.isUpdate=!0),a.dispatchEvent(new yo(f,v)),f==="installed"?a.wn=self.setTimeout(function(){f==="installed"&&d.waiting===h&&a.dispatchEvent(new yo("waiting",v))},200):f==="activating"&&(clearTimeout(a.wn),p||a.en.resolve(h))},a.yn=function(c){var d=a.hn,h=d!==navigator.serviceWorker.controller;a.dispatchEvent(new yo("controlling",{isExternal:h,originalEvent:c,sw:d,isUpdate:a.mn})),h||a.on.resolve(d)},a.gn=(l=function(c){var d=c.data,h=c.ports,f=c.source;return Sr(a.getSW(),function(){a.an.has(f)&&a.dispatchEvent(new yo("message",{data:d,originalEvent:c,ports:h,sw:f}))})},function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];try{return Promise.resolve(l.apply(this,c))}catch(h){return Promise.reject(h)}}),a.sn=i,a.nn=o,navigator.serviceWorker.addEventListener("message",a.gn),a}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,gp(n,r);var s=e.prototype;return s.register=function(i){var o=(i===void 0?{}:i).immediate,a=o!==void 0&&o;try{var l=this;return Sr(function(c,d){var h=c();return h&&h.then?h.then(d):d(h)}(function(){if(!a&&document.readyState!=="complete")return gw(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return l.mn=!!navigator.serviceWorker.controller,l.dn=l.pn(),Sr(l.bn(),function(c){l.fn=c,l.dn&&(l.hn=l.dn,l.en.resolve(l.dn),l.on.resolve(l.dn),l.dn.addEventListener("statechange",l.ln,{once:!0}));var d=l.fn.waiting;return d&&_h(d.scriptURL,l.sn.toString())&&(l.hn=d,Promise.resolve().then(function(){l.dispatchEvent(new yo("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.yn),l.fn})}))}catch(c){return Promise.reject(c)}},s.update=function(){try{return this.fn?Sr(gw(this.fn.update())):Sr()}catch(i){return Promise.reject(i)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(i){try{return Sr(this.getSW(),function(o){return pw(o,i)})}catch(o){return Promise.reject(o)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&pw(this.fn.waiting,eH)},s.pn=function(){var i=navigator.serviceWorker.controller;return i&&_h(i.scriptURL,this.sn.toString())?i:void 0},s.bn=function(){try{var i=this;return Sr(function(o,a){try{var l=o()}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(function(){return Sr(navigator.serviceWorker.register(i.sn,i.nn),function(o){return i.un=performance.now(),o})},function(o){throw o}))}catch(o){return Promise.reject(o)}},function(i,o,a){return o&&Yz(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}(e,[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.jn(n).add(r)},e.removeEventListener=function(n,r){this.jn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,s=Qz(this.jn(n.type));!(r=s()).done;)(0,r.value)(n)},e.jn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());const eC=document.getElementById("root");if(!eC)throw new Error("Could not find root element to mount to");if("serviceWorker"in navigator){const t=new tH("/sw.js");t.addEventListener("waiting",e=>{console.log("Nova verso do Service Worker detetada e pronta para ativar."),t.messageSkipWaiting(),console.log("Comando skipWaiting enviado para o novo Service Worker.")}),t.addEventListener("controlling",e=>{e.isUpdate&&(console.log("Novo Service Worker assumiu o controlo. A recarregar a pgina..."),window.location.reload())}),t.register(),console.log("Service Worker registado com a Workbox.")}const nH=wh.createRoot(eC);nH.render(u.jsx(Sn.StrictMode,{children:u.jsx(b4,{children:u.jsx(_P,{children:u.jsx(x4,{children:u.jsx(kP,{children:u.jsx(xP,{children:u.jsx(I4,{children:u.jsx(P4,{children:u.jsx(Jz,{})})})})})})})})}));export{Pb as W};
