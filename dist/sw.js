import{initializeApp as r}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getMessaging as l,onBackgroundMessage as f}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-messaging-sw.js";var g={};importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js");const d=g,p=r(d),h=l(p),n="focusfrog-cache",s="offline.html";workbox&&workbox.precaching.precacheAndRoute([{"revision":"1872c500de691dce40960bb85481de07","url":"registerSW.js"},{"revision":"fac7a2577b08e847932a5af394ffef68","url":"offline.html"},{"revision":"ce3228c51f353f437275fbe32abb7fc2","url":"index.html"},{"revision":null,"url":"assets/web-Ba7CU-kj.js"},{"revision":null,"url":"assets/index-DnHudkJ-.js"},{"revision":null,"url":"assets/index-DZrrzg2D.css"},{"revision":null,"url":"assets/index-BwSjgGGZ.js"},{"revision":"96e28443c2a7a558bbd8a09835199b8f","url":"icon-192.png"},{"revision":"4e4fadd77d7e81710a7e388ba7ac19f0","url":"icon-512.png"},{"revision":"18bf836975bd08790566380dea6b051a","url":"manifest.webmanifest"}]||[]);self.addEventListener("install",e=>{e.waitUntil(caches.open(n).then(i=>i.add(s)))});self.addEventListener("message",e=>{const{type:i,payload:o}=e.data;switch(i){case"SKIP_WAITING":self.skipWaiting();break;case"POST_NOTIFICATION":self.registration.showNotification(o.title,o.options);break;case"SCHEDULE_NOTIFICATION":u(o.endTime,o.title,o.body);break;case"CANCEL_NOTIFICATION":c();break}});self.addEventListener("fetch",e=>{e.request.mode==="navigate"&&e.respondWith((async()=>{try{const i=await e.preloadResponse;return i||await fetch(e.request)}catch{return await(await caches.open(n)).match(s)}})())});f(h,e=>{console.log("[SW v9] Mensagem Push recebida em segundo plano:",e);const i=e.notification.title,o={body:e.notification.body,icon:e.notification.icon||"./icon-192.png"};return self.registration.showNotification(i,o)});let t=null;function u(e,i,o){c();const a=e-Date.now();a>0&&(t=setTimeout(()=>{self.registration.showNotification(i,{body:o,icon:"./icon-192.png",vibrate:[200,100,200]}),t=null},a))}function c(){t&&(clearTimeout(t),t=null)}workbox.navigationPreload.isSupported()&&workbox.navigationPreload.enable();workbox.routing.registerRoute(new RegExp("/*"),new workbox.strategies.StaleWhileRevalidate({cacheName:n}));
